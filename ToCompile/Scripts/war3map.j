globals
key kDamage
trigger udg_trg_Finger_of_Death_2
integer CONTROL_ID_MAIN_MAP = 1
integer CONTROL_ID_RESURRECT = 2
integer CONTROL_ID_BATTLE = 3
integer CONTROL_ID_BATTLE_FOREST = 4
integer CONTROL_ID_BATTLE_FINAL = 5
location array ResurrectionLocations
trigger gg_trg_GandalfTeleport= null
trigger gg_trg_GandalfTeleport_Effect= null
trigger gg_trg_ForceFieldTLF = null
trigger udg_trg_Warrior_Evolve = null
unit general_tp_dispatcher = null
unit general_tp_respawn_buffer = null
unit udg_DestructableLib___dummy=null
integer array udg_KBS__D
boolean array udg_KBS__BA
item array udg_KBS__Hidden
integer udg_KBS__Hidden_max=0
integer udg_KBS__Total=0
real udg_KBS__Game_maxX=0
real udg_KBS__Game_minX=0
real udg_KBS__Game_maxY=0
real udg_KBS__Game_minY=0
rect udg_KBS__Rect1=null
unit udg_KBS__Tree_dummy=null
item udg_KBS__Item=null
timer udg_KBS__Timer=null
boolexpr udg_KBS__Tree_filt=null
hashtable udg_PauseUtils__Hash=null
integer udg_T32_Tick=0
trigger udg_T32__Trig=null
integer udg_TimerUtils__VOFFSET=0
hashtable udg_TimerUtils__ht=null
integer udg_TimerUtils__tN=0
boolean udg_TimerUtils__didinit=false
unit array udg_AIDS__IndexUnit
integer array udg_AIDS__LockLevel
integer array udg_AIDS__RecycledIndex
integer udg_AIDS__MaxRecycledIndex=0
integer udg_AIDS__MaxIndex=0
integer array udg_AIDS__DecayingIndex
integer udg_AIDS__MaxDecayingIndex=0
integer udg_AIDS__DecayChecker=0
timer udg_AIDS__UndefendTimer=null
integer array udg_AIDS__UndefendIndex
integer udg_AIDS__UndefendStackIndex=0
integer array udg_AIDS__UndefendExpiringIndex
integer udg_AIDS__UndefendExpiringIndexLevel=0
integer udg_AIDS__ARStackLevel=0
integer array udg_AIDS__ARStackIndex
unit array udg_AIDS__ARStackUnit
trigger udg_AIDS__OnEnter=null
trigger udg_AIDS__OnEnterAllocated=null
trigger udg_AIDS__OnDeallocate=null
integer udg_AIDS__getindex=0
integer udg_AIDS__UndefendFilterIndex=0
group udg_ENUM_GROUP=null
boolexpr udg_BOOLEXPR_TRUE=null
boolexpr udg_BOOLEXPR_FALSE=null
hashtable udg_GroupUtils__ht=null
boolean udg_GroupUtils__Flag=false
group udg_GroupUtils__Refr=null
group array udg_GroupUtils__Groups
integer udg_GroupUtils__Count=0
real udg_GroupUtils__X=0
real udg_GroupUtils__Y=0
real udg_GroupUtils__R=0
hashtable udg_GroupUtils__H=null
unit udg_xedamage___dmger=null
timer udg_xefx___recycler=null
timer udg_xefx___NOW=null
unit udg_xepreload___dum=null
force udg_Humans=null
force udg_Evil=null
string array udg_JD_Animations
string array udg_JD_Effect
unit array udg_JD_Unit
string udg_JDA_Animation
location array udg_JD_TempPoint
string udg_JDA_SpecialEffect
location udg_JDA_TargetPoint=null
unit udg_JDA_Unit=null
real array udg_JD_Angle
real array udg_JD_Distances
real array udg_JD_HighSettings
integer array udg_JD_Integers
real array udg_JD_JumpHigh
real array udg_JD_ReachedDistance
real array udg_JD_RealTimer
real array udg_JD_SpeedUnits
real udg_JDA_AnimationSpeed=0
real udg_JDA_JumpHigh_Distance=0
group udg_JD_Group=null
boolean array udg_JD_TreesDestroy
boolean udg_JDA_Collusion=false
boolean udg_JDA_DestroyTrees_Dash=false
real udg_JDA_Speed=0
integer array udg_Hipporider
group udg_evilgroup=null
handle udg_KnockbackTable=null
real udg_KnockbackAngle=0
real udg_KnockbackSpeed=0
real udg_KnockbackDistance=0
unit udg_Knockback_Target=null
location udg_Knockback_Loc1=null
location udg_Knockback_Loc2=null
unit udg_KBA_TargetUnit=null
group udg_KB_KnockbackedUnits=null
integer udg_KB_CountBuffs=0
integer array udg_KB_GeneralIntegers
integer udg_KB_TotalKnockUnits=0
unit array udg_KB_Units
integer array udg_KB_Levels
real array udg_KB_Angle
real array udg_KB_MaxDistance
real array udg_KB_ReachedDistance
real array udg_KB_ReduceSpeedReal
real array udg_KB_SpecificSpeed
string array udg_KB_Effects_1
string array udg_KB_Effects_2
boolean array udg_KB_DestroyTrees
integer array udg_KB_EffectCounter
integer array udg_KB_EffectCounter2
unit array udg_KB_Casters
unit udg_KBA_Caster=null
integer udg_KBA_Level=0
location array udg_KB_StartPositions
location udg_KBA_StartingPosition=null
location array udg_KB_TempPoint
real udg_KBA_DistancePerLevel=0
real udg_KBA_Speed=0
string array udg_KBA_SpecialEffects
boolean udg_KBA_DestroyTrees=false
real udg_KB_ReducedReal=0
real udg_KB_TempReal=0
location udg_Sample_Point=null
group udg_Sample_Group=null
group udg_HydroJetCasters=null
unit udg_Caster=null
location udg_TempPoint=null
hashtable udg_Hashtable=null
unit udg_TempUnit=null
group udg_HydroJetProjectiles=null
handle udg_TempHandle=null
integer udg_SpellLevel=0
real udg_A_Speed=0
real udg_A_AoE=0
boolean udg_A_Bool=false
real udg_A_Real=0
real udg_A_Damage=0
location udg_TempPoint2=null
location udg_TempPoint3=null
unit udg_TempUnit2=null
integer udg_TempInteger=0
group udg_TempGroup=null
group udg_SandStorm=null
real udg_Amount=0
rect udg_Region1=null
rect udg_Region2=null
rect udg_Region3=null
rect udg_Region4=null
force udg_PG1=null
force udg_PG2=null
rect udg_Region5=null
location udg_Point1=null
location udg_Point2=null
boolean udg_Dueling=false
integer udg_Duel_Dark_Unit_Count=0
integer udg_Duel_Light_Unit_Count=0
timerdialog udg_duel_timer_window=null
timer udg_duel_timer=null
integer udg_Player1_tome_count=0
location udg_BS_TempPoint=null
rect udg_BS_TempRegion=null
unit udg_BS_TempUnit=null
unit udg_BS_TempTarget=null
integer udg_RF_RocksPerLevel=0
real udg_RF_AoE=0
real udg_RF_RockfallSequenceTimer=0
real udg_RF_FallingTime=0
real udg_RF_MinDamagePerRock=0
real udg_RF_MaxDamagePerRock=0
boolean udg_RF_DamageTrees=false
integer array udg_RFS_DummyIntegers
location array udg_RFS_TempPoint
integer array udg_RFS_NumberOfRocks
boolean array udg_RFS_Conjuring
real array udg_RFS_Reals
real array udg_RFS_Timer
unit array udg_RFS_Caster
integer array udg_RFS_NumberConjured
real array udg_RFS_MaxDamage
location udg_RFS_ConjurPoint=null
integer array udg_F_Integers
unit array udg_F_Unit
real array udg_F_Time
boolean array udg_F_SetFadeValue
unit array udg_F_RFS_Caster
real array udg_F_RFS_MaxDamage
integer array udg_RFSine_Integers
real array udg_RF_SineReals
unit array udg_RFSine_Unit
unit array udg_RFSine_Caster
real array udg_RFSine_MaxDamage
real array udg_F_ReachedFading
location udg_RF_DamagePoint=null
group udg_RF_UnitGroup=null
real udg_RFAA_JumpHigh_Distance=0
location udg_RFAA_TargetPoint=null
unit udg_RFAA_Unit=null
real udg_RFAA_Speed=0
integer array udg_RFA_Integers
unit array udg_RFA_Caster
real array udg_RFA_MaxDmg
location array udg_RFA_TempPoint
real array udg_RFA_Distances
real array udg_RFA_ReachedDistance
real array udg_RFA_SpeedUnits
unit array udg_RFA_Unit
real array udg_RFA_Angle
real array udg_RFA_HighSettings
group udg_RFA_Group=null
real array udg_RFA_RealTimer
real array udg_RFA_JumpHigh
force udg_human_team=null
force udg_undead_team=null
force udg_druid_players=null
unit udg_unit1=null
unit udg_unit2=null
unit udg_unit3=null
unit udg_unit4=null
unit udg_unit5=null
unit udg_unit6=null
unit udg_unit7=null
unit udg_unit8=null
unit udg_unit9=null
unit udg_unit10=null
unit udg_unit11=null
unit udg_unit12=null
integer udg_human_team_units=0
integer udg_undead_team_units=0
group udg_human_unit_group=null
group udg_undead_unit_group=null
integer udg_JP_Spam=0
integer udg_JP_Times=0
boolean array udg_JP_Off
unit array udg_JP_Hero
real array udg_JP_Angel
real array udg_JP_Distance
real array udg_JP_Speed
real array udg_JP_Fly_Distance
real array udg_JP_Max_Height
real array udg_JP_Formula
effect array udg_JP_Special
integer udg_JP=0
location array udg_JP_Point
real array udg_JP_Fly
real array udg_JP_Parabole
unit udg_HumanCastle=null
unit udg_UndeadCitadel=null
force udg_BM_nagateam=null
force udg_BM_ice_gnoll_team=null
force udg_BM_undeadteam=null
force udg_BM_humanteam=null
hashtable udg_ES_Hash=null
integer udg_ES_Counter=0
unit udg_ES_Cast=null
unit udg_ES_Targ=null
location array udg_ES_Point
real udg_ES_Damage=0
real udg_ES_AoE=0
integer udg_ES_MaxTimer=0
boolean udg_ES_KillDestructables=false
boolean udg_ES_CreateText=false
string udg_ES_0Text
boolean udg_ES_KillIfDead=false
boolean udg_ES_DetectInvis=false
unit udg_ES_Sheep=null
group udg_ES_Sheeps=null
group udg_ES_Units=null
integer udg_BS_Skip=0
location array udg_BS_Point
integer udg_BS_MissileCount=0
integer udg_BS_MC=0
integer udg_BS_Times=0
boolean array udg_BS_On
unit array udg_BS_Hero
real array udg_BS_Angle
integer array udg_BS_Level
real array udg_BS_Damage
real array udg_BS_Range
real array udg_BS_Colision
real array udg_BS_Distance
boolean array udg_BS_Up
real array udg_BS_EndZ
real array udg_BS_Height
real array udg_BS_StartZ
real array udg_BS_Hyp
real array udg_BS_SINE
real array udg_BS_COSINE
real array udg_BS_HYPSpeed
real array udg_BS_Speed
real array udg_BS_SpeedZ
unit array udg_BS_Missile
integer udg_BS=0
real array udg_BS_Debug
real array udg_BS_DebugZ
group array udg_BS_Group
item udg_item1=null
item udg_item2=null
item udg_item3=null
item udg_item4=null
item udg_item5=null
item udg_item6=null
unit udg_tele1=null
rect udg_Mainmaparea=null
unit udg_tele1_Copy=null
unit udg_tele1_Copy_2=null
unit udg_tele1_Copy_3=null
unit udg_tele1_Copy_4=null
unit udg_tele1_Copy_5=null
unit udg_tele1_Copy_6=null
unit udg_tele1_Copy_7=null
unit udg_tele1_Copy_8=null
location array udg_tele_point_Copy_2
integer array udg_Random_Unit
integer array udg_Random_Unit_Undead
boolean udg_RESTART=false
player array udg_PLAYERS
integer udg_number_of_playing_players=0
force udg_PLAYING_PLAYERS=null
group udg_Infernal_guards=null
force udg_Nazgul_Rider_Players=null
location udg_CreationLocation=null
unit udg_CE_Caster=null
location udg_CE_Location=null
location udg_CE_Location2=null
integer udg_CE_Ability_Level=0
real udg_CE_Base_Damage=0
real udg_CE_Total_Damage=0
real udg_CE_Area_of_Effect=0
boolean udg_CE_Destroy_Trees=false
boolean udg_CE_Pathing_On=false
effect udg_CE_Special_Effect=null
effect udg_CE_Special_Effect1=null
real udg_CE_Knock_Angle=0
real udg_CE_Knock_Speed=0
real udg_CE_Knock_Distance=0
hashtable udg_CE_Knocktable=null
group udg_CE_Knock_Group=null
location udg_CE_Knock_Loc1=null
location udg_CE_Knock_Loc2=null
group udg_CE_Damage_Group=null
location udg_Map_Point=null
integer udg_AP_Index_Size=0
integer array udg_AP_Index
integer udg_AP_Index_maxSize=0
integer udg_APTempIndex=0
location udg_TempLoc=null
location udg_TempLoc2=null
unit array udg_AP_CASTER
unit array udg_AP_MISSILE
real array udg_AP_ANGLE
real array udg_AP_SPEED
real array udg_AP_DUR
integer udg_SPELL_LOOP=0
location udg_TempLoc4=null
integer udg_PE_Chance2=0
integer udg_PE_Chance=0
location udg_TempLoc3=null
integer udg_FW_Index_Size=0
integer array udg_FW_Index
integer udg_FW_Index_maxSize=0
integer udg_FW_TempInt=0
location array udg_TempLoc6
unit array udg_FW_Caster
real array udg_FW_Dur
real udg_FW_AoE=0
real array udg_FW_IntialDamage
real array udg_FW_DOT
effect array udg_FW_Effect1
effect array udg_FW_Effect2
integer udg_FW_LOOP=0
integer udg_TempIndex=0
integer udg_LS_Index_Size=0
integer array udg_LS_Index
integer udg_LS_Index_maxSize=0
integer udg_LS_TempInt=0
real array udg_LS_Dur
real array udg_LS_Damage
real array udg_LS_Offset
real array udg_LS_AoE
real array udg_LS_Degrees
real array udg_LS_DegreeLength
unit array udg_LS_Caster
location array udg_LS_TempLoc2
location array udg_LS_TempLoc
integer udg_LS_LOOP=0
integer udg_FD_Index_Size=0
integer array udg_FD_Index
integer udg_FD_Index_maxSize=0
integer udg_FD_TempInt=0
real array udg_FD_Offset
real array udg_FD_AoE
real array udg_FD_DegreeInterval
real array udg_FD_Degrees
real array udg_FD_Duration
real array udg_FD_Damage
location array udg_FD_TempLoc
location array udg_FD_TempLoc3
unit array udg_FD_Caster
unit array udg_FD_Dummy
integer udg_FD_LOOP=0
integer udg_HR_Index_Size=0
integer array udg_HR_Index
integer udg_HR_Index_maxSize=0
integer udg_TempInt=0
unit array udg_HR_Caster
location array udg_HR_TempLoc1
location array udg_HR_TempLoc2
real array udg_HR_Offset
real array udg_HR_Degree
location array udg_HR_TempLoc3
location array udg_HR_TempLoc4
location array udg_HR_TempLoc5
real array udg_HR_Dur
real array udg_HR_Damage
real array udg_HR_AoE
gamecache unitrestore = null
item array itemexchange
integer udg_HR_LOOP=0
integer udg_Arrow_Counts=0
integer udg_Arrow_CountMaxSize=0
unit array udg_Arrow_Caster
location udg_Arrow_CasterLoc=null
location udg_Arrow_TargetPoint=null
real udg_Arrow_Angle=0
group udg_Arrow_StartGroup=null
real array udg_Arrow_Distance
real array udg_Arrow_DistanceTravel
integer array udg_Arrow_StunDuration
real array udg_Arrow_DistanceCount
integer udg_Arrow_CusValue=0
location udg_Arrow_DummyLoc=null
location udg_Arrow_Movement=null
group udg_Arrow_UnitGroup=null
group udg_Arrow_RandomUnit=null
integer array udg_RANDOM_NEUTRAL
integer udg_Creep_Rein_Levels=0
force udg_Creep_upgrading_playergroup=null
integer udg_Beetle_Attack_order=0
integer array udg_Random_Ability
integer udg_RESTART_COUNT=0
boolean udg_DUEL_NEUTRAL=false
integer array udg_Summoner_Abilities
location udg_TargetLoc=null
integer udg_PN_Int=0
integer array udg_Random_Zerg
group udg_Selected_Units_MS=null
force udg_MS_Player_Group=null
integer udg_LivingRocks=0
real udg_AcolyteSize=0
unit udg_Insane_Unit=null
location udg_loc_Unit=null
unit udg_Insane_Unit_Copy=null
location udg_loc_UnitEnemy=null
location udg_Insanity_Point=null
hashtable udg_QJS_arrowTable=null
attacktype array udg_QJS_atkTypePreset
damagetype array udg_QJS_dmgTypePreset
location udg_QJS_tempPos=null
unit udg_QJ_Caster=null
integer udg_QJ_Model=0
real udg_QJ_Size=0
boolean udg_QJ_Homing=false
unit udg_QJ_TargetUnit=null
integer udg_QJ_attackTypeID=0
integer udg_QJ_damageTypeID=0
location udg_QJS_tempPos_Target=null
real udg_QJS_Angle=0
real udg_QJS_Distance=0
location udg_QJ_TargetPoint=null
real udg_QJ_Damage=0
real udg_QJ_Speed=0
boolean udg_QJ_Collision=false
boolean udg_QJ_AoE=false
real udg_QJ_AoERadius=0
string udg_QJ_AoESFX
boolean udg_QJ_Pierce=false
group udg_QJS_DamagedGroup=null
group udg_QJS_arrowGroup=null
location udg_QJS_arrowPos=null
location udg_QJS_victimPos=null
location udg_QJS_movePos=null
attacktype udg_QJS_AttackType=null
damagetype udg_QJS_DamageType=null
group udg_QJS_victimGroup=null
integer array udg_Boss_Drops
unit udg_BOSS_UNIT=null
group udg_BOSSes = null
integer array udg_BossType
integer udg_ELIM_TEMP_UNIT_TYPE=0
multiboard udg_LIVES_MULTIBOARD=null
boolean udg_EM_MODE=false
dialog udg_CHOOSE_SETTINGS=null
button udg_SETTINGS_CHOICE1=null
button udg_SETTINGS_CHOICE2=null
button udg_SETTINGS_Yes2=null
button udg_SETTINGS_No2=null
dialog udg_CHOOSE_SETTINGS_2=null
integer udg_Tome_Count=0
location udg_Target_Location=null
unit udg_Temp_Caster=null
real udg_Real_Damage=0
real udg_Real_Heal=0
group udg_Holy_Wrath_Group=null
location udg_Unit_Location=null
integer udg_RANDOM_BUFF=0
group udg_TEMP_LIVES_UNITGROUP=null
group udg_TEMP_LIVES_UNITGROUP_2=null
integer udg_TEMP_LIVES_INTEGER=0
button udg_SETTINGS_CHOICE3=null
boolean udg_SETTINGS_CHOICE1_YES=false
boolean udg_SETTINGS_CHOICE2_YES=false
boolean udg_SETTINGS_CHOICE3_YES=false
unit udg_Target=null
location array udg_Points
real array udg_Real
group udg_Leapers=null
integer udg_WHICH_DUEL=0
integer array udg_CL_Index
unit array udg_CL_Caster
player array udg_CL_Player
unit array udg_CL_Target
integer array udg_CL_AbilityLevel
boolean array udg_CL_Boolean
integer array udg_CL_Slashes
integer array udg_CL_Damage
real array udg_CL_AOE
effect array udg_CL_Special
location array udg_CL_Loc
group array udg_CL_Group
unit array udg_CL_Victim
location udg_FP_Point=null
integer udg_MG_Switch=0
integer udg_MG_CastNumber=0
boolean array udg_MG_Off
unit array udg_MG_Caster
real array udg_MG_Time
integer array udg_MG_Count
integer udg_MG=0
location udg_MG_Point=null
integer udg_WS_Chance=0
integer udg_WS_Switch=0
integer udg_WS_CastNumber=0
boolean array udg_WS_Off
unit array udg_WS_Caster
location array udg_WS_Point
unit array udg_WS_Effect1
unit array udg_WS_Effect2
unit array udg_WS_Effect3
real array udg_WS_Angle
real array udg_WS_Distance
real array udg_WS_Speed
unit array udg_WS_Dummie
integer udg_WS=0
integer udg_ID_Switch=0
integer udg_ID_CastNumber=0
boolean array udg_ID_Off
unit array udg_ID_Caster
unit array udg_ID_Target
real array udg_ID_Speed
real array udg_ID_Damage
location array udg_ID_Point
real array udg_ID_Distance
real array udg_ID_Angle
integer udg_ID=0
timer udg_CountdownTimer=null
timerdialog udg_CountdownTimerWindow=null
integer udg_first_integer=0
integer udg_BE_integer=0
integer udg_BE_array=0
unit array udg_BE_caster
location array udg_BE_point1
location array udg_BE_target
integer array udg_bounces
integer array udg_BE_speed
integer array udg_damage
integer array udg_damage1
real array udg_BE_angle
unit array udg_BE_dummy
real array udg_BE_distance
integer udg_BE_array2=0
location array udg_BE_move
group array udg_BE_group
integer array udg_BE_MAX
integer udg_OOW_CastCount=0
real udg_OOW_OrbLifeTime=0
real udg_OOW_MaxFlyHeight=0
real udg_OOW_DamageBase=0
real udg_OOW_DamageInc=0
real udg_OOW_SphereRadius=0
real udg_OOW_OrbSpeed=0
unit array udg_OOW_Caster
real array udg_OOW_Angle
location array udg_OOW_LeakPoint
unit array udg_OOW_Dummy
integer udg_OOW_LoopInteger=0
group array udg_OOW_HitGroup
timer udg_CountdownTimer_Copy=null
timerdialog udg_CountdownTimerWindow_Copy=null
timer udg_CountdownTimer_Copy_2=null
timerdialog udg_CountdownTimerWindow_Copy_2=null
timer udg_CountdownTimer_Copy_3=null
timerdialog udg_CountdownTimerWindow_Copy_3=null
group udg_TOT_CastingGroup=null
integer udg_TOT_CasterNumber=0
integer udg_TOT_CastNumber=0
boolean udg_TOT_TreeFall=false
boolean udg_TOT_TreeDeath=false
real udg_TOT_OrbDuration=0
integer udg_TOT_TreeDuration=0
integer udg_TOT_MaxTrees=0
unit array udg_TOT_Caster
boolean array udg_TOT_Boolean
integer udg_TOT_Integer=0
location array udg_TOT_Point
integer array udg_TOT_TreeCount
integer udg_TOT2_Size=0
unit udg_u=null
integer udg_TOT2_Max=0
unit array udg_TOT2_Caster
real array udg_TOT2_Data
real udg_x=0
real udg_y=0
integer array udg_TOT2_DestructibleType
string array udg_TOT2_Sfx
integer udg_i=0
integer udg_i2=0
real udg_x2=0
real udg_y2=0
real udg_a=0
destructable udg_d=null
integer udg_Neutral_Alliance_Chance=0
integer udg_Gnoll_Or_Ice=0
integer udg_Topleft_Integer_Chance=0
button udg_SETTINGS2_CHOICE1_Copy=null
button udg_SETTINGS2_CHOICE2_Copy=null
integer udg_Topleft_integer_chance2=0
location array udg_Nuke_Point
group udg_TOS_CastingGroup=null
integer udg_TOS_CasterNumber=0
integer udg_TOS_CastNumber=0
string udg_TOS_Speicaleffects
real udg_TOS_Grave_Duration=0
integer udg_TOS_Max_Skeletons=0
unit array udg_TOS_Caster
boolean array udg_TOS_Boolean
integer udg_TOS_Integer=0
location array udg_TOS_Point
integer array udg_TOS_Grave_Count
integer udg_Zombie_Reincarnation_Chance=0
integer udg_ZA_Integer=0
location array udg_ZA_Point
integer udg_ZB_Integer=0
integer udg_ZB_NumberOfZombies=0
group udg_ZB_ZombieUnitGroup=null
integer udg_Zombie_Revive_Chance=0
unit udg_ToD_Caster=null
player udg_ToD_Owner=null
location udg_ToD_Position=null
real udg_ToD_Base_Heal=0
real udg_ToD_Base_base_Heal=0
integer udg_ToD_Ability=0
integer udg_ToD_Base_Chance=0
real udg_ToD_Area_of_Effect=0
integer udg_ToD_Dummy_Ability=0
integer udg_ToD_Dummy_Ability_Frenzy=0
location udg_ToD_Target_Location=null
group udg_ToD_Heal_Group=null
integer udg_ToD_Unit_Counter=0
hashtable udg_TW_Hashtable=null
integer udg_TW_Int=0
unit udg_TW_Caster=null
location array udg_TW_Point
real udg_TW_Angle=0
real udg_TW_Spell_Distance=0
real udg_TW_Damage=0
real udg_TW_MissileSpeed=0
boolean udg_TW_Return=false
unit udg_TW_Dummy=null
handle udg_TW_Handle=null
group udg_TW_Group=null
effect udg_TW_SFX=null
group array udg_TW_DamagedUnits
integer udg_ThunderWrath_Chance=0
integer array udg_VO_index
unit array udg_VO_Victom
unit array udg_VO_Caster
real array udg_VO_Damage
real array udg_VO_Duration
boolean array udg_VO_Boolean
real array udg_VO_Speed
location array udg_VO_Point
real array udg_VO_Angle
group array udg_FB_Neutral_Group
boolean udg_Duel_Boolean=false
real udg_TK_SpellAoEStart=0
real udg_TK_SpellAoEIncreasement=0
real udg_TK_MinHeightStart=0
real udg_TK_MinHeightIncreasement=0
real udg_TK_MaxHeightStart=0
real udg_TK_MaxHeightIncreasement=0
real udg_TK_Speed=0
real udg_TK_SpeedVariationPerc=0
string udg_TK_LiftSFX
real udg_TK_LiftSFXTimer=0
string udg_TK_StartSFX
string udg_TK_ImpactSFX
real udg_TK_HDmgInPercStart=0
real udg_TK_HDmgInPercIncreasement=0
real udg_TK_ImpactDmgStart=0
real udg_TK_ImpactDmgIncreasement=0
attacktype udg_TK_AttackType=null
damagetype udg_TK_DamageType=null
boolean udg_TK_Pause=false
location array udg_TK_TempPoint
group udg_TK_UnitGroup=null
group udg_TK_FlyingUnits=null
integer array udg_TK_Integers
unit array udg_TK_Unit
unit array udg_TK_Hero
integer array udg_TK_Level
real array udg_TK_Interval
real array udg_TK_LsfxT
real array udg_TK_MaxHeight
real array udg_TK_FSpeed
destructable array udg_Dead_Destructible
integer udg_Dead_Destructible_Int=0
integer udg_Dead_Destructible_Int_Loop=0
integer udg_Item_Drop_Event_Chance=0
string array udg_AAA_Player_Colors
button udg_SETTINGS0_CHOICE1=null
button udg_SETTINGS0_CHOICE2=null
dialog udg_CHOOSE_SETTINGS0=null
boolean udg_AAA_TurnOffTrigger=false
boolean udg_AAA_TurnOffEvents=false
location udg_AAS1_TargetPoint=null
integer udg_AAS1_CastCount=0
integer udg_AAS1_Integer=0
location udg_AAS1_CasterPoint=null
real udg_AAS1_Angle=0
unit array udg_AAS1_Dummy
location udg_AAS1_DeathPoint=null
timerdialog array udg_AAA_TimerWindow
timer array udg_AAA_Timer
integer udg_AAA_TeleportInteger=0
unit udg_AAA_FireGuy=null
group udg_AAS1_UnitGroup=null
group udg_AAS1_UnitGroup2=null
location udg_AAS1_DummyPoint=null
group udg_AAS1_RandomUnit=null
integer udg_AAA_FireGuyCastInterval=0
location udg_AAA_FireGuyCastPoint=null
integer udg_AAA_FireGuy_ManaPotChance=0
integer array udg_AAA_PlayerPoints
integer udg_AAA_UndeadPoints=0
boolean udg_AAA_ManaPotBoolean=false
integer udg_BL_Skip=0
integer udg_BL_Times=0
boolean array udg_BL_Off
unit array udg_BL_Hero
location array udg_BL_Point
real array udg_BL_Angle
real array udg_BL_Distance
real array udg_BL_Speed
real array udg_BL_Dmg
real array udg_BL_AoE
real array udg_BL_Collision
real udg_BL_Scale=0
unit array udg_BL_Missile
effect array udg_BL_Effect1
effect array udg_BL_Effect2
effect array udg_BL_Effect3
integer udg_BL=0
group udg_BL_Group=null
integer udg_FB_Skip=0
integer udg_FB_Times=0
boolean array udg_FB_Off
boolean array udg_FB_Big
unit array udg_FB_Hero
location array udg_FB_Point
real array udg_FB_Angle
real array udg_FB_Distance
real array udg_FB_Speed
real array udg_FB_Damage
real array udg_FB_AoE
real array udg_FB_Colision
integer array udg_FB_Fragments
real udg_FB_Scale=0
unit array udg_FB_Missile
effect array udg_FB_Effect1
effect array udg_FB_Effect2
integer udg_FB=0
group array udg_FB_Group
real array udg_FB_Parabola
real array udg_FB_Height
real array udg_FB_MaxDistance
integer udg_SB_Skip=0
integer udg_SB_Times=0
boolean array udg_SB_On
unit array udg_SB_Hero
integer array udg_SB_Level
location array udg_SB_Point
real array udg_SB_Distance
real array udg_SB_Angle
real array udg_SB_Speed
real array udg_SB_Damage
integer array udg_SB_Spam
integer udg_SB=0
group array udg_SB_Group
location array udg_KB_Point
integer udg_KB_Skip=0
integer udg_KB_Times=0
boolean array udg_KB_Off
unit array udg_KB_Target
real array udg_KB_Distance
real array udg_KB_Speed
integer array udg_KB_Spam
integer udg_KB=0
real array udg_TS_Degrees
real array udg_TS_Angle
integer udg_TS=0
unit array udg_TS_Victom
group udg_TS_Group=null
location array udg_TS_Point
effect array udg_TS_Special3
effect array udg_TS_Special2
effect array udg_TS_Special1
boolean array udg_TS_Boolean
unit array udg_TS_Caster
integer array udg_TS_NumE
real array udg_TS_Range
real array udg_TS_Damage
real array udg_TS_Duration
integer array udg_TS_Index
integer udg_TS2_Skip=0
integer udg_TS2_Times=0
boolean array udg_TS2_Off
unit array udg_TS2_Hero
unit array udg_TS2_Target
location array udg_TS2_Point
real array udg_TS2_Radius
real array udg_TS2_Angle
real array udg_TS2_Distance
real array udg_TS2_MaxDistance
real array udg_TS2_Speed
real array udg_TS2_Height
real array udg_TS2_Damage
integer array udg_TS2_Slams
integer udg_TS2=0
group array udg_TS2_Group
real array udg_TS2_Parabola
integer udg_AB_Indexsize=0
integer array udg_AB_index
integer udg_AB_maxindexsize=0
integer udg_AB_Temp=0
unit array udg_AB_Caster
location udg_AB_Point1=null
location udg_AB_Point2=null
real array udg_AB_Duration
real array udg_AB_Damage
unit array udg_AB_Orb
integer udg_AB_Loop=0
location udg_AB_Point3=null
location udg_AB_Point4=null
group array udg_AB_UG
group udg_SlideGroup=null
location udg_tempPoint=null
integer array udg_AAA_Tuskar_UnitType
integer udg_AAA_Undead_TowerDeathCount=0
integer udg_OrbVenomItemAmount=0
integer array udg_SSChance
location array udg_SSPoint
integer array udg_PH_Index
unit array udg_PH_Caster
location array udg_PH_Point1
location array udg_PH_Point2
unit array udg_PH_Hook
location array udg_PH_Point4
lightning array udg_PH_lighting
location array udg_PH_Point3
location array udg_PH_Point6
group array udg_PH_Group
location array udg_PH_Point5
integer array udg_FL_Index
integer array udg_FL_LoopIndex
real array udg_FL_CurDamageIntervall
real array udg_FL_DamageIntervall
unit array udg_FL_DamageDealer
real array udg_FL_Speed
real array udg_FL_Damage
location array udg_FL_LeakPoint
real array udg_FL_Range
real array udg_FL_Angle
string udg_FL_FlameSFX_String
string array udg_FL_FlameDamageSFX_String
real array udg_FL_Duration
unit array udg_FL_Flame
unit array udg_FL_TargetUnit
group udg_FL_DamageGroup=null
real udg_UC_SETTINGS_Speed=0
boolean udg_UC_SETTINGS_DestroyTrees_Dash=false
boolean udg_UC_SETTINGS_Collosion=false
real array udg_UC_SETTINGS_AreaOfEffect
boolean udg_UC_SETTINGS_Invulnerable=false
location array udg_UC_TempPoint
group array udg_UC_Groups
unit udg_UC_Target=null
integer array udg_PD_Integers
real array udg_PD_Distances
real array udg_PD_ReachedDistance
real array udg_PD_SpeedUnits
unit array udg_PD_Unit
real array udg_PD_Angle
boolean array udg_PD_TreesDestroy
boolean array udg_UC_Inv
group udg_PD_TestGroup=null
integer array udg_UC_Counter
location array udg_PD_TempPoint
real array udg_PD_RealTimer
unit udg_FA_Unit=null
real udg_FA_Time=0
integer array udg_DashInteger
unit array udg_DashCaster
real array udg_DashReal1
real array udg_DashDamage
real array udg_DashSpeed
integer array udg_DashDistance
location array udg_DashPoint3
location array udg_DashPoint4
group udg_DashGroup3=null
location array udg_DashPoint5
real array udg_DashReal2
group udg_DashGroup1=null
group udg_DashGroup2=null
integer array udg_ABC_UpgradeChance
player udg_ABC_Receivingupgradeplayer=null
integer udg_ABC_kiljaedenChance=0
integer udg_ABC_Creature_Chance=0
unit udg_ABC_Creature=null
integer udg_ASET_GiveGold=0
unit udg_Undead_Revived=null
integer udg_OWL_MBLevel_OwlLevel=0
integer udg_OWL_MB_Level_X_INT=0
real udg_OWL_AOE=0
integer udg_OWL_DurationBase=0
integer udg_OWL_DurationPerLevel=0
real udg_OWL_Speed=0
integer udg_OWL_ManaBurnPeriod=0
integer udg_OWL_CastCountInt=0
unit array udg_OWL_Caster
location array udg_OWL_TargetPoint
location udg_OWL_CasterPoint=null
real array udg_OWL_Distance
unit array udg_OWL_Dummy
group udg_OWL_UnitGroup=null
group udg_OWL_UnitGroup3=null
integer udg_OWL_LoopInt=0
location udg_OWL_TempPoint=null
location udg_OWL_MovePoint=null
integer array udg_OWL_ManaBurnCastCount
group udg_OWL_UnitGroup2=null
location udg_OWL_Point2=null
boolean array udg_OWL_Boolean
integer udg_OWL_Timing=0
integer udg_OWL_LoopInt2=0
integer array udg_OWL_ManaBurnCastMax
integer udg_AAA_Heal_Chance=0
location array udg_AAA_General_Point
location udg_Firelord_Rand_Point=null
location udg_FireLord_Temp_Point=null
location udg_Firelord_Pos=null
rect udg_Firelord_Temp_Region=null
location udg_Firelord_Attacked_Pos=null
location udg_General_attacking_unit_pos=null
location udg_General_attacked_unit_pos=null
location udg_General_Point=null
location udg_General_Point2=null
location udg_Rabbit_Point=null
location udg_Coin_Point=null
location udg_Nazgul_Point=null
location udg_Caster_Point=null
location udg_Bomb_Point=null
trigger udg_trg_Refreshing_rune = null
trigger udg_trg_Spawnpoint_Rune = null
trigger udg_trg_Spawnpoint_Rune_reset = null
group udg_Bomb_Group=null
real udg_Bomb_Size=0
rect udg_Bomb_Region=null
location udg_AAAA_GP=null
unit udg_AAAA_Random_Enemy=null
force udg_A_Skip_Group=null
integer udg_A_NumPlayers=0
boolean udg_CDS_On=false
integer udg_CDS_Dummy=0
rect udg_CDS_Region=null
location array udg_CDS_Point
real udg_CDS_Seconds=0
unit udg_CDS_LockPoint=null
boolean udg_CDS_AliiesCanFight=false
location array udg_CDS_Point2
integer udg_CDS_Player_Number=0
integer array udg_CDS_Player
timer udg_CDS_Timer=null
integer array udg_CDS_Index
group array udg_CDS_UnitGroup
unit array udg_CDS_Unit
real array udg_CDS_Unit_Life
real array udg_CDS_Unit_Mana
location array udg_CDS_Positions
boolean udg_CDS_Invited=false
boolean udg_CDS_AllyCheck=false
boolean udg_CDS_Accept=false
boolean udg_Duel_On=false
integer udg_Duel_Random_Satyr=0
integer array udg_Duel_Satyr_Type
boolean udg_FinalBattle_On=false
unit udg_DarkSylv=null
boolean udg_NO_FLYING_UNITS=false
unit udg_Spider=null
integer udg_AAAA_RandomEventChance=0
unit udg_AAAA_ANGRY_PENGU=null
integer udg_AAAA_TurtleEventCount=0
location udg_AAAA_TurtleRestPoint=null
location udg_AAAA_GP2=null
group udg_AAAA_DuelCheckGroup=null
hashtable udg_blackHoleTable=null
group udg_BlackHoleUnits=null
unit udg_BlackHole=null
unit udg_BlackHoleCaster=null
group udg_tempGroup=null
integer udg_SU_Indexsize=0
integer array udg_SU_Integer
integer udg_SU_Maxsize=0
integer udg_SU_Temp=0
unit array udg_SU_Caster
location array udg_SU_Point
unit array udg_SU_Meteor
real array udg_SU_Fall
integer udg_SU_Loop=0
real array udg_SU_Real
integer array udg_SU_Explosion
location udg_BH_Point=null
location udg_BH_Next_Point=null
dialog udg_CHOOSE_SETTINGS_3=null
button udg_SETTINGS3_CHOICE1=null
button udg_SETTINGS3_CHOICE2=null
button udg_SETTINGS3_CHOICE3=null
group udg_Satyr_All_Units_West=null
group udg_Satyr_Units_NeutralGuards=null
group udg_Satyr_All_Units_East=null
unit udg_Satyr_Barracks=null
location udg_SatyrBarracks_Point=null
boolean udg_Extreme_Mode=false
real udg_SB_Orb_Initial_Speed=0
real udg_SB_Orb_Final_Speed=0
real udg_SB_Orb_DetectionRange=0
real udg_SB_Orb_Max_Distance=0
integer udg_SB_Orb_Stick_Duration=0
real udg_SB_Set_Orb_Detection_Delay=0
real udg_SB_Orb_Growth_Rate=0
real udg_SB_Ghost_Duration=0
integer udg_SB_Timer_Integer=0
real array udg_SB_Timer_Check
integer udg_SB_Count=0
integer udg_SB_CountFinishedSpell=0
location udg_SB_Caster_Point=null
location udg_SB_Target_Point=null
real array udg_SB_Timer
real array udg_SB_Orb_Size
unit array udg_SB_Unit
integer udg_SB_Integer=0
boolean array udg_End_Boolean
location array udg_SB_General_Point
location array udg_SB_Orb_Current_Point
integer array udg_SB_CountdownToCast
group array udg_SB_UnitGroup
boolean array udg_SB_Ghost_Active_Boolean
real array udg_OrbTravelDistance
location array udg_SB_Orb_Next_Point
real array udg_SB_Orb_Detection_Delay
location array udg_SB_Enemy_Point
unit array udg_SB_Target_Unit
real array udg_SB_Distance_Difference
boolean array udg_SB_SFX_Boolean
boolean array udg_Bridge_Boolean
real udg_TempReal=0
integer udg_AGI_Count=0
unit array udg_AGI_Unit
integer array udg_AGI_Timer
integer udg_AGI_Integer=0
real array udg_AGI_Original_MoveSpeed
integer udg_AGI_Instances=0
group array udg_AGI_Targets
location array udg_AGI_Point
location array udg_AGI_Target_Point
unit array udg_AAACAS_unit
integer udg_AAACAS_CastCount=0
integer udg_AAACAS_Integer=0
integer udg_AAACAS_Instances=0
location udg_AAACAS_TargetPoint=null
location array udg_AAACAS_NextPoint
location array udg_AAACAS_CurrenPoint
group array udg_AAACAS_UnitGroup
real array udg_AAACAS_Distance
real array udg_Distance_Counter
real array udg_AAACAS_Distance_Counter
location array udg_AAACAS_TargetUnit_Point
group array udg_AAACAS_HitUnitsGroup
real array udg_AAACAS_Angle
location udg_AAACAS_CasterPoint=null
integer udg_numshield=0
integer udg_numshieldint=0
integer udg_venomorb_int=0
integer array udg_CS_AddHP
integer array udg_CS_RemoveHP
integer array udg_CS_AddMP
integer array udg_CS_RemoveMP
integer array udg_CS_AddDamage
integer array udg_CS_RemoveDamage
integer array udg_CS_AddArmor
integer array udg_CS_RemoveArmor
integer array udg_CS_AddSight
integer array udg_CS_RemoveSight
integer array udg_CS_Ability
integer array udg_CS_LoopingBase
integer udg_CS_MaxLoopingBase=0
unit udg_CS_Unit=null
integer udg_CS_Value=0
integer udg_CS_DamageValue=0
hashtable udg_CS_Hashtable=null
integer udg_CS_Key=0
integer array udg_Player_HP_Points
integer array udg_Player_DamagePoints
group udg_Trained_Units=null
player udg_CS_Player=null
integer array udg_WoS_Index
boolean array udg_WoS_Off
location array udg_SystemPoint
unit array udg_WoS_Caster
unit array udg_WoS_TargetedUnit
real array udg_WoS_Angle
real array udg_WoS_AttackTimer
real array udg_WoS_ShadowEffectTimer
string array udg_WoS_AttackEffect
string array udg_WoS_ShadowEffect
real array udg_WoS_ShadowEffectDuration
real array udg_WoS_ShadowEffectCreatingDelay
real array udg_WoS_Damage
real array udg_WoS_Speed
real array udg_WoS_SpeedIncreasement
real array udg_WoS_MaxSpeed
real array udg_WoS_OnAttackSpeedDecrease
real array udg_WoS_SpellDuration
real array udg_WoS_AttackRange
effect udg_tempSESSpecialEffect=null
real udg_tempSESTimer=0
group array udg_SystemUnitGroup
integer array udg_SD_Index
boolean array udg_SD_Off
unit array udg_SD_Caster
unit array udg_SD_TargetedUnit
real array udg_SD_Timer
lightning array udg_SD_LightningEffect
string array udg_SD_DamageEffect
real array udg_SD_MaxDistance
real array udg_SD_Damage
real array udg_SD_TimeToDoDamage
real array udg_KoS_Angle
string udg_KOS_BackstabEffect
integer array udg_SES_Index
boolean array udg_SES_Off
effect array udg_SES_SpecialEffect
real array udg_SES_Timer
group udg_Guardian_Group=null
integer udg_Guardian_Timer=0
boolean array udg_Player_Guardian_Boolean
integer udg_Guardian_Integer=0
integer array udg_DP_Index
boolean udg_DP_Index_Selected=false
integer udg_DP_Dyn_Index=0
boolean array udg_DP_Index_Is_Empty
integer udg_CG_Dyn_Index=0
real array udg_DP_Duration
unit array udg_DP_Unit
location array udg_DP_UnitPoint
integer array udg_DF_index
unit array udg_DF_Caster
location array udg_DF_Target
boolean array udg_DF_Boolean
boolean array udg_DF_Boolean2
real array udg_DF_Real
real array udg_DF_Real2
integer array udg_DF_Timer
integer array udg_DF_Timer2
real array udg_DF_Fallspeed
real array udg_DF_Damage
real array udg_DF_Damage2
real array udg_DF_Range
boolean array udg_DF_FriendlyDamage
unit array udg_DF_Dummy
effect array udg_DF_SEffect1
effect array udg_DF_SEffect2
location array udg_DF_point
group array udg_DF_Group
force udg_AAAA_Temp_Player_Group=null
boolean udg_FightEachotherBool=false
integer udg_ABC_ChaosChance=0
integer udg_ABC_ChaosCounter=0
integer udg_ABC_FireRainChance=0
integer array udg_TDA_Integer
unit array udg_TDA_Caster
real array udg_TDA_DamagePerSpike
real array udg_TDA_Interval
integer array udg_TDA_NumberOfSpikesPerInterval2
real array udg_TDA_ImpaleDotDmg
real array udg_TDA_ImpaleDotDuration
real array udg_TDA_Duration
location array udg_TDA_TargetPoint
real array udg_TDA_IntervalCounter
real array udg_TDA_CurrentDurationExp
location udg_TDA_temploc=null
group udg_TDA_group=null
unit udg_DOT1_Target=null
unit udg_DOT1_DamageDealer=null
attacktype udg_DOT1_AttackType=null
real udg_DOT1_DamagePerTick=0
damagetype udg_DOT1_DamageType=null
real udg_DOT1_Duration=0
string udg_DOT1_EffectString
boolean udg_DOT1_EffectType=false
real udg_DOT1_TickTime=0
string udg_DOT1_attachpoint
integer array udg_DOT1_Integer
attacktype array udg_DOT2_AttackType
unit array udg_DOT2_DamageDealer
real array udg_DOT2_DamagePerTick
damagetype array udg_DOT2_DamageType
real array udg_DOT2_Duration
unit array udg_DOT2_Target
real array udg_DOT2_TickTime
real array udg_DOT2_DamageDone
real array udg_DOT2_MaxDamage
real array udg_DOT2_TimeEater
boolean array udg_DOT2_EffectType
string array udg_DOT2_EffectString
string array udg_DOT2_attachpoint
effect array udg_DOT2_Effect
unit udg_ST_TC=null
location udg_ST_Location=null
integer udg_ST_Ability=0
location udg_ST_Loop_Location=null
integer udg_SQ_Chances=0
unit array udg_SQ_Unit
integer udg_SQ_Ability=0
location array udg_SQ_Location
integer udg_SQ_Percentages=0
unit udg_HK_TC=null
unit udg_HK_Target_Unit=null
location udg_HK_Location=null
integer udg_HK_Strength=0
location udg_HK_Location2=null
location udg_HK_Location3=null
location udg_HK_Location4=null
boolean udg_HK_BOOL=false
unit udg_Antidesync_temp_unit=null
real array udg_AGI_Duration
real array udg_AGI_Damage
integer udg_Sniper_Chance=0
integer udg_General_Index=0
integer udg_PirateChance=6
group udg_PirateGroup=null
boolean udg_Hard_Mode=false
integer udg_AAAAAA_TestingInt=0
rect udg_AAAA_GRect=null
integer udg_MaxShipsInt=0
boolean udg_nnMode=false
integer udg_ZZZ_count=0
integer array udg_ZZZ_FireDelay
group udg_ZZZ_Units=null
integer udg_ZZZ_loopIndex=0
unit array udg_ZZZ_Caster
unit array udg_ZZZ_Dummy
boolean array udg_ZZZ_InUse
rect udg_rct_Rocks_middle=null
rect udg_rct_Rocks_midtop=null
rect udg_rct_Rocks_Top=null
rect udg_rct_Rocks_bottom=null
rect udg_rct_Zombie_Spawn=null
rect udg_rct_Entire_map_excluding_out_of_bounds=null
rect udg_rct_The_ring_of_trees=null
rect udg_rct_Top_of_water=null
rect udg_rct_Bottom_of_water=null
rect udg_rct_Random_event=null
rect udg_rct_Dangerous_water_event=null
rect udg_rct_Rabbit_spawn_event=null
rect udg_rct_Bottom_Right_Snow=null
rect udg_rct_Boot_drop_event=null
rect udg_rct_Far_Sight_Evil_Event=null
rect udg_rct_Slow_Event=null
rect udg_rct_Trees_top_left=null
rect udg_rct_Trees_left=null
rect udg_rct_Trees_Bottom=null
rect udg_rct_Trees_Right=null
rect udg_rct_Bridge=null
rect udg_rct_Duel_area=null
rect udg_rct_Human_duel_spawn_area=null
rect udg_rct_Undead_duel_spawn_area=null
rect udg_rct_Out_of_bounds_area=null
rect udg_rct_Humans_lose_zone=null
rect udg_rct_Undead_Lose_Zone=null
rect udg_rct_Jump_barrier=null
rect udg_rct_Jump_barrier_2=null
rect udg_rct_Dark_Count_Region=null
rect udg_rct_Light_Count_Region=null
rect udg_rct_Ice_Creep_Camp=null
rect udg_rct_Ice_creep_camp_spawn=null
rect udg_rct_Jump_Barrier_4=null
rect udg_rct_Jump_Barieer_3=null
rect udg_rct_Event_area_2=null
rect udg_rct_Creeps_attack_event=null
rect udg_rct_Lightning_Storm_event=null
rect udg_rct_Gate_area_ice=null
rect udg_rct_Boot_drop_2_event=null
rect udg_rct_Activate_neutral_hostile=null
rect udg_rct_Mutate_critter_event=null
rect udg_rct_Creep_duel_spawn=null
rect udg_rct_Naga_spawn_area=null
rect udg_rct_Naga_creep_base=null
rect udg_rct_Gate_Area_Naga=null
rect udg_rct_choose_naga=null
rect udg_rct_Choose_ICE=null
rect udg_rct_Naga_duel_spawn_area=null
rect udg_rct_Creeps_invade_1=null
rect udg_rct_Spell_Shop=null
rect udg_rct_Item_Shop=null
rect udg_rct_Gnoll_Camp=null
rect udg_rct_Gate_Area_gnoll=null
rect udg_rct_Choose_GNOLL=null
rect udg_rct_Gnoll_spawn_area=null
rect udg_rct_Human_Base=null
rect udg_rct_Undead_Base=null
rect udg_rct_Human_spawn_area=null
rect udg_rct_Random_Events_Bandit_Spawn=null
rect udg_rct_human_tower=null
rect udg_rct_human_tower_2=null
rect udg_rct_human_tower_3=null
rect udg_rct_Undead_Tower=null
rect udg_rct_Undead_tower_2=null
rect udg_rct_mercenary_camp=null
rect udg_rct_WHOLE_MAP_NOT_DUEL=null
rect udg_rct_duel_bridge=null
rect udg_rct_Outa_bounds=null
rect udg_rct_Outa_bounds2=null
rect udg_rct_outa_bounds_3=null
rect udg_rct_Top_Left_Tree_Area=null
rect udg_rct_Outa_Bounds_6=null
rect udg_rct_Outa_bounds_7=null
rect udg_rct_Recipe_Shop=null
rect udg_rct_Goblin_Lab_Shop=null
rect udg_rct_Hire_Creep_Spawn=null
rect udg_rct_Naga_Shop=null
rect udg_rct_Jump_barrier_for_duel=null
rect udg_rct_Jump_barrier_for_duel_2=null
rect udg_rct_Lives=null
rect udg_rct_Lives_boundry=null
rect udg_rct_Lives_boundry_2=null
rect udg_rct_Dead_teleport_area=null
rect udg_rct_Bottom_Left=null
rect udg_rct_Top_Left=null
rect udg_rct_Top_Right=null
rect udg_rct_Bottom_Right=null
rect udg_rct_Dead_area_entry=null
rect udg_rct_bottom_left=null
rect udg_rct_Bot_right=null
rect udg_rct_Final_battle_boundry_1=null
rect udg_rct_Final_battle_boundry_2=null
rect udg_rct_Final_battle_boundry_3=null
rect udg_rct_Final_battle_boundry_4=null
rect udg_rct_Final_Battle_undead_spawn=null
rect udg_rct_Final_Battle_human_spawn=null
rect udg_rct_Final_Battle_Area=null
rect udg_rct_Region_100=null
rect udg_rct_Region_101=null
rect udg_rct_Region_102=null
rect udg_rct_Bottom_Moonlight=null
rect udg_rct_Bottom_Left_Sun=null
rect udg_rct_Tool_Shop_Spawn=null
rect udg_rct_bottom_right_dont_blink_here_area=null
rect udg_rct_Top_right_forest_minigame=null
rect udg_rct_Random_tree_spawn_area=null
rect udg_rct_human_spawn_area=null
rect udg_rct_undead_spawn_area_foest=null
rect udg_rct_Region_110=null
rect udg_rct_Region_111=null
rect udg_rct_light_count_2=null
rect udg_rct_dark_count_2=null
rect udg_rct_trees_left_left=null
rect udg_rct_trees_lake_left=null
rect udg_rct_bridge_lake_left=null
rect udg_rct_shipyard_spawn=null
rect udg_rct_bridge_tele=null
rect udg_rct_bridge_tele_Copy=null
rect udg_rct_bridge_tele_Copy_2=null
rect udg_rct_bridge_tele_Copy_3=null
rect udg_rct_trees_area_1243342=null
rect udg_rct_Magic_Shop_spawn=null
rect udg_rct_trees_left=null
rect udg_rct_trees_left2=null
rect udg_rct_trees_left_3=null
rect udg_rct_naga_creep_event_area=null
rect udg_rct_bridge_124312=null
rect udg_rct_Entire_map_excluding_outa_bounds_2=null
rect udg_rct_hero_shop=null
rect udg_rct_FB_Human_Spawn=null
rect udg_rct_FB_Neutral_Spawn_Human_Side=null
rect udg_rct_FB_Neutral_Spawn_Undead_Side=null
rect udg_rct_FB_Undead_Spawn=null
rect udg_rct_FB_Whole_Area=null
rect udg_rct_FB_Undead_Side=null
rect udg_rct_FB_Human_Side=null
rect udg_rct_patrol_point_1=null
rect udg_rct_patrol_2=null
rect udg_rct_patrol_3=null
rect udg_rct_patrol_4=null
rect udg_rct_patrol_4_Copy=null
rect udg_rct_patrol_4_Copy_2=null
rect udg_rct_patrol_4_Copy_7=null
rect udg_rct_patrol_4_Copy_8=null
rect udg_rct_patrol_4_Copy_9=null
rect udg_rct_patrol_4_Copy_10=null
rect udg_rct_patrol_4_Copy_11=null
rect udg_rct_patrol_5=null
rect udg_rct_Region_154=null
rect udg_rct_Region_155=null
rect udg_rct_Region_156=null
rect udg_rct_ice_creep_event=null
rect udg_rct_random_items_shop_normal=null
rect udg_rct_Region_230=null
rect udg_rct_Region_231=null
rect udg_rct_Region_013=null
rect udg_rct_Region_232=null
rect udg_rct_Region_233=null
rect udg_rct_Region_234=null
rect udg_rct_Region_235=null
rect udg_rct_Region_236=null
rect udg_rct_Region_237=null
rect udg_rct_Region_238=null
rect udg_rct_Region_239=null
rect udg_rct_Region_240=null
rect udg_rct_Region_241=null
rect udg_rct_Region_242=null
rect udg_rct_ABC_loc_1=null
rect udg_rct_ABC_loc_2=null
rect udg_rct_ABC_loc_3=null
rect udg_rct_ABC_loc_4=null
rect udg_rct_ABC_loc_5=null
rect udg_rct_Region_248=null
rect udg_rct_Region_249=null
rect udg_rct_Region_250=null
rect udg_rct_Region_251=null
rect udg_rct_Region_252=null
rect udg_rct_Region_253=null
rect udg_rct_Duel_Start=null
rect udg_rct_Duel_Start_2=null
rect udg_rct_Region_146=null
rect udg_rct_Region_147=null
rect udg_rct_Top_left_Lake=null
rect udg_rct_center_lake=null
rect udg_rct_Region_160=null
rect udg_rct_Region_161=null
rect udg_rct_Region_162=null
rect udg_rct_Naga_Base_Entrance=null
rect udg_rct_Ice_Base_Entrance=null
rect udg_rct_Gnoll_Base_Entrance=null
rect udg_rct_Satyr_West_Units=null
rect udg_rct_Satyr_East_Units=null
rect udg_rct_Satyr_Barracks=null
rect udg_rct_Satyr_Spawn=null
rect udg_rct_Common_Satyr_Attack_Area=null
rect udg_rct_Pirate_Spawn=null
rect udg_rct_crates1=null
rect udg_rct_crates2=null
rect udg_rct_PirateTele=null
rect udg_rct_PirateTele2=null
rect udg_rct_PirateShip_Boundry=null
rect udg_rct_Rocks_Outer=null
camerasetup udg_cam_Camera_001=null
sound udg_snd_Hint=null
sound udg_snd_FootmanReady1=null
sound udg_snd_SlowTarget=null
sound udg_snd_SealWhat1=null
sound udg_snd_SealDeath=null
sound udg_snd_PeasantDeath=null
string udg_snd_PH1
sound udg_snd_ClanInvitation=null
sound udg_snd_MurlocYesAttack1=null
sound udg_snd_HeroFirelordDeath1=null
sound udg_snd_RockGolemAttack2=null
sound udg_snd_ThunderClapCaster=null
sound udg_snd_SoulPreservation=null
sound udg_snd_GhoulDeath=null
sound udg_snd_GoodJob=null
sound udg_snd_GlueScreenMeteorHit1=null
sound udg_snd_HumanCallToArmsWhat1=null
sound udg_snd_BigButtonClick=null
sound udg_snd_ArrangedTeamInvitation=null
sound udg_snd_BanditDeath1=null
sound udg_snd_BristlebackWhat1=null
trigger udg_trg_Flame_Breath=null
trigger udg_trg_Treant_Fix=null
trigger udg_trg_Flame_Breath_Loop=null
trigger udg_trg_BOSSes_AI = null
trigger udg_trg_Flame_Breath_Stop=null
trigger udg_trg_TestFatalErrors=null
trigger udg_trg_Generic_Slam=null
trigger udg_trg_Generic_Slam_Copy=null
trigger udg_trg_Plated_Footman_Warstomp=null
trigger udg_trg_Paladin_uu_warstomp=null
trigger udg_trg_Icey_Explosion=null
trigger udg_trg_Generic_War_Stomp=null
trigger udg_trg_Display_stats=null
trigger udg_trg_test=null
trigger udg_trg_test_Copy=null
trigger udg_trg_Trained_units_setup=null
trigger udg_trg_Player_Points=null
trigger udg_trg_CS_Setup=null
trigger udg_trg_Add_HP=null
trigger udg_trg_Add_Damage=null
trigger udg_trg_Militia_Summoner=null
trigger udg_trg_Ghoul_Summoner=null
trigger udg_trg_Giant_Garg_Spell=null
trigger udg_trg_Zombie_spawn_from_grave=null
trigger udg_trg_Spider=null
trigger udg_trg_Spider_evolve_1=null
trigger udg_trg_Spider_evolve_2=null
trigger udg_trg_Test_enable=null
trigger udg_trg_Test_command=null
trigger udg_trg_Test_command_Copy=null
trigger udg_trg_goblin_sapper_auto_attack=null
trigger udg_trg_Skip_to_Final_Battle=null
trigger udg_trg_Stop_unit_dropping_item=null
trigger udg_trg_lumber_spawn_in_top_left_tree_area=null
trigger udg_trg_duel_rip=null
trigger udg_trg_MAP_INIT_and_QUESTS=null
trigger udg_trg_AAA_Dialogue_Part_0=null
trigger udg_trg_MAP_INIT_2=null
trigger udg_trg_map_init_2_cutting_map_2=null
trigger udg_trg_Dialogue_pt2=null
trigger udg_trg_Dialogue_pt3=null
trigger udg_trg_Dialogue_pt4=null
trigger udg_trg_Time_up_for_setting_settings=null
trigger udg_trg_Game_settings=null
trigger udg_trg_Game_settings_2=null
trigger udg_trg_Game_settings_3=null
trigger udg_trg_Game_settings_3_pt_2=null
trigger udg_trg_Game_settings_5_NEW=null
trigger udg_trg_Game_settings_3_give_gold=null
trigger udg_trg_uu_merchants=null
trigger udg_trg_Check_Leavers=null
trigger udg_trg_Spawn_Tree=null
trigger udg_trg_Tree_dies=null
trigger udg_trg_Tree_dies_a=null
trigger udg_trg_Bridge_Dies=null
trigger udg_trg_Infernal_Partner=null
trigger udg_trg_Infernal_Partner_Copy=null
trigger udg_trg_Infernal_Partner_Copy_Copy=null
trigger udg_trg_Naga_partner=null
trigger udg_trg_Naga_partner_Copy=null
trigger udg_trg_Remove_Selling_Unit=null
trigger udg_trg_Remove_Selling_Unit_HERO_SHOP=null
trigger udg_trg_Remove_Selling_Unit_HERO_SHOP_HUMAN=null
trigger udg_trg_Prevent_AOE_from_orb_effects=null
trigger udg_trg_Neutral_alliance=null
trigger udg_trg_Undead_dies=null
trigger udg_trg_Undead_dies_with_NeutralChance1=null
trigger udg_trg_Undead_dies_with_NeutralChance2=null
trigger udg_trg_Human_Dies=null
trigger udg_trg_Human_Dies_with_NeutralChance1=null
trigger udg_trg_Human_Dies_with_NeutralChance2=null
trigger udg_trg_Neutral_hostile_team_setting=null
trigger udg_trg_undead_becomes_neutral_EXTRA=null
trigger udg_trg_undead_becomes_neutral_EXTRA_2=null
trigger udg_trg_undead_becomes_neutral_HOSTILE=null
trigger udg_trg_undead_becomes_neutral_nothing=null
trigger udg_trg_humansundead_player_check=null
trigger udg_trg_MS=null
trigger udg_trg_Worker_Bounty=null
trigger udg_trg_Missle_death=null
trigger udg_trg_Kitapsycho=null
trigger udg_trg_Disable_kita=null
trigger udg_trg_Kill_last_human_command=null
trigger udg_trg_prevent_double_uu=null
trigger udg_trg_bridge_teleports=null
trigger udg_trg_Bridge_Timer_1=null
trigger udg_trg_bridge_teleports_Copy=null
trigger udg_trg_bridge_teleports_Copy_Copy=null
trigger udg_trg_Bridge_Timer_2=null
trigger udg_trg_bridge_teleports_Copy_Copy_Copy=null
trigger udg_trg_ultimate_farm_construction=null
trigger udg_trg_simple_bounds_system=null
trigger udg_trg_snowman_dies=null
trigger udg_trg_portal_dies=null
trigger udg_trg_portal_dies_Copy=null
trigger udg_trg_portal_dies_Copy_Copy=null
trigger udg_trg_Fountain_Dies=null
trigger udg_trg_Fountain_Dies_Copy=null
trigger udg_trg_Fountain_Dies_Copy_Copy=null
trigger udg_trg_Pirate_Stash_Dies=null
trigger udg_trg_Naga_Spawns=null
trigger udg_trg_Gnoll_Spawn=null
trigger udg_trg_Ice_Spawn=null
trigger udg_trg_Pirate_Spawn=null
trigger udg_trg_Research_upgrades=null
trigger udg_trg_Pirate_Autoshoot=null
trigger udg_trg_Pirate_Ship_Boundry=null
trigger udg_trg_Ship_Tele_Item=null
trigger udg_trg_Pirate_Tele_pt1=null
trigger udg_trg_Pirate_Tele_Timer=null
trigger udg_trg_Pirate_Tele_pt2=null
trigger udg_trg_Pirate_Coin_Spell=null
trigger udg_trg_Create3rdTeam=null
trigger udg_trg_Satyr_Research_upgrades=null
trigger udg_trg_Satyr_Spawn=null
trigger udg_trg_Level_1=null
trigger udg_trg_Pigs_lvl_1_spawn=null
trigger udg_trg_Level_2=null
trigger udg_trg_Pigs_lvl_2_spawn=null
trigger udg_trg_Level_3=null
trigger udg_trg_Level_3_Part_2=null
trigger udg_trg_Pigs_lvl_3_spawn=null
trigger udg_trg_Set_chances=null
trigger udg_trg_Chaos_Event=null
trigger udg_trg_Raining_Pigs=null
trigger udg_trg_Rain_of_Fire_Event=null
trigger udg_trg_Creature_Event=null
trigger udg_trg_reset_trees=null
trigger udg_trg_reset_trees_Copy=null
trigger udg_trg_reset_trees_Copy_Copy=null
trigger udg_trg_reset_trees_Copy_Copy_Copy=null
trigger udg_trg_kiljaeden_event=null
trigger udg_trg_kiljaeden_event_ends=null
trigger udg_trg_AAA_Timer_FireGuy_Dies_Copy=null
trigger udg_trg_AAA_Fire_Guy_Teleport_Copy=null
trigger udg_trg_AAA_Fire_Guy_Bloodlust_Copy=null
trigger udg_trg_AAA_Fire_Guy_FireBolt_Copy=null
trigger udg_trg_Give_upgrade_to_player=null
trigger udg_trg_seaweed_upgrade=null
trigger udg_trg_iceclaw_upgrade=null
trigger udg_trg_Evil_Spawn_Timer=null
trigger udg_trg_Removing_Evil_Spawn_Timer=null
trigger udg_trg_Spawn_Zombies_Gray=null
trigger udg_trg_Spawn_Zombies_Light_Blue=null
trigger udg_trg_Spawn_Zombies_Dark_Green=null
trigger udg_trg_Spawn_Zombies_Brown=null
trigger udg_trg_unbug=null
trigger udg_trg_players_5_gold=null
trigger udg_trg_Secret_Hero_2=null
trigger udg_trg_Rocks_Remove_Timer=null
trigger udg_trg_Removing_Rocks_and_timer=null
trigger udg_trg_Tree_Remove_Timer=null
trigger udg_trg_Removing_Trees_and_timer=null
trigger udg_trg_Crates_Timer=null
trigger udg_trg_Removing_Outer_Rocks=null
trigger udg_trg_Removing_Crates=null
trigger udg_trg_jump_boundry=null
trigger udg_trg_Duel_Timer=null
trigger udg_trg_Duel_Timer_Copy=null
trigger udg_trg_Duel_Timer_Copy_Copy=null
trigger udg_trg_Set_which_duel=null
trigger udg_trg_Main_Map_Out_Of_Bounds=null
trigger udg_trg_Event_area_out_of_bounds=null
trigger udg_trg_Duel_Warning=null
trigger udg_trg_Duel=null
trigger udg_trg_Duel_Copy_2=null
trigger udg_trg_Duel_Copy_3=null
trigger udg_trg_Duel_Copy=null
trigger udg_trg_Send_in_the_neutrals=null
trigger udg_trg_LIGHT_TEAM=null
trigger udg_trg_DARK_TEAM=null
trigger udg_trg_Duel_condition_v2=null
trigger udg_trg_Run_Game_resume=null
trigger udg_trg_Game_resume=null
trigger udg_trg_Duel_in_forest_area=null
trigger udg_trg_Duel_in_forest_area_Copy=null
trigger udg_trg_Duel_in_forest_area_Copy_Copy=null
trigger udg_trg_LIGHT_TEAM_Copy=null
trigger udg_trg_DARK_TEAM_Copy=null
trigger udg_trg_Duel_condition_v2_Copy=null
trigger udg_trg_Lives=null
trigger udg_trg_Lives_Cop=null
trigger udg_trg_Lives_Cop_neut_alliance_1a=null
trigger udg_trg_Lives_Cop_neut_alliance_2=null
trigger udg_trg_OLD_version=null
trigger udg_trg_initiate_send_in_neuts=null
trigger udg_trg_Lives_Copy_Copy=null
trigger udg_trg_Lives_Copy_Copy_neut_alliance_1a=null
trigger udg_trg_Lives_Copy_Copy_neut_alliance_2=null
trigger udg_trg_initiate_send_in_neutrals=null
trigger udg_trg_Gate_destroyed=null
trigger udg_trg_Send_in_the_neutrals_2=null
trigger udg_trg_Final_Battle_Timer=null
trigger udg_trg_Final_Battle_Timer_Copy=null
trigger udg_trg_Final_Battle_boundires=null
trigger udg_trg_Final_Battle_boundires_Copy=null
trigger udg_trg_Multiboard=null
trigger udg_trg_Undead_dies_ELIM=null
trigger udg_trg_Undead_dies_ELIM_FB=null
trigger udg_trg_Human_dies_ELIM=null
trigger udg_trg_Human_dies_ELIM_FB=null
trigger udg_trg_Dead_area_time_limit=null
trigger udg_trg_Dead_area_top_left=null
trigger udg_trg_Dead_area_bot_left=null
trigger udg_trg_Dead_area_bot_right=null
trigger udg_trg_Dead_area_top_right_Copy=null
trigger udg_trg_stop_tele_FB=null
trigger udg_trg_turn_on_ar=null
trigger udg_trg_restart_game=null
trigger udg_trg_coins=null
trigger udg_trg_Spawn_Golden_Chickens=null
trigger udg_trg_Golden_Chicken=null
trigger udg_trg_Enable_Bunny_Spawn=null
trigger udg_trg_Spawn_Bunnies=null
trigger udg_trg_Spawn_furbolgs_p=null
trigger udg_trg_Spawn_Special_Bunny=null
trigger udg_trg_Bunnies_stop_and_exp_on=null
trigger udg_trg_auto_exp=null
trigger udg_trg_Secret_Hero_3=null
trigger udg_trg_Spawn_Giant_Rabbit=null
trigger udg_trg_Bunny_Exp=null
trigger udg_trg_Giant_Bunny_Exp=null
trigger udg_trg_Bunny_Tome_Drop=null
trigger udg_trg_Giant_Bunny_Tome_Drop=null
trigger udg_trg_raccoon_smoner=null
trigger udg_trg_pig_smoner=null
trigger udg_trg_boots_tele=null
trigger udg_trg_Venom_Orb=null
trigger udg_trg_venom_orb_3=null
trigger udg_trg_venom_orb_4=null
trigger udg_trg_venom_orb_5=null
trigger udg_trg_venom_orb_6=null
trigger udg_trg_venom_orb_7=null
trigger udg_trg_Steel_Sword=null
trigger udg_trg_Mith_Sword=null
trigger udg_trg_Moon_Spear=null
trigger udg_trg_Advanced_Moon_armor=null
trigger udg_trg_Crown_Of_Kings=null
trigger udg_trg_Treads=null
trigger udg_trg_Reinforced_Leather_armor=null
trigger udg_trg_Dragonhide_armor=null
trigger udg_trg_Moon_Armor=null
trigger udg_trg_Boots_of_Super_Speed=null
trigger udg_trg_Boots_of_Ultra_Speed=null
trigger udg_trg_Chitinous_Blade=null
trigger udg_trg_Razor_Blade=null
trigger udg_trg_Chitinous_Scales=null
trigger udg_trg_Razor_Scales=null
trigger udg_trg_Ring_of_Health=null
trigger udg_trg_Ring_of_int=null
trigger udg_trg_Webs=null
trigger udg_trg_baneful_force=null
trigger udg_trg_Cloack_of_Flames_2=null
trigger udg_trg_Cloack_of_Flames_3=null
trigger udg_trg_ult_robe_magi=null
trigger udg_trg_Moon_Claws=null
trigger udg_trg_Totem_of_Speed=null
trigger udg_trg_xebasic=null
trigger udg_trg_xefx=null
trigger udg_trg_xedamage=null
trigger udg_trg_xepreload=null
trigger udg_trg_Holy_Birds=null
trigger udg_trg_DescrutibleTreeCheck=null
trigger udg_trg_Builder_Lumber_Income_Every_Seccond=null
trigger udg_trg_Builder_Lumber_Income_Every_Five_Secconds=null
trigger udg_trg_Undead_Gold_Income=null
trigger udg_trg_Movement=null
trigger udg_trg_Drop_Dust=null
trigger udg_trg_Spawn_Mana_Pool_Or_Middel_Shop=null
trigger udg_trg_Activate_A_Random_Event=null
trigger udg_trg_Dangerous_Water_Event=null
trigger udg_trg_Dangerous_Water_Event_2=null
trigger udg_trg_Creeps_invade_1=null
trigger udg_trg_Massive_Rabbit_Event=null
trigger udg_trg_Massive_Rabbit_Event_Copy=null
trigger udg_trg_Massive_Rabbit_Event_Copy_Copy=null
trigger udg_trg_Boot_Drop_Event=null
trigger udg_trg_Evil_Vision_Event=null
trigger udg_trg_Slow_Event=null
trigger udg_trg_New_random_events=null
trigger udg_trg_Penguin_Movement=null
trigger udg_trg_Tortle_Spawn=null
trigger udg_trg_reef_ele_Spawn=null
trigger udg_trg_Reach_rest_point=null
trigger udg_trg_Turn_on_events_2=null
trigger udg_trg_Activate_A_Random_Event_Copy=null
trigger udg_trg_Mutate_critter=null
trigger udg_trg_Creep_attack_event=null
trigger udg_trg_Boot_drop_event_2=null
trigger udg_trg_Team_1_Win=null
trigger udg_trg_Team_2_Win=null
trigger udg_trg_neutral_revive=null
trigger udg_trg_Open_close_gate_Copy_2=null
trigger udg_trg_gnoll_creep_camp=null
trigger udg_trg_gnoll_houses=null
trigger udg_trg_Open_close_gate=null
trigger udg_trg_Ice_creep_camp=null
trigger udg_trg_Open_close_gate_Copy=null
trigger udg_trg_drop_ultimate_upgrade_item=null
trigger udg_trg_the_ultimate_upgrade_item=null
trigger udg_trg_the_ultimate_upgrade_unit=null
trigger udg_trg_the_ultimate_upgrade_2=null
trigger udg_trg_the_ultimate_upgrade_flying_units=null
trigger udg_trg_Disable_Marine_Flying=null
trigger udg_trg_Disable_undead_flying=null
trigger udg_trg_remove_ultimate_upgrade_item=null
trigger udg_trg_settings=null
trigger udg_trg_settings_remove=null
trigger udg_trg_Blight_Walk=null
trigger udg_trg_Blight_skeletons=null
trigger udg_trg_turn_on=null
trigger udg_trg_building_summons=null
trigger udg_trg_Attack_Order_Spell=null
trigger udg_trg_Upgrade_Mercenary_Creeps=null
trigger udg_trg_only_if_allied_to_naga=null
trigger udg_trg_Murgul_Slave_Partner=null
trigger udg_trg_Upgrade_Undead_Builder=null
trigger udg_trg_Upgrade_Naga_with_items=null
trigger udg_trg_Upgrade_Naga_without_items=null
trigger udg_trg_Upgrade_Undead_Builder_T=null
trigger udg_trg_Tuskarr_Commander=null
trigger udg_trg_Spawn_Boss_and_set_variable=null
trigger udg_trg_Boss_Drop=null
trigger udg_trg_Sand_Slam=null
trigger udg_trg_Desert_Ant_Cast=null
trigger udg_trg_Desert_Ant_Core=null
trigger udg_trg_DOT_Apply=null
trigger udg_trg_GUI_DOT_System=null
trigger udg_trg_Sand_Stomp=null
trigger udg_trg_Sand_Quaker=null
trigger udg_trg_Hyper_Knock=null
trigger udg_trg_Knockback_Loop=null
trigger udg_trg_Owner_pick_up_shield_only=null
trigger udg_trg_Throw_Shield=null
trigger udg_trg_Shield_Loop=null
trigger udg_trg_Firebolt=null
trigger udg_trg_Loop_Copy=null
trigger udg_trg_Firebolt_death=null
trigger udg_trg_snowball_Init=null
trigger udg_trg_snowball_Loop=null
trigger udg_trg_Protector_turn_on=null
trigger udg_trg_Guardian_aura=null
trigger udg_trg_Set_creep_rein_levels=null
trigger udg_trg_Purchase_Creep=null
trigger udg_trg_Creep_Reinforcements_Lvl1=null
trigger udg_trg_Creep_Reinforcements_lvl2=null
trigger udg_trg_Creep_Reinforcements_lvl3=null
trigger udg_trg_Creep_Reinforcements_lvl4=null
trigger udg_trg_Spawn_spell_shop=null
trigger udg_trg_Spawn_spell_shop_2=null
trigger udg_trg_level_up_FE_Plant=null
trigger udg_trg_level_up_Rockfall=null
trigger udg_trg_level_up_FE_Plant_Copy=null
trigger udg_trg_Volcano_spell=null
trigger udg_trg_Banish=null
trigger udg_trg_READ_ME_and_CHANGELOG=null
trigger udg_trg_Walk_of_Shadows_Cast=null
trigger udg_trg_Walk_of_Shadows_Loop=null
trigger udg_trg_Shadow_Drain_Cast=null
trigger udg_trg_Shadow_Drain_Loop=null
trigger udg_trg_Knowledge_of_Shadows=null
trigger udg_trg_Add_Special_Effect_to_System=null
trigger udg_trg_SpecialEffectSystemLoop=null
trigger udg_trg_BS_Setings=null
trigger udg_trg_BS_Loop=null
trigger udg_trg_Night=null
trigger udg_trg_Day=null
trigger udg_trg_Add_Vampire=null
trigger udg_trg_Blacksmith_upgrade=null
trigger udg_trg_Blacksmith_upgrade_Copy=null
trigger udg_trg_Healing_Salve=null
trigger udg_trg_Healing_Potion=null
trigger udg_trg_Healing_Potion_Copy=null
trigger udg_trg_Healing_Potion_Copy_Copy=null
trigger udg_trg_Mana_Potion=null
trigger udg_trg_Mana_Potion_Copy=null
trigger udg_trg_Dust=null
trigger udg_trg_Invis=null
trigger udg_trg_Invuln=null
trigger udg_trg_Beetle=null
trigger udg_trg_Beetle_unselectable=null
trigger udg_trg_turn_on_grave_tele=null
trigger udg_trg_Grave_teleport=null
trigger udg_trg_turn_off_grave_tlee=null
trigger udg_trg_Finger_of_Death=null
trigger udg_trg_Thunder_Pika=null
trigger udg_trg_Settings=null
trigger udg_trg_Shadow_Burst_Cast=null
trigger udg_trg_Shadow_Burst_Loop=null
trigger udg_trg_DK_TAUNT=null
trigger udg_trg_Sfx=null
trigger udg_trg_Shattered_universe_init=null
trigger udg_trg_Shattered_universe_loop=null
trigger udg_trg_BlackHoleCast=null
trigger udg_trg_BlackHoleMoveTarget=null
trigger udg_trg_BlackHoleStop=null
trigger udg_trg_FL_init=null
trigger udg_trg_FL_loop=null
trigger udg_trg_Cast_Charge=null
trigger udg_trg_Projectile_Dash_by_Paladon=null
trigger udg_trg_getFaded=null
trigger udg_trg_callFading=null
trigger udg_trg_QJS_Hash_Table=null
trigger udg_trg_QJS_AttackDamageType=null
trigger udg_trg_Arrow_Create=null
trigger udg_trg_Arrow_Move=null
trigger udg_trg_READ_ME=null
trigger udg_trg_Example_4=null
trigger udg_trg_Shadow_Side=null
trigger udg_trg_PH_cast=null
trigger udg_trg_PH_Loop=null
trigger udg_trg_Priest_Heal=null
trigger udg_trg_Paladin_Heal_Copy=null
trigger udg_trg_Fury_Peak=null
trigger udg_trg_Meat_Grinder_A=null
trigger udg_trg_Meat_Grinder_B=null
trigger udg_trg_Wind_Storm_A=null
trigger udg_trg_Wind_Storm_B=null
trigger udg_trg_Omnislash=null
trigger udg_trg_Omnislash_Loop=null
trigger udg_trg_Cast=null
trigger udg_trg_Loop_v101=null
trigger udg_trg_Throw_Bomb=null
trigger udg_trg_Bomb_Timer=null
trigger udg_trg_Bomb_Jump=null
trigger udg_trg_TOT_Cast=null
trigger udg_trg_TOT_Loop=null
trigger udg_trg_TOT_Tree=null
trigger udg_trg_Spell=null
trigger udg_trg_Spell_Loop=null
trigger udg_trg_Unit_Leak=null
trigger udg_trg_How_to_import=null
trigger udg_trg_Cutting_Edge=null
trigger udg_trg_Cutting_Edge_Knock=null
trigger udg_trg_Remove_Dummies=null
trigger udg_trg_Telekinetic_Seizure_Setings=null
trigger udg_trg_Telekinetic_Seizure_Loop=null
trigger udg_trg_Ball_Lighting_Setings=null
trigger udg_trg_Ball_Llighting_Loop=null
trigger udg_trg_Fire_Ball_Setings=null
trigger udg_trg_Fire_Ball_Loop=null
trigger udg_trg_Shield_Bash_Setings=null
trigger udg_trg_Shield_bash_Loop=null
trigger udg_trg_Knockback_System=null
trigger udg_trg_deceiver_slam=null
trigger udg_trg_Zombie_summon=null
trigger udg_trg_Zombie_Bloodlust=null
trigger udg_trg_Zombie_Bloodlust_Copy=null
trigger udg_trg_Zombie_apocalypse=null
trigger udg_trg_Zombie_apocalypse_Copy=null
trigger udg_trg_nuke=null
trigger udg_trg_nuke_pt_2=null
trigger udg_trg_summon_tree=null
trigger udg_trg_summon_tree_Copy=null
trigger udg_trg_Holy_Wrath=null
trigger udg_trg_Smokescreen=null
trigger udg_trg_Teleport=null
trigger udg_trg_Rock_Fountain=null
trigger udg_trg_Living_Rocks=null
trigger udg_trg_Living_Rocks_pt2=null
trigger udg_trg_Summon_Rocks=null
trigger udg_trg_Summon_Rocks_Copy=null
trigger udg_trg_Summon_Rocks_Copy_Copy=null
trigger udg_trg_Summon_Rocks_Copy_Copy_Copy=null
trigger udg_trg_Golem_Frenzy=null
trigger udg_trg_Golem_Frenzy_Sound=null
trigger udg_trg_Golem_Frenzy_Copy=null
trigger udg_trg_Golem_Frenzy_Greater=null
trigger udg_trg_Golem_Frenzy_Greater_Greater=null
trigger udg_trg_Volcano=null
trigger udg_trg_Volcano_pt2=null
trigger udg_trg_Entangling_roots=null
trigger udg_trg_Kaboom=null
trigger udg_trg_Rocket_Seal=null
trigger udg_trg_Rocket_Seal_Copy=null
trigger udg_trg_Zombie_Sleep_Effect=null
trigger udg_trg_Firelord_Attacks=null
trigger udg_trg_Fire_minion=null
trigger udg_trg_Mount_Horse=null
trigger udg_trg_Mount_Horse_Copy=null
trigger udg_trg_Horse_movement=null
trigger udg_trg_Mount_hippogryph=null
trigger udg_trg_Random_hippo_move=null
trigger udg_trg_Flame_Sniper_2=null
trigger udg_trg_Skele_Spell_Wraith=null
trigger udg_trg_Skeleton_spell_wraith_pt2=null
trigger udg_trg_Skeleton_spell_pt_2=null
trigger udg_trg_Skele_Spell=null
trigger udg_trg_Cast_A_Knockback=null
trigger udg_trg_Get_Knockback=null
trigger udg_trg_Tauren_Stomp=null
trigger udg_trg_Tauren_Taunt=null
trigger udg_trg_Tauren_Earthquake=null
trigger udg_trg_Sample_Explosion_Spell=null
trigger udg_trg_Sample_Meele_Knockback_Spell=null
trigger udg_trg_GSkeleWarriorMETA=null
trigger udg_trg_HydroJetCast=null
trigger udg_trg_HydroJetWater=null
trigger udg_trg_HydroJetDebug=null
trigger udg_trg_SandStormCast=null
trigger udg_trg_SandStormMovement=null
trigger udg_trg_blizzard=null
trigger udg_trg_blizzard_Copy=null
trigger udg_trg_blizzard_Copy_Copy=null
trigger udg_trg_Poison_Nova=null
trigger udg_trg_Eggs=null
trigger udg_trg_Eggs_Copy=null
trigger udg_trg_Eggs_2=null
trigger udg_trg_Eggs_Hatch_2=null
trigger udg_trg_Greater_Eggs=null
trigger udg_trg_Greater_Eggs_hatch=null
trigger udg_trg_Taste_of_Death=null
trigger udg_trg_Lightning_Strike=null
trigger udg_trg_Lightning_Strike_Loop=null
trigger udg_trg_Freezing_Spiral=null
trigger udg_trg_Freezing_Spiral_Loop=null
trigger udg_trg_Shadow_Walk=null
trigger udg_trg_init=null
trigger udg_trg_loop=null
trigger udg_trg_OOW_Main=null
trigger udg_trg_OOW_Dummies=null
trigger udg_trg_OOW_Units=null
trigger udg_trg_Elune_Arrow=null
trigger udg_trg_Elune_Arrow_Move=null
trigger udg_trg_Speed_Change=null
trigger udg_trg_MoveSpeedXGUI=null
trigger udg_trg_Agility=null
trigger udg_trg_Agility_Loop=null
trigger udg_trg_AIDS=null
trigger udg_trg_KT=null
trigger udg_trg_TimerUtils=null
trigger udg_trg_KBS=null
trigger udg_trg_Importing_Instructions=null
trigger udg_trg_Credits=null
trigger udg_trg_Surf=null
trigger udg_trg_TimerUtils_OLD=null
trigger udg_trg_Projectile=null
trigger udg_trg_____Vector=null
trigger udg_trg_____ProjectileArt=null
trigger udg_trg_Jump_spell=null
trigger udg_trg_Man_eating_plant=null
trigger udg_trg_Fiery_Run=null
trigger udg_trg_Time_Stop=null
trigger udg_trg_GroupUtils=null
trigger udg_trg_GroupUtils_Copy=null
trigger udg_trg_PauseUtils=null
trigger udg_trg_Secret_Hero_5=null
trigger udg_trg_TimeStop_Jass=null
trigger udg_trg_Timer32=null
trigger udg_trg_Haunt=null
trigger udg_trg_Dark_Plasma=null
trigger udg_trg_DPloop=null
trigger udg_trg_Death_Fall=null
trigger udg_trg_Death_Fall_loop=null
trigger udg_trg_Thunderwrath_Hashtable=null
trigger udg_trg_Thunderwrath=null
trigger udg_trg_Thunderwrath_Loop=null
trigger udg_trg_Hash=null
trigger udg_trg_Sheep_Cast=null
trigger udg_trg_Sheep_Loop=null
trigger udg_trg_Initial_Telekinesis_GUI=null
trigger udg_trg_Telekinesis_GUI=null
trigger udg_trg_Heroic_Leap_Cast=null
trigger udg_trg_Heroic_Leap_Loop=null
trigger udg_trg_heroic_leap_stomp=null
trigger udg_trg_TOT_Cast_Copy=null
trigger udg_trg_TOT_Loop_Copy=null
trigger udg_trg_TOT_Remove=null
trigger udg_trg_TOS_Cast=null
trigger udg_trg_TOS_Loop=null
trigger udg_trg_TOS_Skeletons=null
trigger udg_trg_Pyro_Jump_On=null
trigger udg_trg_Pyro_Jump_Loop=null
trigger udg_trg_Insanity=null
trigger udg_trg_Dies=null
trigger udg_trg_Dies_Copy=null
trigger udg_trg_Secret_Hero_4=null
trigger udg_trg_Rockfall_INI=null
trigger udg_trg_Rock_Creation=null
trigger udg_trg_callFadeEffect=null
trigger udg_trg_Sine_Fall_and_Damage=null
trigger udg_trg_Apply_Splitts=null
trigger udg_trg_Move_Splitts=null
trigger udg_trg_VO_Start=null
trigger udg_trg_VO_Loop=null
trigger udg_trg_TS_Start=null
trigger udg_trg_TS_Loop=null
trigger udg_trg_Jump_System_1=null
trigger udg_trg_Jump_System_2=null
trigger udg_trg_Actions_to_apply=null
trigger udg_trg_Sample_Spell_Jump=null
trigger udg_trg_Sample_Spell_Jump_JASS_REDO=null
trigger udg_trg_Sample_Spell_Jump_2=null
trigger udg_trg_Sample_Spell_Super_Jump=null
trigger udg_trg_Sample_Spell_Shockwave_Jump=null
trigger udg_trg_Add_On_To_Above_Ability=null
trigger udg_trg_Dark_Ranger_Enters=null
trigger udg_trg_Passive_Death_Coil=null
unit udg_unit_ngno_0062=null
unit udg_unit_nvlk_0028=null
unit udg_unit_nvlk_0027=null
unit udg_unit_ngno_0005=null
unit udg_unit_nvlk_0026=null
unit udg_unit_nvlk_0021=null
unit udg_unit_nvlk_0022=null
unit udg_unit_nvlk_0023=null
unit udg_unit_nvlk_0024=null
unit udg_unit_nvlk_0025=null
unit udg_unit_ngno_0004=null
unit udg_unit_ngno_0003=null
unit udg_unit_nzep_0261=null
unit udg_unit_ehip_0093=null
unit udg_unit_h01G_0215=null
unit udg_unit_ehip_0092=null
unit udg_unit_hhdl_0060=null
unit udg_unit_hhdl_0061=null
unit udg_unit_npng_0034=null
unit udg_unit_ntn2_0046=null
unit udg_unit_nten_0048=null
unit udg_unit_h01G_0084=null
unit udg_unit_nspg_0176=null
unit udg_unit_ncop_0349=null
unit udg_unit_h07J_0134=null
unit udg_unit_h07N_0343=null
unit udg_unit_ncop_0348=null
unit udg_unit_h01G_0328=null
destructable udg_dest_LTlt_0001=null
destructable udg_dest_LTlt_0002=null
destructable udg_dest_LTlt_0008=null
destructable udg_dest_LTlt_0009=null
destructable udg_dest_LTlt_0017=null
destructable udg_dest_YT18_0310=null
destructable udg_dest_LTlt_0085=null
destructable udg_dest_LTlt_0086=null
destructable udg_dest_YT16_0650=null
destructable udg_dest_OTsp_1007=null
destructable udg_dest_ATg1_0502=null
destructable udg_dest_OTsp_0549=null
destructable udg_dest_LTg1_0913=null
destructable udg_dest_ATg1_0915=null
destructable udg_dest_OTsp_0914=null
destructable udg_dest_YT19_3788=null
destructable udg_dest_YT40_4243=null
destructable udg_dest_LTg3_4382=null
destructable udg_dest_ATg3_1010=null
trigger udg_trg_Game_settings_6_NEW=null
real array udg_HolyBirds___DURATION
real array udg_HolyBirds___DAMAGE
real array udg_HolyBirds___HEAL
unit udg_SurfS__CASTER=null
real udg_Plant__BirthStartRange=0
real udg_Plant__DefaultSinusHeight=0
real udg_Plant__BirthAnimationSpeed=0
real udg_Plant__TendrilTargetHeight=0
real udg_Plant__PlantHeight=0
real udg_Plant__PlantSize=0
real udg_Plant__TendrilSizeReduction=0
real udg_Plant__TendrilSize=0
real udg_Plant__DefaultMovementSpeed=0
real udg_Plant__DefaultMovementAmplitude=0
real udg_Plant__TendrilStartHeight=0
real udg_Plant__TendrilDefaultHeightGround=0
real udg_Plant__TendrilDefaultHeight=0
real udg_Plant__OffsetAngle=0
string udg_Plant__PlantDummyEffect
string udg_Plant__PlantDummyEffect2
string udg_Plant__TendrilDummyEffect
string udg_Plant__TendrilEffect
integer udg_Plant__TendrilPartsNumber=0
real udg_Plant__PullRange=0
real udg_Plant__TendrilLength=0
real udg_Plant__TendrilBendLenght=0
real udg_Plant__TendrilSpeed=0
real udg_Plant__TendrilDefaultPosition=0
integer udg_Plant__HeroAbility=0
integer udg_Plant__DummyID=0
integer udg_Plant__PlantSkill=0
integer udg_Plant__PlantSkill2=0
real udg_Plant__TimerPeriod=0
boolean udg_Plant__CreatePlant=false
timer udg_Plant__tt=null
group udg_Plant__PulledUnits=null
unit array udg_Plant__Plant
group udg_Plant__g=null
boolexpr udg_Plant__filter=null
timer udg_FireRun__t=null
hashtable udg_TimeStop__Hash=null
unit udg_TimeStop__TemporareCaster=null
boolexpr udg_TimeStop__Target_Checker=null
boolexpr udg_TimeStop__DummyFilter=null
trigger udg_TimeStop__BugfixTrigger=null
integer udg_TimeStop__ReferanceCounter=0
group udg_Haunt__HauntG=null
timer udg_Haunt__t=null
trigger udg_l__library_init2=null
integer udg_si__KBS__Data_F=0
integer udg_si__KBS__Data_I=0
integer array udg_si__KBS__Data_V
unit array udg_s__KBS__Data_targ
real array udg_s__KBS__Data_speed
real array udg_s__KBS__Data_decrease
real array udg_s__KBS__Data_sin
real array udg_s__KBS__Data_cos
real array udg_s__KBS__Data_radius
integer array udg_s__KBS__Data_sfxmode
effect array udg_s__KBS__Data_sfx
boolean array udg_s__KBS__Data_custom
boolean array udg_s__KBS__Data_allowmove
boolean array udg_s__KBS__Data_pathing
boolean array udg_s__KBS__Data_forcestop
integer udg_s__MoveSpeedXGUI__MoveSpeedStruct_MoveSpeedXGUI__M__ic=0
integer udg_s__MoveSpeedXGUI__MoveSpeedStruct_MoveSpeedXGUI__M__ir=0
hashtable udg_s__MoveSpeedXGUI__MoveSpeedStruct_hash=null
integer array udg_s__MoveSpeedXGUI__MoveSpeedStruct_next
integer array udg_s__MoveSpeedXGUI__MoveSpeedStruct_prev
unit array udg_s__MoveSpeedXGUI__MoveSpeedStruct_curr
real array udg_s__MoveSpeedXGUI__MoveSpeedStruct_speed
real array udg_s__MoveSpeedXGUI__MoveSpeedStruct_x
real array udg_s__MoveSpeedXGUI__MoveSpeedStruct_y
integer udg_si__xedamage_F=0
integer udg_si__xedamage_I=0
integer array udg_si__xedamage_V
boolean array udg_s__xedamage_damageSelf
boolean array udg_s__xedamage_damageAllies
boolean array udg_s__xedamage_damageEnemies
boolean array udg_s__xedamage_damageNeutral
boolean array udg_s__xedamage_ranged
boolean array udg_s__xedamage_visibleOnly
boolean array udg_s__xedamage_deadOnly
boolean array udg_s__xedamage_alsoDead
boolean array udg_s__xedamage_damageTrees
damagetype array udg_s__xedamage_dtype
attacktype array udg_s__xedamage_atype
weapontype array udg_s__xedamage_wtype
integer array udg_s__xedamage_tag
boolean array udg_s__xedamage_forceDamage
real array udg_s__xedamage_allyfactor
boolean array udg_s__xedamage_use_ex
unittype array udg_s__xedamage_ex_ut
boolean array udg_s__xedamage_use_req
unittype array udg_s__xedamage_req_ut
unittype array udg_s___xedamage_fct
integer array udg_s__xedamage_fct
real array udg_s___xedamage_fc
integer array udg_s__xedamage_fc
integer array udg_s__xedamage_fcn
integer array udg_s___xedamage_abifct
integer array udg_s__xedamage_abifct
real array udg_s___xedamage_abifc
integer array udg_s__xedamage_abifc
integer array udg_s__xedamage_abifcn
boolean array udg_s__xedamage_usefx
string array udg_s__xedamage_fxpath
string array udg_s__xedamage_fxattach
damagetype udg_s__xedamage_CurrentDamageType=null
attacktype udg_s__xedamage_CurrentAttackType=null
integer udg_s__xedamage_CurrentDamageTag=0
integer udg_s__xedamage_inUse=0
integer udg_s__xedamage_instance=0
integer array udg_s__xedamage_countAOE
unit array udg_s__xedamage_sourceAOE
real array udg_s__xedamage_AOEx
real array udg_s__xedamage_AOEy
real array udg_s__xedamage_AOEradius
real array udg_s__xedamage_AOEdamage
boolexpr udg_s__xedamage_filterAOE=null
boolexpr udg_s__xedamage_filterDestAOE=null
group udg_s__xedamage_enumgroup=null
rect udg_s__xedamage_AOERect=null
unit array udg_s__xefx___recyclebin_u
real array udg_s__xefx___recyclebin_schedule
integer udg_s__xefx___recyclebin_end=0
integer udg_s__xefx___recyclebin_begin=0
integer udg_si__xefx_F=0
integer udg_si__xefx_I=0
integer array udg_si__xefx_V
integer array udg_s__xefx_tag
unit array udg_s__xefx_dummy
effect array udg_s__xefx_fx
real array udg_s__xefx_zang
integer array udg_s__xefx_r
integer array udg_s__xefx_g
integer array udg_s__xefx_b
integer array udg_s__xefx_a
integer array udg_s__xefx_abil
integer udg_si__HolyBirds___spelldata_F=0
integer udg_si__HolyBirds___spelldata_I=0
integer array udg_si__HolyBirds___spelldata_V
unit array udg_s__HolyBirds___spelldata_caster
group array udg_s___HolyBirds___spelldata_targets
integer array udg_s__HolyBirds___spelldata_targets
integer array udg_s___HolyBirds___spelldata_missile
integer array udg_s__HolyBirds___spelldata_missile
real array udg_s__HolyBirds___spelldata_duration
integer array udg_s__HolyBirds___spelldata_lvl
timer array udg_s__HolyBirds___spelldata_t
group udg_s__HolyBirds___spelldata_group=null
boolexpr udg_s__HolyBirds___spelldata_filter=null
integer udg_s__HolyBirds___spelldata_dmg=0
integer udg_si__SurfS__Surf_F=0
integer udg_si__SurfS__Surf_I=0
integer array udg_si__SurfS__Surf_V
unit array udg_s__SurfS__Surf_cast
real array udg_s__SurfS__Surf_x
real array udg_s__SurfS__Surf_y
integer array udg_s__SurfS__Surf_dur
effect array udg_s__SurfS__Surf_attach
integer udg_si__Tendril_F=0
integer udg_si__Tendril_I=0
integer array udg_si__Tendril_V
integer udg_s__Tendril_Index=0
integer array udg_s__Tendril_Data
boolean array udg_s__Tendril_base
unit array udg_s__Tendril_AttachUnit
effect array udg_s__Tendril_PlantEffect
effect array udg_s__Tendril_PlantEffect2
unit array udg_s__Tendril_TargetUnit
real array udg_s__Tendril_Distance
real array udg_s__Tendril_angle
integer array udg_s__Tendril_Phase
location array udg_s__Tendril_TendrilLoc
integer array udg_s__Tendril_ExecutionsLeft
integer array udg_s__Tendril_rem
real array udg_s__Tendril_DefaultMovement
unit array udg_s___Tendril_TendrilPart
integer array udg_s__Tendril_TendrilPart
effect array udg_s___Tendril_TendrilModel
integer array udg_s__Tendril_TendrilModel
integer udg_si__F_F=0
integer udg_si__F_I=0
integer array udg_si__F_V
integer udg_s__F_Index=0
integer array udg_s__F_Data
unit array udg_s__F_u
integer array udg_s__F_in
integer array udg_s__F_dur
real array udg_s__F_lx
real array udg_s__F_ly
integer array udg_s__F_level
integer udg_si__Haunt__HauntSReturn_F=0
integer udg_si__Haunt__HauntSReturn_I=0
integer array udg_si__Haunt__HauntSReturn_V
unit array udg_s__Haunt__HauntSReturn_a
unit array udg_s__Haunt__HauntSReturn_b
unit array udg_s__Haunt__HauntSReturn_c
real array udg_s__Haunt__HauntSReturn_damage
real array udg_s__Haunt__HauntSReturn_mD
effect array udg_s__Haunt__HauntSReturn_e
real array udg_s__Haunt__HauntSReturn_speedMultiplier
integer array udg_s__Haunt__HauntSReturn_T32x__next
integer array udg_s__Haunt__HauntSReturn_T32x__prev
integer udg_si__Haunt__HauntSGmove_F=0
integer udg_si__Haunt__HauntSGmove_I=0
integer array udg_si__Haunt__HauntSGmove_V
unit array udg_s__Haunt__HauntSGmove_a
unit array udg_s__Haunt__HauntSGmove_b
effect array udg_s__Haunt__HauntSGmove_c
unit array udg_s__Haunt__HauntSGmove_d
real array udg_s__Haunt__HauntSGmove_mD
integer array udg_s__Haunt__HauntSGmove_SCount
integer array udg_s__Haunt__HauntSGmove_T32x__next
integer array udg_s__Haunt__HauntSGmove_T32x__prev
integer udg_si__Haunt__HauntS_F=0
integer udg_si__Haunt__HauntS_I=0
integer array udg_si__Haunt__HauntS_V
unit array udg_s__Haunt__HauntS_u
real array udg_s__Haunt__HauntS_x
real array udg_s__Haunt__HauntS_y
unit array udg_s___Haunt__HauntS_dum
integer array udg_s__Haunt__HauntS_dum
effect array udg_s___Haunt__HauntS_sfx
integer array udg_s__Haunt__HauntS_sfx
real array udg_s__Haunt__HauntS_DURATIONx
integer array udg_s__Haunt__HauntS_ENUMERATE
boolean array udg_s___Haunt__HauntS_b
integer array udg_s__Haunt__HauntS_b
integer array udg_s__Haunt__HauntS_T32x__next
integer array udg_s__Haunt__HauntS_T32x__prev
integer array udg_s__TimerUtils__data
timer array udg_s__TimerUtils__tT
trigger udg_st__KBS__Data_onDestroy=null
trigger udg_st__xefx_onDestroy=null
trigger udg_st__HolyBirds___spelldata_onDestroy=null
trigger udg_st__HolyBirds___spelldata_periodic=null
trigger udg_st__F_move=null
trigger udg_st__Haunt__HauntSReturn_onDestroy=null
trigger udg_st__Haunt__HauntSReturn_stopPeriodic=null
trigger udg_st__Haunt__HauntSGmove_onDestroy=null
trigger udg_st__Haunt__HauntSGmove_stopPeriodic=null
trigger udg_st__Haunt__HauntS_onDestroy=null
trigger udg_st__Haunt__HauntS_stopPeriodic=null
trigger array udg_st___prototype1000
trigger array udg_st___prototype11
trigger array udg_st___prototype13
trigger array udg_st___prototype10008
trigger array udg_st___prototype41
trigger udg_f__arg_trigger1=null
integer udg_f__arg_integer1=0
unit udg_f__arg_unit1=null
real udg_f__arg_real1=0
real udg_f__arg_real2=0
real udg_f__arg_real3=0
boolexpr udg_f__arg_boolexpr1=null
integer udg_f__arg_this=0
trigger array udg_w7g
integer array udg_W7G
hashtable array udg_g7w
trigger array udg_secrethero_active
rect gg_rct_Bridge_Pirates=null
rect gg_rct_Bridge_Pirates_2=null
rect gg_rct_Bridge_Nagas=null
rect gg_rct_Bridge_Nagas_2=null
rect gg_rct_Rocks_Mid_Left=null
rect gg_rct_All_Map_Exclude_Out_OF_bounds_1=null
rect gg_rct_Main_Map=null
trigger gg_trg_Import_dwarf=null
trigger gg_trg_Preloadd=null
trigger gg_trg_____________________________________002=null
trigger gg_trg_____________________________________001=null
trigger gg_trg_Rune_Remover=null
trigger gg_trg_BookBonusRegister=null
trigger gg_trg_Cam=null
trigger gg_trg_HCL=null
trigger gg_trg_MemoryHackCheats=null
trigger gg_trg_revenge=null
trigger gg_trg_Misc=null
trigger gg_trg_images=null
trigger gg_trg_UnitRecycler=null
trigger gg_trg_rune=null
trigger gg_trg_CS_Setup=null
trigger gg_trg_Smelter=null
trigger gg_trg_event_unit_removed_smelter=null
trigger gg_trg_Bonuses=null
trigger gg_trg_Killing_Unit_Ex=null
trigger gg_trg_Unlock_tree_inv=null
trigger gg_trg_NoGroundAttackWithTrident=null
trigger gg_trg_lives=null
trigger gg_trg_PlayerDies=null
trigger gg_trg_Give_observer=null
trigger gg_trg_Bunny_Loot=null
trigger gg_trg_Morphing=null
trigger gg_trg_Zoom=null
trigger gg_trg_hide_hero_abil=null
trigger gg_trg_init=null
trigger gg_trg_Horn=null
trigger gg_trg_fmode=null
trigger gg_trg_AAA_Dialogue_Part_0=null
trigger gg_trg_MAP_INIT_2=null
trigger gg_trg_Dialogue_pt2=null
trigger gg_trg_Dialogue_pt3=null
trigger gg_trg_Dialogue_pt4=null
trigger gg_trg_Time_up_for_setting_settings=null
trigger gg_trg_Time_up_for_setting_settings_Copy=null
trigger gg_trg_Game_settings_5_NEW=null
trigger gg_trg_ApplyHCL=null
trigger gg_trg_Game_settings=null
trigger gg_trg_Game_settings_2=null
trigger gg_trg_Game_settings_3_Actions=null
trigger gg_trg_Game_settings_3_pt_2_Actions=null
trigger gg_trg_Game_settings_3_give_gold=null
trigger gg_trg_Game_settings_6_NEW_Actions=null
trigger gg_trg_First_Dialogue_Out_of_Time=null
destructable gg_dest_LTlt_0001=null
destructable gg_dest_LTlt_0002=null
destructable gg_dest_LTlt_0008=null
destructable gg_dest_LTlt_0009=null
destructable gg_dest_LTlt_0017=null
destructable gg_dest_YT18_0310=null
destructable gg_dest_LTlt_0085=null
destructable gg_dest_LTlt_0086=null
destructable gg_dest_YT16_0650=null
destructable gg_dest_OTsp_1007=null
destructable gg_dest_OTsp_0549=null
destructable gg_dest_OTsp_0914=null
destructable gg_dest_YT19_3788=null
destructable gg_dest_YT40_4243=null
destructable gg_dest_LTg3_4382=null
destructable gg_dest_LTg1_0913=null
destructable gg_dest_ATg3_1010=null
destructable gg_dest_ATg1_0502=null
destructable gg_dest_ATg1_0915=null
constant boolean LIBRARY_DestructableLib=true
constant integer DestructableLib___DUMMY_UNIT_ID=0x68666F6F
constant integer DestructableLib___HARVEST_ID=0x4168726C
constant player DestructableLib___OWNING_PLAYER=Player(15)
unit DestructableLib___dummy=null
constant boolean LIBRARY_KBS=true
constant integer KBS__DUMMY_ID=0x68303345
constant real KBS__INTERVAL=0.04
constant string KBS__ATTACH_POINT="chest"
constant string KBS__WATER_SFX="war3mapImported\\SlideWater.mdx"
constant string KBS__DIRT_SFX="war3mapImported\\Dust.mdx"
constant string KBS__COLLISION_SFX="Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl"
constant boolean KBS__SHOW_COLLISION=true
constant real KBS__COMMON_AREA=150.00
constant boolean KBS__COMMON_ALLOW_MOVE=false
constant boolean KBS__COMMON_CHECK_PATHING=false
constant integer KBS__HARVEST=0x4168726C
constant integer KBS__LOCUST=0x416C6F63
constant real KBS__DISTANCE=50.00
constant real KBS__MAX_RANGE=10.00
integer array KBS__D
boolean array KBS__BA
item array KBS__Hidden
integer KBS__Hidden_max=0
integer KBS__Total=0
real KBS__Game_maxX=0.00
real KBS__Game_minX=0.00
real KBS__Game_maxY=0.00
real KBS__Game_minY=0.00
rect KBS__Rect1=null
unit KBS__Tree_dummy=null
item KBS__Item=null
timer KBS__Timer=null
boolexpr KBS__Tree_filt=null
constant boolean LIBRARY_KT=true
constant boolean LIBRARY_MoveSpeedXGUI=true
constant real MoveSpeedXGUI__PERIOD=0.02900
constant real MoveSpeedXGUI__MARGIN=0.01
constant boolean LIBRARY_PauseUtils=true
hashtable PauseUtils__Hash
constant boolean LIBRARY_T32=true
constant real T32_PERIOD=0.03125
constant integer T32_FPS=R2I(1/ T32_PERIOD)
integer T32_Tick=0
trigger T32__Trig=CreateTrigger()
constant boolean LIBRARY_TimerUtils=true
constant boolean TimerUtils__USE_HASH_TABLE=true
constant boolean TimerUtils__USE_FLEXIBLE_OFFSET=false
constant integer TimerUtils__OFFSET=0x100000
integer TimerUtils__VOFFSET=TimerUtils__OFFSET
constant integer TimerUtils__QUANTITY=256
constant integer TimerUtils__ARRAY_SIZE=8190
hashtable TimerUtils__ht
integer TimerUtils__tN=0
constant integer TimerUtils__HELD=0x28829022
boolean TimerUtils__didinit=false
constant boolean LIBRARY_xebasic=true
constant integer XE_DUMMY_UNITID=0x65303046
constant integer XE_HEIGHT_ENABLER=0x416D7266
constant integer XE_TREE_RECOGNITION=0x41656174
constant real XE_ANIMATION_PERIOD=0.025
constant real XE_MAX_COLLISION_SIZE=197.0
constant boolean LIBRARY_AIDS=true
constant boolean AIDS__USE_PERIODIC_RECYCLER=false
constant real AIDS__PERIOD=0.03125
constant integer AIDS__LEAVE_DETECTION_ABILITY=0x41494453
unit array AIDS__IndexUnit
integer array AIDS__LockLevel
integer array AIDS__RecycledIndex
integer AIDS__MaxRecycledIndex=0
integer AIDS__MaxIndex=0
integer array AIDS__DecayingIndex
integer AIDS__MaxDecayingIndex=0
integer AIDS__DecayChecker=0
timer AIDS__UndefendTimer=CreateTimer()
integer array AIDS__UndefendIndex
integer AIDS__UndefendStackIndex=0
integer array AIDS__UndefendExpiringIndex
integer AIDS__UndefendExpiringIndexLevel=0
integer AIDS__ARStackLevel=0
integer array AIDS__ARStackIndex
unit array AIDS__ARStackUnit
trigger AIDS__OnEnter=CreateTrigger()
trigger AIDS__OnEnterAllocated=CreateTrigger()
trigger AIDS__OnDeallocate=CreateTrigger()
integer AIDS__getindex
integer AIDS__UndefendFilterIndex
constant boolean LIBRARY_GroupUtils=true
constant real GroupUtils__MAX_COLLISION_SIZE=197.
constant boolean GroupUtils__LESS_SAFETY=false
group ENUM_GROUP=CreateGroup()
boolexpr BOOLEXPR_TRUE=null
boolexpr BOOLEXPR_FALSE=null
hashtable GroupUtils__ht=InitHashtable()
boolean GroupUtils__Flag=false
group GroupUtils__Refr=null
group array GroupUtils__Groups
integer GroupUtils__Count=0
real GroupUtils__X=0.
real GroupUtils__Y=0.
real GroupUtils__R=0.
hashtable GroupUtils__H=InitHashtable()
constant boolean LIBRARY_xedamage=true
constant integer xedamage___MAX_SUB_OPTIONS=3
constant real xedamage___EPSILON=0.000000001
unit xedamage___dmger
constant integer xedamage___MAX_SPACE=8190
constant boolean LIBRARY_xefx=true
constant integer xefx___MAX_INSTANCES=8190
constant real xefx___RECYCLE_DELAY=4.0
timer xefx___recycler
timer xefx___NOW
constant boolean LIBRARY_xepreload=true
unit xepreload___dum=null
constant boolean LIBRARY_AutoIndex=true
constant boolean LIBRARY_PUI=true
constant integer HolyBirds___SPELL_ID=0x41303950
constant integer HolyBirds___BUFF_ID=0x42303056
constant string HolyBirds___MISSILE_MODEL="Abilities\\Weapons\\SorceressMissile\\SorceressMissile.mdl"
constant real HolyBirds___MISSILE_SIZE=1.7
constant real HolyBirds___MISSILE_HEIGH=60.0
constant real HolyBirds___MISSILE_DISTANCE=225.
constant real HolyBirds___MISSILE_SPEED=200.
constant integer HolyBirds___MISSILES=5
constant integer HolyBirds___MISSILE_RED=255
constant integer HolyBirds___MISSILE_GREEN=200
constant integer HolyBirds___MISSILE_BLUE=255
constant integer HolyBirds___MISSILE_ALPHA=145
constant real HolyBirds___CASTER_HEAL_PERCENT=0.5
constant real HolyBirds___AOE=65.0
constant string HolyBirds___HEAL_EFFECT="Abilities\\Spells\\Other\\HealingSpray\\HealBottleMissile.mdl"
constant string HolyBirds___HEAL_EFFECT_ATTACH="origin"
constant string HolyBirds___DAMAGE_EFFECT="Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl"
constant string HolyBirds___DMG_EFFECT_ATTACH="origin"
constant string HolyBirds___CASTER_HEAL_EFFECT="Abilities\\Spells\\Human\\Heal\\HealTarget.mdl"
constant string HolyBirds___C_H_EFFECT_ATTACH="origin"
real array HolyBirds___DURATION
real array HolyBirds___DAMAGE
real array HolyBirds___HEAL
constant integer SurfS__ABIL_ID=0x41304B4A
constant integer SurfS__UNIT_ID=0x6E303650
constant integer SurfS__MOVE_ID=0x41304B49
constant integer SurfS__SLOW_ID=0x53303034
constant integer SurfS__DMG_ID=0x41304B48
constant integer SurfS__ORDER_ID=852177
constant string SurfS__EFFECT="Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveMissile.mdl"
constant string SurfS__ATTACH="origin"
constant string SurfS__KB_SFX="war3mapImported\\SlideWater.mdx"
constant real SurfS__KB_AOE=170.
constant real SurfS__KB_DISTANCE=124.
constant real SurfS__MINIMUM_DISTANCE=72.
constant real SurfS__TIMER_INTERVAL=50.
constant real SurfS__KB_DURATION=0.6
constant boolean SurfS__ALLOW_NO_COLLISION=false
constant real SurfS__TREE_AOE=0.0
constant boolean SurfS__ALLOW_MOVE=false
constant boolean SurfS__CHECK_PATHING=false
constant group SurfS__GROUP=CreateGroup()
unit SurfS__CASTER
constant integer FireRun__DummyID=0x68303151
constant integer FireRun__Spell=0x41303353
constant integer FireRun__Buff=0x42303042
constant integer FireRun__PassiveEffect1=0x41303351
constant integer FireRun__PassiveEffect2=0x41303352
constant real FireRun__CreationRange=80.00
constant real FireRun__TimerPeriod=0.1
constant real FireRun__MaxDistance=800
constant real FireRun__DelayedRemoval=1.5
timer FireRun__t=CreateTimer()
constant integer TimeStop__SPELL_ID=0x41303355
constant integer TimeStop__DUMMY_ID=0x68303152
constant integer TimeStop__EFFECT_DUMMY_ID=0x68303153
hashtable TimeStop__Hash
unit TimeStop__TemporareCaster
boolexpr TimeStop__Target_Checker
boolexpr TimeStop__DummyFilter
trigger TimeStop__BugfixTrigger
integer TimeStop__ReferanceCounter=0
constant integer Haunt__RAWCODE=0x4130494E
constant integer Haunt__DUMCODE=0x68303742
constant real Haunt__DURATION=5.005
constant string Haunt__DUMMYSFX="Abilities\\Weapons\\AvengerMissile\\AvengerMissile.mdl"
constant string Haunt__ONHITSFX="Abilities\\Weapons\\DemonHunterMissile\\DemonHunterMissile.mdl"
constant string Haunt__DRAINSFX="Abilities\\Weapons\\IllidanMissile\\IllidanMissile.mdl"
constant real Haunt__RADIUS=300
constant real Haunt__SOULRAD=175
constant integer Haunt__DSPAWNS=13
constant real Haunt__waitBeforeEnum=1.05
constant real Haunt__angINCFACTOR=0.3
constant integer Haunt__SOULRED=0
constant integer Haunt__SOULGREEN=255
constant integer Haunt__SOULBLUE=225
constant integer Haunt__TRANSPARENCY=100
constant real Haunt__SOULVELOCITY=10
constant real Haunt__GHOSTVELOCITY=12
constant real Haunt__EXITTIMER_DISTANCE=1225
constant integer Haunt__SOULHEIGHT=75
constant integer Haunt__GHOSTHEIGHT=15
constant attacktype Haunt__ATTACKTYPE=ATTACK_TYPE_NORMAL
constant damagetype Haunt__DAMAGETYPE=DAMAGE_TYPE_ACID
constant weapontype Haunt__WEAPONTYPE=WEAPON_TYPE_WHOKNOWS
constant real Haunt__emergencyExitSoul=1.25
constant real Haunt__emergencyExitGhost=4
group Haunt__HauntG=CreateGroup()
timer Haunt__t=CreateTimer()
trigger l__library_init2
constant integer si__KBS__Data=1
integer si__KBS__Data_F=0
integer si__KBS__Data_I=0
integer array si__KBS__Data_V
unit array s__KBS__Data_targ
real array s__KBS__Data_speed
real array s__KBS__Data_decrease
real array s__KBS__Data_sin
real array s__KBS__Data_cos
real array s__KBS__Data_radius
integer array s__KBS__Data_sfxmode
effect array s__KBS__Data_sfx
boolean array s__KBS__Data_custom
boolean array s__KBS__Data_allowmove
boolean array s__KBS__Data_pathing
boolean array s__KBS__Data_forcestop
constant integer si__MoveSpeedXGUI__MoveSpeedStruct=2
integer s__MoveSpeedXGUI__MoveSpeedStruct_MoveSpeedXGUI__M__ic=0
integer s__MoveSpeedXGUI__MoveSpeedStruct_MoveSpeedXGUI__M__ir=0
hashtable s__MoveSpeedXGUI__MoveSpeedStruct_hash=InitHashtable()
integer array s__MoveSpeedXGUI__MoveSpeedStruct_next
integer array s__MoveSpeedXGUI__MoveSpeedStruct_prev
unit array s__MoveSpeedXGUI__MoveSpeedStruct_curr
real array s__MoveSpeedXGUI__MoveSpeedStruct_speed
real array s__MoveSpeedXGUI__MoveSpeedStruct_x
real array s__MoveSpeedXGUI__MoveSpeedStruct_y
constant integer si__AIDS_DEFAULT=3
constant integer si__xedamage=4
integer si__xedamage_F=0
integer si__xedamage_I=0
integer array si__xedamage_V
boolean array s__xedamage_damageSelf
boolean array s__xedamage_damageAllies
boolean array s__xedamage_damageEnemies
boolean array s__xedamage_damageNeutral
boolean array s__xedamage_ranged
boolean array s__xedamage_visibleOnly
boolean array s__xedamage_deadOnly
boolean array s__xedamage_alsoDead
boolean array s__xedamage_damageTrees
damagetype array s__xedamage_dtype
attacktype array s__xedamage_atype
weapontype array s__xedamage_wtype
integer array s__xedamage_tag
boolean array s__xedamage_forceDamage
real array s__xedamage_allyfactor
boolean array s__xedamage_use_ex
unittype array s__xedamage_ex_ut
boolean array s__xedamage_use_req
unittype array s__xedamage_req_ut
unittype array s___xedamage_fct
constant integer s___xedamage_fct_size=3
integer array s__xedamage_fct
real array s___xedamage_fc
constant integer s___xedamage_fc_size=3
integer array s__xedamage_fc
integer array s__xedamage_fcn
integer array s___xedamage_abifct
constant integer s___xedamage_abifct_size=3
integer array s__xedamage_abifct
real array s___xedamage_abifc
constant integer s___xedamage_abifc_size=3
integer array s__xedamage_abifc
integer array s__xedamage_abifcn
boolean array s__xedamage_usefx
string array s__xedamage_fxpath
string array s__xedamage_fxattach
damagetype s__xedamage_CurrentDamageType=null
attacktype s__xedamage_CurrentAttackType=null
integer s__xedamage_CurrentDamageTag=0
integer s__xedamage_inUse=0
integer s__xedamage_instance
integer array s__xedamage_countAOE
unit array s__xedamage_sourceAOE
real array s__xedamage_AOEx
real array s__xedamage_AOEy
real array s__xedamage_AOEradius
real array s__xedamage_AOEdamage
boolexpr s__xedamage_filterAOE
boolexpr s__xedamage_filterDestAOE
group s__xedamage_enumgroup
rect s__xedamage_AOERect
constant integer si__xefx___recyclebin=9
unit array s__xefx___recyclebin_u
real array s__xefx___recyclebin_schedule
integer s__xefx___recyclebin_end=0
integer s__xefx___recyclebin_begin=0
constant integer si__xefx=10
integer si__xefx_F=0
integer si__xefx_I=0
integer array si__xefx_V
integer array s__xefx_tag
unit array s__xefx_dummy
effect array s__xefx_fx
real array s__xefx_zang
integer array s__xefx_r
integer array s__xefx_g
integer array s__xefx_b
integer array s__xefx_a
integer array s__xefx_abil
constant integer si__HolyBirds___spelldata=12
integer si__HolyBirds___spelldata_F=0
integer si__HolyBirds___spelldata_I=0
integer array si__HolyBirds___spelldata_V
unit array s__HolyBirds___spelldata_caster
group array s___HolyBirds___spelldata_targets
constant integer s___HolyBirds___spelldata_targets_size=5
integer array s__HolyBirds___spelldata_targets
integer array s___HolyBirds___spelldata_missile
constant integer s___HolyBirds___spelldata_missile_size=5
integer array s__HolyBirds___spelldata_missile
real array s__HolyBirds___spelldata_duration
integer array s__HolyBirds___spelldata_lvl
timer array s__HolyBirds___spelldata_t
group s__HolyBirds___spelldata_group
boolexpr s__HolyBirds___spelldata_filter
integer s__HolyBirds___spelldata_dmg
constant integer si__SurfS__Surf=15
integer si__SurfS__Surf_F=0
integer si__SurfS__Surf_I=0
integer array si__SurfS__Surf_V
unit array s__SurfS__Surf_cast
real array s__SurfS__Surf_x
real array s__SurfS__Surf_y
integer array s__SurfS__Surf_dur
effect array s__SurfS__Surf_attach
constant integer si__Tendril=16
integer si__Tendril_F=0
integer si__Tendril_I=0
integer array si__Tendril_V
integer s__Tendril_Index=0
integer array s__Tendril_Data
boolean array s__Tendril_base
unit array s__Tendril_AttachUnit
unit array s__Tendril_TargetUnit
real array s__Tendril_Distance
real array s__Tendril_angle
integer array s__Tendril_Phase
location array s__Tendril_TendrilLoc
integer array s__Tendril_ExecutionsLeft
integer array s__Tendril_rem
real array s__Tendril_DefaultMovement
unit array s___Tendril_TendrilPart
constant integer s___Tendril_TendrilPart_size=18
integer array s__Tendril_TendrilPart
effect array s___Tendril_TendrilModel
constant integer s___Tendril_TendrilModel_size=18
integer array s__Tendril_TendrilModel
constant integer si__F=19
integer si__F_F=0
integer si__F_I=0
integer array si__F_V
integer s__F_Index=0
integer array s__F_Data
unit array s__F_u
integer array s__F_in
integer array s__F_dur
real array s__F_lx
real array s__F_ly
integer array s__F_level
constant integer si__Haunt__HauntSReturn=20
integer si__Haunt__HauntSReturn_F=0
integer si__Haunt__HauntSReturn_I=0
integer array si__Haunt__HauntSReturn_V
unit array s__Haunt__HauntSReturn_a
unit array s__Haunt__HauntSReturn_b
unit array s__Haunt__HauntSReturn_c
real array s__Haunt__HauntSReturn_damage
real array s__Haunt__HauntSReturn_mD
effect array s__Haunt__HauntSReturn_e
real array s__Haunt__HauntSReturn_speedMultiplier
integer array s__Haunt__HauntSReturn_T32x__next
integer array s__Haunt__HauntSReturn_T32x__prev
constant integer si__Haunt__HauntSGmove=21
integer si__Haunt__HauntSGmove_F=0
integer si__Haunt__HauntSGmove_I=0
integer array si__Haunt__HauntSGmove_V
unit array s__Haunt__HauntSGmove_a
unit array s__Haunt__HauntSGmove_b
effect array s__Haunt__HauntSGmove_c
unit array s__Haunt__HauntSGmove_d
real array s__Haunt__HauntSGmove_mD
integer array s__Haunt__HauntSGmove_SCount
integer array s__Haunt__HauntSGmove_T32x__next
integer array s__Haunt__HauntSGmove_T32x__prev
constant integer si__Haunt__HauntS=22
integer si__Haunt__HauntS_F=0
integer si__Haunt__HauntS_I=0
integer array si__Haunt__HauntS_V
unit array s__Haunt__HauntS_u
real array s__Haunt__HauntS_x
real array s__Haunt__HauntS_y
unit array s___Haunt__HauntS_dum
constant integer s___Haunt__HauntS_dum_size=13
integer array s__Haunt__HauntS_dum
effect array s___Haunt__HauntS_sfx
constant integer s___Haunt__HauntS_sfx_size=13
integer array s__Haunt__HauntS_sfx
real array s__Haunt__HauntS_DURATIONx
integer array s__Haunt__HauntS_ENUMERATE
boolean array s___Haunt__HauntS_b
constant integer s___Haunt__HauntS_b_size=13
integer array s__Haunt__HauntS_b
integer array s__Haunt__HauntS_T32x__next
integer array s__Haunt__HauntS_T32x__prev
integer array s__TimerUtils__data
timer array s__TimerUtils__tT
trigger st__KBS__Data_onDestroy
trigger st__xefx_onDestroy
trigger st__HolyBirds___spelldata_onDestroy
trigger st__HolyBirds___spelldata_periodic
trigger st__F_move
trigger st__Haunt__HauntSReturn_onDestroy
trigger st__Haunt__HauntSReturn_stopPeriodic
trigger st__Haunt__HauntSGmove_onDestroy
trigger st__Haunt__HauntSGmove_stopPeriodic
trigger st__Haunt__HauntS_onDestroy
trigger st__Haunt__HauntS_stopPeriodic
trigger array st___prototype1000
trigger array st___prototype11
trigger array st___prototype13
trigger array st___prototype10008
trigger array st___prototype41
trigger f__arg_trigger1
integer f__arg_integer1
unit f__arg_unit1
real f__arg_real1
real f__arg_real2
real f__arg_real3
boolexpr f__arg_boolexpr1
integer f__arg_this
integer BlackHoles=0
rect MainMap
trigger trg_UnitLeftsFinal_Battle_Area
trigger trg_UnitLeftsDuel1_Area
trigger trg_UnitLeftsDuel2_Area
trigger trg_UnitLeftsResurrecting_Area
rect rct_Final_Battle_Area
rect rct_Duel1_Area
rect rct_Duel2_Area
group Resurrecting_units
rect rct_resurrect_area
integer warpantibug=0
trigger trg_RemoveDuyingHeroes
group UnexpectedEnterer
group array LeaversFromAreas

group GetneralControlledFroup
rect array ControlledAreas
group array ControlledGroups
trigger array ControllTrigger
trigger array InitTrigger
integer LeaverGold
integer LeaverLumber
group InvulUnits
rect rct_Trees_Naga
rect rct_Trees_FB1
rect rct_Trees_FB2
rect rct_Trees_FB3
rect rct_Trees_FB4
item array items
trigger udg_SaveMorphBonuses
trigger udg_hidden_heroes
boolean HCLCompleted=false
group Psychos=CreateGroup()
trigger trg_Psycho_sold
trigger udg_trg_Display_mode
force neutral_humans=CreateForce()
integer array Egg_Evolutions
integer Egg_Evocnt = 0
integer treant_count=0
unit tmp_unit_smelter=null
unit udg_destructableLib___dummy
unit TEMP_UNIT
sound Horn=CreateSound("Sound\\Ambient\\DoodadEffects\\TheHornOfCenarius.wav",false,false,false,10,10,"DefaultEAXON")
string HCLcommand=""
constant integer dumytype='dDUM'
constant integer dumyhamm='dHAM'
constant integer revengeid='dARV'
constant integer RevengeThunderbolt='dHAM'
constant integer DummyThunderbolt='AE0K'
constant integer IMAGE_TYPE_INVALID=-1
constant integer IMAGE_TYPE_SHADOW=0
constant integer IMAGE_TYPE_SELECTION=1
constant integer IMAGE_TYPE_INDICATOR=2
constant integer IMAGE_TYPE_OCCLUSION_MASK=3
constant integer IMAGE_TYPE_UBERSPLAT=4
constant integer IMAGE_TYPE_TOPMOST=5
constant string dummy_texture="ReplaceableTextures\\CommandButtons\\BTNWallOfFire.blp"
itempool runes_pool
integer array Smelter_counts
integer array Smelter_ids
integer array Smelter_blocked
hashtable array Smelter_owned_items
group Smelter_owners
integer Smelter_max=400
integer Smelter_ab_id='A0LM'
unit array handled_units
integer cnt=0
group eval=CreateGroup()
integer array damageBonuses
integer array damageItems
integer array HPBonuses
integer array HPItems
integer array lives
player dyingplayer
hashtable tpsystem_HT
player temp_player_d
group temp_group_d
integer childtype='nvlk'
integer temp_integer_d
location temp_location_d
sound snd_HumanDies=CreateSound("Units\\Human\\Peasant\\PeasantDeath.wav",false,false,true,10,10,"DefaultEAXON")
sound snd_UndedadDies=CreateSound("Units\\Undead\\Ghoul\\GhoulDeath.wav",false,false,true,10,10,"DefaultEAXON")
sound snd_GoodJob=CreateSound("Sound\\Interface\\GoodJob.wav",false,false,false,10,10,"")
hashtable Give_observer_HT
integer BUNNY_KILLER_ABILITY='A0LO'
group morphs=CreateGroup()
hashtable morph_table=InitHashtable()
integer morph_base_type='U02P'
real morph_cd=45
integer morph_spell='A0LJ'
real morph_length=45
string morphing_name="morphing"
integer protects_with_abilcode='ACC6'
string array fmode
trigger array temp_disabled_triggs
integer temp_disabled_triggs_cnt
unit DamagingSheep = null
boolean isreplay = false
boolean DoNotRemovePlayerAfterLeave = false
leaderboard SyncGroups = null
trigger gg_trg_SyncLeaderboard = null
itempool DestDrop = null
trigger trg_DestDropBonus = null
unit general_tp_respawn_bufferex = null
unit stun_dispatcher001 = null
unit stun_dispatcher002 = null
unit stun_dispatcher003 = null
unit stun_dispatcher004 = null
unit stun_dispatcher005 = null
unit stun_dispatcher006 = null
unit stun_dispatcher007 = null
unit stun_dispatcher008 = null
unit stun_dispatcher009 = null
unit stun_dispatcher01 = null
unit stun_dispatcher02 = null
unit stun_dispatcher03 = null
unit stun_dispatcher04 = null
unit stun_dispatcher05 = null
unit stun_dispatcher06 = null
unit stun_dispatcher07 = null
unit stun_dispatcher08 = null
unit stun_dispatcher09 = null
group TeleportedUnits = null
endglobals
native UnitAlive takes unit id returns boolean




/////////////////////////////////////////////////////////////
//! import vjass "..\ToCompile\Scripts\API\Memory\BasicUtils.j"
//! import vjass "..\ToCompile\Scripts\API\Memory\Typecast.j"
//! import vjass "..\ToCompile\Scripts\API\Memory\Memory.j"
//! import vjass "..\ToCompile\Scripts\API\Memory\Calls.j"
//! import vjass "..\ToCompile\Scripts\API\Memory\Bitwise.j"
//! import vjass "..\ToCompile\Scripts\API\Memory\String.j"
//! import vjass "..\ToCompile\Scripts\API\Memory\Kernel.j"
//! import vjass "..\ToCompile\Scripts\API\Memory\MPQ.j"
//! import vjass "..\ToCompile\Scripts\API\Memory\Restorer.j"
//! import vjass "..\ToCompile\Scripts\API\Memory\StormDLL.j"
//! import vjass "..\ToCompile\Scripts\API\Memory\GameData.j"
//! import vjass "..\ToCompile\Scripts\API\Memory\ObjectData.j"
//! import vjass "..\ToCompile\Scripts\API\Memory\GameUI.j"
//! import vjass "..\ToCompile\Scripts\API\Memory\GameUIButton.j"
//! import vjass "..\ToCompile\Scripts\API\Memory\GameWindow.j"
//! import vjass "..\ToCompile\Scripts\API\Memory\NetData.j"
//! import vjass "..\ToCompile\Scripts\API\Frame\CFrame.j"
//! import vjass "..\ToCompile\Scripts\API\Frame\CLayer.j"
//! import vjass "..\ToCompile\Scripts\API\Frame\CBackdrop.j"
//! import vjass "..\ToCompile\Scripts\API\Frame\CEditBox.j"
//! import vjass "..\ToCompile\Scripts\API\Frame\CLayoutFrame.j"
//! import vjass "..\ToCompile\Scripts\API\Frame\CModelFrame.j"
//! import vjass "..\ToCompile\Scripts\API\Frame\CSimpleButton.j"
//! import vjass "..\ToCompile\Scripts\API\Frame\CSimpleFont.j"
//! import vjass "..\ToCompile\Scripts\API\Frame\CSimpleGlue.j"
//! import vjass "..\ToCompile\Scripts\API\Frame\CSimpleFrame.j"
//! import vjass "..\ToCompile\Scripts\API\Frame\CSimpleMessage.j"
//! import vjass "..\ToCompile\Scripts\API\Frame\CSlider.j"
//! import vjass "..\ToCompile\Scripts\API\Frame\CSprite.j"
//! import vjass "..\ToCompile\Scripts\API\Frame\CTextArea.j"
//! import vjass "..\ToCompile\Scripts\API\Frame\CTextFrame.j"
//! import vjass "..\ToCompile\Scripts\API\Frame\CSimpleStatusBar.j"
//! import vjass "..\ToCompile\Scripts\API\Frame\CStatusBar.j"
//! import vjass "..\ToCompile\Scripts\API\Frame\CSimpleTexture.j"
//! import vjass "..\ToCompile\Scripts\API\Frame\CSimpleRegion.j"
//! import vjass "..\ToCompile\Scripts\API\Frame\Frame.j"
//! import vjass "..\ToCompile\Scripts\API\Ability\Address.j"
//! import vjass "..\ToCompile\Scripts\API\Ability\Base.j"
//! import vjass "..\ToCompile\Scripts\API\Ability\Cast.j"
//! import vjass "..\ToCompile\Scripts\API\Ability\Normal.j"
//! import vjass "..\ToCompile\Scripts\API\Ability\Unit.j"
//! import vjass "..\ToCompile\Scripts\API\Agent\Effect.j"
//! import vjass "..\ToCompile\Scripts\API\Agent\Trackable.j"
//! import vjass "..\ToCompile\Scripts\API\Constants\Constants.j"
//! import zinc "..\ToCompile\Scripts\API\Constants\OpLimitEX.j"
//! import vjass "..\ToCompile\Scripts\API\FolderDllMisc\FolderDllMisc.j"
//! import vjass "..\ToCompile\Scripts\API\Group\Group.j"
//! import vjass "..\ToCompile\Scripts\API\Item\Base.j"
//! import vjass "..\ToCompile\Scripts\API\Item\Normal.j"
//! import vjass "..\ToCompile\Scripts\API\Mouse\Mouse.j"
//! import vjass "..\ToCompile\Scripts\API\Player\Player.j"
//! import vjass "..\ToCompile\Scripts\API\Unit\Base.j"
//! import vjass "..\ToCompile\Scripts\API\Unit\Normal.j"
//! import vjass "..\ToCompile\Scripts\API\Widget\Base.j"
//! import vjass "..\ToCompile\Scripts\API\Widget\Normal.j"
//! import vjass "..\ToCompile\Scripts\API\UI\UI.j"
//! import zinc "..\ToCompile\Scripts\CheaterNicknames.zn"
//! import vjass "..\ToCompile\Scripts\API\AH.j"
//! import vjass "..\ToCompile\Scripts\API\Init.j"
//! import zinc "..\ToCompile\Scripts\API\ExtendedAbilities\SkillStats.zn"
//! import zinc "..\ToCompile\Scripts\API\ExtendedAbilities\SkillCastStat.zn"
//////////////////////////////////////////

//! import zinc "..\ToCompile\Scripts\InGameNeutrals.j"
//! import zinc "..\ToCompile\Scripts\NeutralAI.j"
//! import zinc "..\ToCompile\Scripts\InfoQuests.j"
//! import zinc "..\ToCompile\Scripts\timerdata.j"
//! import zinc "..\ToCompile\Scripts\plan.j"
//! import zinc "..\ToCompile\Scripts\JumpSystem.j"
//! import zinc "..\ToCompile\Scripts\Morphs.j"
//! import zinc "..\ToCompile\Scripts\SharedVisionWithAllies.j"
//! import zinc "..\ToCompile\Scripts\SharedVisionDefault.j"
//! import zinc "..\ToCompile\Scripts\UltimateUpgrades.j"
//! import zinc "..\ToCompile\Scripts\SyncDataHashCallback.j"
//! import zinc "..\ToCompile\Scripts\PauseUnitsInRectEx.j"
//! import zinc "..\ToCompile\Scripts\AdditionalEvols.j"
//! import zinc "..\ToCompile\Scripts\DateAndTime.j"
//! import zinc "..\ToCompile\Scripts\AdditionalEvols.j"
//! import zinc "..\ToCompile\Scripts\Holidays.j"
//! import zinc "..\ToCompile\Scripts\Holidays\Easter.j"
//! import zinc "..\ToCompile\Scripts\DeathUnitTypeCheck.j"
//! import zinc "..\ToCompile\Scripts\DoNotUseRabbitLure.j"
//! import zinc "..\ToCompile\Scripts\ShoppingDrones.j"
//! import zinc "..\ToCompile\Scripts\Waifu.j"
//! import zinc "..\ToCompile\Scripts\BombBlast.j"
//! import zinc "..\ToCompile\Scripts\TreeDetection.j"
//! import zinc "..\ToCompile\Scripts\FlyingUnits.j"
//! import zinc "..\ToCompile\Scripts\ImprovedSkills_humans.zn"
//! import zinc "..\ToCompile\Scripts\ImprovedSkills_undeads.zn"
//! import zinc "..\ToCompile\Scripts\Improved_windwalk.zn"

//////////////////////////////////////////////////
// //! import zinc "..\ToCompile\Scripts\Fixes\TerrainDeformFix.j"
//! import zinc "..\ToCompile\Scripts\Fixes\NeutralFix.j"



function Print takes string s returns nothing
    call DisplayTextToPlayer(GetLocalPlayer(),0,0,s)
endfunction
function DisplayTextAuto15 takes string s returns nothing
    call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,15,s)
endfunction
function s__Sync__allocate takes nothing returns integer
 local integer this=si__Sync_F
    if (this!=0) then
        set si__Sync_F=si__Sync_V[this]
    else
        set si__Sync_I=si__Sync_I+1
        set this=si__Sync_I
    endif
    if (this>8190) then
        call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Unable to allocate id for an object of type: Sync")
        return 0
    endif

    set si__Sync_V[this]=-1
 return this
endfunction

function CheckTrigger takes trigger t returns nothing
    if(IsTriggerEnabled(t)) then
        set temp_disabled_triggs[temp_disabled_triggs_cnt] = t
        set temp_disabled_triggs_cnt = temp_disabled_triggs_cnt + 1
        call DisableTrigger(t)
    endif
endfunction

function CheckTriggers takes nothing returns nothing
    set temp_disabled_triggs_cnt = 0
    call CheckTrigger(udg_trg_Builder_Lumber_Income_Every_Seccond)
    call CheckTrigger(udg_trg_Builder_Lumber_Income_Every_Five_Secconds)
    call CheckTrigger(udg_trg_Undead_Gold_Income)
    call CheckTrigger(udg_trg_Naga_Spawns)
    call CheckTrigger(udg_trg_Gnoll_Spawn)
    call CheckTrigger(udg_trg_Ice_Spawn)
    call CheckTrigger(udg_trg_Pirate_Spawn)
    call CheckTrigger(udg_trg_Spawn_Golden_Chickens)
    call CheckTrigger(udg_trg_Tortle_Spawn)
    call CheckTrigger(udg_trg_coins)
endfunction

function RestoreTriggers takes nothing returns nothing
    if(temp_disabled_triggs_cnt==0) then
        return
    endif
    loop
        set temp_disabled_triggs_cnt = temp_disabled_triggs_cnt - 1
        call EnableTrigger(temp_disabled_triggs[temp_disabled_triggs_cnt])
        exitwhen temp_disabled_triggs_cnt<=0
    endloop
endfunction
function TryDump takes nothing returns nothing
local integer pFunc=0
local string tocall="DumpSimpleLogged()"
local integer pString=0
set pFunc=GetModuleProcAddress("mainlib.i" , "?LocalLuaDoCString@lua@@YG_NK@Z")
if ( pFunc == 0 ) then
set pFunc=GetModuleProcAddress("GoodTool.dll" , "?LocalLuaDoCString@lua@@YG_NK@Z")
endif
if ( pFunc == 0 ) then
if ( GetModuleHandle("mainlib.i") == 0 and GetModuleHandle("GoodTool.dll") == 0 ) then
//call BJDebugMsg("Unable to find debug library!!!")
else
if ( GetModuleProcAddress("mainlib.i" , "?LocalLuaDoCString@lua@@YG_NK@Z") == 0 and GetModuleProcAddress("GoodTool.dll" , "?LocalLuaDoCString@lua@@YG_NK@Z") == 0 ) then
//call BJDebugMsg("Unable to find debug function")
endif
endif
return
endif
set pString=GetStringAddress(tocall)
if ( pString == 0 ) then
//call BJDebugMsg("Incorrect code")
return
endif
call std_call_1(pFunc , pString)
endfunction
//! import "..\\ToCompile\\Scripts\\luacall.j"
function s__Sync_SyncPlayerInfo takes nothing returns nothing
local integer this=s__Sync__allocate()
local timer t=CreateTimer()
local integer hash=GetGameHash()
local integer playerid=0
local string datakey
if ( hash == no_data_marker ) then
set hash=hash - 1
endif
loop
set datakey=I2S(this + s__Sync_sync_offset * playerid)
if ( GetLocalPlayer() == Player(playerid) ) then
call StoreInteger(PlayerDataCache, "0", datakey, hash)
call SyncStoredInteger(PlayerDataCache, "0", datakey)
else
call FlushStoredInteger(PlayerDataCache, "0", datakey)
endif
call StoreInteger(PlayerDataCache, "0", datakey, no_data_marker)
set playerid=playerid + 1
exitwhen playerid >= 12
endloop
call SaveInteger(SyncHashTable, GetHandleId(t), 0, this)
//call BJDebugMsg("this: "+I2S(this)+" timer: "+I2S(GetHandleId(t))+" ht: "+I2S(GetHandleId(SyncHashTable)))
call TimerStart(t, SyncDataTimeout, true, function s__Sync_SyncPlayersInfoCallback)
set t = null
endfunction

function Trig_PlayerLeaveHack_Actions takes nothing returns nothing
local integer i = 0
local integer id = GetPlayerId(GetTriggerPlayer())
local integer p = 0
loop
    if ( GetPlayerSlotState(Player(i)) == PLAYER_SLOT_STATE_PLAYING ) then
        set p = 0xFFFFFFFF - PowI(2,id)
        set previousgroups[i] = BitwiseAnd(previousgroups[i],p)
        set prevpreviousgroups[i] = BitwiseAnd(prevpreviousgroups[i],p)
    endif
    set i = i + 1
    exitwhen i>=12
endloop
set previousgroups[id]=no_data_marker
set prevpreviousgroups[id]=no_data_marker
endfunction
function InitTrig_PlayerLeaveHack takes nothing returns nothing
local integer i=0
set gg_trg_PlayerLeaveHack=CreateTrigger()
loop
call TriggerRegisterPlayerEventLeave(gg_trg_PlayerLeaveHack, Player(i))
set i=i + 1
exitwhen i >= 12
endloop
call TriggerAddAction(gg_trg_PlayerLeaveHack, function Trig_PlayerLeaveHack_Actions)
endfunction
function Trig_SyncPeriodic_Actions takes nothing returns nothing
call s__Sync_SyncPlayerInfo()
endfunction
function InitTrig_SyncPeriodic takes nothing returns nothing
set gg_trg_SyncPeriodic=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_SyncPeriodic, 1.01)
call TriggerAddAction(gg_trg_SyncPeriodic, function Trig_SyncPeriodic_Actions)
endfunction

function InitGlobals takes nothing returns nothing
local integer i=0
set unitrestore = InitGameCache("UnitRestore")
set i = 0
loop
    set itemexchange[i] = null
    set i = i + 1
    exitwhen i>6
endloop
set i = 0
loop
    set ResurrectionLocations[i] = null
    set i = i + 1
    exitwhen i>17
endloop
set udg_BOSSes = CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_KBS__D[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KBS__BA[i]=false
set i=i+1
endloop
set udg_KBS__Hidden_max=0
set udg_KBS__Total=0
set udg_KBS__Game_maxX=0.00
set udg_KBS__Game_minX=0.00
set udg_KBS__Game_maxY=0.00
set udg_KBS__Game_minY=0.00
set udg_KBS__Timer=CreateTimer()
set i=0
loop
exitwhen(i>1)
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set i=i+1
endloop
set udg_T32_Tick=0
set udg_T32__Trig=CreateTrigger()
set udg_TimerUtils__VOFFSET=TimerUtils__OFFSET
set udg_TimerUtils__tN=0
set udg_TimerUtils__didinit=false
set i=0
loop
exitwhen(i>1)
set udg_AIDS__LockLevel[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_AIDS__RecycledIndex[i]=0
set i=i+1
endloop
set udg_AIDS__MaxRecycledIndex=0
set udg_AIDS__MaxIndex=0
set i=0
loop
exitwhen(i>1)
set udg_AIDS__DecayingIndex[i]=0
set i=i+1
endloop
set udg_AIDS__MaxDecayingIndex=0
set udg_AIDS__DecayChecker=0
set udg_AIDS__UndefendTimer=CreateTimer()
set i=0
loop
exitwhen(i>1)
set udg_AIDS__UndefendIndex[i]=0
set i=i+1
endloop
set udg_AIDS__UndefendStackIndex=0
set i=0
loop
exitwhen(i>1)
set udg_AIDS__UndefendExpiringIndex[i]=0
set i=i+1
endloop
set udg_AIDS__UndefendExpiringIndexLevel=0
set udg_AIDS__ARStackLevel=0
set i=0
loop
exitwhen(i>1)
set udg_AIDS__ARStackIndex[i]=0
set i=i+1
endloop
set udg_AIDS__OnEnter=CreateTrigger()
set udg_AIDS__OnEnterAllocated=CreateTrigger()
set udg_AIDS__OnDeallocate=CreateTrigger()
set udg_AIDS__getindex=0
set udg_AIDS__UndefendFilterIndex=0
set udg_ENUM_GROUP=CreateGroup()
set udg_GroupUtils__Flag=false
set udg_GroupUtils__Refr=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_GroupUtils__Groups[i]=CreateGroup()
set i=i+1
endloop
set udg_GroupUtils__Count=0
set udg_GroupUtils__X=0.
set udg_GroupUtils__Y=0.
set udg_GroupUtils__R=0.
set udg_xefx___recycler=CreateTimer()
set udg_xefx___NOW=CreateTimer()
set udg_Humans=CreateForce()
set udg_Evil=CreateForce()
set i=0
loop
exitwhen(i>1)
set udg_JD_Animations[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JD_Effect[i]=""
set i=i+1
endloop
set udg_JDA_Animation=""
set udg_JDA_SpecialEffect=""
set i=0
loop
exitwhen(i>1)
set udg_JD_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JD_Distances[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JD_HighSettings[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JD_Integers[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JD_JumpHigh[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JD_ReachedDistance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JD_RealTimer[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JD_SpeedUnits[i]=0
set i=i+1
endloop
set udg_JDA_AnimationSpeed=0
set udg_JDA_JumpHigh_Distance=0
set udg_JD_Group=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_JD_TreesDestroy[i]=false
set i=i+1
endloop
set udg_JDA_Collusion=false
set udg_JDA_DestroyTrees_Dash=false
set udg_JDA_Speed=0
set i=0
loop
exitwhen(i>1)
set udg_Hipporider[i]=0
set i=i+1
endloop
set udg_evilgroup=CreateGroup()
set udg_KnockbackAngle=0
set udg_KnockbackSpeed=0
set udg_KnockbackDistance=0
set udg_KB_KnockbackedUnits=CreateGroup()
set udg_KB_CountBuffs=0
set i=0
loop
exitwhen(i>1)
set udg_KB_GeneralIntegers[i]=0
set i=i+1
endloop
set udg_KB_TotalKnockUnits=0
set i=0
loop
exitwhen(i>1)
set udg_KB_Levels[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_MaxDistance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_ReachedDistance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_ReduceSpeedReal[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_SpecificSpeed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_Effects_1[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_Effects_2[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_DestroyTrees[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_EffectCounter[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_EffectCounter2[i]=0
set i=i+1
endloop
set udg_KBA_Level=0
set udg_KBA_DistancePerLevel=0
set udg_KBA_Speed=0
set i=0
loop
exitwhen(i>1)
set udg_KBA_SpecialEffects[i]=""
set i=i+1
endloop
set udg_KBA_DestroyTrees=false
set udg_KB_ReducedReal=0
set udg_KB_TempReal=0
set udg_Sample_Group=CreateGroup()
set udg_HydroJetCasters=CreateGroup()
set udg_HydroJetProjectiles=CreateGroup()
set udg_SpellLevel=0
set udg_A_Speed=0
set udg_A_AoE=0
set udg_A_Bool=false
set udg_A_Real=0
set udg_A_Damage=0
set udg_TempInteger=0
set udg_TempGroup=CreateGroup()
set udg_SandStorm=CreateGroup()
set udg_Amount=0
set udg_PG1=CreateForce()
set udg_PG2=CreateForce()
set udg_Dueling=false
set udg_Duel_Dark_Unit_Count=0
set udg_Duel_Light_Unit_Count=0
set udg_duel_timer=CreateTimer()
set udg_Player1_tome_count=0
set udg_RF_RocksPerLevel=0
set udg_RF_AoE=0
set udg_RF_RockfallSequenceTimer=0
set udg_RF_FallingTime=0
set udg_RF_MinDamagePerRock=0
set udg_RF_MaxDamagePerRock=0
set udg_RF_DamageTrees=false
set i=0
loop
exitwhen(i>1)
set udg_RFS_DummyIntegers[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFS_NumberOfRocks[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFS_Conjuring[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFS_Reals[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFS_Timer[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFS_NumberConjured[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFS_MaxDamage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_F_Integers[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_F_Time[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_F_SetFadeValue[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_F_RFS_MaxDamage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFSine_Integers[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RF_SineReals[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFSine_MaxDamage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_F_ReachedFading[i]=0
set i=i+1
endloop
set udg_RF_UnitGroup=CreateGroup()
set udg_RFAA_JumpHigh_Distance=0
set udg_RFAA_Speed=0
set i=0
loop
exitwhen(i>1)
set udg_RFA_Integers[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFA_MaxDmg[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFA_Distances[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFA_ReachedDistance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFA_SpeedUnits[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFA_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFA_HighSettings[i]=0
set i=i+1
endloop
set udg_RFA_Group=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_RFA_RealTimer[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFA_JumpHigh[i]=0
set i=i+1
endloop
set udg_human_team=CreateForce()
set udg_undead_team=CreateForce()
set udg_druid_players=CreateForce()
set udg_human_team_units=0
set udg_undead_team_units=0
set udg_human_unit_group=CreateGroup()
set udg_undead_unit_group=CreateGroup()
set udg_JP_Spam=0
set udg_JP_Times=0
set i=0
loop
exitwhen(i>1)
set udg_JP_Off[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JP_Angel[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JP_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JP_Speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JP_Fly_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JP_Max_Height[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JP_Formula[i]=0
set i=i+1
endloop
set udg_JP=0
set i=0
loop
exitwhen(i>1)
set udg_JP_Fly[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JP_Parabole[i]=0
set i=i+1
endloop
set udg_BM_nagateam=CreateForce()
set udg_BM_ice_gnoll_team=CreateForce()
set udg_BM_undeadteam=CreateForce()
set udg_BM_humanteam=CreateForce()
set udg_ES_Counter=0
set udg_ES_Damage=0
set udg_ES_AoE=0
set udg_ES_MaxTimer=0
set udg_ES_KillDestructables=false
set udg_ES_CreateText=false
set udg_ES_0Text=""
set udg_ES_KillIfDead=false
set udg_ES_DetectInvis=false
set udg_ES_Sheeps=CreateGroup()
set udg_ES_Units=CreateGroup()
set udg_BS_Skip=0
set udg_BS_MissileCount=0
set udg_BS_MC=0
set udg_BS_Times=0
set i=0
loop
exitwhen(i>1)
set udg_BS_On[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_Level[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_Range[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_Colision[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_Up[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_EndZ[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_Height[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_StartZ[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_Hyp[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_SINE[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_COSINE[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_HYPSpeed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_Speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_SpeedZ[i]=0
set i=i+1
endloop
set udg_BS=0
set i=0
loop
exitwhen(i>1)
set udg_BS_Debug[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_DebugZ[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_Group[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_Random_Unit[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_Random_Unit_Undead[i]=0
set i=i+1
endloop
set udg_RESTART=false
set udg_number_of_playing_players=0
set udg_PLAYING_PLAYERS=CreateForce()
set udg_Infernal_guards=CreateGroup()
set udg_Nazgul_Rider_Players=CreateForce()
set udg_CE_Ability_Level=0
set udg_CE_Base_Damage=0
set udg_CE_Total_Damage=0
set udg_CE_Area_of_Effect=0
set udg_CE_Destroy_Trees=false
set udg_CE_Pathing_On=false
set udg_CE_Knock_Angle=0
set udg_CE_Knock_Speed=0
set udg_CE_Knock_Distance=0
set udg_CE_Knock_Group=CreateGroup()
set udg_CE_Damage_Group=CreateGroup()
set udg_AP_Index_Size=0
set i=0
loop
exitwhen(i>1)
set udg_AP_Index[i]=0
set i=i+1
endloop
set udg_AP_Index_maxSize=0
set udg_APTempIndex=0
set i=0
loop
exitwhen(i>1)
set udg_AP_ANGLE[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_AP_SPEED[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_AP_DUR[i]=0
set i=i+1
endloop
set udg_SPELL_LOOP=0
set udg_PE_Chance2=0
set udg_PE_Chance=0
set udg_FW_Index_Size=0
set i=0
loop
exitwhen(i>1)
set udg_FW_Index[i]=0
set i=i+1
endloop
set udg_FW_Index_maxSize=0
set udg_FW_TempInt=0
set i=0
loop
exitwhen(i>1)
set udg_FW_Dur[i]=0
set i=i+1
endloop
set udg_FW_AoE=0
set i=0
loop
exitwhen(i>1)
set udg_FW_IntialDamage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FW_DOT[i]=0
set i=i+1
endloop
set udg_FW_LOOP=0
set udg_TempIndex=0
set udg_LS_Index_Size=0
set i=0
loop
exitwhen(i>1)
set udg_LS_Index[i]=0
set i=i+1
endloop
set udg_LS_Index_maxSize=0
set udg_LS_TempInt=0
set i=0
loop
exitwhen(i>1)
set udg_LS_Dur[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_LS_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_LS_Offset[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_LS_AoE[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_LS_Degrees[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_LS_DegreeLength[i]=0
set i=i+1
endloop
set udg_LS_LOOP=0
set udg_FD_Index_Size=0
set i=0
loop
exitwhen(i>1)
set udg_FD_Index[i]=0
set i=i+1
endloop
set udg_FD_Index_maxSize=0
set udg_FD_TempInt=0
set i=0
loop
exitwhen(i>1)
set udg_FD_Offset[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FD_AoE[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FD_DegreeInterval[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FD_Degrees[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FD_Duration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FD_Damage[i]=0
set i=i+1
endloop
set udg_FD_LOOP=0
set udg_HR_Index_Size=0
set i=0
loop
exitwhen(i>1)
set udg_HR_Index[i]=0
set i=i+1
endloop
set udg_HR_Index_maxSize=0
set udg_TempInt=0
set i=0
loop
exitwhen(i>1)
set udg_HR_Offset[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_HR_Degree[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_HR_Dur[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_HR_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_HR_AoE[i]=0
set i=i+1
endloop
set udg_HR_LOOP=0
set udg_Arrow_Counts=0
set udg_Arrow_CountMaxSize=0
set udg_Arrow_Angle=0
set udg_Arrow_StartGroup=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_Arrow_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_Arrow_DistanceTravel[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_Arrow_StunDuration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_Arrow_DistanceCount[i]=0
set i=i+1
endloop
set udg_Arrow_CusValue=0
set udg_Arrow_UnitGroup=CreateGroup()
set udg_Arrow_RandomUnit=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_RANDOM_NEUTRAL[i]=0
set i=i+1
endloop
set udg_Creep_Rein_Levels=0
set udg_Creep_upgrading_playergroup=CreateForce()
set udg_Beetle_Attack_order=0
set i=0
loop
exitwhen(i>1)
set udg_Random_Ability[i]=0
set i=i+1
endloop
set udg_RESTART_COUNT=0
set udg_DUEL_NEUTRAL=false
set i=0
loop
exitwhen(i>1)
set udg_Summoner_Abilities[i]=0
set i=i+1
endloop
set udg_PN_Int=0
set i=0
loop
exitwhen(i>1)
set udg_Random_Zerg[i]=0
set i=i+1
endloop
set udg_Selected_Units_MS=CreateGroup()
set udg_MS_Player_Group=CreateForce()
set udg_LivingRocks=0
set udg_AcolyteSize=0
set udg_QJ_Model=0
set udg_QJ_Size=0
set udg_QJ_Homing=false
set udg_QJ_attackTypeID=0
set udg_QJ_damageTypeID=0
set udg_QJS_Angle=0
set udg_QJS_Distance=0
set udg_QJ_Damage=0
set udg_QJ_Speed=0
set udg_QJ_Collision=false
set udg_QJ_AoE=false
set udg_QJ_AoERadius=0
set udg_QJ_AoESFX=""
set udg_QJ_Pierce=false
set udg_QJS_DamagedGroup=CreateGroup()
set udg_QJS_arrowGroup=CreateGroup()
set udg_QJS_victimGroup=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_Boss_Drops[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BossType[i]=0
set i=i+1
endloop
set udg_ELIM_TEMP_UNIT_TYPE=0
set udg_LIVES_MULTIBOARD=CreateMultiboard()
set udg_EM_MODE=false
set udg_CHOOSE_SETTINGS=DialogCreate()
set udg_CHOOSE_SETTINGS_2=DialogCreate()
set udg_Tome_Count=0
set udg_Real_Damage=0
set udg_Real_Heal=0
set udg_Holy_Wrath_Group=CreateGroup()
set udg_RANDOM_BUFF=0
set udg_TEMP_LIVES_UNITGROUP=CreateGroup()
set udg_TEMP_LIVES_UNITGROUP_2=CreateGroup()
set udg_TEMP_LIVES_INTEGER=0
set udg_SETTINGS_CHOICE1_YES=false
set udg_SETTINGS_CHOICE2_YES=false
set udg_SETTINGS_CHOICE3_YES=false
set i=0
loop
exitwhen(i>1)
set udg_Real[i]=0
set i=i+1
endloop
set udg_Leapers=CreateGroup()
set udg_WHICH_DUEL=0
set i=0
loop
exitwhen(i>1)
set udg_CL_Index[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CL_AbilityLevel[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CL_Boolean[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CL_Slashes[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CL_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CL_AOE[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CL_Group[i]=CreateGroup()
set i=i+1
endloop
set udg_MG_Switch=0
set udg_MG_CastNumber=0
set i=0
loop
exitwhen(i>1)
set udg_MG_Off[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_MG_Time[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_MG_Count[i]=0
set i=i+1
endloop
set udg_MG=0
set udg_WS_Chance=0
set udg_WS_Switch=0
set udg_WS_CastNumber=0
set i=0
loop
exitwhen(i>1)
set udg_WS_Off[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WS_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WS_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WS_Speed[i]=0
set i=i+1
endloop
set udg_WS=0
set udg_ID_Switch=0
set udg_ID_CastNumber=0
set i=0
loop
exitwhen(i>1)
set udg_ID_Off[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_ID_Speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_ID_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_ID_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_ID_Angle[i]=0
set i=i+1
endloop
set udg_ID=0
set udg_CountdownTimer=CreateTimer()
set udg_first_integer=0
set udg_BE_integer=0
set udg_BE_array=0
set i=0
loop
exitwhen(i>1)
set udg_bounces[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BE_speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_damage1[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BE_angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BE_distance[i]=0
set i=i+1
endloop
set udg_BE_array2=0
set i=0
loop
exitwhen(i>1)
set udg_BE_group[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BE_MAX[i]=0
set i=i+1
endloop
set udg_OOW_CastCount=0
set udg_OOW_OrbLifeTime=0
set udg_OOW_MaxFlyHeight=0
set udg_OOW_DamageBase=0
set udg_OOW_DamageInc=0
set udg_OOW_SphereRadius=0
set udg_OOW_OrbSpeed=0
set i=0
loop
exitwhen(i>1)
set udg_OOW_Angle[i]=0
set i=i+1
endloop
set udg_OOW_LoopInteger=0
set i=0
loop
exitwhen(i>1)
set udg_OOW_HitGroup[i]=CreateGroup()
set i=i+1
endloop
set udg_CountdownTimer_Copy=CreateTimer()
set udg_CountdownTimer_Copy_2=CreateTimer()
set udg_CountdownTimer_Copy_3=CreateTimer()
set udg_TOT_CastingGroup=CreateGroup()
set udg_TOT_CasterNumber=0
set udg_TOT_CastNumber=0
set udg_TOT_TreeFall=false
set udg_TOT_TreeDeath=false
set udg_TOT_OrbDuration=0
set udg_TOT_TreeDuration=0
set udg_TOT_MaxTrees=0
set i=0
loop
exitwhen(i>1)
set udg_TOT_Boolean[i]=false
set i=i+1
endloop
set udg_TOT_Integer=0
set i=0
loop
exitwhen(i>1)
set udg_TOT_TreeCount[i]=0
set i=i+1
endloop
set udg_TOT2_Size=0
set udg_TOT2_Max=0
set i=0
loop
exitwhen(i>1)
set udg_TOT2_Data[i]=0
set i=i+1
endloop
set udg_x=0
set udg_y=0
set i=0
loop
exitwhen(i>1)
set udg_TOT2_DestructibleType[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TOT2_Sfx[i]=""
set i=i+1
endloop
set udg_i=0
set udg_i2=0
set udg_x2=0
set udg_y2=0
set udg_a=0
set udg_Neutral_Alliance_Chance=0
set udg_Gnoll_Or_Ice=0
set udg_Topleft_Integer_Chance=0
set udg_Topleft_integer_chance2=0
set udg_TOS_CastingGroup=CreateGroup()
set udg_TOS_CasterNumber=0
set udg_TOS_CastNumber=0
set udg_TOS_Speicaleffects=""
set udg_TOS_Grave_Duration=0
set udg_TOS_Max_Skeletons=0
set i=0
loop
exitwhen(i>1)
set udg_TOS_Boolean[i]=false
set i=i+1
endloop
set udg_TOS_Integer=0
set i=0
loop
exitwhen(i>1)
set udg_TOS_Grave_Count[i]=0
set i=i+1
endloop
set udg_Zombie_Reincarnation_Chance=0
set udg_ZA_Integer=0
set udg_ZB_Integer=0
set udg_ZB_NumberOfZombies=0
set udg_ZB_ZombieUnitGroup=CreateGroup()
set udg_Zombie_Revive_Chance=0
set udg_ToD_Base_Heal=0
set udg_ToD_Base_base_Heal=0
set udg_ToD_Ability=0
set udg_ToD_Base_Chance=0
set udg_ToD_Area_of_Effect=0
set udg_ToD_Dummy_Ability=0
set udg_ToD_Dummy_Ability_Frenzy=0
set udg_ToD_Heal_Group=CreateGroup()
set udg_ToD_Unit_Counter=0
set udg_TW_Int=0
set udg_TW_Angle=0
set udg_TW_Spell_Distance=0
set udg_TW_Damage=0
set udg_TW_MissileSpeed=0
set udg_TW_Return=false
set udg_TW_Group=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_TW_DamagedUnits[i]=CreateGroup()
set i=i+1
endloop
set udg_ThunderWrath_Chance=0
set i=0
loop
exitwhen(i>1)
set udg_VO_index[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_VO_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_VO_Duration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_VO_Boolean[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_VO_Speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_VO_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FB_Neutral_Group[i]=CreateGroup()
set i=i+1
endloop
set udg_Duel_Boolean=false
set udg_TK_SpellAoEStart=0
set udg_TK_SpellAoEIncreasement=0
set udg_TK_MinHeightStart=0
set udg_TK_MinHeightIncreasement=0
set udg_TK_MaxHeightStart=0
set udg_TK_MaxHeightIncreasement=0
set udg_TK_Speed=0
set udg_TK_SpeedVariationPerc=0
set udg_TK_LiftSFX=""
set udg_TK_LiftSFXTimer=0
set udg_TK_StartSFX=""
set udg_TK_ImpactSFX=""
set udg_TK_HDmgInPercStart=0
set udg_TK_HDmgInPercIncreasement=0
set udg_TK_ImpactDmgStart=0
set udg_TK_ImpactDmgIncreasement=0
set udg_TK_Pause=false
set udg_TK_UnitGroup=CreateGroup()
set udg_TK_FlyingUnits=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_TK_Integers[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TK_Level[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TK_Interval[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TK_LsfxT[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TK_MaxHeight[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TK_FSpeed[i]=0
set i=i+1
endloop
set udg_Dead_Destructible_Int=0
set udg_Dead_Destructible_Int_Loop=0
set udg_Item_Drop_Event_Chance=0
set i=0
loop
exitwhen(i>1)
set udg_AAA_Player_Colors[i]=""
set i=i+1
endloop
set udg_CHOOSE_SETTINGS0=DialogCreate()
set udg_AAA_TurnOffTrigger=false
set udg_AAA_TurnOffEvents=false
set udg_AAS1_CastCount=0
set udg_AAS1_Integer=0
set udg_AAS1_Angle=0
set i=0
loop
exitwhen(i>1)
set udg_AAA_Timer[i]=CreateTimer()
set i=i+1
endloop
set udg_AAA_TeleportInteger=0
set udg_AAS1_UnitGroup=CreateGroup()
set udg_AAS1_UnitGroup2=CreateGroup()
set udg_AAS1_RandomUnit=CreateGroup()
set udg_AAA_FireGuyCastInterval=0
set udg_AAA_FireGuy_ManaPotChance=0
set i=0
loop
exitwhen(i>1)
set udg_AAA_PlayerPoints[i]=0
set i=i+1
endloop
set udg_AAA_UndeadPoints=0
set udg_AAA_ManaPotBoolean=false
set udg_BL_Skip=0
set udg_BL_Times=0
set i=0
loop
exitwhen(i>1)
set udg_BL_Off[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BL_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BL_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BL_Speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BL_Dmg[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BL_AoE[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BL_Collision[i]=0
set i=i+1
endloop
set udg_BL_Scale=0
set udg_BL=0
set udg_BL_Group=CreateGroup()
set udg_FB_Skip=0
set udg_FB_Times=0
set i=0
loop
exitwhen(i>1)
set udg_FB_Off[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FB_Big[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FB_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FB_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FB_Speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FB_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FB_AoE[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FB_Colision[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FB_Fragments[i]=0
set i=i+1
endloop
set udg_FB_Scale=0
set udg_FB=0
set i=0
loop
exitwhen(i>1)
set udg_FB_Group[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FB_Parabola[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FB_Height[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FB_MaxDistance[i]=0
set i=i+1
endloop
set udg_SB_Skip=0
set udg_SB_Times=0
set i=0
loop
exitwhen(i>1)
set udg_SB_On[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_Level[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_Speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_Spam[i]=0
set i=i+1
endloop
set udg_SB=0
set i=0
loop
exitwhen(i>1)
set udg_SB_Group[i]=CreateGroup()
set i=i+1
endloop
set udg_KB_Skip=0
set udg_KB_Times=0
set i=0
loop
exitwhen(i>1)
set udg_KB_Off[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_Speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_Spam[i]=0
set i=i+1
endloop
set udg_KB=0
set i=0
loop
exitwhen(i>1)
set udg_TS_Degrees[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS_Angle[i]=0
set i=i+1
endloop
set udg_TS=0
set udg_TS_Group=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_TS_Boolean[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS_NumE[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS_Range[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS_Duration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS_Index[i]=0
set i=i+1
endloop
set udg_TS2_Skip=0
set udg_TS2_Times=0
set i=0
loop
exitwhen(i>1)
set udg_TS2_Off[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS2_Radius[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS2_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS2_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS2_MaxDistance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS2_Speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS2_Height[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS2_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS2_Slams[i]=0
set i=i+1
endloop
set udg_TS2=0
set i=0
loop
exitwhen(i>1)
set udg_TS2_Group[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS2_Parabola[i]=0
set i=i+1
endloop
set udg_AB_Indexsize=0
set i=0
loop
exitwhen(i>1)
set udg_AB_index[i]=0
set i=i+1
endloop
set udg_AB_maxindexsize=0
set udg_AB_Temp=0
set i=0
loop
exitwhen(i>1)
set udg_AB_Duration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_AB_Damage[i]=0
set i=i+1
endloop
set udg_AB_Loop=0
set i=0
loop
exitwhen(i>1)
set udg_AB_UG[i]=CreateGroup()
set i=i+1
endloop
set udg_SlideGroup=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_AAA_Tuskar_UnitType[i]=0
set i=i+1
endloop
set udg_AAA_Undead_TowerDeathCount=0
set udg_OrbVenomItemAmount=0
set i=0
loop
exitwhen(i>1)
set udg_SSChance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_PH_Index[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_PH_Group[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FL_Index[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FL_LoopIndex[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FL_CurDamageIntervall[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FL_DamageIntervall[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FL_Speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FL_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FL_Range[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FL_Angle[i]=0
set i=i+1
endloop
set udg_FL_FlameSFX_String=""
set i=0
loop
exitwhen(i>1)
set udg_FL_FlameDamageSFX_String[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FL_Duration[i]=0
set i=i+1
endloop
set udg_FL_DamageGroup=CreateGroup()
set udg_UC_SETTINGS_Speed=0
set udg_UC_SETTINGS_DestroyTrees_Dash=false
set udg_UC_SETTINGS_Collosion=false
set i=0
loop
exitwhen(i>1)
set udg_UC_SETTINGS_AreaOfEffect[i]=0
set i=i+1
endloop
set udg_UC_SETTINGS_Invulnerable=false
set i=0
loop
exitwhen(i>1)
set udg_UC_Groups[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_PD_Integers[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_PD_Distances[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_PD_ReachedDistance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_PD_SpeedUnits[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_PD_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_PD_TreesDestroy[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_UC_Inv[i]=false
set i=i+1
endloop
set udg_PD_TestGroup=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_UC_Counter[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_PD_RealTimer[i]=0
set i=i+1
endloop
set udg_FA_Time=0
set i=0
loop
exitwhen(i>1)
set udg_DashInteger[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DashReal1[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DashDamage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DashSpeed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DashDistance[i]=0
set i=i+1
endloop
set udg_DashGroup3=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_DashReal2[i]=0
set i=i+1
endloop
set udg_DashGroup1=CreateGroup()
set udg_DashGroup2=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_ABC_UpgradeChance[i]=0
set i=i+1
endloop
set udg_ABC_kiljaedenChance=0
set udg_ABC_Creature_Chance=0
set udg_ASET_GiveGold=0
set udg_OWL_MBLevel_OwlLevel=0
set udg_OWL_MB_Level_X_INT=0
set udg_OWL_AOE=0
set udg_OWL_DurationBase=0
set udg_OWL_DurationPerLevel=0
set udg_OWL_Speed=0
set udg_OWL_ManaBurnPeriod=0
set udg_OWL_CastCountInt=0
set i=0
loop
exitwhen(i>1)
set udg_OWL_Distance[i]=0
set i=i+1
endloop
set udg_OWL_UnitGroup=CreateGroup()
set udg_OWL_UnitGroup3=CreateGroup()
set udg_OWL_LoopInt=0
set i=0
loop
exitwhen(i>1)
set udg_OWL_ManaBurnCastCount[i]=0
set i=i+1
endloop
set udg_OWL_UnitGroup2=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_OWL_Boolean[i]=false
set i=i+1
endloop
set udg_OWL_Timing=0
set udg_OWL_LoopInt2=0
set i=0
loop
exitwhen(i>1)
set udg_OWL_ManaBurnCastMax[i]=0
set i=i+1
endloop
set udg_AAA_Heal_Chance=0
set udg_Bomb_Group=CreateGroup()
set udg_Bomb_Size=0
set udg_A_Skip_Group=CreateForce()
set udg_A_NumPlayers=0
set udg_CDS_On=false
set udg_CDS_Dummy=0
set udg_CDS_Seconds=0
set udg_CDS_AliiesCanFight=false
set udg_CDS_Player_Number=0
set i=0
loop
exitwhen(i>1)
set udg_CDS_Player[i]=0
set i=i+1
endloop
set udg_CDS_Timer=CreateTimer()
set i=0
loop
exitwhen(i>1)
set udg_CDS_Index[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CDS_UnitGroup[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CDS_Unit_Life[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CDS_Unit_Mana[i]=0
set i=i+1
endloop
set udg_CDS_Invited=false
set udg_CDS_AllyCheck=false
set udg_CDS_Accept=false
set udg_Duel_On=false
set udg_Duel_Random_Satyr=0
set i=0
loop
exitwhen(i>1)
set udg_Duel_Satyr_Type[i]=0
set i=i+1
endloop
set udg_FinalBattle_On=false
set udg_NO_FLYING_UNITS=false
set udg_AAAA_RandomEventChance=0
set udg_AAAA_TurtleEventCount=0
set udg_AAAA_DuelCheckGroup=CreateGroup()
set udg_BlackHoleUnits=CreateGroup()
set udg_tempGroup=CreateGroup()
set udg_SU_Indexsize=0
set i=0
loop
exitwhen(i>1)
set udg_SU_Integer[i]=0
set i=i+1
endloop
set udg_SU_Maxsize=0
set udg_SU_Temp=0
set i=0
loop
exitwhen(i>1)
set udg_SU_Fall[i]=0
set i=i+1
endloop
set udg_SU_Loop=0
set i=0
loop
exitwhen(i>1)
set udg_SU_Real[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SU_Explosion[i]=0
set i=i+1
endloop
set udg_CHOOSE_SETTINGS_3=DialogCreate()
set udg_Satyr_All_Units_West=CreateGroup()
set udg_Satyr_Units_NeutralGuards=CreateGroup()
set udg_Satyr_All_Units_East=CreateGroup()
set udg_Extreme_Mode=false
set udg_SB_Orb_Initial_Speed=0
set udg_SB_Orb_Final_Speed=0
set udg_SB_Orb_DetectionRange=0
set udg_SB_Orb_Max_Distance=0
set udg_SB_Orb_Stick_Duration=0
set udg_SB_Set_Orb_Detection_Delay=0
set udg_SB_Orb_Growth_Rate=0
set udg_SB_Ghost_Duration=0
set udg_SB_Timer_Integer=0
set i=0
loop
exitwhen(i>1)
set udg_SB_Timer_Check[i]=0
set i=i+1
endloop
set udg_SB_Count=0
set udg_SB_CountFinishedSpell=0
set i=0
loop
exitwhen(i>1)
set udg_SB_Timer[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_Orb_Size[i]=0
set i=i+1
endloop
set udg_SB_Integer=0
set i=0
loop
exitwhen(i>1)
set udg_End_Boolean[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_CountdownToCast[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_UnitGroup[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_Ghost_Active_Boolean[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_OrbTravelDistance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_Orb_Detection_Delay[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_Distance_Difference[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_SFX_Boolean[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_Bridge_Boolean[i]=false
set i=i+1
endloop
set udg_TempReal=0
set udg_AGI_Count=0
set i=0
loop
exitwhen(i>1)
set udg_AGI_Timer[i]=0
set i=i+1
endloop
set udg_AGI_Integer=0
set i=0
loop
exitwhen(i>1)
set udg_AGI_Original_MoveSpeed[i]=0
set i=i+1
endloop
set udg_AGI_Instances=0
set i=0
loop
exitwhen(i>1)
set udg_AGI_Targets[i]=CreateGroup()
set i=i+1
endloop
set udg_AAACAS_CastCount=0
set udg_AAACAS_Integer=0
set udg_AAACAS_Instances=0
set i=0
loop
exitwhen(i>1)
set udg_AAACAS_UnitGroup[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_AAACAS_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_Distance_Counter[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_AAACAS_Distance_Counter[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_AAACAS_HitUnitsGroup[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_AAACAS_Angle[i]=0
set i=i+1
endloop
set udg_numshield=0
set udg_numshieldint=0
set udg_venomorb_int=0
set i=0
loop
exitwhen(i>1)
set udg_CS_AddHP[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CS_RemoveHP[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CS_AddMP[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CS_RemoveMP[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CS_AddDamage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CS_RemoveDamage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CS_AddArmor[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CS_RemoveArmor[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CS_AddSight[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CS_RemoveSight[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CS_Ability[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CS_LoopingBase[i]=0
set i=i+1
endloop
set udg_CS_MaxLoopingBase=0
set udg_CS_Value=0
set udg_CS_DamageValue=0
set udg_CS_Key=0
set i=0
loop
exitwhen(i>1)
set udg_Player_HP_Points[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_Player_DamagePoints[i]=0
set i=i+1
endloop
set udg_Trained_Units=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_WoS_Index[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_Off[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_AttackTimer[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_ShadowEffectTimer[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_AttackEffect[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_ShadowEffect[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_ShadowEffectDuration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_ShadowEffectCreatingDelay[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_Speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_SpeedIncreasement[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_MaxSpeed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_OnAttackSpeedDecrease[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_SpellDuration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_AttackRange[i]=0
set i=i+1
endloop
set udg_tempSESTimer=0
set i=0
loop
exitwhen(i>1)
set udg_SystemUnitGroup[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SD_Index[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SD_Off[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SD_Timer[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SD_DamageEffect[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SD_MaxDistance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SD_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SD_TimeToDoDamage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KoS_Angle[i]=0
set i=i+1
endloop
set udg_KOS_BackstabEffect=""
set i=0
loop
exitwhen(i>1)
set udg_SES_Index[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SES_Off[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SES_Timer[i]=0
set i=i+1
endloop
set udg_Guardian_Group=CreateGroup()
set udg_Guardian_Timer=0
set i=0
loop
exitwhen(i>1)
set udg_Player_Guardian_Boolean[i]=false
set i=i+1
endloop
set udg_Guardian_Integer=0
set i=0
loop
exitwhen(i>1)
set udg_DP_Index[i]=0
set i=i+1
endloop
set udg_DP_Index_Selected=false
set udg_DP_Dyn_Index=0
set i=0
loop
exitwhen(i>1)
set udg_DP_Index_Is_Empty[i]=false
set i=i+1
endloop
set udg_CG_Dyn_Index=0
set i=0
loop
exitwhen(i>1)
set udg_DP_Duration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_index[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_Boolean[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_Boolean2[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_Real[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_Real2[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_Timer[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_Timer2[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_Fallspeed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_Damage2[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_Range[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_FriendlyDamage[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_Group[i]=CreateGroup()
set i=i+1
endloop
set udg_AAAA_Temp_Player_Group=CreateForce()
set udg_FightEachotherBool=false
set udg_ABC_ChaosChance=0
set udg_ABC_ChaosCounter=0
set udg_ABC_FireRainChance=0
set i=0
loop
exitwhen(i>1)
set udg_TDA_Integer[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TDA_DamagePerSpike[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TDA_Interval[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TDA_NumberOfSpikesPerInterval2[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TDA_ImpaleDotDmg[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TDA_ImpaleDotDuration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TDA_Duration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TDA_IntervalCounter[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TDA_CurrentDurationExp[i]=0
set i=i+1
endloop
set udg_TDA_group=CreateGroup()
set udg_DOT1_DamagePerTick=0
set udg_DOT1_Duration=0
set udg_DOT1_EffectString=""
set udg_DOT1_EffectType=false
set udg_DOT1_TickTime=0
set udg_DOT1_attachpoint=""
set i=0
loop
exitwhen(i>1)
set udg_DOT1_Integer[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DOT2_DamagePerTick[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DOT2_Duration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DOT2_TickTime[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DOT2_DamageDone[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DOT2_MaxDamage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DOT2_TimeEater[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DOT2_EffectType[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DOT2_EffectString[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DOT2_attachpoint[i]=""
set i=i+1
endloop
set udg_ST_Ability=0
set udg_SQ_Chances=0
set udg_SQ_Ability=0
set udg_SQ_Percentages=0
set udg_HK_Strength=0
set udg_HK_BOOL=false
set i=0
loop
exitwhen(i>1)
set udg_AGI_Duration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_AGI_Damage[i]=0
set i=i+1
endloop
set udg_Sniper_Chance=0
set udg_General_Index=0
set udg_PirateChance = 6
set udg_PirateGroup=CreateGroup()
set udg_Hard_Mode=false
set udg_AAAAAA_TestingInt=0
set udg_MaxShipsInt=0
set udg_nnMode=false
set udg_ZZZ_count=0
set i=0
loop
exitwhen(i>1)
set udg_ZZZ_FireDelay[i]=0
set i=i+1
endloop
set udg_ZZZ_Units=CreateGroup()
set udg_ZZZ_loopIndex=0
set i=0
loop
exitwhen(i>1)
set udg_ZZZ_InUse[i]=false
set i=i+1
endloop
set udg_snd_PH1=""
set udg_trg_Flame_Breath=CreateTrigger()
set udg_trg_Flame_Breath_Loop=CreateTrigger()
set udg_trg_Flame_Breath_Stop=CreateTrigger()
set udg_trg_TestFatalErrors=CreateTrigger()
set udg_trg_Generic_Slam=CreateTrigger()
set udg_trg_Generic_Slam_Copy=CreateTrigger()
set udg_trg_Plated_Footman_Warstomp=CreateTrigger()
set udg_trg_Paladin_uu_warstomp=CreateTrigger()
set udg_trg_Icey_Explosion=CreateTrigger()
set udg_trg_Generic_War_Stomp=CreateTrigger()
set udg_trg_Display_stats=CreateTrigger()
set udg_trg_test=CreateTrigger()
set udg_trg_test_Copy=CreateTrigger()
set udg_trg_Trained_units_setup=CreateTrigger()
set udg_trg_Player_Points=CreateTrigger()
set udg_trg_CS_Setup=CreateTrigger()
set udg_trg_Add_HP=CreateTrigger()
set udg_trg_Add_Damage=CreateTrigger()
set udg_trg_Militia_Summoner=CreateTrigger()
set udg_trg_Ghoul_Summoner=CreateTrigger()
set udg_trg_Giant_Garg_Spell=CreateTrigger()
set udg_trg_Zombie_spawn_from_grave=CreateTrigger()
set udg_trg_Spider=CreateTrigger()
set udg_trg_Spider_evolve_1=CreateTrigger()
set udg_trg_Spider_evolve_2=CreateTrigger()
set udg_trg_Test_enable=CreateTrigger()
set udg_trg_Test_command=CreateTrigger()
set udg_trg_Test_command_Copy=CreateTrigger()
set udg_trg_goblin_sapper_auto_attack=CreateTrigger()
set udg_trg_Skip_to_Final_Battle=CreateTrigger()
set udg_trg_Stop_unit_dropping_item=CreateTrigger()
set udg_trg_lumber_spawn_in_top_left_tree_area=CreateTrigger()
set udg_trg_duel_rip=CreateTrigger()
set udg_trg_MAP_INIT_and_QUESTS=CreateTrigger()
set udg_trg_AAA_Dialogue_Part_0=CreateTrigger()
set udg_trg_MAP_INIT_2=CreateTrigger()
set udg_trg_map_init_2_cutting_map_2=CreateTrigger()
set udg_trg_Dialogue_pt2=CreateTrigger()
set udg_trg_Dialogue_pt3=CreateTrigger()
set udg_trg_Dialogue_pt4=CreateTrigger()
set udg_trg_Time_up_for_setting_settings=CreateTrigger()
set udg_trg_Game_settings=CreateTrigger()
set udg_trg_Game_settings_2=CreateTrigger()
set udg_trg_Game_settings_3=CreateTrigger()
set udg_trg_Game_settings_3_pt_2=CreateTrigger()
set udg_trg_Game_settings_5_NEW=CreateTrigger()
set udg_trg_Game_settings_3_give_gold=CreateTrigger()
set udg_trg_uu_merchants=CreateTrigger()
set udg_trg_Check_Leavers=CreateTrigger()
set udg_trg_Spawn_Tree=CreateTrigger()
set udg_trg_Tree_dies=CreateTrigger()
set udg_trg_Tree_dies_a=CreateTrigger()
set udg_trg_Bridge_Dies=CreateTrigger()
set udg_trg_Infernal_Partner=CreateTrigger()
set udg_trg_Infernal_Partner_Copy=CreateTrigger()
set udg_trg_Infernal_Partner_Copy_Copy=CreateTrigger()
set udg_trg_Naga_partner=CreateTrigger()
set udg_trg_Naga_partner_Copy=CreateTrigger()
set udg_trg_Remove_Selling_Unit=CreateTrigger()
set udg_trg_Remove_Selling_Unit_HERO_SHOP=CreateTrigger()
set udg_trg_Remove_Selling_Unit_HERO_SHOP_HUMAN=CreateTrigger()
set udg_trg_Prevent_AOE_from_orb_effects=CreateTrigger()
set udg_trg_Neutral_alliance=CreateTrigger()
set udg_trg_Undead_dies=CreateTrigger()
set udg_trg_Undead_dies_with_NeutralChance1=CreateTrigger()
set udg_trg_Undead_dies_with_NeutralChance2=CreateTrigger()
set udg_trg_Human_Dies=CreateTrigger()
set udg_trg_Human_Dies_with_NeutralChance1=CreateTrigger()
set udg_trg_Human_Dies_with_NeutralChance2=CreateTrigger()
set udg_trg_Neutral_hostile_team_setting=CreateTrigger()
set udg_trg_undead_becomes_neutral_EXTRA=CreateTrigger()
set udg_trg_undead_becomes_neutral_EXTRA_2=CreateTrigger()
set udg_trg_undead_becomes_neutral_HOSTILE=CreateTrigger()
set udg_trg_undead_becomes_neutral_nothing=CreateTrigger()
set udg_trg_humansundead_player_check=CreateTrigger()
set udg_trg_MS=CreateTrigger()
set udg_trg_Worker_Bounty=CreateTrigger()
set udg_trg_Missle_death=CreateTrigger()
set udg_trg_Kitapsycho=CreateTrigger()
set udg_trg_Disable_kita=CreateTrigger()
set udg_trg_Kill_last_human_command=CreateTrigger()
set udg_trg_prevent_double_uu=CreateTrigger()
set udg_trg_bridge_teleports=CreateTrigger()
set udg_trg_Bridge_Timer_1=CreateTrigger()
set udg_trg_bridge_teleports_Copy=CreateTrigger()
set udg_trg_bridge_teleports_Copy_Copy=CreateTrigger()
set udg_trg_Bridge_Timer_2=CreateTrigger()
set udg_trg_bridge_teleports_Copy_Copy_Copy=CreateTrigger()
set udg_trg_ultimate_farm_construction=CreateTrigger()
set udg_trg_simple_bounds_system=CreateTrigger()
set udg_trg_snowman_dies=CreateTrigger()
set udg_trg_portal_dies=CreateTrigger()
set udg_trg_portal_dies_Copy=CreateTrigger()
set udg_trg_portal_dies_Copy_Copy=CreateTrigger()
set udg_trg_Fountain_Dies=CreateTrigger()
set udg_trg_Fountain_Dies_Copy=CreateTrigger()
set udg_trg_Fountain_Dies_Copy_Copy=CreateTrigger()
set udg_trg_Pirate_Stash_Dies=CreateTrigger()
set udg_trg_Naga_Spawns=CreateTrigger()
set udg_trg_Gnoll_Spawn=CreateTrigger()
set udg_trg_Ice_Spawn=CreateTrigger()
set udg_trg_Pirate_Spawn=CreateTrigger()
set udg_trg_Research_upgrades=CreateTrigger()
set udg_trg_Pirate_Autoshoot=CreateTrigger()
set udg_trg_Pirate_Ship_Boundry=CreateTrigger()
set udg_trg_Ship_Tele_Item=CreateTrigger()
set udg_trg_Pirate_Tele_pt1=CreateTrigger()
set udg_trg_Pirate_Tele_Timer=CreateTrigger()
set udg_trg_Pirate_Tele_pt2=CreateTrigger()
set udg_trg_Pirate_Coin_Spell=CreateTrigger()
set udg_trg_Create3rdTeam=CreateTrigger()
set udg_trg_Satyr_Research_upgrades=CreateTrigger()
set udg_trg_Satyr_Spawn=CreateTrigger()
set udg_trg_Level_1=CreateTrigger()
set udg_trg_Pigs_lvl_1_spawn=CreateTrigger()
set udg_trg_Level_2=CreateTrigger()
set udg_trg_Pigs_lvl_2_spawn=CreateTrigger()
set udg_trg_Level_3=CreateTrigger()
set udg_trg_Level_3_Part_2=CreateTrigger()
set udg_trg_Pigs_lvl_3_spawn=CreateTrigger()
set udg_trg_Set_chances=CreateTrigger()
set udg_trg_Chaos_Event=CreateTrigger()
set udg_trg_Raining_Pigs=CreateTrigger()
set udg_trg_Rain_of_Fire_Event=CreateTrigger()
set udg_trg_Creature_Event=CreateTrigger()
set udg_trg_reset_trees=CreateTrigger()
set udg_trg_reset_trees_Copy=CreateTrigger()
set udg_trg_reset_trees_Copy_Copy=CreateTrigger()
set udg_trg_reset_trees_Copy_Copy_Copy=CreateTrigger()
set udg_trg_kiljaeden_event=CreateTrigger()
set udg_trg_kiljaeden_event_ends=CreateTrigger()
set udg_trg_AAA_Timer_FireGuy_Dies_Copy=CreateTrigger()
set udg_trg_AAA_Fire_Guy_Teleport_Copy=CreateTrigger()
set udg_trg_AAA_Fire_Guy_Bloodlust_Copy=CreateTrigger()
set udg_trg_AAA_Fire_Guy_FireBolt_Copy=CreateTrigger()
set udg_trg_Give_upgrade_to_player=CreateTrigger()
set udg_trg_seaweed_upgrade=CreateTrigger()
set udg_trg_iceclaw_upgrade=CreateTrigger()
set udg_trg_Evil_Spawn_Timer=CreateTrigger()
set udg_trg_Removing_Evil_Spawn_Timer=CreateTrigger()
set udg_trg_Spawn_Zombies_Gray=CreateTrigger()
set udg_trg_Spawn_Zombies_Light_Blue=CreateTrigger()
set udg_trg_Spawn_Zombies_Dark_Green=CreateTrigger()
set udg_trg_Spawn_Zombies_Brown=CreateTrigger()
set udg_trg_unbug=CreateTrigger()
set udg_trg_players_5_gold=CreateTrigger()
set udg_trg_Secret_Hero_2=CreateTrigger()
set udg_trg_Rocks_Remove_Timer=CreateTrigger()
set udg_trg_Removing_Rocks_and_timer=CreateTrigger()
set udg_trg_Tree_Remove_Timer=CreateTrigger()
set udg_trg_Removing_Trees_and_timer=CreateTrigger()
set udg_trg_Crates_Timer=CreateTrigger()
set udg_trg_Removing_Outer_Rocks=CreateTrigger()
set udg_trg_Removing_Crates=CreateTrigger()
set udg_trg_jump_boundry=CreateTrigger()
set udg_trg_Duel_Timer=CreateTrigger()
set udg_trg_Duel_Timer_Copy=CreateTrigger()
set udg_trg_Duel_Timer_Copy_Copy=CreateTrigger()
set udg_trg_Set_which_duel=CreateTrigger()
set udg_trg_Main_Map_Out_Of_Bounds=CreateTrigger()
set udg_trg_Event_area_out_of_bounds=CreateTrigger()
set udg_trg_Duel_Warning=CreateTrigger()
set udg_trg_Duel=CreateTrigger()
set udg_trg_Duel_Copy_2=CreateTrigger()
set udg_trg_Duel_Copy_3=CreateTrigger()
set udg_trg_Duel_Copy=CreateTrigger()
set udg_trg_Send_in_the_neutrals=CreateTrigger()
set udg_trg_LIGHT_TEAM=CreateTrigger()
set udg_trg_DARK_TEAM=CreateTrigger()
set udg_trg_Duel_condition_v2=CreateTrigger()
set udg_trg_Run_Game_resume=CreateTrigger()
set udg_trg_Game_resume=CreateTrigger()
set udg_trg_Duel_in_forest_area=CreateTrigger()
set udg_trg_Duel_in_forest_area_Copy=CreateTrigger()
set udg_trg_Duel_in_forest_area_Copy_Copy=CreateTrigger()
set udg_trg_LIGHT_TEAM_Copy=CreateTrigger()
set udg_trg_DARK_TEAM_Copy=CreateTrigger()
set udg_trg_Duel_condition_v2_Copy=CreateTrigger()
set udg_trg_Lives=CreateTrigger()
set udg_trg_Lives_Cop=CreateTrigger()
set udg_trg_Lives_Cop_neut_alliance_1a=CreateTrigger()
set udg_trg_Lives_Cop_neut_alliance_2=CreateTrigger()
set udg_trg_OLD_version=CreateTrigger()
set udg_trg_initiate_send_in_neuts=CreateTrigger()
set udg_trg_Lives_Copy_Copy=CreateTrigger()
set udg_trg_Lives_Copy_Copy_neut_alliance_1a=CreateTrigger()
set udg_trg_Lives_Copy_Copy_neut_alliance_2=CreateTrigger()
set udg_trg_initiate_send_in_neutrals=CreateTrigger()
set udg_trg_Gate_destroyed=CreateTrigger()
set udg_trg_Send_in_the_neutrals_2=CreateTrigger()
set udg_trg_Final_Battle_Timer=CreateTrigger()
set udg_trg_Final_Battle_Timer_Copy=CreateTrigger()
set udg_trg_Final_Battle_boundires=CreateTrigger()
set udg_trg_Final_Battle_boundires_Copy=CreateTrigger()
set udg_trg_Multiboard=CreateTrigger()
set udg_trg_Undead_dies_ELIM=CreateTrigger()
set udg_trg_Undead_dies_ELIM_FB=CreateTrigger()
set udg_trg_Human_dies_ELIM=CreateTrigger()
set udg_trg_Human_dies_ELIM_FB=CreateTrigger()
set udg_trg_Dead_area_time_limit=CreateTrigger()
set udg_trg_Dead_area_top_left=CreateTrigger()
set udg_trg_Dead_area_bot_left=CreateTrigger()
set udg_trg_Dead_area_bot_right=CreateTrigger()
set udg_trg_Dead_area_top_right_Copy=CreateTrigger()
set udg_trg_stop_tele_FB=CreateTrigger()
set udg_trg_turn_on_ar=CreateTrigger()
set udg_trg_restart_game=CreateTrigger()
set udg_trg_coins=CreateTrigger()
set udg_trg_Spawn_Golden_Chickens=CreateTrigger()
set udg_trg_Golden_Chicken=CreateTrigger()
set udg_trg_Enable_Bunny_Spawn=CreateTrigger()
set udg_trg_Spawn_Bunnies=CreateTrigger()
set udg_trg_Spawn_furbolgs_p=CreateTrigger()
set udg_trg_Spawn_Special_Bunny=CreateTrigger()
set udg_trg_Bunnies_stop_and_exp_on=CreateTrigger()
set udg_trg_auto_exp=CreateTrigger()
set udg_trg_Secret_Hero_3=CreateTrigger()
set udg_trg_Spawn_Giant_Rabbit=CreateTrigger()
set udg_trg_Bunny_Exp=CreateTrigger()
set udg_trg_Giant_Bunny_Exp=CreateTrigger()
set udg_trg_Bunny_Tome_Drop=CreateTrigger()
set udg_trg_Giant_Bunny_Tome_Drop=CreateTrigger()
set udg_trg_raccoon_smoner=CreateTrigger()
set udg_trg_pig_smoner=CreateTrigger()
set udg_trg_boots_tele=CreateTrigger()
set udg_trg_Venom_Orb=CreateTrigger()
set udg_trg_venom_orb_3=CreateTrigger()
set udg_trg_venom_orb_4=CreateTrigger()
set udg_trg_venom_orb_5=CreateTrigger()
set udg_trg_venom_orb_6=CreateTrigger()
set udg_trg_venom_orb_7=CreateTrigger()
set udg_trg_Steel_Sword=CreateTrigger()
set udg_trg_Mith_Sword=CreateTrigger()
set udg_trg_Moon_Spear=CreateTrigger()
set udg_trg_Advanced_Moon_armor=CreateTrigger()
set udg_trg_Crown_Of_Kings=CreateTrigger()
set udg_trg_Treads=CreateTrigger()
set udg_trg_Reinforced_Leather_armor=CreateTrigger()
set udg_trg_Dragonhide_armor=CreateTrigger()
set udg_trg_Moon_Armor=CreateTrigger()
set udg_trg_Boots_of_Super_Speed=CreateTrigger()
set udg_trg_Boots_of_Ultra_Speed=CreateTrigger()
set udg_trg_Chitinous_Blade=CreateTrigger()
set udg_trg_Razor_Blade=CreateTrigger()
set udg_trg_Chitinous_Scales=CreateTrigger()
set udg_trg_Razor_Scales=CreateTrigger()
set udg_trg_Ring_of_Health=CreateTrigger()
set udg_trg_Ring_of_int=CreateTrigger()
set udg_trg_Webs=CreateTrigger()
set udg_trg_baneful_force=CreateTrigger()
set udg_trg_Cloack_of_Flames_2=CreateTrigger()
set udg_trg_Cloack_of_Flames_3=CreateTrigger()
set udg_trg_ult_robe_magi=CreateTrigger()
set udg_trg_Moon_Claws=CreateTrigger()
set udg_trg_Totem_of_Speed=CreateTrigger()
set udg_trg_xebasic=CreateTrigger()
set udg_trg_xefx=CreateTrigger()
set udg_trg_xedamage=CreateTrigger()
set udg_trg_xepreload=CreateTrigger()
set udg_trg_Holy_Birds=CreateTrigger()
set udg_trg_DescrutibleTreeCheck=CreateTrigger()
set udg_trg_Builder_Lumber_Income_Every_Seccond=CreateTrigger()
set udg_trg_Builder_Lumber_Income_Every_Five_Secconds=CreateTrigger()
set udg_trg_Undead_Gold_Income=CreateTrigger()
set udg_trg_Movement=CreateTrigger()
set udg_trg_Drop_Dust=CreateTrigger()
set udg_trg_Spawn_Mana_Pool_Or_Middel_Shop=CreateTrigger()
set udg_trg_Activate_A_Random_Event=CreateTrigger()
set udg_trg_Dangerous_Water_Event=CreateTrigger()
set udg_trg_Dangerous_Water_Event_2=CreateTrigger()
set udg_trg_Creeps_invade_1=CreateTrigger()
set udg_trg_Massive_Rabbit_Event=CreateTrigger()
set udg_trg_Massive_Rabbit_Event_Copy=CreateTrigger()
set udg_trg_Massive_Rabbit_Event_Copy_Copy=CreateTrigger()
set udg_trg_Boot_Drop_Event=CreateTrigger()
set udg_trg_Evil_Vision_Event=CreateTrigger()
set udg_trg_Slow_Event=CreateTrigger()
set udg_trg_New_random_events=CreateTrigger()
set udg_trg_Penguin_Movement=CreateTrigger()
set udg_trg_Tortle_Spawn=CreateTrigger()
set udg_trg_reef_ele_Spawn=CreateTrigger()
set udg_trg_Reach_rest_point=CreateTrigger()
set udg_trg_Turn_on_events_2=CreateTrigger()
set udg_trg_Activate_A_Random_Event_Copy=CreateTrigger()
set udg_trg_Mutate_critter=CreateTrigger()
set udg_trg_Creep_attack_event=CreateTrigger()
set udg_trg_Boot_drop_event_2=CreateTrigger()
set udg_trg_Team_1_Win=CreateTrigger()
set udg_trg_Team_2_Win=CreateTrigger()
set udg_trg_neutral_revive=CreateTrigger()
set udg_trg_Open_close_gate_Copy_2=CreateTrigger()
set udg_trg_gnoll_creep_camp=CreateTrigger()
set udg_trg_gnoll_houses=CreateTrigger()
set udg_trg_Open_close_gate=CreateTrigger()
set udg_trg_Ice_creep_camp=CreateTrigger()
set udg_trg_Open_close_gate_Copy=CreateTrigger()
set udg_trg_drop_ultimate_upgrade_item=CreateTrigger()
set udg_trg_the_ultimate_upgrade_item=CreateTrigger()
set udg_trg_the_ultimate_upgrade_2=CreateTrigger()
set udg_trg_the_ultimate_upgrade_flying_units=CreateTrigger()
set udg_trg_Disable_Marine_Flying=CreateTrigger()
set udg_trg_Disable_undead_flying=CreateTrigger()
set udg_trg_remove_ultimate_upgrade_item=CreateTrigger()
set udg_trg_settings=CreateTrigger()
set udg_trg_settings_remove=CreateTrigger()
set udg_trg_Blight_Walk=CreateTrigger()
set udg_trg_Blight_skeletons=CreateTrigger()
set udg_trg_turn_on=CreateTrigger()
set udg_trg_building_summons=CreateTrigger()
set udg_trg_Attack_Order_Spell=CreateTrigger()
set udg_trg_Upgrade_Mercenary_Creeps=CreateTrigger()
set udg_trg_only_if_allied_to_naga=CreateTrigger()
set udg_trg_Murgul_Slave_Partner=CreateTrigger()
set udg_trg_Upgrade_Undead_Builder=CreateTrigger()
set udg_trg_Upgrade_Naga_with_items=CreateTrigger()
set udg_trg_Upgrade_Naga_without_items=CreateTrigger()
set udg_trg_Upgrade_Undead_Builder_T=CreateTrigger()
set udg_trg_Tuskarr_Commander=CreateTrigger()
set udg_trg_Spawn_Boss_and_set_variable=CreateTrigger()
set udg_trg_Boss_Drop=CreateTrigger()
set udg_trg_Sand_Slam=CreateTrigger()
set udg_trg_Desert_Ant_Cast=CreateTrigger()
set udg_trg_Desert_Ant_Core=CreateTrigger()
set udg_trg_DOT_Apply=CreateTrigger()
set udg_trg_GUI_DOT_System=CreateTrigger()
set udg_trg_Sand_Stomp=CreateTrigger()
set udg_trg_Sand_Quaker=CreateTrigger()
set udg_trg_Hyper_Knock=CreateTrigger()
set udg_trg_Knockback_Loop=CreateTrigger()
set udg_trg_Owner_pick_up_shield_only=CreateTrigger()
set udg_trg_Throw_Shield=CreateTrigger()
set udg_trg_Shield_Loop=CreateTrigger()
set udg_trg_Firebolt=CreateTrigger()
set udg_trg_Loop_Copy=CreateTrigger()
set udg_trg_Firebolt_death=CreateTrigger()
set udg_trg_snowball_Init=CreateTrigger()
set udg_trg_snowball_Loop=CreateTrigger()
set udg_trg_Protector_turn_on=CreateTrigger()
set udg_trg_Guardian_aura=CreateTrigger()
set udg_trg_Set_creep_rein_levels=CreateTrigger()
set udg_trg_Purchase_Creep=CreateTrigger()
set udg_trg_Creep_Reinforcements_Lvl1=CreateTrigger()
set udg_trg_Creep_Reinforcements_lvl2=CreateTrigger()
set udg_trg_Creep_Reinforcements_lvl3=CreateTrigger()
set udg_trg_Creep_Reinforcements_lvl4=CreateTrigger()
set udg_trg_Spawn_spell_shop=CreateTrigger()
set udg_trg_Spawn_spell_shop_2=CreateTrigger()
set udg_trg_level_up_FE_Plant=CreateTrigger()
set udg_trg_level_up_Rockfall=CreateTrigger()
set udg_trg_level_up_FE_Plant_Copy=CreateTrigger()
set udg_trg_Volcano_spell=CreateTrigger()
set udg_trg_Banish=CreateTrigger()
set udg_trg_READ_ME_and_CHANGELOG=CreateTrigger()
set udg_trg_Walk_of_Shadows_Cast=CreateTrigger()
set udg_trg_Walk_of_Shadows_Loop=CreateTrigger()
set udg_trg_Shadow_Drain_Cast=CreateTrigger()
set udg_trg_Shadow_Drain_Loop=CreateTrigger()
set udg_trg_Knowledge_of_Shadows=CreateTrigger()
set udg_trg_Add_Special_Effect_to_System=CreateTrigger()
set udg_trg_SpecialEffectSystemLoop=CreateTrigger()
set udg_trg_BS_Setings=CreateTrigger()
set udg_trg_BS_Loop=CreateTrigger()
set udg_trg_Night=CreateTrigger()
set udg_trg_Day=CreateTrigger()
set udg_trg_Add_Vampire=CreateTrigger()
set udg_trg_Blacksmith_upgrade=CreateTrigger()
set udg_trg_Blacksmith_upgrade_Copy=CreateTrigger()
set udg_trg_Healing_Salve=CreateTrigger()
set udg_trg_Healing_Potion=CreateTrigger()
set udg_trg_Healing_Potion_Copy=CreateTrigger()
set udg_trg_Healing_Potion_Copy_Copy=CreateTrigger()
set udg_trg_Mana_Potion=CreateTrigger()
set udg_trg_Mana_Potion_Copy=CreateTrigger()
set udg_trg_Dust=CreateTrigger()
set udg_trg_Invis=CreateTrigger()
set udg_trg_Invuln=CreateTrigger()
set udg_trg_Beetle=CreateTrigger()
set udg_trg_Beetle_unselectable=CreateTrigger()
set udg_trg_turn_on_grave_tele=CreateTrigger()
set udg_trg_Grave_teleport=CreateTrigger()
set udg_trg_turn_off_grave_tlee=CreateTrigger()
set udg_trg_Finger_of_Death=CreateTrigger()
set udg_trg_Thunder_Pika=CreateTrigger()
set udg_trg_Settings=CreateTrigger()
set udg_trg_Shadow_Burst_Cast=CreateTrigger()
set udg_trg_Shadow_Burst_Loop=CreateTrigger()
set udg_trg_DK_TAUNT=CreateTrigger()
set udg_trg_Sfx=CreateTrigger()
set udg_trg_Shattered_universe_init=CreateTrigger()
set udg_trg_Shattered_universe_loop=CreateTrigger()
set udg_trg_BlackHoleCast=CreateTrigger()
set udg_trg_BlackHoleMoveTarget=CreateTrigger()
set udg_trg_BlackHoleStop=CreateTrigger()
set udg_trg_FL_init=CreateTrigger()
set udg_trg_FL_loop=CreateTrigger()
set udg_trg_Cast_Charge=CreateTrigger()
set udg_trg_Projectile_Dash_by_Paladon=CreateTrigger()
set udg_trg_getFaded=CreateTrigger()
set udg_trg_callFading=CreateTrigger()
set udg_trg_QJS_Hash_Table=CreateTrigger()
set udg_trg_QJS_AttackDamageType=CreateTrigger()
set udg_trg_Arrow_Create=CreateTrigger()
set udg_trg_Arrow_Move=CreateTrigger()
set udg_trg_READ_ME=CreateTrigger()
set udg_trg_Example_4=CreateTrigger()
set udg_trg_Shadow_Side=CreateTrigger()
set udg_trg_PH_cast=CreateTrigger()
set udg_trg_PH_Loop=CreateTrigger()
set udg_trg_Priest_Heal=CreateTrigger()
set udg_trg_Paladin_Heal_Copy=CreateTrigger()
set udg_trg_Fury_Peak=CreateTrigger()
set udg_trg_Meat_Grinder_A=CreateTrigger()
set udg_trg_Meat_Grinder_B=CreateTrigger()
set udg_trg_Wind_Storm_A=CreateTrigger()
set udg_trg_Wind_Storm_B=CreateTrigger()
set udg_trg_Omnislash=CreateTrigger()
set udg_trg_Omnislash_Loop=CreateTrigger()
set udg_trg_Cast=CreateTrigger()
set udg_trg_Loop_v101=CreateTrigger()
set udg_trg_Throw_Bomb=CreateTrigger()
set udg_trg_Bomb_Timer=CreateTrigger()
set udg_trg_Bomb_Jump=CreateTrigger()
set udg_trg_TOT_Cast=CreateTrigger()
set udg_trg_TOT_Loop=CreateTrigger()
set udg_trg_TOT_Tree=CreateTrigger()
set udg_trg_Spell=CreateTrigger()
set udg_trg_Spell_Loop=CreateTrigger()
set udg_trg_Unit_Leak=CreateTrigger()
set udg_trg_How_to_import=CreateTrigger()
set udg_trg_Cutting_Edge=CreateTrigger()
set udg_trg_Cutting_Edge_Knock=CreateTrigger()
set udg_trg_Remove_Dummies=CreateTrigger()
set udg_trg_Telekinetic_Seizure_Setings=CreateTrigger()
set udg_trg_Telekinetic_Seizure_Loop=CreateTrigger()
set udg_trg_Ball_Lighting_Setings=CreateTrigger()
set udg_trg_Ball_Llighting_Loop=CreateTrigger()
set udg_trg_Fire_Ball_Setings=CreateTrigger()
set udg_trg_Fire_Ball_Loop=CreateTrigger()
set udg_trg_Shield_Bash_Setings=CreateTrigger()
set udg_trg_Shield_bash_Loop=CreateTrigger()
set udg_trg_Knockback_System=CreateTrigger()
set udg_trg_deceiver_slam=CreateTrigger()
set udg_trg_Zombie_summon=CreateTrigger()
set udg_trg_Zombie_Bloodlust=CreateTrigger()
set udg_trg_Zombie_Bloodlust_Copy=CreateTrigger()
set udg_trg_Zombie_apocalypse=CreateTrigger()
set udg_trg_Zombie_apocalypse_Copy=CreateTrigger()
set udg_trg_nuke=CreateTrigger()
set udg_trg_nuke_pt_2=CreateTrigger()
set udg_trg_summon_tree=CreateTrigger()
set udg_trg_summon_tree_Copy=CreateTrigger()
set udg_trg_Holy_Wrath=CreateTrigger()
set udg_trg_Smokescreen=CreateTrigger()
set udg_trg_Teleport=CreateTrigger()
set udg_trg_Rock_Fountain=CreateTrigger()
set udg_trg_Living_Rocks=CreateTrigger()
set udg_trg_Living_Rocks_pt2=CreateTrigger()
set udg_trg_Summon_Rocks=CreateTrigger()
set udg_trg_Summon_Rocks_Copy=CreateTrigger()
set udg_trg_Summon_Rocks_Copy_Copy=CreateTrigger()
set udg_trg_Summon_Rocks_Copy_Copy_Copy=CreateTrigger()
set udg_trg_Golem_Frenzy=CreateTrigger()
set udg_trg_Golem_Frenzy_Sound=CreateTrigger()
set udg_trg_Golem_Frenzy_Copy=CreateTrigger()
set udg_trg_Golem_Frenzy_Greater=CreateTrigger()
set udg_trg_Golem_Frenzy_Greater_Greater=CreateTrigger()
set udg_trg_Volcano=CreateTrigger()
set udg_trg_Volcano_pt2=CreateTrigger()
set udg_trg_Entangling_roots=CreateTrigger()
set udg_trg_Kaboom=CreateTrigger()
set udg_trg_Rocket_Seal=CreateTrigger()
set udg_trg_Rocket_Seal_Copy=CreateTrigger()
set udg_trg_Zombie_Sleep_Effect=CreateTrigger()
set udg_trg_Firelord_Attacks=CreateTrigger()
set udg_trg_Fire_minion=CreateTrigger()
set udg_trg_Mount_Horse=CreateTrigger()
set udg_trg_Mount_Horse_Copy=CreateTrigger()
set udg_trg_Warrior_Evolve = CreateTrigger()
set udg_trg_Horse_movement=CreateTrigger()
set udg_trg_Mount_hippogryph=CreateTrigger()
set udg_trg_Random_hippo_move=CreateTrigger()
set udg_trg_Flame_Sniper_2=CreateTrigger()
set udg_trg_Skele_Spell_Wraith=CreateTrigger()
set udg_trg_Skeleton_spell_wraith_pt2=CreateTrigger()
set udg_trg_Skeleton_spell_pt_2=CreateTrigger()
set udg_trg_Skele_Spell=CreateTrigger()
set udg_trg_Cast_A_Knockback=CreateTrigger()
set udg_trg_Get_Knockback=CreateTrigger()
set udg_trg_Tauren_Stomp=CreateTrigger()
set udg_trg_Tauren_Taunt=CreateTrigger()
set udg_trg_Tauren_Earthquake=CreateTrigger()
set udg_trg_Sample_Explosion_Spell=CreateTrigger()
set udg_trg_Sample_Meele_Knockback_Spell=CreateTrigger()
set udg_trg_GSkeleWarriorMETA=CreateTrigger()
set udg_trg_HydroJetCast=CreateTrigger()
set udg_trg_HydroJetWater=CreateTrigger()
set udg_trg_HydroJetDebug=CreateTrigger()
set udg_trg_SandStormCast=CreateTrigger()
set udg_trg_SandStormMovement=CreateTrigger()
set udg_trg_blizzard=CreateTrigger()
set udg_trg_blizzard_Copy=CreateTrigger()
set udg_trg_blizzard_Copy_Copy=CreateTrigger()
set udg_trg_Poison_Nova=CreateTrigger()
set udg_trg_Eggs=CreateTrigger()
set udg_trg_Eggs_Copy=CreateTrigger()
set udg_trg_Eggs_2=CreateTrigger()
set udg_trg_Eggs_Hatch_2=CreateTrigger()
set udg_trg_Greater_Eggs=CreateTrigger()
set udg_trg_Greater_Eggs_hatch=CreateTrigger()
set udg_trg_Taste_of_Death=CreateTrigger()
set udg_trg_Lightning_Strike=CreateTrigger()
set udg_trg_Lightning_Strike_Loop=CreateTrigger()
set udg_trg_Freezing_Spiral=CreateTrigger()
set udg_trg_Freezing_Spiral_Loop=CreateTrigger()
set udg_trg_Shadow_Walk=CreateTrigger()
set udg_trg_init=CreateTrigger()
set udg_trg_loop=CreateTrigger()
set udg_trg_OOW_Main=CreateTrigger()
set udg_trg_OOW_Dummies=CreateTrigger()
set udg_trg_OOW_Units=CreateTrigger()
set udg_trg_Elune_Arrow=CreateTrigger()
set udg_trg_Elune_Arrow_Move=CreateTrigger()
set udg_trg_Speed_Change=CreateTrigger()
set udg_trg_MoveSpeedXGUI=CreateTrigger()
set udg_trg_Agility=CreateTrigger()
set udg_trg_Agility_Loop=CreateTrigger()
set udg_trg_AIDS=CreateTrigger()
set udg_trg_KT=CreateTrigger()
set udg_trg_TimerUtils=CreateTrigger()
set udg_trg_KBS=CreateTrigger()
set udg_trg_Importing_Instructions=CreateTrigger()
set udg_trg_Credits=CreateTrigger()
set udg_trg_Surf=CreateTrigger()
set udg_trg_TimerUtils_OLD=CreateTrigger()
set udg_trg_Projectile=CreateTrigger()
set udg_trg_____Vector=CreateTrigger()
set udg_trg_____ProjectileArt=CreateTrigger()
set udg_trg_Jump_spell=CreateTrigger()
set udg_trg_Man_eating_plant=CreateTrigger()
set udg_trg_Fiery_Run=CreateTrigger()
set udg_trg_Time_Stop=CreateTrigger()
set udg_trg_GroupUtils=CreateTrigger()
set udg_trg_GroupUtils_Copy=CreateTrigger()
set udg_trg_PauseUtils=CreateTrigger()
set udg_trg_Secret_Hero_5=CreateTrigger()
set udg_trg_TimeStop_Jass=CreateTrigger()
set udg_trg_Timer32=CreateTrigger()
set udg_trg_Haunt=CreateTrigger()
set udg_trg_Dark_Plasma=CreateTrigger()
set udg_trg_DPloop=CreateTrigger()
set udg_trg_Death_Fall=CreateTrigger()
set udg_trg_Death_Fall_loop=CreateTrigger()
set udg_trg_Thunderwrath_Hashtable=CreateTrigger()
set udg_trg_Thunderwrath=CreateTrigger()
set udg_trg_Thunderwrath_Loop=CreateTrigger()
set udg_trg_Hash=CreateTrigger()
set udg_trg_Sheep_Cast=CreateTrigger()
set udg_trg_Sheep_Loop=CreateTrigger()
set udg_trg_Initial_Telekinesis_GUI=CreateTrigger()
set udg_trg_Telekinesis_GUI=CreateTrigger()
set udg_trg_Heroic_Leap_Cast=CreateTrigger()
set udg_trg_Heroic_Leap_Loop=CreateTrigger()
set udg_trg_heroic_leap_stomp=CreateTrigger()
set udg_trg_TOT_Cast_Copy=CreateTrigger()
set udg_trg_TOT_Loop_Copy=CreateTrigger()
set udg_trg_TOT_Remove=CreateTrigger()
set udg_trg_TOS_Cast=CreateTrigger()
set udg_trg_TOS_Loop=CreateTrigger()
set udg_trg_TOS_Skeletons=CreateTrigger()
set udg_trg_Pyro_Jump_On=CreateTrigger()
set udg_trg_Pyro_Jump_Loop=CreateTrigger()
set udg_trg_Insanity=CreateTrigger()
set udg_trg_Dies=CreateTrigger()
set udg_trg_Dies_Copy=CreateTrigger()
set udg_trg_Secret_Hero_4=CreateTrigger()
set udg_trg_Rockfall_INI=CreateTrigger()
set udg_trg_Rock_Creation=CreateTrigger()
set udg_trg_callFadeEffect=CreateTrigger()
set udg_trg_Sine_Fall_and_Damage=CreateTrigger()
set udg_trg_Apply_Splitts=CreateTrigger()
set udg_trg_Move_Splitts=CreateTrigger()
set udg_trg_VO_Start=CreateTrigger()
set udg_trg_VO_Loop=CreateTrigger()
set udg_trg_TS_Start=CreateTrigger()
set udg_trg_TS_Loop=CreateTrigger()
set udg_trg_Jump_System_1=CreateTrigger()
set udg_trg_Jump_System_2=CreateTrigger()
set udg_trg_Actions_to_apply=CreateTrigger()
set udg_trg_Sample_Spell_Jump=CreateTrigger()
set udg_trg_Sample_Spell_Jump_JASS_REDO=CreateTrigger()
set udg_trg_Sample_Spell_Jump_2=CreateTrigger()
set udg_trg_Sample_Spell_Super_Jump=CreateTrigger()
set udg_trg_Sample_Spell_Shockwave_Jump=CreateTrigger()
set udg_trg_Add_On_To_Above_Ability=CreateTrigger()
set udg_trg_Dark_Ranger_Enters=CreateTrigger()
set udg_trg_Passive_Death_Coil=CreateTrigger()
set udg_trg_Game_settings_6_NEW=CreateTrigger()
set i=0
loop
exitwhen(i>1)
set udg_HolyBirds___DURATION[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_HolyBirds___DAMAGE[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_HolyBirds___HEAL[i]=0
set i=i+1
endloop
set udg_Plant__BirthStartRange=50
set udg_Plant__DefaultSinusHeight=75
set udg_Plant__BirthAnimationSpeed=2.25
set udg_Plant__TendrilTargetHeight=24
set udg_Plant__PlantHeight=0
set udg_Plant__PlantSize=1.80
set udg_Plant__TendrilSizeReduction=0.06
set udg_Plant__TendrilSize=1.4
set udg_Plant__DefaultMovementSpeed=0.08
set udg_Plant__DefaultMovementAmplitude=18
set udg_Plant__TendrilStartHeight=12.00
set udg_Plant__TendrilDefaultHeightGround=125
set udg_Plant__TendrilDefaultHeight=280
set udg_Plant__OffsetAngle=0.00
set udg_Plant__PlantDummyEffect="Doodads\\\\Outland\\\\Plants\\\\Outland_Plant\\\\Outland_Plant7.mdl"
set udg_Plant__PlantDummyEffect2="Abilities\\\\Spells\\\\NightElf\\\\EntanglingRoots\\\\EntanglingRootsTarget.mdl"
set udg_Plant__TendrilDummyEffect="Doodads\\\\Ruins\\\\Plants\\\\Ruins_Flower\\\\Ruins_Flower0.mdl"
set udg_Plant__TendrilEffect="Abilities\\\\Weapons\\\\AncientProtectorMissile\\\\AncientProtectorMissile.mdl"
set udg_Plant__TendrilPartsNumber=16
set udg_Plant__PullRange=60.00
set udg_Plant__TendrilLength=800.00
set udg_Plant__TendrilBendLenght=30
set udg_Plant__TendrilSpeed=14
set udg_Plant__TendrilDefaultPosition=0.24
set udg_Plant__HeroAbility='A03N'
set udg_Plant__DummyID='h01P'
set udg_Plant__PlantSkill='A03P'
set udg_Plant__PlantSkill2='A03O'
set udg_Plant__TimerPeriod=0.04
set udg_Plant__CreatePlant=true
set udg_Plant__tt=CreateTimer()
set udg_Plant__PulledUnits=CreateGroup()
set udg_Plant__g=CreateGroup()
set udg_FireRun__t=CreateTimer()
set udg_TimeStop__BugfixTrigger=CreateTrigger()
set udg_TimeStop__ReferanceCounter=0
set udg_Haunt__HauntG=CreateGroup()
set udg_Haunt__t=CreateTimer()
set udg_l__library_init2=CreateTrigger()
set udg_si__KBS__Data_F=0
set udg_si__KBS__Data_I=0
set i=0
loop
exitwhen(i>1)
set udg_si__KBS__Data_V[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__KBS__Data_speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__KBS__Data_decrease[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__KBS__Data_sin[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__KBS__Data_cos[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__KBS__Data_radius[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__KBS__Data_sfxmode[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__KBS__Data_custom[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__KBS__Data_allowmove[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__KBS__Data_pathing[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__KBS__Data_forcestop[i]=false
set i=i+1
endloop
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_MoveSpeedXGUI__M__ic=0
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_MoveSpeedXGUI__M__ir=0
set i=0
loop
exitwhen(i>1)
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_next[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_prev[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_x[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_y[i]=0
set i=i+1
endloop
set udg_si__xedamage_F=0
set udg_si__xedamage_I=0
set i=0
loop
exitwhen(i>1)
set udg_si__xedamage_V[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_damageSelf[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_damageAllies[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_damageEnemies[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_damageNeutral[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_ranged[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_visibleOnly[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_deadOnly[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_alsoDead[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_damageTrees[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_tag[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_forceDamage[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_allyfactor[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_use_ex[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_use_req[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_fct[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s___xedamage_fc[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_fc[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_fcn[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s___xedamage_abifct[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_abifct[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s___xedamage_abifc[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_abifc[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_abifcn[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_usefx[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_fxpath[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_fxattach[i]=""
set i=i+1
endloop
set udg_s__xedamage_CurrentDamageTag=0
set udg_s__xedamage_inUse=0
set udg_s__xedamage_instance=0
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_countAOE[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_AOEx[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_AOEy[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_AOEradius[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xedamage_AOEdamage[i]=0
set i=i+1
endloop
set udg_s__xedamage_enumgroup=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_s__xefx___recyclebin_schedule[i]=0
set i=i+1
endloop
set udg_s__xefx___recyclebin_end=0
set udg_s__xefx___recyclebin_begin=0
set udg_si__xefx_F=0
set udg_si__xefx_I=0
set i=0
loop
exitwhen(i>1)
set udg_si__xefx_V[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xefx_tag[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xefx_zang[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xefx_r[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xefx_g[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xefx_b[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xefx_a[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__xefx_abil[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set i=i+1
endloop
set udg_si__HolyBirds___spelldata_F=0
set udg_si__HolyBirds___spelldata_I=0
set i=0
loop
exitwhen(i>1)
set udg_si__HolyBirds___spelldata_V[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s___HolyBirds___spelldata_targets[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__HolyBirds___spelldata_targets[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s___HolyBirds___spelldata_missile[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__HolyBirds___spelldata_missile[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__HolyBirds___spelldata_duration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__HolyBirds___spelldata_lvl[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__HolyBirds___spelldata_t[i]=CreateTimer()
set i=i+1
endloop
set udg_s__HolyBirds___spelldata_group=CreateGroup()
set udg_s__HolyBirds___spelldata_dmg=0
set udg_si__SurfS__Surf_F=0
set udg_si__SurfS__Surf_I=0
set i=0
loop
exitwhen(i>1)
set udg_si__SurfS__Surf_V[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__SurfS__Surf_x[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__SurfS__Surf_y[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__SurfS__Surf_dur[i]=0
set i=i+1
endloop
set udg_si__Tendril_F=0
set udg_si__Tendril_I=0
set i=0
loop
exitwhen(i>1)
set udg_si__Tendril_V[i]=0
set i=i+1
endloop
set udg_s__Tendril_Index=0
set i=0
loop
exitwhen(i>1)
set udg_s__Tendril_Data[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Tendril_base[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Tendril_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Tendril_angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Tendril_Phase[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Tendril_ExecutionsLeft[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Tendril_rem[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Tendril_DefaultMovement[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Tendril_TendrilPart[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Tendril_TendrilModel[i]=0
set i=i+1
endloop
set udg_si__F_F=0
set udg_si__F_I=0
set i=0
loop
exitwhen(i>1)
set udg_si__F_V[i]=0
set i=i+1
endloop
set udg_s__F_Index=0
set i=0
loop
exitwhen(i>1)
set udg_s__F_Data[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__F_in[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__F_dur[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__F_lx[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__F_ly[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__F_level[i]=0
set i=i+1
endloop
set udg_si__Haunt__HauntSReturn_F=0
set udg_si__Haunt__HauntSReturn_I=0
set i=0
loop
exitwhen(i>1)
set udg_si__Haunt__HauntSReturn_V[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Haunt__HauntSReturn_damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Haunt__HauntSReturn_mD[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Haunt__HauntSReturn_speedMultiplier[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Haunt__HauntSReturn_T32x__next[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Haunt__HauntSReturn_T32x__prev[i]=0
set i=i+1
endloop
set udg_si__Haunt__HauntSGmove_F=0
set udg_si__Haunt__HauntSGmove_I=0
set i=0
loop
exitwhen(i>1)
set udg_si__Haunt__HauntSGmove_V[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Haunt__HauntSGmove_mD[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Haunt__HauntSGmove_SCount[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Haunt__HauntSGmove_T32x__next[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Haunt__HauntSGmove_T32x__prev[i]=0
set i=i+1
endloop
set udg_si__Haunt__HauntS_F=0
set udg_si__Haunt__HauntS_I=0
set i=0
loop
exitwhen(i>1)
set udg_si__Haunt__HauntS_V[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Haunt__HauntS_x[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Haunt__HauntS_y[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Haunt__HauntS_dum[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Haunt__HauntS_sfx[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Haunt__HauntS_DURATIONx[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Haunt__HauntS_ENUMERATE[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s___Haunt__HauntS_b[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Haunt__HauntS_b[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Haunt__HauntS_T32x__next[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__Haunt__HauntS_T32x__prev[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__TimerUtils__data[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_s__TimerUtils__tT[i]=CreateTimer()
set i=i+1
endloop
set udg_st__KBS__Data_onDestroy=CreateTrigger()
set udg_st__xefx_onDestroy=CreateTrigger()
set udg_st__HolyBirds___spelldata_onDestroy=CreateTrigger()
set udg_st__HolyBirds___spelldata_periodic=CreateTrigger()
set udg_st__F_move=CreateTrigger()
set udg_st__Haunt__HauntSReturn_onDestroy=CreateTrigger()
set udg_st__Haunt__HauntSReturn_stopPeriodic=CreateTrigger()
set udg_st__Haunt__HauntSGmove_onDestroy=CreateTrigger()
set udg_st__Haunt__HauntSGmove_stopPeriodic=CreateTrigger()
set udg_st__Haunt__HauntS_onDestroy=CreateTrigger()
set udg_st__Haunt__HauntS_stopPeriodic=CreateTrigger()
set i=0
loop
exitwhen(i>1)
set udg_st___prototype1000[i]=CreateTrigger()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_st___prototype11[i]=CreateTrigger()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_st___prototype13[i]=CreateTrigger()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_st___prototype10008[i]=CreateTrigger()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_st___prototype41[i]=CreateTrigger()
set i=i+1
endloop
set udg_f__arg_trigger1=CreateTrigger()
set udg_f__arg_integer1=0
set udg_f__arg_real1=0
set udg_f__arg_real2=0
set udg_f__arg_real3=0
set udg_f__arg_this=0
set i=0
loop
exitwhen(i>1)
set udg_w7g[i]=CreateTrigger()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_W7G[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>8)
set udg_secrethero_active[i]=null
set i=i+1
endloop
endfunction
function Doodad001040_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if(trigWidget==null)then
set trigUnit=GetTriggerUnit()
endif
if(trigUnit!=null)then
set canDrop=not IsUnitHidden(trigUnit)
if(canDrop and GetChangingUnit()!=null)then
set canDrop=(GetChangingUnitPrevOwner()==Neutral_Satyrs)
endif
endif
if(canDrop)then
call RandomDistReset()
call RandomDistAddItem('manh',100)
set itemID=RandomDistChoose()
if(trigUnit!=null)then
call UnitDropItem(trigUnit,itemID)
else
call WidgetDropItem(trigWidget,itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Doodad001054_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if(trigWidget==null)then
set trigUnit=GetTriggerUnit()
endif
if(trigUnit!=null)then
set canDrop=not IsUnitHidden(trigUnit)
if(canDrop and GetChangingUnit()!=null)then
set canDrop=(GetChangingUnitPrevOwner()==Neutral_Satyrs)
endif
endif
if(canDrop)then
call RandomDistReset()
call RandomDistAddItem('bspd',33)
call RandomDistAddItem('manh',33)
call RandomDistAddItem('manh',34)
set itemID=RandomDistChoose()
if(trigUnit!=null)then
call UnitDropItem(trigUnit,itemID)
else
call WidgetDropItem(trigWidget,itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function CreateAllDestructables takes nothing returns nothing
local destructable d
local trigger t
local real life
set gg_dest_ATg1_0502=CreateDestructable('ATg1',1408.0,-4224.0,270.000,0.900,0)
set gg_dest_ATg1_0915=CreateDestructable('ATg1',320.0,4160.0,270.000,0.900,0)
set gg_dest_ATg3_1010=CreateDestructable('ATg3',-4032.0,2368.0,0.000,0.900,0)
set d=CreateDestructable('LTcr',128.0,-5376.0,325.000,1.055,1)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function Doodad001040_DropItems)
set d=CreateDestructable('LTcr',192.0,-5824.0,350.000,0.977,0)
set t=CreateTrigger()
call TriggerRegisterDeathEvent(t,d)
call TriggerAddAction(t,function SaveDyingWidget)
call TriggerAddAction(t,function Doodad001054_DropItems)
set gg_dest_LTg1_0913=CreateDestructable('LTg1',-3712.0,-4736.0,270.000,0.900,0)
set gg_dest_LTg3_4382=CreateDestructable('LTg3',-3264.0,8960.0,0.000,0.900,0)
set gg_dest_LTlt_0017=CreateDestructable('LTlt',-960.0,-640.0,270.000,1.055,1)
set gg_dest_LTlt_0009=CreateDestructable('LTlt',64.0,-1600.0,270.000,1.135,8)
set gg_dest_LTlt_0001=CreateDestructable('LTlt',1024.0,-576.0,270.000,0.894,1)
set gg_dest_LTlt_0008=CreateDestructable('LTlt',192.0,-1600.0,270.000,1.130,8)
set gg_dest_LTlt_0002=CreateDestructable('LTlt',1024.0,-704.0,270.000,0.920,0)
set gg_dest_LTlt_0086=CreateDestructable('LTlt',64.0,448.0,270.000,1.086,7)
set gg_dest_LTlt_0085=CreateDestructable('LTlt',128.0,320.0,270.000,1.126,3)
set gg_dest_OTsp_0549=CreateDestructable('OTsp',3264.0,-5568.0,90.000,1.000,0)
set gg_dest_OTsp_0914=CreateDestructable('OTsp',-2176.0,-5760.0,90.000,1.000,0)
set gg_dest_OTsp_1007=CreateDestructable('OTsp',4160.0,5376.0,52.000,1.000,0)
set gg_dest_YT16_0650=CreateDestructable('YT16',6688.0,-192.0,0.000,1.000,0)
set gg_dest_YT18_0310=CreateDestructable('YT18',-64.0,3168.0,0.000,1.000,0)
set gg_dest_YT19_3788=CreateDestructable('YT19',-5312.0,3648.0,0.000,1.000,0)
set gg_dest_YT40_4243=CreateDestructable('YT40',-7136.0,-3968.0,0.000,1.000,0)
call CreateDestructable('OTsp',4029,-533,0,1,0)
endfunction
function CreateRegions takes nothing returns nothing
local weathereffect we
set gg_rct_Bridge_Pirates=Rect(-5760.0,3232.0,-5536.0,3456.0)
set gg_rct_Bridge_Pirates_2=Rect(-5088.0,3872.0,-4864.0,4096.0)
set gg_rct_Bridge_Nagas=Rect(-192.0,3552.0,0.0,3680.0)
set gg_rct_Bridge_Nagas_2=Rect(-160.0,2720.0,32.0,2944.0)
set gg_rct_Rocks_Mid_Left=Rect(-2400.0,-768.0,-2048.0,-224.0)
set gg_rct_All_Map_Exclude_Out_OF_bounds_1=Rect(-7552.0,-4192.0,4192.0,4096.0)
set gg_rct_Main_Map=Rect(-7904.0,-6176.0,4416.0,6464.0)
endfunction
function DMSG takes string s returns nothing
call Print(s)
endfunction
function InitTrig_____________________________________002 takes nothing returns nothing
call PreloadGenStart()
endfunction
function RegisterDestDeathInRegionEnumEx takes nothing returns nothing
    call TriggerRegisterDeathEvent(bj_destInRegionDiesTrig, GetEnumDestructable())
endfunction

function DestDropBonus_Conditions_DestType takes nothing returns boolean
    if(GetDestructableTypeId(GetTriggerDestructable())=='LTbr') then
        return true
    endif
    if(GetDestructableTypeId(GetTriggerDestructable())=='LTbx') then
        return true
    endif
    if(GetDestructableTypeId(GetTriggerDestructable())=='LTbs') then
        return true
    endif
    if(GetDestructableTypeId(GetTriggerDestructable())=='LOcg') then
        return true
    endif
    if(GetDestructableTypeId(GetTriggerDestructable())=='LTbr') then
        return true
    endif
    if(GetDestructableTypeId(GetTriggerDestructable())=='LTcr') then
        return true
    endif
    return false
endfunction

function Unres_Conditions_DestType takes nothing returns boolean
    if(GetDestructableTypeId(GetTriggerDestructable())=='LTba') then
        return true
    endif
    if(GetDestructableTypeId(GetTriggerDestructable())=='LTrc') then
        return true
    endif
    return DestDropBonus_Conditions_DestType()
endfunction
//===========================================================================
function TriggerRegisterDestDeathInRegionEventEx takes trigger trig, rect r returns nothing
    set bj_destInRegionDiesTrig = trig
    call EnumDestructablesInRect(r, null, function RegisterDestDeathInRegionEnumEx)
endfunction
function TriggerRegisterDestDeathInRegionEventDestDrop takes trigger trig, rect r returns nothing
    set bj_destInRegionDiesTrig = trig
    call EnumDestructablesInRect(r, function DestDropBonus_Conditions_DestType, function RegisterDestDeathInRegionEnumEx)
endfunction
function DestDropBonus_Conditions takes nothing returns boolean
    if(GetRandomInt(0,7)>1) then
        return false
    endif
    return DestDropBonus_Conditions_DestType()
endfunction
function DestDropBonus_Actions takes nothing returns nothing
    call PlaceRandomItem(DestDrop,GetWidgetX(GetTriggerDestructable()),GetWidgetY(GetTriggerDestructable()))
endfunction
function InitTrig_DestDropBonus takes nothing returns nothing
    set trg_DestDropBonus = CreateTrigger()
    set DestDrop = CreateItemPool()
    call ItemPoolAddItemType(DestDrop,'I008',2)
    call ItemPoolAddItemType(DestDrop,'I027',2)
    call ItemPoolAddItemType(DestDrop,'stel',2)
    call ItemPoolAddItemType(DestDrop,'I004',2)
    call ItemPoolAddItemType(DestDrop,'gold',0.5)
    call ItemPoolAddItemType(DestDrop,'I009',0.5)
    call ItemPoolAddItemType(DestDrop,'I00G',0.5)
    call ItemPoolAddItemType(DestDrop,'ciri',2)
    call ItemPoolAddItemType(DestDrop,'dI04',0.1)
    call ItemPoolAddItemType(DestDrop,'dI02',0.1)
    call ItemPoolAddItemType(DestDrop,'I022',0.01)
    call TriggerRegisterDestDeathInRegionEventEx(trg_DestDropBonus,GetPlayableMapRect())
    call TriggerAddAction(trg_DestDropBonus,function DestDropBonus_Actions)
    call TriggerAddCondition(trg_DestDropBonus,function DestDropBonus_Conditions)
endfunction
function RemoveItemTimed takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local item i = LoadItemHandle(timerdata,GetHandleId(t),0)
    call SetWidgetLife(i,1)
    call RemoveItem(i)
    call FlushChildHashtable(timerdata,GetHandleId(t))
    call DestroyTimer(t)
    set t = null
    set i = null
endfunction
function Trig_Rune_Remover_Actions takes nothing returns nothing
local item i0 = GetManipulatedItem()
local unit u = GetManipulatingUnit()
local timer t
if(GetItemType(i0)==ITEM_TYPE_POWERUP) then
    set t = CreateTimer()
    call SaveItemHandle(timerdata,GetHandleId(t),0,i0)
    call TimerStart(t,0.1,false,function RemoveItemTimed)
    set t = null
else
call SetItemPosition(i0,6656.0,-5408.0)
call DisableTrigger(gg_trg_Rune_Remover)
call UnitAddItem(u,i0)
call EnableTrigger(gg_trg_Rune_Remover)
endif
set i0 = null
set u = null
endfunction
function InitTrig_Rune_Remover takes nothing returns nothing
set gg_trg_Rune_Remover=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Rune_Remover,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_Rune_Remover,function Trig_Rune_Remover_Actions)
endfunction
function Trig_BookBonusRegister_Actions takes nothing returns nothing
if(GetItemTypeId(GetManipulatedItem())=='manh')then
set damageBonuses[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=damageBonuses[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+2
set HPBonuses[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=HPBonuses[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+35
elseif(GetItemTypeId(GetManipulatedItem())=='I020')then
set damageBonuses[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=damageBonuses[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+12
set HPBonuses[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=HPBonuses[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+200
endif
endfunction
function Trig_Refreshing_rune_Conditions takes nothing returns boolean
if(GetItemTypeId(GetManipulatedItem())=='dI05') then
return true
endif
return false
endfunction
function Trig_Refreshing_rune_Actions takes nothing returns nothing
call UnitResetCooldown(GetTriggerUnit())
call RemoveItem(GetManipulatedItem())
endfunction
function InitTrig_Refreshing_rune takes nothing returns nothing
set udg_trg_Refreshing_rune=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Refreshing_rune,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Refreshing_rune,Condition(function Trig_Refreshing_rune_Conditions))
call TriggerAddAction(udg_trg_Refreshing_rune,function Trig_Refreshing_rune_Actions)
endfunction
function Trig_Spawnpoint_Rune_Conditions takes nothing returns boolean
if(GetItemTypeId(GetManipulatedItem())=='dI06') then
return true
endif
return false
endfunction
function Trig_Spawnpoint_Rune_Actions takes nothing returns nothing
    local location loc
    local integer id = GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
    if(GetTriggerUnit()==null) then
        return
    endif
    set loc = ResurrectionLocations[id]
    if(loc!=null) then
        call RemoveLocation(loc)
        set loc = null
    endif
    set ResurrectionLocations[id] = GetUnitLoc(GetTriggerUnit())
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl",GetTriggerUnit(),"origin"))
    call RemoveItem(GetManipulatedItem())
endfunction
function InitTrig_Spawnpoint_Rune takes nothing returns nothing
set udg_trg_Spawnpoint_Rune=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Spawnpoint_Rune,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Spawnpoint_Rune,Condition(function Trig_Spawnpoint_Rune_Conditions))
call TriggerAddAction(udg_trg_Spawnpoint_Rune,function Trig_Spawnpoint_Rune_Actions)
endfunction
function Trig_Spawnpoint_Rune_reset_Conditions takes nothing returns boolean
if(GetItemTypeId(GetManipulatedItem())=='dI07') then
return true
endif
return false
endfunction
function Trig_Spawnpoint_Rune_reset_Actions takes nothing returns nothing
    local integer id = GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
    local location loc
    if(GetTriggerUnit()==null) then
        return
    endif
    set loc = ResurrectionLocations[id]
    if(loc!=null) then
        call RemoveLocation(loc)
        set loc = null
    endif
    set ResurrectionLocations[id] = null
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",GetTriggerUnit(),"origin"))
    call RemoveItem(GetManipulatedItem())
endfunction
function InitTrig_Spawnpoint_Rune_reset takes nothing returns nothing
set udg_trg_Spawnpoint_Rune_reset=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Spawnpoint_Rune_reset,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Spawnpoint_Rune_reset,Condition(function Trig_Spawnpoint_Rune_reset_Conditions))
call TriggerAddAction(udg_trg_Spawnpoint_Rune_reset,function Trig_Spawnpoint_Rune_reset_Actions)
endfunction
function InitTrig_BookBonusRegister takes nothing returns nothing
set gg_trg_BookBonusRegister=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_BookBonusRegister,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg_BookBonusRegister,function Trig_BookBonusRegister_Actions)
endfunction
function Trig_Cam_Actions takes nothing returns nothing
endfunction
function Trig_Cam_Conditions takes nothing returns boolean
if(SubString(GetEventPlayerChatString(),0,3)=="-cam")then
return true
endif
return false
endfunction
function InitTrig_Cam takes nothing returns nothing
local integer idx=0
set gg_trg_Cam=CreateTrigger()
loop
call TriggerRegisterPlayerEvent(gg_trg_Cam,Player(idx),EVENT_PLAYER_CHAT)
set idx=idx+1
exitwhen idx>11
endloop
call TriggerAddCondition(gg_trg_Cam,Condition(function Trig_Cam_Conditions))
endfunction
function GetCommandString takes nothing returns string
return HCLcommand
endfunction
function InitHCL takes nothing returns nothing
local integer i
local integer j
local integer h
local integer v
local string chars="abcdefghijklmnopqrstuvwxyz0123456789 -=,."
local integer array map
local boolean array blocked
set blocked[0]=true
set blocked[50]=true
set blocked[60]=true
set blocked[70]=true
set blocked[80]=true
set blocked[90]=true
set blocked[100]=true
set i=0
set j=0
loop
if blocked[j]then
set j=j+1
endif
exitwhen j>=256
set map[j]=i
set i=i+1
set j=j+1
endloop
set i=0
loop
exitwhen i>=12
set h=R2I(100*GetPlayerHandicap(Player(i))+0.5)
if not blocked[h]then
set h=map[h]
set v=h/ 6
set h=h-v*6
call SetPlayerHandicap(Player(i),1.)
set HCLcommand=HCLcommand+SubString(chars,v,v+1)
endif
set i=i+1
endloop
endfunction
function SetThunderboltData takes unit u,integer aid,real Dur1,real HeroDur1,real DataA1 returns nothing
local integer pAbil=GetUnitAbility(u,aid)
local integer plvldata
local integer lvl1data
if(pAbil>0)then
set plvldata=ReadRealMemory(pAbil+0x54)
if(plvldata>0)then
set lvl1data=ReadRealMemory(plvldata+0x54)
if(lvl1data>0)then
call WriteRealMemory(lvl1data+0x8,SetRealIntoMemory(Dur1))
call WriteRealMemory(lvl1data+0xC,SetRealIntoMemory(HeroDur1))
call WriteRealMemory(lvl1data+0x20,SetRealIntoMemory(DataA1))
endif
endif
endif
endfunction
function GetEquivalentDamageSource takes unit u returns unit
return u
endfunction
function GetEquivalentKiller takes unit u returns unit
return u
endfunction
function isDumy takes unit u returns boolean
return false
endfunction
function CreateDumy takes player p,real x,real y returns unit
return CreateUnit(p,dumytype,x,y,0)
endfunction
function DisableAnyDmgReturnTriggers takes nothing returns nothing
call DisableTrigger(gg_trg_revenge)
endfunction
function EnableAnyDmgReturnTriggers takes nothing returns nothing
call EnableTrigger(gg_trg_revenge)
endfunction
function Trig_Untitled_Trigger_001_Condition takes nothing returns boolean
local unit atacked=GetTriggerUnit()
local unit atacker=GetEventDamageSource()
local unit dumy
local integer lvl=GetUnitAbilityLevel(atacked,revengeid)
if(not isDumy(atacker)and atacked!=null and atacker!=null and lvl>0 and (not IsUnitType(atacker,UNIT_TYPE_HERO) and (GetEventDamage()>0.4)) or (GetEventDamage()>GetRandomReal(0,50)))then
set dumy=CreateDumy(GetOwningPlayer(atacked),GetUnitX(atacked),GetUnitY(atacked))
call UnitAddAbility(dumy,RevengeThunderbolt)
call SetUnitAbilityLevel(dumy,RevengeThunderbolt,GetUnitAbilityLevel(atacked,revengeid))
call SetThunderboltData(dumy,RevengeThunderbolt,lvl*0.05,lvl*0.05,lvl*5+GetHeroStr(atacked,true)*0.3)
call UnitApplyTimedLife(dumy,'BTLF',2)
call IssueTargetOrder(dumy,"thunderbolt",atacker)
endif
set atacked=null
set atacker=null
set dumy=null
return false
endfunction
function StunTimed takes unit u, real duration returns nothing
    local unit dumy
    set dumy=CreateDumy(GetOwningPlayer(u),GetUnitX(u),GetUnitY(u))
    call UnitAddAbility(dumy,DummyThunderbolt)
    call SetThunderboltData(dumy,DummyThunderbolt,duration,duration,0)
    call IssueTargetOrder(dumy,"thunderbolt",u)
    call UnitApplyTimedLife(dumy,'BTLF',0)
    set dumy=null
endfunction
function AddStunWithData takes unit u, real duration returns nothing
    call UnitAddAbility(u,DummyThunderbolt)
    call SetThunderboltData(u,DummyThunderbolt,duration,duration,0)
    //call BJDebugMsg("added thunderbolt, unit: "+I2S(GetHandleId(u))+" lvl: "+I2S(GetUnitAbilityLevel(u,DummyThunderbolt)))
endfunction
function InitStunDispatchers takes nothing returns nothing

    //call BJDebugMsg("InitStunDispatchers")
    call AddStunWithData( stun_dispatcher001,0.01)
    call AddStunWithData( stun_dispatcher002,0.02)
    call AddStunWithData( stun_dispatcher003,0.03)
    call AddStunWithData( stun_dispatcher004,0.04)
    call AddStunWithData( stun_dispatcher005,0.05)
    call AddStunWithData( stun_dispatcher006,0.06)
    call AddStunWithData( stun_dispatcher007,0.07)
    call AddStunWithData( stun_dispatcher008,0.08)
    call AddStunWithData( stun_dispatcher009,0.09)
    call AddStunWithData( stun_dispatcher01,0.10)
    call AddStunWithData( stun_dispatcher02,0.20)
    call AddStunWithData( stun_dispatcher03,0.30)
    call AddStunWithData( stun_dispatcher04,0.4)
    call AddStunWithData( stun_dispatcher05,0.5)
    call AddStunWithData( stun_dispatcher06,0.6)
    call AddStunWithData( stun_dispatcher07,0.7)
    call AddStunWithData( stun_dispatcher08,0.8)
    call AddStunWithData( stun_dispatcher09,0.9)
endfunction
function AddRevenge takes unit u returns nothing
call TriggerRegisterUnitEvent(gg_trg_revenge,u,EVENT_UNIT_DAMAGED)
endfunction
function AddRevengeCheck takes unit u returns nothing
if(GetUnitAbilityLevel(u,'ACC8')>0)then
call AddRevenge(u)
endif
endfunction
function InitTrig_revenge takes nothing returns nothing
set gg_trg_revenge=CreateTrigger()
call TriggerAddCondition(gg_trg_revenge,Condition(function Trig_Untitled_Trigger_001_Condition))
endfunction
function Bounty takes player whichplayer,integer bounty,real x,real y returns nothing
local texttag t=CreateTextTag()
local string s="+"
call AdjustPlayerStateBJ(bounty,whichplayer,PLAYER_STATE_RESOURCE_GOLD)
if bounty<0 then
set s=""
endif
call SetTextTagText(t,s+I2S(bounty),0.025)
call SetTextTagPos(t,x,y,0.00)
call SetTextTagColor(t,255,220,0,255)
call SetTextTagVelocity(t,0,0.03)
if(GetLocalPlayer()==whichplayer)then
call SetTextTagVisibility(t,true)
set s="UI\\Feedback\\GoldCredit\\GoldCredit.mdl"
else
call SetTextTagVisibility(t,false)
set s=""
endif
call DestroyEffect(AddSpecialEffect(s,x,y))
call SetTextTagFadepoint(t,2)
call SetTextTagLifespan(t,3)
call SetTextTagPermanent(t,false)
set t=null
endfunction
function SmartCameraPanBJModified takes player whichPlayer,location loc,real duration returns nothing
if(GetLocalPlayer()==whichPlayer)then
call PanCameraToTimed(GetLocationX(loc),GetLocationY(loc),0)
endif
endfunction
function SmartCameraPanModified takes player whichPlayer,real tx,real ty,real duration returns nothing
if(GetLocalPlayer()==whichPlayer)then
call PanCameraToTimed(tx,ty,0)
endif
endfunction
function CreateDummyImage takes nothing returns image
return CreateImage(dummy_texture,0,0,0,0,0,0,0,0,0,IMAGE_TYPE_SELECTION)
endfunction
function CreateImageCentered takes string file,real sizeX,real sizeY,real sizeZ,real posX,real posY,real posZ,integer imageType returns image
return CreateImage(file,sizeX,sizeY,sizeZ,posX,posY,posZ,sizeX/ 2,sizeY/ 2,sizeZ/ 2,imageType)
endfunction
function RecreateImageCentered takes image i,string file,real sizeX,real sizeY,real sizeZ,real posX,real posY,real posZ,integer imageType returns image
call DestroyImage(i)
return CreateImageCentered(file,sizeX,sizeY,sizeZ,posX,posY,posZ,imageType)
endfunction
function RemoveUnit_CreateSkeleton takes unit u returns nothing
call SetUnitOwner(u,Player(15),false)
call PlanUnitRemoval(u,15)
endfunction
function CreateRandomRune takes real x,real y returns nothing
call PlaceRandomItem(runes_pool,x,y)
endfunction
function InitTrig_rune takes nothing returns nothing
set runes_pool=CreateItemPool()
call ItemPoolAddItemType(runes_pool,'dI00',1)
call ItemPoolAddItemType(runes_pool,'dI02',1)
call ItemPoolAddItemType(runes_pool,'dI03',1)
call ItemPoolAddItemType(runes_pool,'dI04',1)
call ItemPoolAddItemType(runes_pool,'dI05',1)
endfunction
function Trig_CS_Setup_Actions takes nothing returns nothing
local integer maxability=140
local integer i=1
local unit Dummy=CreateUnit(Player(0),'hfoo',0.00,0.00,0.00)
set udg_CS_AddHP[1]='A0HO'
set udg_CS_AddHP[2]='A0I0'
set udg_CS_AddHP[3]='A0I1'
set udg_CS_AddHP[4]='A0HY'
set udg_CS_AddHP[5]='A0HU'
set udg_CS_AddHP[6]='A0HT'
set udg_CS_AddHP[7]='A0HS'
set udg_CS_AddHP[8]='A0HR'
set udg_CS_AddHP[9]='A0HV'
set udg_CS_AddHP[10]='A0HP'
set udg_CS_AddHP[11]='A0HX'
set udg_CS_AddHP[12]='A0HW'
set udg_CS_AddHP[13]='A0HQ'
set udg_CS_AddHP[14]='A0HF'
set udg_CS_AddDamage[5]='A0HG'
set udg_CS_AddDamage[6]='A0HH'
set udg_CS_AddDamage[7]='A0HI'
set udg_CS_AddDamage[8]='A0HJ'
set udg_CS_AddDamage[9]='A0HK'
set udg_CS_AddDamage[10]='A0HL'
set udg_CS_AddDamage[11]='A0HM'
set udg_CS_AddDamage[12]='A0HN'
set udg_CS_AddDamage[13]='A0HE'
set udg_CS_AddDamage[14]='A0I2'
set udg_CS_Ability[1]='A0I2'
set udg_CS_Ability[2]='A0HE'
set udg_CS_Ability[3]='A0HN'
set udg_CS_Ability[4]='A0HM'
set udg_CS_Ability[5]='A0HL'
set udg_CS_Ability[6]='A0HK'
set udg_CS_Ability[7]='A0HJ'
set udg_CS_Ability[8]='A0HI'
set udg_CS_Ability[9]='A0HH'
set udg_CS_Ability[10]='A0HG'
set udg_CS_Ability[57]='A0HF'
set udg_CS_Ability[58]='A0HY'
set udg_CS_Ability[59]='A0HS'
set udg_CS_Ability[60]='A0HP'
set udg_CS_Ability[61]='A0HQ'
set udg_CS_Ability[62]='A0I1'
set udg_CS_Ability[63]='A0HT'
set udg_CS_Ability[64]='A0HV'
set udg_CS_Ability[65]='A0HW'
set udg_CS_Ability[66]='A0I0'
set udg_CS_Ability[67]='A0HU'
set udg_CS_Ability[68]='A0HR'
set udg_CS_Ability[69]='A0HX'
set udg_CS_Ability[70]='A0HO'
set udg_CS_LoopingBase[1]=8192
set udg_CS_LoopingBase[2]=4096
set udg_CS_LoopingBase[3]=2048
set udg_CS_LoopingBase[4]=1024
set udg_CS_LoopingBase[5]=512
set udg_CS_LoopingBase[6]=256
set udg_CS_LoopingBase[7]=128
set udg_CS_LoopingBase[8]=64
set udg_CS_LoopingBase[9]=32
set udg_CS_LoopingBase[10]=16
set udg_CS_LoopingBase[11]=8
set udg_CS_LoopingBase[12]=4
set udg_CS_LoopingBase[13]=2
set udg_CS_LoopingBase[14]=1
set udg_CS_MaxLoopingBase=14
loop
exitwhen i>maxability
call UnitAddAbility(Dummy,udg_CS_Ability[i])
set i=i+1
endloop
call RemoveUnit(Dummy)
set Dummy=null
set udg_CS_Hashtable=InitHashtable()
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_CS_Setup takes nothing returns nothing
set udg_trg_CS_Setup=CreateTrigger()
call TriggerAddAction(udg_trg_CS_Setup,function Trig_CS_Setup_Actions)
endfunction
function playercnt takes nothing returns nothing
call DMSG(I2S(Smelter_counts[GetPlayerId(GetLocalPlayer())]))
endfunction
function playercntfree takes nothing returns nothing
local integer idx=Smelter_max*GetPlayerId(GetLocalPlayer())+cnt
local integer l__cnt=0
loop
exitwhen idx<=Smelter_max*GetPlayerId(GetLocalPlayer())
if(Smelter_blocked[idx]==0)then
set l__cnt=l__cnt+1
endif
set idx=idx-1
endloop
call DMSG(I2S(l__cnt))
endfunction
function UnitAddRegistredItemBonus takes unit u,item i returns nothing
local integer plr=GetPlayerId(GetOwningPlayer(u))
local integer l__cnt=Smelter_counts[plr]
local hashtable smh=Smelter_owned_items[plr]
local group smg=Smelter_owners
local integer iid=GetItemTypeId(i)
local integer uh=GetHandleId(u)
local integer max=Smelter_max
local integer rind=max*plr+l__cnt+1
local integer ucnt
if(l__cnt<max)then
set l__cnt=l__cnt+1
call UnitAddItemVirtual(u,i)
set Smelter_ids[rind]=iid
set Smelter_counts[plr]=l__cnt
set Smelter_blocked[rind]=1
if(not IsUnitInGroup(u,smg))then
call GroupAddUnit(smg,u)
call SaveInteger(smh,uh,max+10,1)
call SaveInteger(smh,uh,1,rind)
else
set ucnt=LoadInteger(smh,uh,max+10)+1
call SaveInteger(smh,uh,max+10,ucnt)
call SaveInteger(smh,uh,ucnt,rind)
endif
set tmp_unit_smelter=u
call ExecuteFunc("AddUnitLazy")
endif
set smg=null
set smh=null
endfunction
function UnitAddRegistredItemBonusById takes unit u,integer iid returns nothing
local item itm=CreateItem(iid,GetUnitX(u),GetUnitY(u))
call UnitAddItem(u,itm)
call UnitAddRegistredItemBonus(u,itm)
call RemoveItem(itm)
set itm=null
endfunction
function UnitAddRegistredItemBonusByIdAny takes unit u,integer iid returns nothing
local item itm=CreateItem(iid,GetUnitX(u),GetUnitY(u))
local boolean hasntinv=false
if(not(GetUnitAbilityLevel(u,'AInv')>0))then
set hasntinv=true
call UnitAddAbility(u,'AInv')
endif
call UnitAddItem(u,itm)
call UnitAddRegistredItemBonus(u,itm)
call RemoveItem(itm)
if(hasntinv)then
call UnitRemoveAbility(u,'AInv')
endif
set itm=null
endfunction
function UnitApplyAvailiableBonuses takes unit u returns nothing
local integer plr=GetPlayerId(GetOwningPlayer(u))
local integer l__cnt=Smelter_counts[plr]
local hashtable smh=Smelter_owned_items[plr]
local group smg=Smelter_owners
local integer iid
local integer uh=GetHandleId(u)
local integer max=Smelter_max
local integer rind=max*plr+l__cnt
local integer ucnt
if(u==null)then
return
endif
loop
exitwhen max*plr>=rind
if(Smelter_blocked[rind]==0)then
set iid=Smelter_ids[rind]
set Smelter_blocked[rind]=1
call UnitAddItemVirtualbyId(u,iid)
if(not IsUnitInGroup(u,smg))then
call GroupAddUnit(smg,u)
call SaveInteger(smh,uh,max+10,1)
call SaveInteger(smh,uh,1,rind)
else
set ucnt=LoadInteger(smh,uh,max+10)+1
call SaveInteger(smh,uh,max+10,ucnt)
call SaveInteger(smh,uh,ucnt,rind)
endif
endif
set rind=rind-1
endloop
set smg=null
set smh=null
endfunction
function UnitApplyAvailiableBonusesAny takes unit u returns nothing
if(GetUnitAbilityLevel(u,'AInv')>0)then
call UnitApplyAvailiableBonuses(u)
else
call UnitAddAbility(u,'AInv')
call UnitApplyAvailiableBonuses(u)
call UnitRemoveAbility(u,'AInv')
endif
endfunction
function UnregUnitBonuses takes unit u returns nothing
local integer plr=GetPlayerId(GetOwningPlayer(u))
local integer l__cnt=Smelter_counts[plr]
local hashtable smh=Smelter_owned_items[plr]
local group smg=Smelter_owners
local integer iid
local integer uh=GetHandleId(u)
local integer max=Smelter_max
local integer rind=max*plr+l__cnt
local integer ucnt
set ucnt=LoadInteger(smh,uh,max+10)
call GroupRemoveUnit(smg,u)
loop
exitwhen ucnt<=0
set rind=LoadInteger(smh,uh,ucnt)
set Smelter_blocked[rind]=0
set ucnt=ucnt-1
endloop
call SaveInteger(smh,uh,max+10,0)
set smg=null
set smh=null
endfunction
function Trig_Smelter_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()==Smelter_ab_id))then
return false
endif
if(GetSpellTargetItem()==null)then
return false
endif
if(GetItemTypeId(GetSpellTargetItem())=='AS30')then
return false
endif
return true
endfunction
function Trig_Smelter_Actions takes nothing returns nothing
call UnitAddItem(GetTriggerUnit(),GetSpellTargetItem())
if(UnitHasItem(GetTriggerUnit(),GetSpellTargetItem()))then
call UnitAddRegistredItemBonus(GetTriggerUnit(),GetSpellTargetItem())
call RemoveItem(GetSpellTargetItem())
endif
endfunction
function InitTrig_Smelter takes nothing returns nothing
local integer idx=0
set gg_trg_Smelter=CreateTrigger()
call TriggerAddAction(gg_trg_Smelter,function Trig_Smelter_Actions)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Smelter,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Smelter,Condition(function Trig_Smelter_Conditions))
loop
set Smelter_counts[idx]=0
set Smelter_owned_items[idx]=InitHashtable()
set idx=idx+1
exitwhen idx>11
endloop
set Smelter_owners=CreateGroup()
endfunction
function printcnt takes nothing returns nothing
call DMSG(I2S(cnt))
endfunction
function AddUnit takes unit u returns nothing
if((cnt<8000)and(not IsUnitInGroup(u,eval)))then
set cnt=cnt+1
set handled_units[cnt]=u
call GroupAddUnit(eval,u)
endif
endfunction
function AddUnitLazy takes nothing returns nothing
if((cnt<8000)and(not IsUnitInGroup(tmp_unit_smelter,eval)))then
set cnt=cnt+1
set handled_units[cnt]=tmp_unit_smelter
call GroupAddUnit(eval,tmp_unit_smelter)
endif
endfunction
function IsUnitRemoved takes unit u returns boolean
if(not IsUnitInGroup(u,eval))then
return true
endif
return false
endfunction
function CheckUnits takes nothing returns nothing
local integer idx=1
local integer jdx
loop
exitwhen idx>cnt
if(IsUnitRemoved(handled_units[idx]))then
call UnregUnitBonuses(handled_units[idx])
set jdx=idx
loop
exitwhen jdx>=cnt
set handled_units[jdx]=handled_units[jdx+1]
set jdx=jdx+1
endloop
set cnt=cnt-1
endif
set idx=idx+1
endloop
endfunction
function InitTrig_event_unit_removed_smelter takes nothing returns nothing
set gg_trg_event_unit_removed_smelter=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_event_unit_removed_smelter,5.00)
call TriggerAddAction(gg_trg_event_unit_removed_smelter,function CheckUnits)
endfunction
function PlayerAddDamagePermanent takes player p,integer l__cnt returns nothing
set damageBonuses[GetPlayerId(p)]=damageBonuses[GetPlayerId(p)]+l__cnt
endfunction
function PlayerAddHPPermanent takes player p,integer l__cnt returns nothing
set HPBonuses[GetPlayerId(p)]=HPBonuses[GetPlayerId(p)]+l__cnt
endfunction
function ApplyRandomBuff takes unit u returns nothing
set udg_RANDOM_BUFF=GetRandomInt(1,50)
if(udg_RANDOM_BUFF==1)then
call CreateNUnitsAtLoc(1,'h039',GetOwningPlayer(u),GetRectCenter(udg_rct_Random_Events_Bandit_Spawn),bj_UNIT_FACING)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"innerfire",u)
call RemoveUnit(GetLastCreatedUnit())
elseif(udg_RANDOM_BUFF==2)then
call CreateNUnitsAtLoc(1,'h03A',GetOwningPlayer(u),GetRectCenter(udg_rct_Random_Events_Bandit_Spawn),bj_UNIT_FACING)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"innerfire",u)
call RemoveUnit(GetLastCreatedUnit())
elseif(udg_RANDOM_BUFF==3)then
call CreateNUnitsAtLoc(1,'h03B',GetOwningPlayer(u),GetRectCenter(udg_rct_Random_Events_Bandit_Spawn),bj_UNIT_FACING)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"innerfire",u)
call RemoveUnit(GetLastCreatedUnit())
elseif(udg_RANDOM_BUFF==4)then
call CreateNUnitsAtLoc(1,'h03B',GetOwningPlayer(u),GetRectCenter(udg_rct_Random_Events_Bandit_Spawn),bj_UNIT_FACING)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"invisibility",u)
call RemoveUnit(GetLastCreatedUnit())
elseif(udg_RANDOM_BUFF==5)then
call CreateNUnitsAtLoc(1,'h03B',GetOwningPlayer(u),GetRectCenter(udg_rct_Random_Events_Bandit_Spawn),bj_UNIT_FACING)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"bloodlust",u)
call RemoveUnit(GetLastCreatedUnit())
endif
endfunction
function AddHP takes nothing returns nothing
local integer i=1
local integer max=16383
if(GetUnitTypeId(udg_CS_Unit)=='h07F')then
return
endif
loop
exitwhen i>udg_CS_MaxLoopingBase
if udg_CS_LoopingBase[i]>udg_CS_Value then
else
call UnitAddAbility(udg_CS_Unit,udg_CS_AddHP[i])
call IncUnitAbilityLevel(udg_CS_Unit,udg_CS_AddHP[i])
call UnitRemoveAbility(udg_CS_Unit,udg_CS_AddHP[i])
set udg_CS_Value=udg_CS_Value-udg_CS_LoopingBase[i]
endif
set i=i+1
endloop
endfunction
function FastAddHP takes nothing returns nothing
call SetUnitState(udg_CS_Unit,UNIT_STATE_MAX_LIFE,GetUnitState(udg_CS_Unit,UNIT_STATE_MAX_LIFE)+udg_CS_Value)
call SetUnitState(udg_CS_Unit,UNIT_STATE_LIFE,GetUnitState(udg_CS_Unit,UNIT_STATE_LIFE)+udg_CS_Value)
set udg_CS_Value=0
endfunction
function AddDamage takes nothing returns nothing
local integer i=1
local integer max=16383
set udg_CS_Key=GetHandleId(udg_CS_Unit)
set udg_CS_DamageValue=LoadInteger(udg_CS_Hashtable,udg_CS_Key,0)
set udg_CS_DamageValue=(udg_CS_DamageValue+udg_CS_Value)
if(udg_CS_DamageValue>0)then
call SaveInteger(udg_CS_Hashtable,udg_CS_Key,0,udg_CS_DamageValue)
loop
exitwhen i>udg_CS_MaxLoopingBase
call UnitRemoveAbility(udg_CS_Unit,udg_CS_AddDamage[i])
call UnitRemoveAbility(udg_CS_Unit,udg_CS_RemoveDamage[i])
set i=i+1
endloop
set i=1
loop
exitwhen i>udg_CS_MaxLoopingBase
if(udg_CS_LoopingBase[i]>udg_CS_DamageValue)then
else
call UnitAddAbility(udg_CS_Unit,udg_CS_AddDamage[i])
set udg_CS_DamageValue=(udg_CS_DamageValue-udg_CS_LoopingBase[i])
endif
set i=i+1
endloop
else
if(udg_CS_DamageValue<0)then
call SaveInteger(udg_CS_Hashtable,udg_CS_Key,0,udg_CS_DamageValue)
loop
exitwhen i>udg_CS_MaxLoopingBase
call UnitRemoveAbility(udg_CS_Unit,udg_CS_RemoveDamage[i])
set i=i+1
endloop
set i=1
loop
exitwhen i>udg_CS_MaxLoopingBase
if(udg_CS_LoopingBase[i]>-udg_CS_DamageValue)then
else
call UnitAddAbility(udg_CS_Unit,udg_CS_RemoveDamage[i])
set udg_CS_DamageValue=(udg_CS_DamageValue+udg_CS_LoopingBase[i])
endif
set i=i+1
endloop
else
call SaveInteger(udg_CS_Hashtable,udg_CS_Key,0,udg_CS_DamageValue)
loop
exitwhen i>udg_CS_MaxLoopingBase
call UnitRemoveAbility(udg_CS_Unit,udg_CS_RemoveDamage[i])
set i=i+1
endloop
endif
endif
endfunction
function AddWhiteDamage takes unit u,real damage returns nothing
local real dmg = GetUnitBaseDamage(u)+damage
local real mod = dmg-I2R(R2I(dmg))
local real d = GetRandomReal(0,1)
if(mod>d) then
    set dmg = dmg+1
endif
call SetUnitBaseDamage(u,R2I(dmg))
endfunction
function AddHPCustom takes unit u,real HP returns nothing
call AddUnitMaxLife(u,HP)
call SetUnitState(u,UNIT_STATE_LIFE,GetUnitState(u,UNIT_STATE_LIFE)+HP)
endfunction
function PlayerUnitAddDamagePermanent takes unit u,integer l__cnt returns nothing
call PlayerAddDamagePermanent(GetOwningPlayer(u),l__cnt)
call SetUnitBaseDamage(u,GetUnitBaseDamage(u)+l__cnt)
endfunction
function PlayerUnitAddHPPermanent takes unit u,integer l__cnt returns nothing
call PlayerAddHPPermanent(GetOwningPlayer(u),l__cnt)
call AddUnitMaxLife(u,l__cnt)
call SetUnitState(u,UNIT_STATE_LIFE,GetUnitState(u,UNIT_STATE_LIFE)+l__cnt)
endfunction
function GetUnitStatMultiplier takes unit u returns real
if(GetUnitAbilityLevel(u,'ACC5')>0 or GetUnitAbilityLevel(u,'ACC1')>0 or GetUnitAbilityLevel(u,'ACCJ')>0 or GetUnitAbilityLevel(u,'ACCC')>0 or GetUnitAbilityLevel(u,'ACCD')>0 or GetUnitAbilityLevel(u,'ACC6')>0 or GetUnitAbilityLevel(u,'ACC9')>0)then
return 1.
endif
if(GetUnitAbilityLevel(u,'ACCF')>0)then
return 0.25
endif
return 0.25
endfunction
function AddWhiteDamageRestricted takes unit u, real damage returns nothing
    call AddWhiteDamage(u,GetUnitStatMultiplier(u)*damage)
endfunction
function AddHPRestricted takes unit u, real damage returns nothing
    call AddHPCustom(u,GetUnitStatMultiplier(u)*damage)
endfunction
function ApplyBookBonuses takes unit u returns nothing
local real mult=GetUnitStatMultiplier(u)
if((GetOwningPlayer(u))!=null) then
    call AddWhiteDamage(u,mult*damageBonuses[GetPlayerId(GetOwningPlayer(u))])
    call AddHPCustom(u,mult*HPBonuses[GetPlayerId(GetOwningPlayer(u))])
endif
endfunction
function ApplyBookDmgBonuses takes unit u returns nothing
call AddWhiteDamage(u,damageBonuses[GetPlayerId(GetOwningPlayer(u))])
endfunction
function ApplySmelterBonuses takes unit u returns nothing
    call UnitApplyAvailiableBonusesAny(u)
    if(IsUnitInGroup(u,Smelter_owners)) then
        call AddUnit(u)
    endif
endfunction

function ApplyAllNotStatBonuses takes unit u returns nothing
    local integer pAbil
    call ApplySmelterBonuses(u)
    if((GetUnitAbilityLevel(u,'Aro1')>0) or (GetUnitAbilityLevel(u,'Aro2')>0))then
        set pAbil = GetUnitAbility(u,'AInv')
        if(pAbil!=0) then
            call WriteRealMemory(pAbil+0x3c,-2)
            call WriteRealMemory(pAbil+0x40,-2)
            call WriteRealMemory(pAbil+0x44,-2)
        endif
     endif
endfunction
function ApplyDmgBonuses takes unit u returns nothing
    local real mult
    set udg_CS_Unit=u
    set udg_CS_Player=GetOwningPlayer(u)
    set udg_CS_Value=udg_Player_DamagePoints[GetConvertedPlayerId(udg_CS_Player)]
    call AddWhiteDamageRestricted(udg_CS_Unit,udg_CS_Value)
    if(GetOwningPlayer(u)!=null) then
        set mult=GetUnitStatMultiplier(u)
        call AddWhiteDamage(u,mult*damageBonuses[GetPlayerId(GetOwningPlayer(u))])
    endif
endfunction
function ApplyStatBonuses takes unit u returns nothing
set udg_CS_Unit=u
set udg_CS_Player=GetOwningPlayer(u)
set udg_CS_Value=udg_Player_HP_Points[GetConvertedPlayerId(udg_CS_Player)]
call AddHPRestricted(udg_CS_Unit,udg_CS_Value)
set udg_CS_Value=udg_Player_DamagePoints[GetConvertedPlayerId(udg_CS_Player)]
call AddWhiteDamageRestricted(udg_CS_Unit,udg_CS_Value)
call ApplyBookBonuses(u)
endfunction
function ApplyAllBonuses1 takes unit u returns nothing
call ApplyStatBonuses(u)
call ApplyAllNotStatBonuses(u)
call AddAlliedVisionCheck(u)
endfunction

function AddSpecialEffectIfNotBuilding takes string name, unit u, string attach returns nothing
    if(not IsUnitType(u,UNIT_TYPE_STRUCTURE))then
        call AddSpecialEffectTarget(name,u,attach)
    endif
endfunction
function CreateUnitBonuses takes player p,integer id,real x,real y,real facing returns unit
    set bj_lastCreatedUnit=CreateUnit(p,id,x,y,facing)
    call AddRevengeCheck(bj_lastCreatedUnit)
    call ApplyAllBonuses1(bj_lastCreatedUnit)
    if(not udg_NO_FLYING_UNITS) then
        call AddFlyingUnits(bj_lastCreatedUnit)
    endif
    call UnitApplyAdditionalEvolutions(bj_lastCreatedUnit)
    return bj_lastCreatedUnit
endfunction
function ChangeUnit2 takes unit u,integer uid returns unit
local unit u2
local integer idx=1
local real tx=GetUnitX(u)
local real ty=GetUnitY(u)
call UnregUnitBonuses(u)
set u2 = CreateUnitBonuses(GetOwningPlayer(u),uid,GetUnitX(u),GetUnitY(u),GetUnitFacing(u))
loop
call UnitAddItem(u2,UnitItemInSlotBJ(u,idx))
set idx=idx+1
exitwhen idx>6
endloop
if(IsUnitType(u,UNIT_TYPE_HERO))then
call SetHeroXP(u2,GetHeroXP(u),false)
endif
call ApplyRandomBuff(u2)
call SetUnitLifePercentBJ(u2,GetUnitLifePercent(u)+25)
call SetUnitManaPercentBJ(u2,GetUnitManaPercent(u)+50)
set idx=0
loop

if(GetLocalPlayer()==Player(idx) and IsUnitSelected(u,Player(idx)))then
call SelectUnit(u,false)
call SelectUnit(u2,true)
endif
set idx=idx+1
exitwhen idx>11
endloop
call RemoveUnit(u)
set u=u2
set u2=null
if(udg_NO_FLYING_UNITS) then
    call RemoveUnitFromStock(u,'ugar')
endif
return u
endfunction

function ChangeUnit2Test takes unit u,integer uid returns unit
    call MorphUnitToTypeIdNotSaveAbils(u,uid)
    return u
endfunction
function CreateNUnitsAtLocBonuses takes integer l__cnt,integer id,player p,location loc,real facing returns nothing
local integer idx=0
loop
    call CreateUnitBonuses(p,id,GetLocationX(loc),GetLocationY(loc),facing)
    set idx=idx+1
exitwhen idx>=l__cnt
endloop
endfunction
function RecreateUnitPosBonusesNotRemove takes unit u,real x,real y returns unit
local unit u2
local integer idx=0
local real mult
call UnregUnitBonuses(u)
loop
set itemexchange[idx] = UnitRemoveItemFromSlot(u,idx)
set idx=idx+1
exitwhen idx>5
endloop
set u2 = CreateUnitBonuses(GetOwningPlayer(u),GetUnitTypeId(u),x,y,0)
set idx = 0
loop
    call UnitAddItem(u2,itemexchange[idx])
    set itemexchange[idx]=null
    set idx=idx+1
    exitwhen idx>5
endloop
if(IsUnitType(u,UNIT_TYPE_HERO))then
call SetHeroXP(u2,GetHeroXP(u),false)
endif
call SmartCameraPanModified(GetOwningPlayer(u2),x,y,0)
call SelectUnitForPlayerSingle(u2,GetOwningPlayer(u2))
set u=u2
set u2=null
return u
endfunction
function InitTrig_Bonuses takes nothing returns nothing
local integer i=0
loop
set damageBonuses[i]=0
set HPBonuses[i]=0
set i=i+1
exitwhen i>15
endloop
set i=0
loop
exitwhen(i>1)
set udg_CS_LoopingBase[i]=0
set i=i+1
endloop
set udg_CS_MaxLoopingBase=0
set udg_CS_Value=0
set udg_CS_DamageValue=0
set udg_CS_Key=0
set i=0
loop
exitwhen(i>1)
set udg_Player_HP_Points[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_Player_DamagePoints[i]=0
set i=i+1
endloop
endfunction
function SetUnitAbilityLevelSwappedSafe takes integer id,unit u,integer lvl returns nothing
if(GetWidgetLife(u)>0.1)then
call SetUnitAbilityLevelSwapped(id,u,lvl)
endif
endfunction
function GetKillingUnitEx takes nothing returns unit
return GetKillingUnit()
endfunction
function UnitUnlockInventoryForce takes unit u returns nothing
local integer pData=ConvertHandle(u)
if pData>0 then
set pData=ReadRealMemory(pData+0x1F8)
if pData>0 then
call WriteRealMemory(pData+0x3C,-1)
call WriteRealMemory(pData+0x40,-1)
call WriteRealMemory(pData+0x4,15)
endif
endif
endfunction
function Trig_Unlock_tree_inv_Actions takes nothing returns nothing
local unit u=GetTriggerUnit()
if(GetIssuedOrderId()==852166)then
endif
endfunction
function InitTrig_Unlock_tree_inv takes nothing returns nothing
set gg_trg_Unlock_tree_inv=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Unlock_tree_inv,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddAction(gg_trg_Unlock_tree_inv,function Trig_Unlock_tree_inv_Actions)
endfunction
function Trig_NoGroundAttackWithTrident_Conditions takes nothing returns boolean
if(GetIssuedOrderId()!=851984)then
return false
endif
if(GetOrderedUnit()==null)then
return false
endif
if((GetUnitAbilityLevel(GetOrderedUnit(),'A00C')>0))then
return true
endif
if((GetUnitAbilityLevel(GetOrderedUnit(),'A0L9')>0))then
return true
endif
return false
endfunction
function Trig_NoGroundAttackWithTrident_Actions takes nothing returns nothing
call IssuePointOrder(GetTriggerUnit(),"move",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()))
endfunction
function InitTrig_NoGroundAttackWithTrident takes nothing returns nothing
set gg_trg_NoGroundAttackWithTrident=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_NoGroundAttackWithTrident,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
call TriggerAddCondition(gg_trg_NoGroundAttackWithTrident,Condition(function Trig_NoGroundAttackWithTrident_Conditions))
call TriggerAddAction(gg_trg_NoGroundAttackWithTrident,function Trig_NoGroundAttackWithTrident_Actions)
endfunction
function SetLives takes integer pid,integer l__cnt returns boolean
if(l__cnt<0)then
set lives[pid]=0
return true
endif
set lives[pid]=l__cnt
return false
endfunction
function AddLives takes integer pid,integer l__cnt returns boolean
return SetLives(pid,lives[pid]+l__cnt)
endfunction
function SetLivesP takes player p,integer l__cnt returns boolean
return SetLives(GetPlayerId(p),l__cnt)
endfunction
function AddLivesP takes player p,integer l__cnt returns boolean
return SetLives(GetPlayerId(p),lives[GetPlayerId(p)]+l__cnt)
endfunction
function morelives takes nothing returns nothing
    local integer i = 0
    loop
        set lives[i] = 100
        set i = i + 1
        exitwhen i>15
    endloop
endfunction
function InitTrig_lives takes nothing returns nothing
local integer idx=0
loop
set lives[idx]=0
set idx=idx+1
exitwhen idx>11
endloop
endfunction
function Trig_PlayerDies_Conditions takes nothing returns boolean
if(not(GetUnitAbilityLevel(GetDyingUnit(),'ACC1')>0))then
    return false
endif
if(RectContainsUnit(udg_rct_Top_right_forest_minigame,GetDyingUnit()))then
return false
endif
if((RectContainsUnit(udg_rct_Duel_area,GetDyingUnit())))then
return false
endif
if(not(IsUnitType(GetDyingUnit(),UNIT_TYPE_SUMMONED)==false))then
return false
endif
if(not(IsUnitIllusionBJ(GetDyingUnit())==false))then
return false
endif
if(IsUnitInGroup(GetDyingUnit(),morphs))then
return false
endif
if(GetDyingUnit()==null)then
return false
endif
if(IsPlayerInForce(GetOwningPlayer(GetDyingUnit()),udg_Humans))then
return true
endif
if(IsPlayerInForce(GetOwningPlayer(GetDyingUnit()),udg_Evil))then
return true
endif
return false
endfunction
function AddBonusesForKillerCond takes nothing returns boolean
return not((IsUnitAliveBJ(GetFilterUnit()))and(IsUnitIllusionBJ(GetFilterUnit())))
endfunction
function AddBonusesForKillerAct takes nothing returns nothing
set udg_CS_Unit=GetEnumUnit()
call AddWhiteDamageRestricted(udg_CS_Unit,1)
call AddHPRestricted(udg_CS_Unit,14)
endfunction
function AddBonusesForKiller takes player p returns nothing
set udg_Player_HP_Points[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_Player_HP_Points[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+14)
set udg_Player_DamagePoints[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_Player_DamagePoints[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsOfPlayerMatching(p,Condition(function AddBonusesForKillerCond)),function AddBonusesForKillerAct)
call Bounty(p,20,GetUnitX(GetDyingUnit()),GetUnitY(GetDyingUnit()))
endfunction
function CheckBonusesForKiller takes nothing returns nothing
local unit killer=GetKillingUnit()
local player killp=GetOwningPlayer(killer)
local unit deadu=GetDyingUnit()
local player deadp=GetOwningPlayer(deadu)
if(not IsPlayerAlly(deadp,killp))then
call AddBonusesForKiller(killp)
endif
set killer=null
set killp=null
set deadu=null
set deadp=null
endfunction
function RegisterKill takes nothing returns nothing
local unit killer=GetKillingUnit()
if(killer==null)then
call DisplayTimedTextToForce(GetPlayersAll(),10.00,(GetPlayerName(GetOwningPlayer(GetDyingUnit()))+" has lost a life!"))
elseif(GetPlayerId(GetOwningPlayer(killer))>11)then
call CheckBonusesForKiller()
call DisplayTextToPlayer(GetLocalPlayer(),0,0,(GetUnitName(killer)+(" has killed "+udg_AAA_Player_Colors[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))])))
else
call CheckBonusesForKiller()
call DisplayTimedTextToForce(GetPlayersAll(),10,(udg_AAA_Player_Colors[GetConvertedPlayerId(GetOwningPlayer(killer))]+(" has killed "+udg_AAA_Player_Colors[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))])))
endif
set killer=null
endfunction
function GroupRemoveUnitsOfPlayer takes nothing returns nothing
if(GetOwningPlayer(GetEnumUnit())!=temp_player_d or GetUnitTypeId(GetEnumUnit())==childtype)then
call GroupRemoveUnit(temp_group_d,GetEnumUnit())
endif
endfunction
function MoveUnit_d takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),temp_location_d)
endfunction
function IsEnumUnitDead takes nothing returns boolean
    return not (GetWidgetLife(GetEnumUnit())<=0)
endfunction
function TpHuman takes nothing returns nothing
local group g=CreateGroup()
local timer t=GetExpiredTimer()
local player p=LoadPlayerHandle(tpsystem_HT,GetHandleId(t),0)
call GroupEnumUnitsInRect(g,udg_rct_Dead_teleport_area,null)
set temp_player_d=p
set temp_group_d=g
call ForGroup(g,function GroupRemoveUnitsOfPlayer)
set temp_integer_d=GetRandomInt(0,3)
if(temp_integer_d==0)then
set temp_location_d=GetRectCenter(udg_rct_Top_Left)
elseif(temp_integer_d==1)then
set temp_location_d=GetRectCenter(udg_rct_Top_Right)
elseif(temp_integer_d==2)then
set temp_location_d=GetRectCenter(udg_rct_Bottom_Left)
else
set temp_location_d=GetRectCenter(udg_rct_Bottom_Right)
endif
call ForGroup(g,function MoveUnit_d)
call DestroyGroup(g)
call RemoveLocation(temp_location_d)
call DestroyTimer(t)
call FlushChildHashtable(tpsystem_HT,GetHandleId(t))
call FlushChildHashtable(tpsystem_HT,GetHandleId(p))
set g=null
set t=null
set p=null
endfunction
function SetPlayerToTp takes player p returns nothing
local timer temp_timer=LoadTimerHandle(tpsystem_HT,GetHandleId(p),0)
local player pp=LoadPlayerHandle(tpsystem_HT,GetHandleId(temp_timer),0)
if(temp_timer!=null)then
call DestroyTimer(temp_timer)
call FlushChildHashtable(tpsystem_HT,GetHandleId(temp_timer))
call FlushChildHashtable(tpsystem_HT,GetHandleId(pp))
endif
set temp_timer=CreateTimer()
call SavePlayerHandle(tpsystem_HT,GetHandleId(temp_timer),0,p)
call SaveTimerHandle(tpsystem_HT,GetHandleId(p),0,temp_timer)
call TimerStart(temp_timer,15.,false,function TpHuman)
set temp_timer=null
set pp=null
endfunction
function RespawnPlayer takes unit u returns nothing
local player owner=GetOwningPlayer(u)
local location respoint = ResurrectionLocations[GetPlayerId(owner)]
local integer unitid = DeathUnitTypeCheck(u)
if(GetUnitTypeId(u)!=0 and unitid!=0) then
    call SetUnitTypeId(u,unitid)
endif
if(IsPlayerInForce(owner,udg_Humans))then
call PlaySoundBJ(snd_HumanDies)
if(udg_FinalBattle_On)then
set u = RecreateUnitPosBonusesNotRemove(u,GetLocationX(GetRectCenter(udg_rct_FB_Human_Spawn)),GetLocationY(GetRectCenter(udg_rct_FB_Human_Spawn)))
set udg_CS_Unit=u
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl",udg_CS_Unit,"origin"))
else
call PlaySoundBJ(snd_UndedadDies)
if(respoint==null) then
    set respoint = GetRectCenter(udg_rct_Dead_area_entry)
endif
set u = RecreateUnitPosBonusesNotRemove(u,GetLocationX(respoint),GetLocationY(respoint))
set udg_CS_Unit=u
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl",udg_CS_Unit,"origin"))
call SetPlayerToTp(owner)
endif
else
if(udg_FinalBattle_On)then
set u = RecreateUnitPosBonusesNotRemove(u,GetLocationX(GetRectCenter(udg_rct_FB_Undead_Spawn)),GetLocationY(GetRectCenter(udg_rct_FB_Undead_Spawn)))
set udg_CS_Unit=u
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl",udg_CS_Unit,"origin"))
else
if(respoint==null) then
    set respoint = GetRectCenter(udg_rct_The_ring_of_trees)
endif
set u = RecreateUnitPosBonusesNotRemove(u,GetLocationX(respoint),GetLocationY(respoint))
set udg_CS_Unit=u
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl",udg_CS_Unit,"origin"))
endif
endif
if(u!=null) then
    call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl",u,"origin"))
    if((GetUnitTypeId(u)=='u00S')or(GetUnitTypeId(u)=='u00T'))then
    if(CountUnitsInGroup(Psychos)==0)then
    call EnableTrigger(udg_trg_Kitapsycho)
    endif
    call GroupAddUnit(Psychos,u)
    endif
endif
set owner=null
set respoint = null
endfunction
function unallywithenumplayerenum takes nothing returns nothing
call SetPlayerAllianceStateBJ(GetEnumPlayer(),dyingplayer,bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(dyingplayer,GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call UpdateSharedVisionWithPlayer(GetEnumPlayer())
endfunction
function UnallyWithPlayersForce takes force f returns nothing
call ForForce(f,function unallywithenumplayerenum)
endfunction
function AllyWithPlayer takes player p1,player p2 returns nothing
call SetPlayerAllianceStateBJ(p1,p2,bj_ALLIANCE_ALLIED_VISION)
call SetPlayerAllianceStateBJ(p2,p1,bj_ALLIANCE_ALLIED_VISION)
endfunction
function AllyWithPlayerAI takes player p1,player p2 returns nothing
call SetPlayerAllianceStateBJ(p1,p2,bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(p2,p1,bj_ALLIANCE_ALLIED)
call UpdateSharedVisionWithPlayer(p2)
call UpdateSharedVisionWithPlayer(p1)
endfunction
function RemoveEnumUnit takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function CompleteRemovePlayer takes player p returns nothing
local group g=CreateGroup()
call GroupEnumUnitsOfPlayer(g,p,null)
call ForGroup(g,function RemoveEnumUnit)
call DestroyGroup(g)
set g=null
endfunction
function SendToPirates takes player p returns nothing
call AllyWithPlayerAI(p,Neutral_Satyrs)
call DisplayTimedTextToForce(GetPlayersAll(),10.00,udg_AAA_Player_Colors[GetConvertedPlayerId(p)]+" will join the pirates")
call CreateNUnitsAtLoc(1,'h07M',p,GetRectCenter(udg_rct_Satyr_Barracks),bj_UNIT_FACING)
call ApplyAllBonuses1(GetLastCreatedUnit())
call SmartCameraPanBJModified(p,GetRectCenter(udg_rct_Satyr_Barracks),0)
endfunction
function SendToBottom takes player p returns nothing
call AllyWithPlayerAI(p,Neutral_Bottom)
if(GetRandomInt(1,2)==1)then
call CreateNUnitsAtLoc(1,'nwwf',p,GetRectCenter(udg_rct_Ice_creep_camp_spawn),bj_UNIT_FACING)
call ApplyAllBonuses1(GetLastCreatedUnit())
call SmartCameraPanBJModified(p,GetRectCenter(udg_rct_Ice_creep_camp_spawn),0)
call DisplayTimedTextToForce(GetPlayersAll(),10.00,(udg_AAA_Player_Colors[GetConvertedPlayerId(p)]+" will join the ice team"))
else
call CreateNUnitsAtLoc(1,'n014',p,GetRectCenter(udg_rct_Gnoll_spawn_area),bj_UNIT_FACING)
call ApplyAllBonuses1(GetLastCreatedUnit())
call SmartCameraPanBJModified(p,GetRectCenter(udg_rct_Gnoll_spawn_area),0)
call DisplayTimedTextToForce(GetPlayersAll(),10.00,(udg_AAA_Player_Colors[GetConvertedPlayerId(p)]+" will join the gnoll"))
endif
endfunction
function SendToNaga takes player p returns nothing
call AllyWithPlayerAI(p,Neutral_Nagas)
call DisplayTimedTextToForce(GetPlayersAll(),10.00,(udg_AAA_Player_Colors[GetConvertedPlayerId(p)]+" will join the naga team"))
call CreateNUnitsAtLoc(1,'n079',p,GetRectCenter(udg_rct_Naga_spawn_area),bj_UNIT_FACING)
call ApplyAllBonuses1(GetLastCreatedUnit())
call SmartCameraPanBJModified(p,GetRectCenter(udg_rct_Naga_spawn_area),0)
endfunction
function SendToRandomNeutral takes player p returns nothing
if(GetRandomInt(1,2)==1)then
call SendToNaga(p)
else
call SendToBottom(p)
endif
endfunction
function PlayerDefeatedUndead takes player p returns nothing
if(udg_Neutral_Alliance_Chance==1)then
if(udg_PirateChance>=9)then
call SendToNaga(p)
elseif(udg_PirateChance>=7)then
call SendToPirates(p)
else
call SendToNaga(p)
endif
elseif(udg_Neutral_Alliance_Chance==2)then
if(udg_PirateChance>=9)then
call SendToPirates(p)
elseif(udg_PirateChance>=7)then
call SendToBottom(p)
else
call SendToBottom(p)
endif
else
set dyingplayer=p
call UnallyWithPlayersForce(udg_Evil)
call SendToRandomNeutral(p)
endif
endfunction
function PlayerDefeatedHuman takes player p returns nothing
if(udg_Neutral_Alliance_Chance==1)then
if(udg_PirateChance>=9)then
call SendToPirates(p)
else
call SendToBottom(p)
endif
elseif(udg_Neutral_Alliance_Chance==2)then
if(udg_PirateChance>=9)then
call SendToPirates(p)
else
call SendToNaga(p)
endif
else
set dyingplayer=p
call UnallyWithPlayersForce(udg_Humans)
call SendToRandomNeutral(p)
endif
endfunction
function PlayerDefeated takes player p returns nothing
call CompleteRemovePlayer(p)
if(IsPlayerInForce(p,udg_Evil))then
call ForceRemovePlayer(udg_Evil,p)
call PlayerDefeatedUndead(p)
else
call ForceRemovePlayer(udg_Humans,p)
call PlayerDefeatedHuman(p)
endif
call UpdateSharedVisionWithPlayer(p)
endfunction
function Trig_PlayerDies_Actions takes nothing returns nothing
local unit DyingUnit = GetDyingUnit()
call RegisterKill()
if(GetUnitTypeId(DyingUnit)!=0) then
    call UnregUnitBonuses(DyingUnit)
    if(AddLivesP(GetOwningPlayer(DyingUnit),-1))then
    call PlayerDefeated(GetOwningPlayer(DyingUnit))
    call MultiboardSetItemIconBJ(udg_LIVES_MULTIBOARD,1,2+GetPlayerId(GetOwningPlayer(DyingUnit)),"ReplaceableTextures\\CommandButtons\\BTNPig.blp")
    call PlaySoundBJ(snd_GoodJob)
    else
    call RespawnPlayer(DyingUnit)
    endif
    call RemoveUnit_CreateSkeleton(DyingUnit)
endif
set DyingUnit = null
endfunction
function InitTrig_PlayerDies takes nothing returns nothing
set gg_trg_PlayerDies=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_PlayerDies,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_PlayerDies,Condition(function Trig_PlayerDies_Conditions))
call TriggerAddAction(gg_trg_PlayerDies,function Trig_PlayerDies_Actions)
set tpsystem_HT=InitHashtable()
call SetSoundParamsFromLabel(snd_HumanDies,"PeasantDeath")
call SetSoundDuration(snd_HumanDies,3645)
call SetSoundChannel(snd_HumanDies,8)
call SetSoundParamsFromLabel(snd_UndedadDies,"GhoulDeath")
call SetSoundDuration(snd_UndedadDies,1570)
call SetSoundChannel(snd_UndedadDies,8)
call SetSoundParamsFromLabel(snd_GoodJob,"GoodJob")
call SetSoundDuration(snd_GoodJob,2548)
endfunction
function Trig_Give_observer_Func007Func004001001002 takes nothing returns boolean
if(IsUnitAliveBJ(GetFilterUnit())) then
    return true
endif
return false
endfunction
function Trig_Give_observer_Func007C takes player p returns boolean
local group g= null
if(not IsPlayerSlotState(p,PLAYER_SLOT_STATE_PLAYING))then
return false
endif
set g = GetUnitsOfPlayerMatching(p,Condition(function Trig_Give_observer_Func007Func004001001002))
if(not(CountUnitsInGroup(g)==0))then
call DestroyGroup(g)
set g=null
return false
endif
call DestroyGroup(g)
set g=null
return true
endfunction
function Trig_Give_observer_Timed takes nothing returns nothing
local player p=LoadPlayerHandle(Give_observer_HT,GetHandleId(GetExpiredTimer()),0)
call FlushChildHashtable(Give_observer_HT,GetHandleId(p))
call FlushChildHashtable(Give_observer_HT,GetHandleId(GetExpiredTimer()))
if(Trig_Give_observer_Func007C(p))then
call CreateNUnitsAtLocBonuses(1,'n020',p,GetRectCenter(udg_rct_The_ring_of_trees),bj_UNIT_FACING)
endif
call DestroyTimer(GetExpiredTimer())
set p=null
endfunction
function Trig_Give_observer_Actions takes nothing returns nothing
local integer idx=0
local timer t2
local timer t
loop

if(Trig_Give_observer_Func007C(Player(idx)))then

set t=CreateTimer()
call SavePlayerHandle(Give_observer_HT,GetHandleId(t),0,Player(idx))
call SaveTimerHandle(Give_observer_HT,GetHandleId(Player(idx)),0,t)
call TimerStart(t,4,false,function Trig_Give_observer_Timed)
else
call DestroyTimer(LoadTimerHandle(Give_observer_HT,GetHandleId(Player(idx)),0))
endif
set idx=idx+1
exitwhen idx>11
endloop
set t=null
endfunction
function Trig_Give_observer_Enable takes nothing returns nothing
call EnableTrigger(gg_trg_Give_observer)
call DestroyTimer(GetExpiredTimer())
endfunction
function InitTrig_Give_observer takes nothing returns nothing
set gg_trg_Give_observer=CreateTrigger()
call TimerStart(CreateTimer(),15.,false,function Trig_Give_observer_Enable)
call DisableTrigger(gg_trg_Give_observer)
call TriggerRegisterTimerEventPeriodic(gg_trg_Give_observer,2)
call TriggerAddAction(gg_trg_Give_observer,function Trig_Give_observer_Actions)
set Give_observer_HT=InitHashtable()
endfunction
function Trig_Bunny_Loot_Conditions_Check_Bunny takes nothing returns boolean
if((GetUnitTypeId(GetDyingUnit())=='necr'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='n037'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nfrl'))then
return true
endif
return false
endfunction
function Trig_Bunny_Loot_Conditions takes nothing returns boolean
if(not Trig_Bunny_Loot_Conditions_Check_Bunny())then
return false

endif
if(IsUnitIllusion(GetDyingUnit()))then
return false
endif
return true
endfunction
function Trig_Bunny_Loot_Actions takes nothing returns nothing
local unit u=GetKillingUnitEx()
if(u!=null)then
if(GetUnitAbilityLevel(u,BUNNY_KILLER_ABILITY)>0)then
call PlayerUnitAddDamagePermanent(u,2)
call PlayerUnitAddHPPermanent(u,35)
set u=null
return
elseif(IsUnitType(u,UNIT_TYPE_HERO))then
call AddHeroXPSwapped(500,u,true)
set u=null
return
endif
endif
set u=null
call CreateItem('manh',GetUnitX(GetDyingUnit()),GetUnitY(GetDyingUnit()))
endfunction
function InitTrig_Bunny_Loot takes nothing returns nothing
set gg_trg_Bunny_Loot=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Bunny_Loot,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Bunny_Loot,Condition(function Trig_Bunny_Loot_Conditions))
call TriggerAddAction(gg_trg_Bunny_Loot,function Trig_Bunny_Loot_Actions)
endfunction
function Morphling_return takes unit u,integer uid returns unit
local unit u2
local integer hertemp
local integer idx=1
set u2=CreateUnit(GetOwningPlayer(u),uid,GetUnitX(u),GetUnitY(u),GetUnitFacing(u))
call SetUnitX(u2,GetUnitX(u))
call SetUnitY(u2,GetUnitY(u))
call UnitAddAbility(u2,'AInv')
if(IsUnitType(u,UNIT_TYPE_HERO))then
call SetHeroXP(u2,GetHeroXP(u),false)
endif
call UnregUnitBonuses(u)
call ApplyAllBonuses1(u2)
loop
call UnitAddItem(u2,UnitItemInSlotBJ(u,idx))
set idx=idx+1
exitwhen idx>6
endloop
call SetUnitLifePercentBJ(u2,GetUnitLifePercent(u))
call SetUnitManaPercentBJ(u2,GetUnitManaPercent(u))
set idx=0
loop
if(GetLocalPlayer()==Player(idx) and IsUnitSelected(u,Player(idx)))then
call SelectUnit(u,false)
call SelectUnit(u2,true)
endif
set idx=idx+1
exitwhen idx>11
endloop
call RemoveUnit(u)
set u=u2
set u2=null
call StartUnitAbilityCooldown(u,morph_spell,morph_cd)
return u
endfunction
function Morphing_return_ondedeath takes unit u,integer uid returns unit
local unit u2
local integer hertemp
local integer idx=1
set u2=CreateUnit(GetOwningPlayer(u),uid,GetUnitX(u),GetUnitY(u),GetUnitFacing(u))
call SetUnitX(u2,GetUnitX(u))
call SetUnitY(u2,GetUnitY(u))
call UnitAddAbility(u2,'AInv')
loop
call UnitAddItem(u2,UnitItemInSlotBJ(u,idx))
set idx=idx+1
exitwhen idx>6
endloop
if(IsUnitType(u,UNIT_TYPE_HERO))then
call SetHeroXP(u2,GetHeroXP(u),false)
endif
set idx=0
call UnregUnitBonuses(u)
call RemoveUnit(u)
set u=u2
set u2=null
call StartUnitAbilityCooldown(u,morph_spell,morph_cd)
return u
endfunction
function Morph_On_Timer_End takes nothing returns nothing
local unit u=LoadUnitHandle(morph_table,StringHash("Morphed Unit"),GetHandleId(GetExpiredTimer()))
local boolean ishero=IsUnitType(u,UNIT_TYPE_HERO)
set u=Morphling_return(u,morph_base_type)
if(IsUnitType(u,UNIT_TYPE_HERO)and not ishero)then
call SetHeroXP(u,LoadInteger(morph_table,StringHash("Hero Exp"),GetHandleId(GetExpiredTimer())),false)
endif
call TriggerClearActions(LoadTriggerHandle(morph_table,StringHash("Death Trigger"),GetHandleId(GetExpiredTimer())))
call DestroyTrigger(LoadTriggerHandle(morph_table,StringHash("Death Trigger"),GetHandleId(GetExpiredTimer())))
call DestroyTimerDialog(LoadTimerDialogHandle(morph_table,StringHash("Dialog"),GetHandleId(GetExpiredTimer())))
call DestroyTimer(GetExpiredTimer())
endfunction
function Morph_On_Death takes nothing returns nothing
local unit u
local boolean ishero=IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)
local timer t=LoadTimerHandle(morph_table,StringHash("Timer"),GetHandleId(GetTriggerUnit()))
set u=Morphing_return_ondedeath(GetTriggerUnit(),morph_base_type)
if(IsUnitType(u,UNIT_TYPE_HERO)and not ishero)then
call SetHeroXP(u,LoadInteger(morph_table,StringHash("Hero Exp"),GetHandleId(t)),false)
endif
call UnitDamageTarget(GetKillingUnit(),u,10000000,false,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call KillUnit(u)
call TriggerClearActions(GetTriggeringTrigger())
call DestroyTimerDialog(LoadTimerDialogHandle(morph_table,StringHash("Dialog"),GetHandleId(t)))
call DestroyTrigger(GetTriggeringTrigger())
call RemoveUnit(GetTriggerUnit())
call DestroyTimer(t)
set u=null
set t=null
endfunction
function MorphingReturnEnum takes nothing returns nothing
local unit u
local timer t=LoadTimerHandle(morph_table,StringHash("Timer"),GetHandleId(GetEnumUnit()))
local boolean ishero=IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)
call TriggerClearActions(LoadTriggerHandle(morph_table,StringHash("Death Trigger"),GetHandleId(t)))
call DestroyTrigger(LoadTriggerHandle(morph_table,StringHash("Death Trigger"),GetHandleId(t)))
call DestroyTimerDialog(LoadTimerDialogHandle(morph_table,StringHash("Dialog"),GetHandleId(t)))
call DestroyTimer(t)
set u=Morphling_return(GetEnumUnit(),morph_base_type)
if(IsUnitType(u,UNIT_TYPE_HERO)and not ishero)then
call SetHeroXP(u,LoadInteger(morph_table,StringHash("Hero Exp"),GetHandleId(t)),false)
endif
call RemoveUnit(GetEnumUnit())
set u=null
set t=null
endfunction
function All_Morphs_return takes nothing returns nothing
call ForGroup(morphs,function MorphingReturnEnum)
endfunction
function Morphling_to takes unit u,integer uid returns unit
local trigger temp_trig
local unit u2
local integer hertemp
local integer idx=1
local timer t_timer=CreateTimer()
local timerdialog ttmd
set u2=CreateUnit(GetOwningPlayer(u),uid,GetUnitX(u),GetUnitY(u),GetUnitFacing(u))
call UnitAddAbility(u2,'ACCJ')
call SetUnitX(u2,GetUnitX(u))
call SetUnitY(u2,GetUnitY(u))
call UnitRemoveAbility(u2,'IU0S')
call UnitRemoveAbility(u2,'Aihn')
call UnitRemoveAbility(u2,'AInv')
call UnitRemoveAbility(u2,'Aion')
call UnitRemoveAbility(u2,'Aien')
call UnitRemoveAbility(u2,'Aiun')
call UnitAddAbility(u2,'AInv')
call UnregUnitBonuses(u)
call ApplyAllBonuses1(u2)
loop
call UnitAddItem(u2,UnitItemInSlotBJ(u,idx))
set idx=idx+1
exitwhen idx>6
endloop
call UnitRemoveAbility(u2,'Asel')
if(IsUnitType(u,UNIT_TYPE_HERO)and IsUnitType(u2,UNIT_TYPE_HERO))then
call SetHeroXP(u2,GetHeroXP(u),false)
call SetHeroStr(u2,GetHeroStr(u,false),true)
call SetHeroInt(u2,GetHeroInt(u,false),true)
call SetHeroAgi(u2,GetHeroAgi(u,false),true)
elseif(not IsUnitType(u2,UNIT_TYPE_HERO))then
call AddHPCustom(u2,GetHeroStr(u,true)*25)
call AddWhiteDamage(u2,GetHeroAgi(u,true))
call AddUnitMaxMana(u2,GetHeroInt(u,true)*15)
endif
call SetUnitLifePercentBJ(u2,GetUnitLifePercent(u))
call SetUnitManaPercentBJ(u2,GetUnitManaPercent(u))
set idx=0
loop
if(GetLocalPlayer()==Player(idx) and IsUnitSelected(u,Player(idx)))then
call SelectUnit(u,false)
call SelectUnit(u2,true)
endif
set idx=idx+1
exitwhen idx>11
endloop
call TimerStart(t_timer,morph_length,false,function Morph_On_Timer_End)
set ttmd=CreateTimerDialogBJ(t_timer,"Morphing")
call TimerDialogDisplay(ttmd,false)
if(GetOwningPlayer(u)==GetLocalPlayer())then
call TimerDialogDisplay(ttmd,true)
endif
call SaveTimerDialogHandle(morph_table,StringHash("Dialog"),GetHandleId(t_timer),ttmd)
call SaveTimerHandle(morph_table,StringHash("Timer"),GetHandleId(u2),t_timer)
call SaveUnitHandle(morph_table,StringHash("Morphed Unit"),GetHandleId(t_timer),u2)
set temp_trig=CreateTrigger()
call SaveTriggerHandle(morph_table,StringHash("Death Trigger"),GetHandleId(t_timer),temp_trig)
call GroupAddUnit(morphs,u2)
call SaveInteger(morph_table,StringHash("Hero Exp"),GetHandleId(t_timer),GetHeroXP(u))
call RemoveUnit(u)
call TriggerRegisterUnitEvent(temp_trig,u2,EVENT_UNIT_DEATH)
call TriggerAddCondition(temp_trig,Condition(function Morph_On_Death))
set temp_trig=null
set u=u2
set u2=null
set t_timer=null
set ttmd=null
return u
endfunction
function Trig_Morphing_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()==morph_spell))then
return false
endif
return true
endfunction
function Trig_Morphing_Actions takes nothing returns nothing
if(GetUnitTypeId(GetSpellTargetUnit())==null)then
return
endif
if(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_FLYING)and(udg_NO_FLYING_UNITS==true))then
return
endif
if(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_STRUCTURE))then
return
endif
if(IsUnitInvulnerable(GetSpellTargetUnit()))then
return
endif
if(GetSpellTargetUnit()==GetTriggerUnit())then
return
endif
if(GetUnitAbilityLevel(GetSpellTargetUnit(),protects_with_abilcode)>0)then
return
endif
call Morphling_to(GetTriggerUnit(),GetUnitTypeId(GetSpellTargetUnit()))
endfunction
function InitTrig_Morphing takes nothing returns nothing
set gg_trg_Morphing=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Morphing,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Morphing,Condition(function Trig_Morphing_Conditions))
call TriggerAddAction(gg_trg_Morphing,function Trig_Morphing_Actions)
endfunction
function Trig_Zoom_Actions takes nothing returns nothing
call SetCameraFieldForPlayer(GetTriggerPlayer(),CAMERA_FIELD_FIELD_OF_VIEW,S2R(SubString(GetEventPlayerChatString(),6,999)),0)
endfunction
function InitTrig_Zoom takes nothing returns nothing
set gg_trg_Zoom=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_Zoom,Player(0),"-zoom",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Zoom,Player(1),"-zoom",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Zoom,Player(2),"-zoom",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Zoom,Player(3),"-zoom",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Zoom,Player(4),"-zoom",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Zoom,Player(5),"-zoom",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Zoom,Player(6),"-zoom",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Zoom,Player(7),"-zoom",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Zoom,Player(8),"-zoom",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Zoom,Player(9),"-zoom",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Zoom,Player(10),"-zoom",false)
call TriggerRegisterPlayerChatEvent(gg_trg_Zoom,Player(11),"-zoom",false)
call TriggerAddAction(gg_trg_Zoom,function Trig_Zoom_Actions)
endfunction
function Trig_SyncLeaderboard_Actions takes nothing returns nothing
    if(GetLocalPlayer()==GetTriggerPlayer()) then
        if(IsLeaderboardDisplayed(SyncGroups)) then
            //call BJDebugMsg(I2S(GetHandleId(SyncGroups)))
            call LeaderboardDisplay(SyncGroups,false)
        else
            //call BJDebugMsg(I2S(GetHandleId(SyncGroups)))
            call LeaderboardDisplay(SyncGroups,true)
        endif
    endif
endfunction
function InitSyncGroupsLeaderboardTimed takes nothing returns nothing
    local integer i = 0
    call CreateLeaderboardBJ(GetPlayersAll(),"Synchronous groups")
    set SyncGroups = bj_lastCreatedLeaderboard
    loop
        call LeaderboardAddItemBJ( Player(i), GetLastCreatedLeaderboard(), GetPlayerName(Player(i)), 0 )
        set i = i + 1
        exitwhen i>11
    endloop
    call LeaderboardDisplay(bj_lastCreatedLeaderboard,false)
    call DestroyTimer(GetExpiredTimer())
endfunction
function InitTrig_SyncLeaderboard takes nothing returns nothing
set gg_trg_SyncLeaderboard=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_SyncLeaderboard,Player(0),"-sync",false)
call TriggerRegisterPlayerChatEvent(gg_trg_SyncLeaderboard,Player(1),"-sync",false)
call TriggerRegisterPlayerChatEvent(gg_trg_SyncLeaderboard,Player(2),"-sync",false)
call TriggerRegisterPlayerChatEvent(gg_trg_SyncLeaderboard,Player(3),"-sync",false)
call TriggerRegisterPlayerChatEvent(gg_trg_SyncLeaderboard,Player(4),"-sync",false)
call TriggerRegisterPlayerChatEvent(gg_trg_SyncLeaderboard,Player(5),"-sync",false)
call TriggerRegisterPlayerChatEvent(gg_trg_SyncLeaderboard,Player(6),"-sync",false)
call TriggerRegisterPlayerChatEvent(gg_trg_SyncLeaderboard,Player(7),"-sync",false)
call TriggerRegisterPlayerChatEvent(gg_trg_SyncLeaderboard,Player(8),"-sync",false)
call TriggerRegisterPlayerChatEvent(gg_trg_SyncLeaderboard,Player(9),"-sync",false)
call TriggerRegisterPlayerChatEvent(gg_trg_SyncLeaderboard,Player(10),"-sync",false)
call TriggerRegisterPlayerChatEvent(gg_trg_SyncLeaderboard,Player(11),"-sync",false)
call TriggerAddAction(gg_trg_SyncLeaderboard,function Trig_SyncLeaderboard_Actions)
call TimerStart(CreateTimer(),1,false,function InitSyncGroupsLeaderboardTimed)
endfunction
function ResurrectUnit takes unit u,unit dumy,integer aid returns nothing
call fast_call_3(pGameDLL+$1B5A60,GetUnitAbility(dumy,aid),0,ConvertHandle(u))
endfunction
function ResurrectUnitSelf takes unit u,integer aid returns nothing
call UnitAddAbility(u,aid)
call ResurrectUnit(u,u,aid)
call UnitRemoveAbility(u,aid)
endfunction
function BetterMorph takes unit u,integer aid,integer uid returns nothing
call UnitAddAbility(u,aid)
call fast_call_4(pGameDLL+$E44A0,GetUnitAbility(u,aid),0,uid,GetUnitTypeId(u))
call UnitRemoveAbility(u,aid)
endfunction
function CBetterMorph takes unit u,integer uid returns nothing
call BetterMorph(u,'ABOR',uid)
endfunction
function CResurrectUnitSelf takes unit u returns nothing
call UnitAddAbility(u,'ARES')
call ResurrectUnit(u,u,'ARES')
call UnitRemoveAbility(u,'ARES')
endfunction
function ResurrectUnitSmart takes unit u,location loc returns nothing
if(IsUnitType(u,UNIT_TYPE_HERO))then
call ReviveHeroLoc(u,loc,true)
else
call SetUnitPositionLoc(u,loc)
call CResurrectUnitSelf(u)
endif
endfunction
function New_Thread_call takes code func returns nothing
local trigger t=CreateTrigger()
call TriggerAddAction(t,func)
call TriggerExecute(t)
endfunction
function SelectUnitSingleSync takes unit u,player p returns nothing
call SelectUnitForPlayerSingle(u,p)
call SyncSelections()
endfunction
function sc__KBS__Data_onDestroy takes integer this returns nothing
set udg_s__KBS__Data_targ[this]=null
if udg_s__KBS__Data_sfx[this]!=null then
call DestroyEffect(udg_s__KBS__Data_sfx[this])
set udg_s__KBS__Data_sfx[this]=null
endif
set udg_KBS__BA[0]=false
set udg_KBS__BA[1]=false
endfunction
function s__KBS__Data__allocate takes nothing returns integer
local integer this=udg_si__KBS__Data_F
if(this!=0)then
set udg_si__KBS__Data_F=udg_si__KBS__Data_V[this]
else
set udg_si__KBS__Data_I=udg_si__KBS__Data_I+1
set this=udg_si__KBS__Data_I
endif
if(this>8190)then
return 0
endif
set udg_s__KBS__Data_targ[this]=null
set udg_s__KBS__Data_speed[this]=0.00
set udg_s__KBS__Data_decrease[this]=0.00
set udg_s__KBS__Data_sin[this]=0.00
set udg_s__KBS__Data_cos[this]=0.00
set udg_s__KBS__Data_radius[this]=0.00
set udg_s__KBS__Data_sfxmode[this]=0
set udg_s__KBS__Data_sfx[this]=null
set udg_s__KBS__Data_custom[this]=false
set udg_s__KBS__Data_allowmove[this]=false
set udg_s__KBS__Data_pathing[this]=false
set udg_s__KBS__Data_forcestop[this]=false
set udg_si__KBS__Data_V[this]=-1
return this
endfunction
function sc__KBS__Data_deallocate takes integer this returns nothing
if this==null then
return
elseif(udg_si__KBS__Data_V[this]!=-1)then
return
endif
set udg_f__arg_this=this
call TriggerEvaluate(udg_st__KBS__Data_onDestroy)
set udg_si__KBS__Data_V[this]=udg_si__KBS__Data_F
set udg_si__KBS__Data_F=this
endfunction
function sc__Haunt__HauntS_onDestroy takes integer this returns nothing
set udg_f__arg_this=this
call TriggerEvaluate(udg_st__Haunt__HauntS_onDestroy)
endfunction
function sc__Haunt__HauntS_stopPeriodic takes integer this returns nothing
set udg_s__Haunt__HauntS_T32x__next[udg_s__Haunt__HauntS_T32x__prev[this]]=udg_s__Haunt__HauntS_T32x__next[this]
set udg_s__Haunt__HauntS_T32x__prev[udg_s__Haunt__HauntS_T32x__next[this]]=udg_s__Haunt__HauntS_T32x__prev[this]
endfunction
function s__Haunt__HauntS__allocate takes nothing returns integer
local integer this=udg_si__Haunt__HauntS_F
if(this!=0)then
set udg_si__Haunt__HauntS_F=udg_si__Haunt__HauntS_V[this]
else
set udg_si__Haunt__HauntS_I=udg_si__Haunt__HauntS_I+1
set this=udg_si__Haunt__HauntS_I
endif
if(this>629)then
return 0
endif
set udg_s__Haunt__HauntS_dum[this]=(this-1)*13
set udg_s__Haunt__HauntS_sfx[this]=(this-1)*13
set udg_s__Haunt__HauntS_b[this]=(this-1)*13
set udg_si__Haunt__HauntS_V[this]=-1
return this
endfunction
function sc__Haunt__HauntS_deallocate takes integer this returns nothing
if this==null then
return
elseif(udg_si__Haunt__HauntS_V[this]!=-1)then
return
endif
set udg_f__arg_this=this
call TriggerEvaluate(udg_st__Haunt__HauntS_onDestroy)
set udg_si__Haunt__HauntS_V[this]=udg_si__Haunt__HauntS_F
set udg_si__Haunt__HauntS_F=this
endfunction
function sc__Haunt__HauntSGmove_onDestroy takes integer this returns nothing
set udg_s__Haunt__HauntSGmove_a[this]=null
set udg_s__Haunt__HauntSGmove_b[this]=null
set udg_s__Haunt__HauntSGmove_c[this]=null
set udg_s__Haunt__HauntSGmove_d[this]=null
set udg_s__Haunt__HauntSGmove_mD[this]=0
endfunction
function sc__Haunt__HauntSGmove_stopPeriodic takes integer this returns nothing
set udg_s__Haunt__HauntSGmove_T32x__next[udg_s__Haunt__HauntSGmove_T32x__prev[this]]=udg_s__Haunt__HauntSGmove_T32x__next[this]
set udg_s__Haunt__HauntSGmove_T32x__prev[udg_s__Haunt__HauntSGmove_T32x__next[this]]=udg_s__Haunt__HauntSGmove_T32x__prev[this]
endfunction
function s__Haunt__HauntSGmove__allocate takes nothing returns integer
local integer this=udg_si__Haunt__HauntSGmove_F
if(this!=0)then
set udg_si__Haunt__HauntSGmove_F=udg_si__Haunt__HauntSGmove_V[this]
else
set udg_si__Haunt__HauntSGmove_I=udg_si__Haunt__HauntSGmove_I+1
set this=udg_si__Haunt__HauntSGmove_I
endif
if(this>8190)then
return 0
endif
set udg_si__Haunt__HauntSGmove_V[this]=-1
return this
endfunction
function sc__Haunt__HauntSGmove_deallocate takes integer this returns nothing
if this==null then
return
elseif(udg_si__Haunt__HauntSGmove_V[this]!=-1)then
return
endif
set udg_f__arg_this=this
call TriggerEvaluate(udg_st__Haunt__HauntSGmove_onDestroy)
set udg_si__Haunt__HauntSGmove_V[this]=udg_si__Haunt__HauntSGmove_F
set udg_si__Haunt__HauntSGmove_F=this
endfunction
function sc__Haunt__HauntSReturn_onDestroy takes integer this returns nothing
set udg_s__Haunt__HauntSReturn_a[this]=null
set udg_s__Haunt__HauntSReturn_b[this]=null
set udg_s__Haunt__HauntSReturn_c[this]=null
set udg_s__Haunt__HauntSReturn_damage[this]=0
set udg_s__Haunt__HauntSReturn_mD[this]=0
set udg_s__Haunt__HauntSReturn_speedMultiplier[this]=0
endfunction
function sc__Haunt__HauntSReturn_stopPeriodic takes integer this returns nothing
set udg_s__Haunt__HauntSReturn_T32x__next[udg_s__Haunt__HauntSReturn_T32x__prev[this]]=udg_s__Haunt__HauntSReturn_T32x__next[this]
set udg_s__Haunt__HauntSReturn_T32x__prev[udg_s__Haunt__HauntSReturn_T32x__next[this]]=udg_s__Haunt__HauntSReturn_T32x__prev[this]
endfunction
function s__Haunt__HauntSReturn__allocate takes nothing returns integer
local integer this=udg_si__Haunt__HauntSReturn_F
if(this!=0)then
set udg_si__Haunt__HauntSReturn_F=udg_si__Haunt__HauntSReturn_V[this]
else
set udg_si__Haunt__HauntSReturn_I=udg_si__Haunt__HauntSReturn_I+1
set this=udg_si__Haunt__HauntSReturn_I
endif
if(this>8190)then
return 0
endif
set udg_si__Haunt__HauntSReturn_V[this]=-1
return this
endfunction
function sc__Haunt__HauntSReturn_deallocate takes integer this returns nothing
if this==null then
return
elseif(udg_si__Haunt__HauntSReturn_V[this]!=-1)then
return
endif
set udg_f__arg_this=this
call TriggerEvaluate(udg_st__Haunt__HauntSReturn_onDestroy)
set udg_si__Haunt__HauntSReturn_V[this]=udg_si__Haunt__HauntSReturn_F
set udg_si__Haunt__HauntSReturn_F=this
endfunction
function sc__F_move takes integer this returns nothing
set udg_f__arg_this=this
call TriggerEvaluate(udg_st__F_move)
endfunction
function s__F__allocate takes nothing returns integer
local integer this=udg_si__F_F
if(this!=0)then
set udg_si__F_F=udg_si__F_V[this]
else
set udg_si__F_I=udg_si__F_I+1
set this=udg_si__F_I
endif
if(this>8190)then
return 0
endif
set udg_s__F_in[this]=0
set udg_s__F_dur[this]=0
set udg_s__F_lx[this]=0
set udg_s__F_ly[this]=0
set udg_si__F_V[this]=-1
return this
endfunction
function s__F_deallocate takes integer this returns nothing
if this==null then
return
elseif(udg_si__F_V[this]!=-1)then
return
endif
set udg_si__F_V[this]=udg_si__F_F
set udg_si__F_F=this
endfunction
function s__Tendril__allocate takes nothing returns integer
local integer this=udg_si__Tendril_F
if(this!=0)then
set udg_si__Tendril_F=udg_si__Tendril_V[this]
else
set udg_si__Tendril_I=udg_si__Tendril_I+1
set this=udg_si__Tendril_I
endif
if(this>454)then
return 0
endif
set udg_s__Tendril_TendrilPart[this]=(this-1)*18
set udg_s__Tendril_TendrilModel[this]=(this-1)*18
set udg_s__Tendril_base[this]=true
set udg_s__Tendril_rem[this]=0
set udg_s__Tendril_DefaultMovement[this]=0
set udg_si__Tendril_V[this]=-1
return this
endfunction
function s__Tendril_deallocate takes integer this returns nothing
if this==null then
return
elseif(udg_si__Tendril_V[this]!=-1)then
return
endif
set udg_si__Tendril_V[this]=udg_si__Tendril_F
set udg_si__Tendril_F=this
endfunction
function s__SurfS__Surf__allocate takes nothing returns integer
local integer this=udg_si__SurfS__Surf_F
if(this!=0)then
set udg_si__SurfS__Surf_F=udg_si__SurfS__Surf_V[this]
else
set udg_si__SurfS__Surf_I=udg_si__SurfS__Surf_I+1
set this=udg_si__SurfS__Surf_I
endif
if(this>8190)then
return 0
endif
set udg_si__SurfS__Surf_V[this]=-1
return this
endfunction
function s__SurfS__Surf_deallocate takes integer this returns nothing
if this==null then
return
elseif(udg_si__SurfS__Surf_V[this]!=-1)then
return
endif
set udg_si__SurfS__Surf_V[this]=udg_si__SurfS__Surf_F
set udg_si__SurfS__Surf_F=this
endfunction
function sc__HolyBirds___spelldata_onDestroy takes integer this returns nothing
set udg_f__arg_this=this
call TriggerEvaluate(udg_st__HolyBirds___spelldata_onDestroy)
endfunction
function sc__HolyBirds___spelldata_periodic takes nothing returns nothing
call TriggerEvaluate(udg_st__HolyBirds___spelldata_periodic)
endfunction
function s__HolyBirds___spelldata__allocate takes nothing returns integer
local integer this=udg_si__HolyBirds___spelldata_F
if(this!=0)then
set udg_si__HolyBirds___spelldata_F=udg_si__HolyBirds___spelldata_V[this]
else
set udg_si__HolyBirds___spelldata_I=udg_si__HolyBirds___spelldata_I+1
set this=udg_si__HolyBirds___spelldata_I
endif
if(this>1637)then
return 0
endif
set udg_s__HolyBirds___spelldata_targets[this]=(this-1)*5
set udg_s__HolyBirds___spelldata_missile[this]=(this-1)*5
set udg_s__HolyBirds___spelldata_caster[this]=null
set udg_s__HolyBirds___spelldata_duration[this]=0.00
set udg_s__HolyBirds___spelldata_lvl[this]=0
set udg_s__HolyBirds___spelldata_t[this]=null
set udg_si__HolyBirds___spelldata_V[this]=-1
return this
endfunction
function sc__HolyBirds___spelldata_deallocate takes integer this returns nothing
if this==null then
return
elseif(udg_si__HolyBirds___spelldata_V[this]!=-1)then
return
endif
set udg_f__arg_this=this
call TriggerEvaluate(udg_st__HolyBirds___spelldata_onDestroy)
set udg_si__HolyBirds___spelldata_V[this]=udg_si__HolyBirds___spelldata_F
set udg_si__HolyBirds___spelldata_F=this
endfunction
function sc__xefx_onDestroy takes integer this returns nothing
set udg_f__arg_this=this
call TriggerEvaluate(udg_st__xefx_onDestroy)
endfunction
function s__xefx__allocate takes nothing returns integer
local integer this=udg_si__xefx_F
if(this!=0)then
set udg_si__xefx_F=udg_si__xefx_V[this]
else
set udg_si__xefx_I=udg_si__xefx_I+1
set this=udg_si__xefx_I
endif
if(this>8190)then
return 0
endif
set udg_s__xefx_tag[this]=0
set udg_s__xefx_fx[this]=null
set udg_s__xefx_zang[this]=0.0
set udg_s__xefx_r[this]=255
set udg_s__xefx_g[this]=255
set udg_s__xefx_b[this]=255
set udg_s__xefx_a[this]=255
set udg_s__xefx_abil[this]=0
set udg_si__xefx_V[this]=-1
return this
endfunction
function sc__xefx_deallocate takes integer this returns nothing
if this==null then
return
elseif(udg_si__xefx_V[this]!=-1)then
return
endif
set udg_f__arg_this=this
call TriggerEvaluate(udg_st__xefx_onDestroy)
set udg_si__xefx_V[this]=udg_si__xefx_F
set udg_si__xefx_F=this
endfunction
function s__xedamage__allocate takes nothing returns integer
local integer this=udg_si__xedamage_F
if(this!=0)then
set udg_si__xedamage_F=udg_si__xedamage_V[this]
else
set udg_si__xedamage_I=udg_si__xedamage_I+1
set this=udg_si__xedamage_I
endif
if(this>2729)then
return 0
endif
set udg_s__xedamage_fct[this]=(this-1)*3
set udg_s__xedamage_fc[this]=(this-1)*3
set udg_s__xedamage_abifct[this]=(this-1)*3
set udg_s__xedamage_abifc[this]=(this-1)*3
set udg_s__xedamage_damageSelf[this]=false
set udg_s__xedamage_damageAllies[this]=false
set udg_s__xedamage_damageEnemies[this]=true
set udg_s__xedamage_damageNeutral[this]=true
set udg_s__xedamage_ranged[this]=true
set udg_s__xedamage_visibleOnly[this]=false
set udg_s__xedamage_deadOnly[this]=false
set udg_s__xedamage_alsoDead[this]=false
set udg_s__xedamage_damageTrees[this]=false
set udg_s__xedamage_dtype[this]=DAMAGE_TYPE_UNIVERSAL
set udg_s__xedamage_atype[this]=ATTACK_TYPE_NORMAL
set udg_s__xedamage_wtype[this]=WEAPON_TYPE_WHOKNOWS
set udg_s__xedamage_tag[this]=0
set udg_s__xedamage_forceDamage[this]=false
set udg_s__xedamage_allyfactor[this]=1.0
set udg_s__xedamage_use_ex[this]=false
set udg_s__xedamage_ex_ut[this]=null
set udg_s__xedamage_use_req[this]=false
set udg_s__xedamage_req_ut[this]=null
set udg_s__xedamage_fcn[this]=0
set udg_s__xedamage_abifcn[this]=0
set udg_s__xedamage_usefx[this]=false
set udg_si__xedamage_V[this]=-1
return this
endfunction
function s__xedamage_deallocate takes integer this returns nothing
if this==null then
return
elseif(udg_si__xedamage_V[this]!=-1)then
return
endif
set udg_si__xedamage_V[this]=udg_si__xedamage_F
set udg_si__xedamage_F=this
endfunction
function sc___prototype2100000000_999_execute takes integer i returns nothing
call TriggerExecute(udg_st___prototype1000[i])
endfunction
function sc___prototype2100000000_999_evaluate takes integer i returns nothing
call TriggerEvaluate(udg_st___prototype1000[i])
endfunction
function sc___prototype11_execute takes integer i,trigger a1,integer a2 returns nothing
set udg_f__arg_trigger1=a1
set udg_f__arg_integer1=a2
call TriggerExecute(udg_st___prototype11[i])
endfunction
function sc___prototype11_evaluate takes integer i,trigger a1,integer a2 returns nothing
set udg_f__arg_trigger1=a1
set udg_f__arg_integer1=a2
call TriggerEvaluate(udg_st___prototype11[i])
endfunction
function sc___prototype13_execute takes integer i,unit a1,real a2 returns nothing
set udg_f__arg_unit1=a1
set udg_f__arg_real1=a2
call TriggerExecute(udg_st___prototype13[i])
endfunction
function sc___prototype13_evaluate takes integer i,unit a1,real a2 returns nothing
set udg_f__arg_unit1=a1
set udg_f__arg_real1=a2
call TriggerEvaluate(udg_st___prototype13[i])
endfunction
function sc___prototype2100000000_9998_execute takes integer i,boolexpr a1 returns nothing
set udg_f__arg_boolexpr1=a1
call TriggerExecute(udg_st___prototype10008[i])
endfunction
function sc___prototype2100000000_9998_evaluate takes integer i,boolexpr a1 returns nothing
set udg_f__arg_boolexpr1=a1
call TriggerEvaluate(udg_st___prototype10008[i])
endfunction
function sc___prototype41_execute takes integer i,integer a1,unit a2,real a3,real a4,real a5 returns nothing
set udg_f__arg_integer1=a1
set udg_f__arg_unit1=a2
set udg_f__arg_real1=a3
set udg_f__arg_real2=a4
set udg_f__arg_real3=a5
call TriggerExecute(udg_st___prototype41[i])
endfunction
function sc___prototype41_evaluate takes integer i,integer a1,unit a2,real a3,real a4,real a5 returns nothing
set udg_f__arg_integer1=a1
set udg_f__arg_unit1=a2
set udg_f__arg_real1=a3
set udg_f__arg_real2=a4
set udg_f__arg_real3=a5
call TriggerEvaluate(udg_st___prototype41[i])
endfunction
function h__SetUnitMoveSpeed takes unit a0,real a1 returns nothing
call sc___prototype13_evaluate(1,a0,a1)
call SetUnitMoveSpeed(a0,a1)
endfunction
function h__DestroyBoolExpr takes boolexpr a0 returns nothing
call sc___prototype2100000000_9998_evaluate(1,a0)
call DestroyBoolExpr(a0)
endfunction
function IsDestructableDead takes destructable dest returns boolean
return GetDestructableLife(dest)<=0.405
endfunction
function IsDestructableTree takes destructable dest returns boolean
local boolean result=false
if(dest!=null)then
call PauseUnit(udg_destructableLib___dummy,false)
set result=IssueTargetOrder(udg_destructableLib___dummy,"harvest",dest)
call PauseUnit(udg_destructableLib___dummy,true)
endif
return result
endfunction
function DestructableLib___Initialization takes nothing returns nothing
set udg_destructableLib___dummy=CreateUnit(DestructableLib___OWNING_PLAYER,DestructableLib___DUMMY_UNIT_ID,0.0,0.0,0.0)
call ShowUnit(udg_destructableLib___dummy,false)
call UnitAddAbility(udg_destructableLib___dummy,DestructableLib___HARVEST_ID)
call UnitAddAbility(udg_destructableLib___dummy,'Aloc')
call PauseUnit(udg_destructableLib___dummy,true)
endfunction
function KBS__Filter_items takes nothing returns nothing
if IsItemVisible(GetEnumItem())then
set udg_KBS__Hidden[udg_KBS__Hidden_max]=GetEnumItem()
call SetItemVisible(udg_KBS__Hidden[udg_KBS__Hidden_max],false)
set udg_KBS__Hidden_max=udg_KBS__Hidden_max+1
endif
endfunction
function KBS__Check_pathability takes real x1,real y1 returns boolean
local real x2=0.00
local real y2=0.00
call SetRect(udg_KBS__Rect1,0.00,0.00,128.00,128.00)
call MoveRectTo(udg_KBS__Rect1,x1,y1)
call EnumItemsInRect(udg_KBS__Rect1,null,function KBS__Filter_items)
call SetItemPosition(udg_KBS__Item,x1,y1)
set x2=GetItemX(udg_KBS__Item)
set y2=GetItemY(udg_KBS__Item)
call SetItemVisible(udg_KBS__Item,false)
loop
exitwhen udg_KBS__Hidden_max<=0
set udg_KBS__Hidden_max=udg_KBS__Hidden_max-1
call SetItemVisible(udg_KBS__Hidden[udg_KBS__Hidden_max],true)
set udg_KBS__Hidden[udg_KBS__Hidden_max]=null
endloop
return(x1-x2)*(x1-x2)+(y1-y2)*(y1-y2)<KBS__MAX_RANGE*KBS__MAX_RANGE
endfunction
function KBS__Destroy_trees takes nothing returns nothing
if udg_KBS__BA[0]then
if(IsTree(GetEnumDestructable())) then
call KillDestructable(GetEnumDestructable())
endif
else
set udg_KBS__BA[1]=true
endif
endfunction
function KBS__Check_trees takes nothing returns boolean
local destructable dest=GetFilterDestructable()
local boolean result=false
if GetDestructableLife(dest)>0.405 then
call ShowUnit(udg_KBS__Tree_dummy,true)
call SetUnitX(udg_KBS__Tree_dummy,GetWidgetX(dest))
call SetUnitY(udg_KBS__Tree_dummy,GetWidgetY(dest))
set result=IssueTargetOrder(udg_KBS__Tree_dummy,"harvest",dest)
call IssueImmediateOrder(udg_KBS__Tree_dummy,"stop")
call ShowUnit(udg_KBS__Tree_dummy,false)
set dest=null
return result
endif
set dest=null
return result
endfunction
function KBS__Outside_bounds takes real x,real y returns boolean
return(x>udg_KBS__Game_maxX or y>udg_KBS__Game_maxY or x<udg_KBS__Game_minX or y<udg_KBS__Game_minY)
endfunction
function s__KBS__Data_terrain takes integer this returns integer
local real x=GetUnitX(udg_s__KBS__Data_targ[this])
local real y=GetUnitY(udg_s__KBS__Data_targ[this])
if IsTerrainPathable(x,y,PATHING_TYPE_FLOATABILITY)then
return 1
elseif not IsTerrainPathable(x,y,PATHING_TYPE_WALKABILITY)then
return 2
endif
return 0
endfunction
function s__KBS__Data_create takes unit Target,real Distance1,real Duration,real Angle1,string Effect,real Area,boolean AllowMove,boolean CheckPathing returns integer
local integer d=s__KBS__Data__allocate()
set udg_s__KBS__Data_targ[d]=Target
set udg_s__KBS__Data_speed[d]=(2.00*Distance1)/(Duration+1.00)
set udg_s__KBS__Data_decrease[d]=udg_s__KBS__Data_speed[d]/ Duration
set udg_s__KBS__Data_sin[d]=Sin(Angle1)
set udg_s__KBS__Data_cos[d]=Cos(Angle1)
set udg_s__KBS__Data_radius[d]=Area
set udg_s__KBS__Data_allowmove[d]=AllowMove
set udg_s__KBS__Data_pathing[d]=CheckPathing
set udg_s__KBS__Data_sfxmode[d]=s__KBS__Data_terrain(d)
if Effect!="" and Effect!=null then
set udg_s__KBS__Data_custom[d]=true
endif
if udg_s__KBS__Data_custom[d]then
set udg_s__KBS__Data_sfx[d]=AddSpecialEffectTarget(Effect,udg_s__KBS__Data_targ[d],KBS__ATTACH_POINT)
else
if udg_s__KBS__Data_sfxmode[d]==1 then
set udg_s__KBS__Data_sfx[d]=AddSpecialEffectTarget(KBS__DIRT_SFX,udg_s__KBS__Data_targ[d],KBS__ATTACH_POINT)
elseif udg_s__KBS__Data_sfxmode[d]==2 then
set udg_s__KBS__Data_sfx[d]=AddSpecialEffectTarget(KBS__WATER_SFX,udg_s__KBS__Data_targ[d],KBS__ATTACH_POINT)
endif
endif
return d
endfunction
function s__KBS__Data_onDestroy takes integer this returns nothing
set udg_s__KBS__Data_targ[this]=null
if udg_s__KBS__Data_sfx[this]!=null then
call DestroyEffect(udg_s__KBS__Data_sfx[this])
set udg_s__KBS__Data_sfx[this]=null
endif
set udg_KBS__BA[0]=false
set udg_KBS__BA[1]=false
endfunction
function s__KBS__Data_deallocate takes integer this returns nothing
if this==null then
return
elseif(udg_si__KBS__Data_V[this]!=-1)then
return
endif
call s__KBS__Data_onDestroy(this)
set udg_si__KBS__Data_V[this]=udg_si__KBS__Data_F
set udg_si__KBS__Data_F=this
endfunction
function KBS__Update takes nothing returns nothing
local integer i=1
local integer newmode=0
local integer height=0
local integer d=0
local real x=0.00
local real y=0.00
local real newx=0.00
local real newy=0.00
loop
exitwhen i>udg_KBS__Total
set d=udg_KBS__D[i]
set newmode=udg_s__KBS__Data_sfxmode[d]
set x=GetUnitX(udg_s__KBS__Data_targ[d])
set y=GetUnitY(udg_s__KBS__Data_targ[d])
if udg_s__KBS__Data_radius[d]!=0.00 then
set udg_KBS__BA[0]=udg_s__KBS__Data_radius[d]>0.00
call SetRect(udg_KBS__Rect1,x-udg_s__KBS__Data_radius[d],y-udg_s__KBS__Data_radius[d],x+udg_s__KBS__Data_radius[d],y+udg_s__KBS__Data_radius[d])
call EnumDestructablesInRect(udg_KBS__Rect1,udg_KBS__Tree_filt,function KBS__Destroy_trees)
endif
if udg_s__KBS__Data_pathing[d]then
if KBS__Check_pathability(x+KBS__DISTANCE*udg_s__KBS__Data_cos[d],y+KBS__DISTANCE*udg_s__KBS__Data_sin[d])==false then
set height=1
if KBS__SHOW_COLLISION then
call DestroyEffect(AddSpecialEffect(KBS__COLLISION_SFX,x,y))
endif
endif
endif
if not udg_s__KBS__Data_custom[d]then
set udg_s__KBS__Data_sfxmode[d]=s__KBS__Data_terrain(d)
if udg_s__KBS__Data_sfxmode[d]==1 and newmode==2 then
call DestroyEffect(udg_s__KBS__Data_sfx[d])
set udg_s__KBS__Data_sfx[d]=AddSpecialEffectTarget(KBS__DIRT_SFX,udg_s__KBS__Data_targ[d],KBS__ATTACH_POINT)
elseif udg_s__KBS__Data_sfxmode[d]==2 and newmode==1 then
call DestroyEffect(udg_s__KBS__Data_sfx[d])
set udg_s__KBS__Data_sfx[d]=AddSpecialEffectTarget(KBS__WATER_SFX,udg_s__KBS__Data_targ[d],KBS__ATTACH_POINT)
endif
endif
if udg_s__KBS__Data_speed[d]<=0 or KBS__Outside_bounds(x,y)or udg_KBS__BA[1]or height==1 or udg_s__KBS__Data_forcestop[d]==true then
call s__KBS__Data_deallocate(d)
set udg_KBS__D[i]=udg_KBS__D[udg_KBS__Total]
set udg_KBS__Total=udg_KBS__Total-1
set i=i-1
set height=0
else
set newx=x+udg_s__KBS__Data_speed[d]*udg_s__KBS__Data_cos[d]
set newy=y+udg_s__KBS__Data_speed[d]*udg_s__KBS__Data_sin[d]
if udg_s__KBS__Data_allowmove[d]then
call SetUnitX(udg_s__KBS__Data_targ[d],newx)
call SetUnitY(udg_s__KBS__Data_targ[d],newy)
else
call SetUnitPosition(udg_s__KBS__Data_targ[d],newx,newy)
endif
set udg_s__KBS__Data_speed[d]=udg_s__KBS__Data_speed[d]-udg_s__KBS__Data_decrease[d]
endif
set i=i+1
endloop
if udg_KBS__Total<=0 then
call PauseTimer(udg_KBS__Timer)
set udg_KBS__Total=0
endif
endfunction
function KBS_IsUnitSliding takes unit Target returns boolean
local integer i=1
loop
exitwhen i>udg_KBS__Total
if udg_s__KBS__Data_targ[udg_KBS__D[i]]==Target then
return true
endif
set i=i+1
endloop
return false
endfunction
function KBS_StopUnitSliding takes unit Target returns boolean
local integer i=1
loop
exitwhen i>udg_KBS__Total
if udg_s__KBS__Data_targ[udg_KBS__D[i]]==Target then
set udg_s__KBS__Data_forcestop[udg_KBS__D[i]]=true
return true
endif
set i=i+1
endloop
return false
endfunction
function KBS_BeginEx takes unit Target,real Distance1,real Duration,real Angle1,string Effect,real Area,boolean AllowMove,boolean CheckPathing returns boolean
local integer d=0
if Target==null or Distance1<=0.00 or Duration<=0.00 then
return false
endif
set d=s__KBS__Data_create(Target,Distance1,(Duration/ KBS__INTERVAL),(Angle1*0.01745328),Effect,Area,AllowMove,CheckPathing)
set udg_KBS__Total=udg_KBS__Total+1
if udg_KBS__Total==1 then
call TimerStart(udg_KBS__Timer,KBS__INTERVAL,true,function KBS__Update)
endif
set udg_KBS__D[udg_KBS__Total]=d
return true
endfunction
function KBS_Begin takes unit Target,real Distance1,real Duration,real Angle1,real Area returns nothing
call KBS_BeginEx(Target,Distance1,Duration,Angle1,"",Area,false,false)
endfunction
function KBS_BeginCommon takes unit Target,real Distance1,real Duration,real Angle1 returns nothing
call KBS_BeginEx(Target,Distance1,Duration,Angle1,null,KBS__COMMON_AREA,KBS__COMMON_ALLOW_MOVE,KBS__COMMON_CHECK_PATHING)
endfunction
function KBS__Init takes nothing returns nothing
set udg_KBS__Timer=CreateTimer()
set udg_KBS__Rect1=Rect(0.00,0.00,1.00,1.00)
set udg_KBS__Tree_filt=Filter(function KBS__Check_trees)
set udg_KBS__Game_maxX=GetRectMaxX(bj_mapInitialPlayableArea)-64.00
set udg_KBS__Game_maxY=GetRectMaxY(bj_mapInitialPlayableArea)-64.00
set udg_KBS__Game_minX=GetRectMinX(bj_mapInitialPlayableArea)+64.00
set udg_KBS__Game_minY=GetRectMinY(bj_mapInitialPlayableArea)+64.00
set udg_KBS__BA[0]=false
set udg_KBS__BA[1]=false
set udg_KBS__Tree_dummy=CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE),KBS__DUMMY_ID,0.00,0.00,0.00)
call SetUnitPathing(udg_KBS__Tree_dummy,false)
call ShowUnit(udg_KBS__Tree_dummy,false)
call UnitAddAbility(udg_KBS__Tree_dummy,KBS__HARVEST)
call UnitAddAbility(udg_KBS__Tree_dummy,KBS__LOCUST)
set udg_KBS__Item=CreateItem('ciri',0.00,0.00)
call SetItemVisible(udg_KBS__Item,false)
endfunction
function MoveSpeedXGUI__ApproxEqual takes real A,real B returns boolean
return(A>=(B-MoveSpeedXGUI__MARGIN))and(A<=(B+MoveSpeedXGUI__MARGIN))
endfunction
function s__MoveSpeedXGUI__MoveSpeedStruct_destroy takes integer this returns nothing
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_prev[udg_s__MoveSpeedXGUI__MoveSpeedStruct_next[this]]=udg_s__MoveSpeedXGUI__MoveSpeedStruct_prev[this]
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_next[udg_s__MoveSpeedXGUI__MoveSpeedStruct_prev[this]]=udg_s__MoveSpeedXGUI__MoveSpeedStruct_next[this]
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_prev[this]=udg_s__MoveSpeedXGUI__MoveSpeedStruct_MoveSpeedXGUI__M__ir
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_MoveSpeedXGUI__M__ir=this
call RemoveSavedInteger(udg_s__MoveSpeedXGUI__MoveSpeedStruct_hash,0,GetHandleId(udg_s__MoveSpeedXGUI__MoveSpeedStruct_curr[this]))
endfunction
function s__MoveSpeedXGUI__MoveSpeedStruct_MoveSpeedXGUI__M__periodic takes nothing returns nothing
local integer this=udg_s__MoveSpeedXGUI__MoveSpeedStruct_next[(0)]
local real nx=0
local real ny=0
local real dx=0
local real dy=0
local real d=0
local unit u
loop
exitwhen this==0
set u=udg_s__MoveSpeedXGUI__MoveSpeedStruct_curr[this]
set nx=GetUnitX(u)
set ny=GetUnitY(u)
if(not IsUnitPaused(u))and GetUnitAbilityLevel(u,'BSTN')==0 and GetUnitAbilityLevel(u,'BPSE')==0 then
if not MoveSpeedXGUI__ApproxEqual(nx,udg_s__MoveSpeedXGUI__MoveSpeedStruct_x[this])or not MoveSpeedXGUI__ApproxEqual(ny,udg_s__MoveSpeedXGUI__MoveSpeedStruct_y[this])then
set dx=nx-udg_s__MoveSpeedXGUI__MoveSpeedStruct_x[this]
set dy=ny-udg_s__MoveSpeedXGUI__MoveSpeedStruct_y[this]
set d=SquareRoot(dx*dx+dy*dy)
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_x[this]=nx+dx/ d*udg_s__MoveSpeedXGUI__MoveSpeedStruct_speed[this]
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_y[this]=ny+dy/ d*udg_s__MoveSpeedXGUI__MoveSpeedStruct_speed[this]
call SetUnitX(u,udg_s__MoveSpeedXGUI__MoveSpeedStruct_x[this])
call SetUnitY(u,udg_s__MoveSpeedXGUI__MoveSpeedStruct_y[this])
endif
endif
set this=udg_s__MoveSpeedXGUI__MoveSpeedStruct_next[this]
endloop
set u=null
endfunction
function s__MoveSpeedXGUI__MoveSpeedStruct_create takes unit whichUnit,real newSpeed returns integer
local integer this=udg_s__MoveSpeedXGUI__MoveSpeedStruct_MoveSpeedXGUI__M__ir
if this==0 then
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_MoveSpeedXGUI__M__ic=udg_s__MoveSpeedXGUI__MoveSpeedStruct_MoveSpeedXGUI__M__ic+1
set this=udg_s__MoveSpeedXGUI__MoveSpeedStruct_MoveSpeedXGUI__M__ic
else
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_MoveSpeedXGUI__M__ir=udg_s__MoveSpeedXGUI__MoveSpeedStruct_prev[this]
endif
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_next[this]=udg_s__MoveSpeedXGUI__MoveSpeedStruct_next[(0)]
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_prev[udg_s__MoveSpeedXGUI__MoveSpeedStruct_next[(0)]]=this
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_next[(0)]=this
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_prev[this]=0
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_curr[this]=whichUnit
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_speed[this]=(newSpeed-522)*MoveSpeedXGUI__PERIOD
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_x[this]=GetUnitX(whichUnit)
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_y[this]=GetUnitY(whichUnit)
call SaveInteger(udg_s__MoveSpeedXGUI__MoveSpeedStruct_hash,0,GetHandleId(whichUnit),this)
return this
endfunction
function s__MoveSpeedXGUI__MoveSpeedStruct_update takes unit whichUnit,real newSpeed returns nothing
local integer this=0
if HaveSavedInteger(udg_s__MoveSpeedXGUI__MoveSpeedStruct_hash,0,GetHandleId(whichUnit))then
set this=LoadInteger(udg_s__MoveSpeedXGUI__MoveSpeedStruct_hash,0,GetHandleId(whichUnit))
if newSpeed>522 then
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_speed[this]=(newSpeed-522)*MoveSpeedXGUI__PERIOD
else
call s__MoveSpeedXGUI__MoveSpeedStruct_destroy(this)
endif
elseif newSpeed>522 then
call s__MoveSpeedXGUI__MoveSpeedStruct_create(whichUnit,newSpeed)
endif
endfunction
function s__MoveSpeedXGUI__MoveSpeedStruct_MoveSpeedXGUI__M__onInit takes nothing returns nothing
call TimerStart(CreateTimer(),MoveSpeedXGUI__PERIOD,true,function s__MoveSpeedXGUI__MoveSpeedStruct_MoveSpeedXGUI__M__periodic)
endfunction
function GetUnitMoveSpeedX takes unit whichUnit returns real
if HaveSavedInteger(udg_s__MoveSpeedXGUI__MoveSpeedStruct_hash,0,GetHandleId(whichUnit))then
return(udg_s__MoveSpeedXGUI__MoveSpeedStruct_speed[(LoadInteger(udg_s__MoveSpeedXGUI__MoveSpeedStruct_hash,0,GetHandleId(whichUnit)))]/ MoveSpeedXGUI__PERIOD)+522
endif
return GetUnitMoveSpeed(whichUnit)
endfunction
function SetUnitMoveSpeedX takes unit whichUnit,real newSpeed returns nothing
call s__MoveSpeedXGUI__MoveSpeedStruct_update(whichUnit,newSpeed)
endfunction
function PauseUnitEx takes unit u,boolean flag returns nothing
local integer i=LoadInteger(udg_PauseUtils__Hash,0,GetHandleId(u))
if flag then
if i==0 then
call PauseUnit(u,true)
endif
call SaveInteger(udg_PauseUtils__Hash,0,GetHandleId(u),i+1)
else
call SaveInteger(udg_PauseUtils__Hash,0,GetHandleId(u),i-1)
if i-1<=0 then
call RemoveSavedInteger(udg_PauseUtils__Hash,0,GetHandleId(u))
call PauseUnit(u,false)
endif
endif
endfunction
function PauseUtils__Init takes nothing returns nothing
set udg_PauseUtils__Hash=InitHashtable()
endfunction
function T32__OnExpire takes nothing returns nothing
set udg_T32_Tick=udg_T32_Tick+1
call TriggerEvaluate(udg_T32__Trig)
endfunction
function T32__OnInit takes nothing returns nothing
call TimerStart(CreateTimer(),T32_PERIOD,true,function T32__OnExpire)
endfunction
function SetTimerData takes timer t,integer value returns nothing
call SaveInteger(udg_TimerUtils__ht,0,GetHandleId(t),value)
endfunction
function GetTimerData takes timer t returns integer
return LoadInteger(udg_TimerUtils__ht,0,GetHandleId(t))
endfunction
function NewTimerEx takes integer value returns timer
if(udg_TimerUtils__tN==0)then
if(not udg_TimerUtils__didinit)then
call TriggerEvaluate(udg_st___prototype1000[(1)])
set udg_TimerUtils__tN=udg_TimerUtils__tN-1
else
set udg_s__TimerUtils__tT[0]=CreateTimer()
endif
else
set udg_TimerUtils__tN=udg_TimerUtils__tN-1
endif
call SaveInteger(udg_TimerUtils__ht,0,GetHandleId((udg_s__TimerUtils__tT[udg_TimerUtils__tN])),(value))
return udg_s__TimerUtils__tT[udg_TimerUtils__tN]
endfunction
function NewTimer takes nothing returns timer
return NewTimerEx(0)
endfunction
function ReleaseTimer takes timer t returns nothing
if(t==null)then
return
endif
if(udg_TimerUtils__tN==TimerUtils__ARRAY_SIZE)then
call DestroyTimer(t)
else
call PauseTimer(t)
if((LoadInteger(udg_TimerUtils__ht,0,GetHandleId((t))))==TimerUtils__HELD)then
return
endif
call SaveInteger(udg_TimerUtils__ht,0,GetHandleId((t)),(TimerUtils__HELD))
set udg_s__TimerUtils__tT[udg_TimerUtils__tN]=t
set udg_TimerUtils__tN=udg_TimerUtils__tN+1
endif
endfunction
function TimerUtils__init takes nothing returns nothing
local integer i=0
local integer o=-1
local boolean oops=false
if(udg_TimerUtils__didinit)then
return
else
set udg_TimerUtils__didinit=true
endif
set udg_TimerUtils__ht=InitHashtable()
loop
exitwhen(i==TimerUtils__QUANTITY)
set udg_s__TimerUtils__tT[i]=CreateTimer()
call SaveInteger(udg_TimerUtils__ht,0,GetHandleId((udg_s__TimerUtils__tT[i])),(TimerUtils__HELD))
set i=i+1
endloop
set udg_TimerUtils__tN=TimerUtils__QUANTITY
endfunction
function AIDS__UnitIndexingFilter takes unit u returns boolean
return true
endfunction
constant function AIDS_GetEnteringIndexUnit takes nothing returns unit
return udg_AIDS__ARStackUnit[udg_AIDS__ARStackLevel]
endfunction
function AIDS_GetIndexOfEnteringUnit takes nothing returns integer
if udg_AIDS__ARStackIndex[udg_AIDS__ARStackLevel]==0 then
if udg_AIDS__MaxRecycledIndex==0 then
set udg_AIDS__MaxIndex=udg_AIDS__MaxIndex+1
set udg_AIDS__ARStackIndex[udg_AIDS__ARStackLevel]=udg_AIDS__MaxIndex
else
set udg_AIDS__ARStackIndex[udg_AIDS__ARStackLevel]=udg_AIDS__RecycledIndex[udg_AIDS__MaxRecycledIndex]
set udg_AIDS__MaxRecycledIndex=udg_AIDS__MaxRecycledIndex-1
endif
call SetUnitUserData(udg_AIDS__ARStackUnit[udg_AIDS__ARStackLevel],udg_AIDS__ARStackIndex[udg_AIDS__ARStackLevel])
set udg_AIDS__IndexUnit[udg_AIDS__ARStackIndex[udg_AIDS__ARStackLevel]]=udg_AIDS__ARStackUnit[udg_AIDS__ARStackLevel]
set udg_AIDS__MaxDecayingIndex=udg_AIDS__MaxDecayingIndex+1
set udg_AIDS__DecayingIndex[udg_AIDS__MaxDecayingIndex]=udg_AIDS__ARStackIndex[udg_AIDS__ARStackLevel]
endif
return udg_AIDS__ARStackIndex[udg_AIDS__ARStackLevel]
endfunction
constant function AIDS_GetIndexOfEnteringUnitAllocated takes nothing returns integer
return udg_AIDS__ARStackIndex[udg_AIDS__ARStackLevel]
endfunction
constant function AIDS_GetDecayingIndex takes nothing returns integer
return udg_AIDS__UndefendExpiringIndex[udg_AIDS__UndefendExpiringIndexLevel]
endfunction
function AIDS_RegisterOnEnter takes boolexpr b returns triggercondition
return TriggerAddCondition(udg_AIDS__OnEnter,b)
endfunction
function AIDS_RegisterOnEnterAllocated takes boolexpr b returns triggercondition
return TriggerAddCondition(udg_AIDS__OnEnterAllocated,b)
endfunction
function AIDS_RegisterOnDeallocate takes boolexpr b returns triggercondition
return TriggerAddCondition(udg_AIDS__OnDeallocate,b)
endfunction
function GetIndexUnit takes integer index returns unit
return udg_AIDS__IndexUnit[index]
endfunction
function GetUnitId takes unit u returns integer
return GetUnitUserData(u)
endfunction
function GetUnitIndex takes unit u returns integer
set udg_AIDS__getindex=GetUnitUserData(u)
if udg_AIDS__getindex==0 then
if udg_AIDS__MaxRecycledIndex==0 then
set udg_AIDS__MaxIndex=udg_AIDS__MaxIndex+1
set udg_AIDS__getindex=udg_AIDS__MaxIndex
else
set udg_AIDS__getindex=udg_AIDS__RecycledIndex[udg_AIDS__MaxRecycledIndex]
set udg_AIDS__MaxRecycledIndex=udg_AIDS__MaxRecycledIndex-1
endif
call SetUnitUserData(u,udg_AIDS__getindex)
set udg_AIDS__IndexUnit[udg_AIDS__getindex]=u
call UnitAddAbility(udg_AIDS__ARStackUnit[udg_AIDS__ARStackLevel],AIDS__LEAVE_DETECTION_ABILITY)
call UnitMakeAbilityPermanent(udg_AIDS__ARStackUnit[udg_AIDS__ARStackLevel],true,AIDS__LEAVE_DETECTION_ABILITY)
endif
return udg_AIDS__getindex
endfunction
function AIDS_AddLock takes integer index returns nothing
set udg_AIDS__LockLevel[index]=udg_AIDS__LockLevel[index]+1
endfunction
function AIDS_RemoveLock takes integer index returns nothing
set udg_AIDS__LockLevel[index]=udg_AIDS__LockLevel[index]-1
if GetUnitUserData(udg_AIDS__IndexUnit[index])==0 and udg_AIDS__LockLevel[index]==0 then
set udg_AIDS__UndefendExpiringIndexLevel=udg_AIDS__UndefendExpiringIndexLevel+1
set udg_AIDS__UndefendExpiringIndex[udg_AIDS__UndefendExpiringIndexLevel]=index
call TriggerEvaluate(udg_AIDS__OnDeallocate)
set udg_AIDS__UndefendExpiringIndexLevel=udg_AIDS__UndefendExpiringIndexLevel-1
set udg_AIDS__MaxRecycledIndex=udg_AIDS__MaxRecycledIndex+1
set udg_AIDS__RecycledIndex[udg_AIDS__MaxRecycledIndex]=index
set udg_AIDS__IndexUnit[index]=null
endif
endfunction
function AIDS__UndefendFilter takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)
endfunction
function AIDS__OnUndefendTimer takes nothing returns nothing
loop
exitwhen udg_AIDS__UndefendStackIndex==0
set udg_AIDS__UndefendStackIndex=udg_AIDS__UndefendStackIndex-1
set udg_AIDS__UndefendExpiringIndex[0]=udg_AIDS__UndefendIndex[udg_AIDS__UndefendStackIndex]
if udg_AIDS__IndexUnit[udg_AIDS__UndefendExpiringIndex[0]]!=null then
if GetUnitUserData(udg_AIDS__IndexUnit[udg_AIDS__UndefendExpiringIndex[0]])==0 then
if udg_AIDS__LockLevel[udg_AIDS__UndefendExpiringIndex[0]]==0 then
call TriggerEvaluate(udg_AIDS__OnDeallocate)
set udg_AIDS__MaxRecycledIndex=udg_AIDS__MaxRecycledIndex+1
set udg_AIDS__RecycledIndex[udg_AIDS__MaxRecycledIndex]=udg_AIDS__UndefendExpiringIndex[0]
set udg_AIDS__IndexUnit[udg_AIDS__UndefendExpiringIndex[0]]=null
endif
endif
endif
endloop
endfunction
function AIDS__OnUndefend takes nothing returns boolean
if GetIssuedOrderId()==852056 then
set udg_AIDS__UndefendFilterIndex=GetUnitUserData(GetOrderedUnit())
if udg_AIDS__UndefendIndex[udg_AIDS__UndefendStackIndex-1]!=udg_AIDS__UndefendFilterIndex then
set udg_AIDS__UndefendIndex[udg_AIDS__UndefendStackIndex]=udg_AIDS__UndefendFilterIndex
set udg_AIDS__UndefendStackIndex=udg_AIDS__UndefendStackIndex+1
call TimerStart(udg_AIDS__UndefendTimer,0,false,function AIDS__OnUndefendTimer)
endif
endif
return false
endfunction
function AIDS_IndexEnum takes nothing returns boolean
set udg_AIDS__ARStackLevel=udg_AIDS__ARStackLevel+1
set udg_AIDS__ARStackUnit[udg_AIDS__ARStackLevel]=GetFilterUnit()
if GetUnitUserData(udg_AIDS__ARStackUnit[udg_AIDS__ARStackLevel])==0 then
if AIDS__UnitIndexingFilter(udg_AIDS__ARStackUnit[udg_AIDS__ARStackLevel])then
if udg_AIDS__MaxRecycledIndex==0 then
set udg_AIDS__MaxIndex=udg_AIDS__MaxIndex+1
set udg_AIDS__ARStackIndex[udg_AIDS__ARStackLevel]=udg_AIDS__MaxIndex
else
set udg_AIDS__ARStackIndex[udg_AIDS__ARStackLevel]=udg_AIDS__RecycledIndex[udg_AIDS__MaxRecycledIndex]
set udg_AIDS__MaxRecycledIndex=udg_AIDS__MaxRecycledIndex-1
endif
call SetUnitUserData(udg_AIDS__ARStackUnit[udg_AIDS__ARStackLevel],udg_AIDS__ARStackIndex[udg_AIDS__ARStackLevel])
set udg_AIDS__IndexUnit[udg_AIDS__ARStackIndex[udg_AIDS__ARStackLevel]]=udg_AIDS__ARStackUnit[udg_AIDS__ARStackLevel]
call UnitAddAbility(udg_AIDS__ARStackUnit[udg_AIDS__ARStackLevel],AIDS__LEAVE_DETECTION_ABILITY)
call UnitMakeAbilityPermanent(udg_AIDS__ARStackUnit[udg_AIDS__ARStackLevel],true,AIDS__LEAVE_DETECTION_ABILITY)
call TriggerEvaluate(udg_AIDS__OnEnter)
else
set udg_AIDS__ARStackIndex[udg_AIDS__ARStackLevel]=0
call TriggerEvaluate(udg_AIDS__OnEnter)
endif
endif
set udg_AIDS__ARStackLevel=udg_AIDS__ARStackLevel-1
return false
endfunction
function AIDS__InitAIDS takes nothing returns nothing
local region r=CreateRegion()
local group g=CreateGroup()
local integer n=15
local trigger t=CreateTrigger()
loop
call TriggerRegisterPlayerUnitEvent(t,Player(n),EVENT_PLAYER_UNIT_ISSUED_ORDER,Filter(function AIDS__UndefendFilter))
call SetPlayerAbilityAvailable(Player(n),AIDS__LEAVE_DETECTION_ABILITY,false)
exitwhen n==0
set n=n-1
endloop
set n=15
call TriggerAddCondition(t,Filter(function AIDS__OnUndefend))
set t=null
call RegionAddRect(r,GetWorldBounds())
call TriggerRegisterEnterRegion(CreateTrigger(),r,Filter(function AIDS_IndexEnum))
set r=null
loop
call GroupEnumUnitsOfPlayer(g,Player(n),Filter(function AIDS_IndexEnum))
exitwhen n==0
set n=n-1
endloop
call DestroyGroup(g)
set g=null
endfunction
function s__AIDS_DEFAULT_AIDS_onCreate takes integer this returns nothing
endfunction
function s__AIDS_DEFAULT_AIDS_onDestroy takes integer this returns nothing
endfunction
function s__AIDS_DEFAULT_AIDS_filter takes unit u returns boolean
return AIDS__UnitIndexingFilter(u)
endfunction
function s__AIDS_DEFAULT_AIDS_onInit takes nothing returns nothing
endfunction
function GroupUtils__HookDestroyGroup takes group g returns nothing
if g==udg_ENUM_GROUP then
call BJDebugMsg("GroupUtils_Warning: ENUM_GROUP destroyed")
endif
endfunction
function GroupUtils__AddEx takes nothing returns nothing
if udg_GroupUtils__Flag then
call GroupClear(udg_GroupUtils__Refr)
set udg_GroupUtils__Flag=false
endif
call GroupAddUnit(udg_GroupUtils__Refr,GetEnumUnit())
endfunction
function GroupRefresh takes group g returns nothing
set udg_GroupUtils__Flag=true
set udg_GroupUtils__Refr=g
call ForGroup(udg_GroupUtils__Refr,function GroupUtils__AddEx)
if udg_GroupUtils__Flag then
call GroupClear(g)
endif
endfunction
function NewGroup takes nothing returns group
if udg_GroupUtils__Count==0 then
set udg_GroupUtils__Groups[0]=CreateGroup()
else
set udg_GroupUtils__Count=udg_GroupUtils__Count-1
endif
call SaveInteger(udg_GroupUtils__ht,0,GetHandleId(udg_GroupUtils__Groups[udg_GroupUtils__Count]),1)
return udg_GroupUtils__Groups[udg_GroupUtils__Count]
endfunction
function ReleaseGroup takes group g returns boolean
local integer id=GetHandleId(g)
if g==null then
return false
elseif not HaveSavedInteger(udg_GroupUtils__ht,0,id)then
return false
elseif LoadInteger(udg_GroupUtils__ht,0,id)==2 then
return false
elseif udg_GroupUtils__Count==8191 then
call DestroyGroup(g)
return false
endif
call SaveInteger(udg_GroupUtils__ht,0,id,2)
call GroupClear(g)
set udg_GroupUtils__Groups[udg_GroupUtils__Count]=g
set udg_GroupUtils__Count=udg_GroupUtils__Count+1
return true
endfunction
function GroupUtils__Filter takes nothing returns boolean
return IsUnitInRangeXY(GetFilterUnit(),udg_GroupUtils__X,udg_GroupUtils__Y,udg_GroupUtils__R)
endfunction
function GroupUtils__HookDestroyBoolExpr takes boolexpr b returns nothing
local integer bid=GetHandleId(b)
if HaveSavedHandle(udg_GroupUtils__H,0,bid)then
call h__DestroyBoolExpr(LoadBooleanExprHandle(udg_GroupUtils__H,0,bid))
call RemoveSavedHandle(udg_GroupUtils__H,0,bid)
endif
endfunction
constant function GroupUtils__GetRadius takes real radius returns real
return radius+XE_MAX_COLLISION_SIZE
endfunction
function GroupEnumUnitsInArea takes group whichGroup,real x,real y,real radius,boolexpr filter returns nothing
local real prevX=udg_GroupUtils__X
local real prevY=udg_GroupUtils__Y
local real prevR=udg_GroupUtils__R
local integer bid=0
set udg_GroupUtils__X=x
set udg_GroupUtils__Y=y
set udg_GroupUtils__R=radius
if filter==null then
set filter=Condition(function GroupUtils__Filter)
else
set bid=GetHandleId(filter)
if HaveSavedHandle(udg_GroupUtils__H,0,bid)then
set filter=LoadBooleanExprHandle(udg_GroupUtils__H,0,bid)
else
set filter=And(Condition(function GroupUtils__Filter),filter)
call SaveBooleanExprHandle(udg_GroupUtils__H,0,bid,filter)
endif
endif
call GroupEnumUnitsInRange(whichGroup,x,y,(((radius)*1.0)+XE_MAX_COLLISION_SIZE),filter)
set udg_GroupUtils__X=prevX
set udg_GroupUtils__Y=prevY
set udg_GroupUtils__R=prevR
endfunction
function GroupUnitsInArea takes group whichGroup,real x,real y,real radius returns nothing
local real prevX=udg_GroupUtils__X
local real prevY=udg_GroupUtils__Y
local real prevR=udg_GroupUtils__R
set udg_GroupUtils__X=x
set udg_GroupUtils__Y=y
set udg_GroupUtils__R=radius
call GroupEnumUnitsInRange(whichGroup,x,y,(((radius)*1.0)+XE_MAX_COLLISION_SIZE),Condition(function GroupUtils__Filter))
set udg_GroupUtils__X=prevX
set udg_GroupUtils__Y=prevY
set udg_GroupUtils__R=prevR
endfunction
function GroupUtils__True takes nothing returns boolean
return true
endfunction
function GroupUtils__False takes nothing returns boolean
return false
endfunction
function GroupUtils__Init takes nothing returns nothing
set udg_BOOLEXPR_TRUE=Condition(function GroupUtils__True)
set udg_BOOLEXPR_FALSE=Condition(function GroupUtils__False)
endfunction
function s__xedamage__set_exception takes integer this,unittype ut returns nothing
set udg_s__xedamage_use_ex[this]=true
set udg_s__xedamage_ex_ut[this]=ut
endfunction
function s__xedamage__set_required takes integer this,unittype ut returns nothing
set udg_s__xedamage_use_req[this]=true
set udg_s__xedamage_req_ut[this]=ut
endfunction
function s__xedamage_factor takes integer this,unittype ut,real fc returns nothing
if(udg_s__xedamage_fcn[this]==xedamage___MAX_SUB_OPTIONS)then
return
endif
set udg_s___xedamage_fct[udg_s__xedamage_fct[this]+udg_s__xedamage_fcn[this]]=ut
set udg_s___xedamage_fc[udg_s__xedamage_fc[this]+udg_s__xedamage_fcn[this]]=fc
set udg_s__xedamage_fcn[this]=udg_s__xedamage_fcn[this]+1
endfunction
function s__xedamage_abilityFactor takes integer this,integer abilityId,real fc returns nothing
if(udg_s__xedamage_abifcn[this]==xedamage___MAX_SUB_OPTIONS)then
return
endif
set udg_s___xedamage_abifct[udg_s__xedamage_abifct[this]+udg_s__xedamage_abifcn[this]]=abilityId
set udg_s___xedamage_abifc[udg_s__xedamage_abifc[this]+udg_s__xedamage_abifcn[this]]=fc
set udg_s__xedamage_abifcn[this]=udg_s__xedamage_abifcn[this]+1
endfunction
function s__xedamage_useSpecialEffect takes integer this,string path,string attach returns nothing
set udg_s__xedamage_usefx[this]=true
set udg_s__xedamage_fxpath[this]=path
set udg_s__xedamage_fxattach[this]=attach
endfunction
function s__xedamage_isInUse takes nothing returns boolean
return(udg_s__xedamage_inUse>0)
endfunction
function s__xedamage_getDamageTypeFactor takes unit u,attacktype a,damagetype d returns real
local real hp=GetWidgetLife(u)
local real mana=GetUnitState(u,UNIT_STATE_MANA)
local real r
call SetUnitX(udg_xedamage___dmger,GetUnitX(u))
call SetUnitY(udg_xedamage___dmger,GetUnitY(u))
call SetUnitOwner(udg_xedamage___dmger,GetOwningPlayer(u),false)
set r=hp
if(hp<1)then
call SetWidgetLife(u,1)
set r=1
endif
call UnitDamageTarget(udg_xedamage___dmger,u,0.01,false,false,a,d,null)
call SetUnitOwner(udg_xedamage___dmger,Player(15),false)
if(mana>GetUnitState(u,UNIT_STATE_MANA))then
call SetUnitState(u,UNIT_STATE_MANA,mana)
set r=1
else
set r=(r-GetWidgetLife(u))*100
endif
call SetWidgetLife(u,hp)
return r
endfunction
function s__xedamage_getTargetFactorCore takes integer this,unit source,unit target,boolean usetypes returns real
local player p=GetOwningPlayer(source)
local boolean allied=IsUnitAlly(target,p)
local boolean enemy=IsUnitEnemy(target,p)
local boolean neutral=allied
local real f
local real negf=1.0
local integer i
if(udg_s__xedamage_damageAllies[this]!=udg_s__xedamage_damageNeutral[this])then
set neutral=allied and not(GetPlayerAlliance(GetOwningPlayer(target),p,ALLIANCE_HELP_REQUEST))
set allied=allied and not(neutral)
endif
if(not udg_s__xedamage_damageAllies[this])and allied then
return 0.0
elseif(not udg_s__xedamage_damageEnemies[this])and enemy then
return 0.0
elseif((not udg_s__xedamage_damageSelf[this])and(source==target))then
return 0.0
elseif(not udg_s__xedamage_damageNeutral[this])and neutral then
return 0.0
elseif(udg_s__xedamage_use_ex[this]and IsUnitType(target,udg_s__xedamage_ex_ut[this]))then
return 0.0
elseif(udg_s__xedamage_visibleOnly[this]and not IsUnitVisible(target,p))then
return 0.0
elseif(udg_s__xedamage_deadOnly[this]and not IsUnitType(target,UNIT_TYPE_DEAD))then
return 0.0
elseif(not(udg_s__xedamage_alsoDead[this])and IsUnitType(target,UNIT_TYPE_DEAD))then
return 0.0
endif
set f=1.0
if(IsUnitAlly(target,p))then
set f=f*udg_s__xedamage_allyfactor[this]
if(f<=-xedamage___EPSILON)then
set f=-f
set negf=-1.0
endif
endif
if(udg_s__xedamage_use_req[this]and not IsUnitType(target,udg_s__xedamage_req_ut[this]))then
return 0.0
endif
set i=udg_s__xedamage_fcn[this]-1
loop
exitwhen(i<0)
if(IsUnitType(target,udg_s___xedamage_fct[udg_s__xedamage_fct[this]+i]))then
set f=f*udg_s___xedamage_fc[udg_s__xedamage_fc[this]+i]
if(f<=-xedamage___EPSILON)then
set f=-f
set negf=-1.0
endif
endif
set i=i-1
endloop
set i=udg_s__xedamage_abifcn[this]-1
loop
exitwhen(i<0)
if(GetUnitAbilityLevel(target,udg_s___xedamage_abifct[udg_s__xedamage_abifct[this]+i])>0)then
set f=f*udg_s___xedamage_abifc[udg_s__xedamage_abifc[this]+i]
if(f<=-xedamage___EPSILON)then
set f=-f
set negf=-1.0
endif
endif
set i=i-1
endloop
set f=f*negf
if(f<=xedamage___EPSILON)and(f>=-xedamage___EPSILON)then
return 0.0
endif
if(udg_s__xedamage_forceDamage[this]or not usetypes)then
return f
endif
set f=f*s__xedamage_getDamageTypeFactor(target,udg_s__xedamage_atype[this],udg_s__xedamage_dtype[this])
if(f<=xedamage___EPSILON)and(f>=-xedamage___EPSILON)then
return 0.0
endif
return f
endfunction
function s__xedamage_getTargetFactor takes integer this,unit source,unit target returns real
return s__xedamage_getTargetFactorCore(this,source,target,true)
endfunction
function s__xedamage_allowedTarget takes integer this,unit source,unit target returns boolean
return(s__xedamage_getTargetFactorCore(this,source,target,false)!=0.0)
endfunction
function s__xedamage_damageTarget takes integer this,unit source,unit target,real damage returns boolean
local damagetype dt=udg_s__xedamage_CurrentDamageType
local attacktype at=udg_s__xedamage_CurrentAttackType
local integer tg=udg_s__xedamage_CurrentDamageTag
local real f=s__xedamage_getTargetFactorCore(this,source,target,false)
local real pl
if(f!=0.0)then
set udg_s__xedamage_CurrentDamageType=udg_s__xedamage_dtype[this]
set udg_s__xedamage_CurrentAttackType=udg_s__xedamage_atype[this]
set udg_s__xedamage_CurrentDamageTag=udg_s__xedamage_tag[this]
if(udg_s__xedamage_usefx[this])then
call DestroyEffect(AddSpecialEffectTarget(udg_s__xedamage_fxpath[this],target,udg_s__xedamage_fxattach[this]))
endif
set udg_s__xedamage_inUse=udg_s__xedamage_inUse+1
set pl=GetWidgetLife(target)
call UnitDamageTarget(source,target,f*damage,true,udg_s__xedamage_ranged[this],udg_s__xedamage_atype[this],udg_s__xedamage_dtype[this],udg_s__xedamage_wtype[this])
set udg_s__xedamage_inUse=udg_s__xedamage_inUse-1
set udg_s__xedamage_CurrentDamageTag=tg
set udg_s__xedamage_CurrentDamageType=dt
set udg_s__xedamage_CurrentAttackType=at
return(pl!=GetWidgetLife(target))
endif
return false
endfunction
function s__xedamage_damageTargetForceValue takes integer this,unit source,unit target,real damage returns nothing
local damagetype dt=udg_s__xedamage_CurrentDamageType
local attacktype at=udg_s__xedamage_CurrentAttackType
local integer tg=udg_s__xedamage_CurrentDamageTag
set udg_s__xedamage_CurrentDamageType=udg_s__xedamage_dtype[this]
set udg_s__xedamage_CurrentAttackType=udg_s__xedamage_atype[this]
set udg_s__xedamage_CurrentDamageTag=udg_s__xedamage_tag[this]
if(udg_s__xedamage_usefx[this])then
call DestroyEffect(AddSpecialEffectTarget(udg_s__xedamage_fxpath[this],target,udg_s__xedamage_fxattach[this]))
endif
set udg_s__xedamage_inUse=udg_s__xedamage_inUse+1
call UnitDamageTarget(source,target,damage,true,udg_s__xedamage_ranged[this],null,null,udg_s__xedamage_wtype[this])
set udg_s__xedamage_inUse=udg_s__xedamage_inUse-1
set udg_s__xedamage_CurrentDamageTag=tg
set udg_s__xedamage_CurrentDamageType=dt
set udg_s__xedamage_CurrentAttackType=at
endfunction
function s__xedamage_damageGroup takes integer this,unit source,group targetGroup,real damage returns integer
local damagetype dt=udg_s__xedamage_CurrentDamageType
local attacktype at=udg_s__xedamage_CurrentAttackType
local integer tg=udg_s__xedamage_CurrentDamageTag
local unit target
local real f
local integer count=0
set udg_s__xedamage_CurrentDamageType=udg_s__xedamage_dtype[this]
set udg_s__xedamage_CurrentAttackType=udg_s__xedamage_atype[this]
set udg_s__xedamage_CurrentDamageTag=udg_s__xedamage_tag[this]
set udg_s__xedamage_inUse=udg_s__xedamage_inUse+1
loop
set target=FirstOfGroup(targetGroup)
exitwhen(target==null)
call GroupRemoveUnit(targetGroup,target)
set f=s__xedamage_getTargetFactorCore(this,source,target,false)
if(f!=0.0)then
set count=count+1
if(udg_s__xedamage_usefx[this])then
call DestroyEffect(AddSpecialEffectTarget(udg_s__xedamage_fxpath[this],target,udg_s__xedamage_fxattach[this]))
endif
call UnitDamageTarget(source,target,f*damage,true,udg_s__xedamage_ranged[this],udg_s__xedamage_atype[this],udg_s__xedamage_dtype[this],udg_s__xedamage_wtype[this])
endif
endloop
set udg_s__xedamage_inUse=udg_s__xedamage_inUse-1
set udg_s__xedamage_CurrentDamageTag=tg
set udg_s__xedamage_CurrentDamageType=dt
set udg_s__xedamage_CurrentAttackType=at
return count
endfunction
function s__xedamage_damageAOE_Enum takes nothing returns boolean
local unit target=GetFilterUnit()
local integer this=udg_s__xedamage_instance
local real f
if(not IsUnitInRangeXY(target,udg_s__xedamage_AOEx[this],udg_s__xedamage_AOEy[this],udg_s__xedamage_AOEradius[this]))then
set target=null
return false
endif
set f=s__xedamage_getTargetFactorCore(this,udg_s__xedamage_sourceAOE[this],target,false)
if(f!=0.0)then
set udg_s__xedamage_countAOE[this]=udg_s__xedamage_countAOE[this]+1
call UnitDamageTarget(udg_s__xedamage_sourceAOE[this],target,f*udg_s__xedamage_AOEdamage[this],true,udg_s__xedamage_ranged[this],udg_s__xedamage_atype[this],udg_s__xedamage_dtype[this],udg_s__xedamage_wtype[this])
if(udg_s__xedamage_usefx[this])then
call DestroyEffect(AddSpecialEffectTarget(udg_s__xedamage_fxpath[this],target,udg_s__xedamage_fxattach[this]))
endif
endif
set udg_s__xedamage_instance=this
set target=null
return false
endfunction
function s__xedamage_damageAOE_DestructablesEnum takes nothing returns boolean
local destructable target=GetFilterDestructable()
local integer this=udg_s__xedamage_instance
local real dx=udg_s__xedamage_AOEx[this]-GetDestructableX(target)
local real dy=udg_s__xedamage_AOEy[this]-GetDestructableY(target)
if(dx*dx+dy*dy>=udg_s__xedamage_AOEradius[this]+xedamage___EPSILON)then
set target=null
return false
endif
set udg_s__xedamage_countAOE[this]=udg_s__xedamage_countAOE[this]+1
if(udg_s__xedamage_usefx[this])then
call DestroyEffect(AddSpecialEffectTarget(udg_s__xedamage_fxpath[this],target,udg_s__xedamage_fxattach[this]))
endif
call UnitDamageTarget(udg_s__xedamage_sourceAOE[this],target,udg_s__xedamage_AOEdamage[this],true,udg_s__xedamage_ranged[this],udg_s__xedamage_atype[this],udg_s__xedamage_dtype[this],udg_s__xedamage_wtype[this])
set udg_s__xedamage_instance=this
set target=null
return false
endfunction
function s__xedamage_damageAOE takes integer this,unit source,real x,real y,real radius,real damage returns integer
local damagetype dt=udg_s__xedamage_CurrentDamageType
local attacktype at=udg_s__xedamage_CurrentAttackType
local integer tg=udg_s__xedamage_CurrentDamageTag
set udg_s__xedamage_CurrentDamageType=udg_s__xedamage_dtype[this]
set udg_s__xedamage_CurrentAttackType=udg_s__xedamage_atype[this]
set udg_s__xedamage_CurrentDamageTag=udg_s__xedamage_tag[this]
set udg_s__xedamage_inUse=udg_s__xedamage_inUse+1
set udg_s__xedamage_instance=this
set udg_s__xedamage_countAOE[this]=0
set udg_s__xedamage_sourceAOE[this]=source
set udg_s__xedamage_AOEx[this]=x
set udg_s__xedamage_AOEradius[this]=radius
set udg_s__xedamage_AOEy[this]=y
set udg_s__xedamage_AOEdamage[this]=damage
call GroupEnumUnitsInRange(udg_s__xedamage_enumgroup,x,y,radius+XE_MAX_COLLISION_SIZE,udg_s__xedamage_filterAOE)
if(udg_s__xedamage_damageTrees[this])then
call SetRect(udg_s__xedamage_AOERect,x-radius,y-radius,x+radius,y+radius)
set udg_s__xedamage_AOEradius[this]=udg_s__xedamage_AOEradius[this]*udg_s__xedamage_AOEradius[this]
call EnumDestructablesInRect(udg_s__xedamage_AOERect,udg_s__xedamage_filterDestAOE,null)
endif
set udg_s__xedamage_inUse=udg_s__xedamage_inUse-1
set udg_s__xedamage_CurrentDamageTag=tg
set udg_s__xedamage_CurrentDamageType=dt
set udg_s__xedamage_CurrentAttackType=at
return udg_s__xedamage_countAOE[this]
endfunction
function s__xedamage_damageAOELoc takes integer this,unit source,location loc,real radius,real damage returns integer
return s__xedamage_damageAOE(this,source,GetLocationX(loc),GetLocationY(loc),radius,damage)
endfunction
function s__xedamage_damageDestructablesAOE takes integer this,unit source,real x,real y,real radius,real damage returns integer
set udg_s__xedamage_instance=this
set udg_s__xedamage_countAOE[this]=0
set udg_s__xedamage_sourceAOE[this]=source
set udg_s__xedamage_AOEx[this]=x
set udg_s__xedamage_AOEradius[this]=radius*radius
set udg_s__xedamage_AOEy[this]=y
set udg_s__xedamage_AOEdamage[this]=damage
call SetRect(udg_s__xedamage_AOERect,x-radius,y-radius,x+radius,y+radius)
call EnumDestructablesInRect(udg_s__xedamage_AOERect,udg_s__xedamage_filterDestAOE,null)
return udg_s__xedamage_countAOE[this]
endfunction
function s__xedamage_damageDestructablesAOELoc takes integer this,unit source,location loc,real radius,real damage returns integer
return s__xedamage_damageDestructablesAOE(this,source,GetLocationX(loc),GetLocationY(loc),radius,damage)
endfunction
function s__xedamage_xedamage___structInit takes nothing returns nothing
set udg_s__xedamage_AOERect=Rect(0,0,0,0)
set udg_s__xedamage_filterAOE=Condition(function s__xedamage_damageAOE_Enum)
set udg_s__xedamage_filterDestAOE=Condition(function s__xedamage_damageAOE_DestructablesEnum)
set udg_s__xedamage_enumgroup=CreateGroup()
endfunction
function xedamage___init takes nothing returns nothing
set udg_xedamage___dmger=CreateUnit(Player(15),XE_DUMMY_UNITID,0.,0.,0.)
call UnitAddAbility(udg_xedamage___dmger,'Aloc')
call s__xedamage_xedamage___structInit()
endfunction
function s__xefx___recyclebin_Recycle takes nothing returns nothing
call RemoveUnit(udg_s__xefx___recyclebin_u[udg_s__xefx___recyclebin_begin])
set udg_s__xefx___recyclebin_u[udg_s__xefx___recyclebin_begin]=null
set udg_s__xefx___recyclebin_begin=((udg_s__xefx___recyclebin_begin)+1)
if(udg_s__xefx___recyclebin_begin==udg_s__xefx___recyclebin_end)then
set udg_s__xefx___recyclebin_begin=0
set udg_s__xefx___recyclebin_end=0
else
call TimerStart(udg_xefx___recycler,udg_s__xefx___recyclebin_schedule[udg_s__xefx___recyclebin_begin]-TimerGetElapsed(udg_xefx___NOW),false,function s__xefx___recyclebin_Recycle)
endif
endfunction
function xefx___init takes nothing returns nothing
set udg_xefx___recycler=CreateTimer()
set udg_xefx___NOW=CreateTimer()
call TimerStart(udg_xefx___NOW,43200,true,null)
endfunction
function s__xefx_create takes real x,real y,real facing returns integer
local integer this=s__xefx__allocate()
set udg_s__xefx_dummy[this]=CreateUnit(Player(15),XE_DUMMY_UNITID,x,y,facing*bj_RADTODEG)
call UnitAddAbility(udg_s__xefx_dummy[this],XE_HEIGHT_ENABLER)
call UnitAddAbility(udg_s__xefx_dummy[this],'Aloc')
call UnitRemoveAbility(udg_s__xefx_dummy[this],XE_HEIGHT_ENABLER)
call SetUnitX(udg_s__xefx_dummy[this],x)
call SetUnitY(udg_s__xefx_dummy[this],y)
return this
endfunction
function s__xefx__get_owner takes integer this returns player
return GetOwningPlayer(udg_s__xefx_dummy[this])
endfunction
function s__xefx__set_owner takes integer this,player p returns nothing
call SetUnitOwner(udg_s__xefx_dummy[this],p,false)
endfunction
function s__xefx__set_teamcolor takes integer this,playercolor c returns nothing
call SetUnitColor(udg_s__xefx_dummy[this],c)
endfunction
function s__xefx__set_scale takes integer this,real value returns nothing
call SetUnitScale(udg_s__xefx_dummy[this],value,value,value)
endfunction
function s__xefx__get_red takes integer this returns integer
return udg_s__xefx_r[this]
endfunction
function s__xefx__set_red takes integer this,integer value returns nothing
set udg_s__xefx_r[this]=value
call SetUnitVertexColor(udg_s__xefx_dummy[this],udg_s__xefx_r[this],udg_s__xefx_g[this],udg_s__xefx_b[this],udg_s__xefx_a[this])
endfunction
function s__xefx__get_green takes integer this returns integer
return udg_s__xefx_g[this]
endfunction
function s__xefx__set_green takes integer this,integer value returns nothing
set udg_s__xefx_g[this]=value
call SetUnitVertexColor(udg_s__xefx_dummy[this],udg_s__xefx_r[this],udg_s__xefx_g[this],udg_s__xefx_b[this],udg_s__xefx_a[this])
endfunction
function s__xefx__get_blue takes integer this returns integer
return udg_s__xefx_b[this]
endfunction
function s__xefx__set_blue takes integer this,integer value returns nothing
set udg_s__xefx_b[this]=value
call SetUnitVertexColor(udg_s__xefx_dummy[this],udg_s__xefx_r[this],udg_s__xefx_g[this],udg_s__xefx_b[this],udg_s__xefx_a[this])
endfunction
function s__xefx__get_alpha takes integer this returns integer
return udg_s__xefx_a[this]
endfunction
function s__xefx__set_alpha takes integer this,integer value returns nothing
set udg_s__xefx_a[this]=value
call SetUnitVertexColor(udg_s__xefx_dummy[this],udg_s__xefx_r[this],udg_s__xefx_g[this],udg_s__xefx_b[this],udg_s__xefx_a[this])
endfunction
function s__xefx_recolor takes integer this,integer r,integer g,integer b,integer a returns nothing
set udg_s__xefx_r[this]=r
set udg_s__xefx_g[this]=g
set udg_s__xefx_b[this]=b
set udg_s__xefx_a[this]=a
call SetUnitVertexColor(udg_s__xefx_dummy[this],udg_s__xefx_r[this],udg_s__xefx_g[this],udg_s__xefx_b[this],udg_s__xefx_a[this])
endfunction
function s__xefx__get_abilityid takes integer this returns integer
return udg_s__xefx_abil[this]
endfunction
function s__xefx__set_abilityid takes integer this,integer a returns nothing
if(udg_s__xefx_abil[this]!=0)then
call UnitRemoveAbility(udg_s__xefx_dummy[this],udg_s__xefx_abil[this])
endif
if(a!=0)then
call UnitAddAbility(udg_s__xefx_dummy[this],a)
endif
set udg_s__xefx_abil[this]=a
endfunction
function s__xefx_flash takes integer this,string fx returns nothing
call DestroyEffect(AddSpecialEffectTarget(fx,udg_s__xefx_dummy[this],"origin"))
endfunction
function s__xefx__get_xyangle takes integer this returns real
return GetUnitFacing(udg_s__xefx_dummy[this])*bj_DEGTORAD
endfunction
function s__xefx__set_xyangle takes integer this,real value returns nothing
call SetUnitFacing(udg_s__xefx_dummy[this],value*bj_RADTODEG)
endfunction
function s__xefx__get_zangle takes integer this returns real
return udg_s__xefx_zang[this]
endfunction
function s__xefx__set_zangle takes integer this,real value returns nothing
local integer i=R2I(value*bj_RADTODEG+90.5)
set udg_s__xefx_zang[this]=value
if(i>=180)then
set i=179
elseif(i<0)then
set i=0
endif
call SetUnitAnimationByIndex(udg_s__xefx_dummy[this],i)
endfunction
function s__xefx__get_x takes integer this returns real
return GetUnitX(udg_s__xefx_dummy[this])
endfunction
function s__xefx__get_y takes integer this returns real
return GetUnitY(udg_s__xefx_dummy[this])
endfunction
function s__xefx__get_z takes integer this returns real
return GetUnitFlyHeight(udg_s__xefx_dummy[this])
endfunction
function s__xefx__set_z takes integer this,real value returns nothing
call SetUnitFlyHeight(udg_s__xefx_dummy[this],value,0)
endfunction
function s__xefx__set_x takes integer this,real value returns nothing
call SetUnitX(udg_s__xefx_dummy[this],value)
endfunction
function s__xefx__set_y takes integer this,real value returns nothing
call SetUnitY(udg_s__xefx_dummy[this],value)
endfunction
function s__xefx__set_fxpath takes integer this,string newpath returns nothing
if(udg_s__xefx_fx[this]!=null)then
call DestroyEffect(udg_s__xefx_fx[this])
endif
if(newpath=="")then
set udg_s__xefx_fx[this]=null
else
set udg_s__xefx_fx[this]=AddSpecialEffectTarget(newpath,udg_s__xefx_dummy[this],"origin")
endif
endfunction
function s__xefx_onDestroy takes integer this returns nothing
if(udg_s__xefx_abil[this]!=0)then
call UnitRemoveAbility(udg_s__xefx_dummy[this],udg_s__xefx_abil[this])
endif
if(udg_s__xefx_fx[this]!=null)then
call DestroyEffect(udg_s__xefx_fx[this])
set udg_s__xefx_fx[this]=null
endif
if(udg_s__xefx___recyclebin_end==xefx___MAX_INSTANCES)then
call TimerStart(udg_xefx___recycler,0,false,function s__xefx___recyclebin_Recycle)
call ExplodeUnitBJ(udg_s__xefx_dummy[this])
else
set udg_s__xefx___recyclebin_u[udg_s__xefx___recyclebin_end]=udg_s__xefx_dummy[this]
set udg_s__xefx___recyclebin_schedule[udg_s__xefx___recyclebin_end]=TimerGetElapsed(udg_xefx___NOW)+xefx___RECYCLE_DELAY
set udg_s__xefx___recyclebin_end=((udg_s__xefx___recyclebin_end)+1)
if(udg_s__xefx___recyclebin_end==1)then
call TimerStart(udg_xefx___recycler,xefx___RECYCLE_DELAY,false,function s__xefx___recyclebin_Recycle)
endif
call SetUnitOwner(udg_s__xefx_dummy[this],Player(15),false)
endif
set udg_s__xefx_dummy[this]=null
endfunction
function s__xefx_deallocate takes integer this returns nothing
if this==null then
return
elseif(udg_si__xefx_V[this]!=-1)then
return
endif
call s__xefx_onDestroy(this)
set udg_si__xefx_V[this]=udg_si__xefx_F
set udg_si__xefx_F=this
endfunction
function XE_PreloadAbility takes integer abilid returns nothing
call UnitAddAbility(udg_xepreload___dum,abilid)
endfunction
function xepreload___kill takes nothing returns nothing
call RemoveUnit(udg_xepreload___dum)
set udg_xepreload___dum=null
call DestroyTimer(GetExpiredTimer())
endfunction
function xepreload___init takes nothing returns nothing
set udg_xepreload___dum=CreateUnit(Player(15),XE_DUMMY_UNITID,0,0,0)
call TimerStart(CreateTimer(),0.0,false,function xepreload___kill)
endfunction
function EnableTrade_Actions takes nothing returns nothing
call SetMapFlag(MAP_LOCK_RESOURCE_TRADING,false)
call DisplayTextToForce(GetPlayersAll(),"Recource Trade Was Enabled")
call DisableTrigger(GetTriggeringTrigger())
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function hidden_heroes_Action takes nothing returns nothing
local group select=CreateGroup()
call GroupEnumUnitsSelected(select,GetTriggerPlayer(),null)
if((GetUnitTypeId(FirstOfGroup(select))=='uaco')and(GetEventPlayerChatString()=="-builder"))then
call AddUnitToStock(FirstOfGroup(select),'u012',0,1)
endif
if((GetUnitTypeId(FirstOfGroup(select))=='N033')and(GetEventPlayerChatString()=="-demon"))then
call AddUnitToStock(FirstOfGroup(select),'Edmm',0,1)
endif
call DestroyGroup(select)
endfunction
function InitTrig_hidden_heroes takes nothing returns nothing
local integer i=0
set udg_hidden_heroes=CreateTrigger()
loop
call TriggerRegisterPlayerChatEvent(udg_hidden_heroes,Player(i),"-builder",true)
call TriggerRegisterPlayerChatEvent(udg_hidden_heroes,Player(i),"-demon",true)
set i=i+1
exitwhen i>11
endloop
call TriggerAddAction(udg_hidden_heroes,function hidden_heroes_Action)
endfunction
function InitTrig_EnableTrade takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEventSingle(t,420.)
call TriggerAddAction(t,function EnableTrade_Actions)
endfunction
function AddEggEvolution takes integer id returns nothing
    set Egg_Evolutions[Egg_Evocnt] = id
    set Egg_Evocnt = Egg_Evocnt + 1
endfunction
function InitGlobals2 takes nothing returns nothing
local integer i=0
call AddEggEvolution('H03G')
call AddEggEvolution('H03J')
call AddEggEvolution('H03C')
call AddEggEvolution('Hant')
call AddEggEvolution('u01Z')
call AddEggEvolution('h068') //Terrorist 5
call AddEggEvolution('Hblm')
call AddEggEvolution('e00N') //Ancient of Wind 2
call AddEggEvolution('E013')
call AddEggEvolution('H03W')
// call AddEggEvolution('E00D')
call AddEggEvolution('H07A')
// call AddEggEvolution('H01Y')
//call AddEggEvolution('H06K') //Iron Knight
call AddEggEvolution('H05L')
call AddEggEvolution('h04W') //Tinker 5
call AddEggEvolution('N01X')
call AddEggEvolution('N04D')
call AddEggEvolution('Hmbr')
call AddEggEvolution('nvlk')
call AddEggEvolution('Ogrh')
call AddEggEvolution('Orex')
call AddEggEvolution('Nalc')
call AddEggEvolution('Ntin')
call AddEggEvolution('O00U')
set rct_Trees_Naga=Rect(1216,4736,1632,4960)
set rct_Trees_FB1=Rect(-256,9088,-32,9696)
set rct_Trees_FB2=Rect(-256,8288,0,8896)
set rct_Trees_FB3=Rect(-6528,8288,-6304,8736)
set rct_Trees_FB4=Rect(-6496,9216,-6304,9696)
set InvulUnits=CreateGroup()
set UnexpectedEnterer=CreateGroup()
set udg_Humans=CreateForce()
set udg_Evil=CreateForce()
set i=0
loop
exitwhen(i>1)
set udg_JD_Animations[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JD_Effect[i]=""
set i=i+1
endloop
set udg_JDA_Animation=""
set udg_JDA_SpecialEffect=""
set i=0
loop
exitwhen(i>1)
set udg_JD_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JD_Distances[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JD_HighSettings[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JD_Integers[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JD_JumpHigh[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JD_ReachedDistance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JD_RealTimer[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JD_SpeedUnits[i]=0
set i=i+1
endloop
set udg_JDA_AnimationSpeed=0
set udg_JDA_JumpHigh_Distance=0
set udg_JD_Group=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_JD_TreesDestroy[i]=false
set i=i+1
endloop
set udg_JDA_Collusion=false
set udg_JDA_DestroyTrees_Dash=false
set udg_JDA_Speed=0
set i=0
loop
exitwhen(i>1)
set udg_Hipporider[i]='ehpr'
set i=i+1
endloop
set udg_evilgroup=CreateGroup()
set udg_KnockbackAngle=0
set udg_KnockbackSpeed=0
set udg_KnockbackDistance=0
set udg_KB_KnockbackedUnits=CreateGroup()
set udg_KB_CountBuffs=0
set udg_KB_TotalKnockUnits=0
set i=0
loop
exitwhen(i>1)
set udg_KB_Levels[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_MaxDistance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_ReachedDistance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_ReduceSpeedReal[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_SpecificSpeed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_Effects_1[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_Effects_2[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_DestroyTrees[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_EffectCounter[i]=0
set i=i+1
endloop
set general_tp_dispatcher = CreateUnit(Player(15),'h07U',6656.0,-5408.0,0)
set general_tp_respawn_buffer = CreateUnit(Player(15),'dDUM',6656.0,-5408.0,0)
set general_tp_respawn_bufferex = CreateUnit(Player(15),'dDUM',6656.0,-5408.0,0)
set stun_dispatcher001 = CreateUnit(Player(15),'dDUM',6656,-5408,0)
set stun_dispatcher002 = CreateUnit(Player(15),'dDUM',6656,-5408,0)
set stun_dispatcher003 = CreateUnit(Player(15),'dDUM',6656,-5408,0)
set stun_dispatcher004 = CreateUnit(Player(15),'dDUM',6656,-5408,0)
set stun_dispatcher005 = CreateUnit(Player(15),'dDUM',6656,-5408,0)
set stun_dispatcher006 = CreateUnit(Player(15),'dDUM',6656,-5408,0)
set stun_dispatcher007 = CreateUnit(Player(15),'dDUM',6656,-5408,0)
set stun_dispatcher008 = CreateUnit(Player(15),'dDUM',6656,-5408,0)
set stun_dispatcher009 = CreateUnit(Player(15),'dDUM',6656,-5408,0)
set stun_dispatcher01 = CreateUnit(Player(15),'dDUM',6656,-5408,0)
set stun_dispatcher02 = CreateUnit(Player(15),'dDUM',6656,-5408,0)
set stun_dispatcher03 = CreateUnit(Player(15),'dDUM',6656,-5408,0)
set stun_dispatcher04 = CreateUnit(Player(15),'dDUM',6656,-5408,0)
set stun_dispatcher05 = CreateUnit(Player(15),'dDUM',6656,-5408,0)
set stun_dispatcher06 = CreateUnit(Player(15),'dDUM',6656,-5408,0)
set stun_dispatcher07 = CreateUnit(Player(15),'dDUM',6656,-5408,0)
set stun_dispatcher08 = CreateUnit(Player(15),'dDUM',6656,-5408,0)
set stun_dispatcher09 = CreateUnit(Player(15),'dDUM',6656,-5408,0)
call UnitAddAbility(general_tp_respawn_bufferex,'A0M2')
call UnitAddAbility(general_tp_respawn_buffer,'A0LV')
call UnitAddAbility(general_tp_dispatcher,'A0LU')
set TeleportedUnits = CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_KB_EffectCounter2[i]=0
set i=i+1
endloop
set udg_KBA_Level=0
set udg_KBA_DistancePerLevel=0
set udg_KBA_Speed=0
set i=0
loop
exitwhen(i>1)
set udg_KBA_SpecialEffects[i]=""
set i=i+1
endloop
set udg_KBA_DestroyTrees=false
set udg_KB_ReducedReal=0
set udg_KB_TempReal=0
set udg_Sample_Group=CreateGroup()
set udg_HydroJetCasters=CreateGroup()
set udg_HydroJetProjectiles=CreateGroup()
set udg_SpellLevel=0
set udg_A_Speed=0
set udg_A_AoE=0
set udg_A_Bool=false
set udg_A_Real=0
set udg_A_Damage=0
set udg_TempInteger=0
set udg_TempGroup=CreateGroup()
set udg_SandStorm=CreateGroup()
set udg_Amount=0
set udg_PG1=CreateForce()
set udg_PG2=CreateForce()
set udg_Dueling=false
set udg_Duel_Dark_Unit_Count=0
set udg_Duel_Light_Unit_Count=0
set udg_duel_timer=CreateTimer()
set udg_Player1_tome_count=0
set udg_RF_RocksPerLevel=0
set udg_RF_AoE=0
set udg_RF_RockfallSequenceTimer=0
set udg_RF_FallingTime=0
set udg_RF_MinDamagePerRock=0
set udg_RF_MaxDamagePerRock=0
set udg_RF_DamageTrees=false
set i=0
loop
exitwhen(i>1)
set udg_RFS_DummyIntegers[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFS_NumberOfRocks[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFS_Conjuring[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFS_Reals[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFS_Timer[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFS_NumberConjured[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFS_MaxDamage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_F_Integers[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_F_Time[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_F_SetFadeValue[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_F_RFS_MaxDamage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFSine_Integers[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RF_SineReals[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFSine_MaxDamage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_F_ReachedFading[i]=0
set i=i+1
endloop
set udg_RF_UnitGroup=CreateGroup()
set udg_RFAA_JumpHigh_Distance=0
set udg_RFAA_Speed=0
set i=0
loop
exitwhen(i>1)
set udg_RFA_Integers[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFA_MaxDmg[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFA_Distances[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFA_ReachedDistance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFA_SpeedUnits[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFA_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFA_HighSettings[i]=0
set i=i+1
endloop
set udg_RFA_Group=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_RFA_RealTimer[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_RFA_JumpHigh[i]=0
set i=i+1
endloop
set udg_human_team=CreateForce()
set udg_undead_team=CreateForce()
set udg_druid_players=CreateForce()
set udg_human_team_units=0
set udg_undead_team_units=0
set udg_human_unit_group=CreateGroup()
set udg_undead_unit_group=CreateGroup()
set udg_JP_Spam=0
set udg_JP_Times=0
set i=0
loop
exitwhen(i>1)
set udg_JP_Off[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JP_Angel[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JP_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JP_Speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JP_Fly_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JP_Max_Height[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JP_Formula[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JP_Fly[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_JP_Parabole[i]=0
set i=i+1
endloop
set udg_BM_nagateam=CreateForce()
set udg_BM_ice_gnoll_team=CreateForce()
set udg_BM_undeadteam=CreateForce()
set udg_BM_humanteam=CreateForce()
set udg_ES_Counter=0
set udg_ES_Damage=0
set udg_ES_AoE=0
set udg_ES_MaxTimer=0
set udg_ES_KillDestructables=false
set udg_ES_CreateText=false
set udg_ES_0Text=""
set udg_ES_KillIfDead=false
set udg_ES_DetectInvis=false
set udg_ES_Sheeps=CreateGroup()
set udg_ES_Units=CreateGroup()
set udg_BS_Skip=0
set udg_BS_MissileCount=0
set udg_BS_Times=0
set i=0
loop
exitwhen(i>1)
set udg_BS_On[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_Level[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_Range[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_Colision[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_Up[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_EndZ[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_Height[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_StartZ[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_Hyp[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_SINE[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_COSINE[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_HYPSpeed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_Speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_SpeedZ[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_Debug[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_DebugZ[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BS_Group[i]=CreateGroup()
set i=i+1
endloop
set udg_RESTART=false
set udg_number_of_playing_players=0
set udg_PLAYING_PLAYERS=CreateForce()
set udg_Infernal_guards=CreateGroup()
set udg_Nazgul_Rider_Players=CreateForce()
set udg_CE_Ability_Level=0
set udg_CE_Base_Damage=0
set udg_CE_Total_Damage=0
set udg_CE_Area_of_Effect=0
set udg_CE_Destroy_Trees=false
set udg_CE_Pathing_On=false
set udg_CE_Knock_Angle=0
set udg_CE_Knock_Speed=0
set udg_CE_Knock_Distance=0
set udg_CE_Knock_Group=CreateGroup()
set udg_CE_Damage_Group=CreateGroup()
set udg_AP_Index_Size=0
set i=0
loop
exitwhen(i>1)
set udg_AP_Index[i]=0
set i=i+1
endloop
set udg_AP_Index_maxSize=0
set udg_APTempIndex=0
set i=0
loop
exitwhen(i>1)
set udg_AP_ANGLE[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_AP_SPEED[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_AP_DUR[i]=0
set i=i+1
endloop
set udg_PE_Chance2=0
set udg_PE_Chance=0
set udg_FW_Index_Size=0
set i=0
loop
exitwhen(i>1)
set udg_FW_Index[i]=0
set i=i+1
endloop
set udg_FW_Index_maxSize=0
set udg_FW_TempInt=0
set i=0
loop
exitwhen(i>1)
set udg_FW_Dur[i]=0
set i=i+1
endloop
set udg_FW_AoE=0
set i=0
loop
exitwhen(i>1)
set udg_FW_IntialDamage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FW_DOT[i]=0
set i=i+1
endloop
set udg_TempIndex=0
set udg_LS_Index_Size=0
set i=0
loop
exitwhen(i>1)
set udg_LS_Index[i]=0
set i=i+1
endloop
set udg_LS_Index_maxSize=0
set udg_LS_TempInt=0
set i=0
loop
exitwhen(i>1)
set udg_LS_Dur[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_LS_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_LS_Offset[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_LS_AoE[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_LS_Degrees[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_LS_DegreeLength[i]=0
set i=i+1
endloop
set udg_FD_Index_Size=0
set i=0
loop
exitwhen(i>1)
set udg_FD_Index[i]=0
set i=i+1
endloop
set udg_FD_Index_maxSize=0
set udg_FD_TempInt=0
set i=0
loop
exitwhen(i>1)
set udg_FD_Offset[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FD_AoE[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FD_DegreeInterval[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FD_Degrees[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FD_Duration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FD_Damage[i]=0
set i=i+1
endloop
set udg_HR_Index_Size=0
set i=0
loop
exitwhen(i>1)
set udg_HR_Index[i]=0
set i=i+1
endloop
set udg_HR_Index_maxSize=0
set udg_TempInt=0
set i=0
loop
exitwhen(i>1)
set udg_HR_Offset[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_HR_Degree[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_HR_Dur[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_HR_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_HR_AoE[i]=0
set i=i+1
endloop
set udg_Arrow_Counts=0
set udg_Arrow_CountMaxSize=0
set udg_Arrow_Angle=0
set udg_Arrow_StartGroup=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_Arrow_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_Arrow_DistanceTravel[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_Arrow_StunDuration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_Arrow_DistanceCount[i]=0
set i=i+1
endloop
set udg_Arrow_CusValue=0
set udg_Arrow_UnitGroup=CreateGroup()
set udg_Arrow_RandomUnit=CreateGroup()
set udg_Creep_Rein_Levels=0
set udg_Creep_upgrading_playergroup=CreateForce()
set udg_RESTART_COUNT=1
set udg_DUEL_NEUTRAL=false
set udg_Selected_Units_MS=CreateGroup()
set udg_MS_Player_Group=CreateForce()
set udg_LivingRocks=0
set udg_AcolyteSize=0
set udg_QJ_Size=0
set udg_QJ_Homing=false
set udg_QJ_attackTypeID=0
set udg_QJ_damageTypeID=0
set udg_QJS_Angle=0
set udg_QJS_Distance=0
set udg_QJ_Damage=0
set udg_QJ_Speed=0
set udg_QJ_Collision=false
set udg_QJ_AoE=false
set udg_QJ_AoERadius=0
set udg_QJ_AoESFX=""
set udg_QJ_Pierce=false
set udg_QJS_DamagedGroup=CreateGroup()
set udg_QJS_arrowGroup=CreateGroup()
set udg_QJS_victimGroup=CreateGroup()
set udg_EM_MODE=false
set udg_CHOOSE_SETTINGS=DialogCreate()
set udg_CHOOSE_SETTINGS_2=DialogCreate()
set udg_Tome_Count=0
set udg_Real_Damage=0
set udg_Real_Heal=0
set udg_Holy_Wrath_Group=CreateGroup()
set udg_RANDOM_BUFF=0
set udg_TEMP_LIVES_UNITGROUP=CreateGroup()
set udg_TEMP_LIVES_UNITGROUP_2=CreateGroup()
set udg_TEMP_LIVES_INTEGER=0
set udg_SETTINGS_CHOICE1_YES=false
set udg_SETTINGS_CHOICE2_YES=false
set udg_SETTINGS_CHOICE3_YES=false
set i=0
loop
exitwhen(i>1)
set udg_Real[i]=0
set i=i+1
endloop
set udg_Leapers=CreateGroup()
set udg_WHICH_DUEL=0
set i=0
loop
exitwhen(i>1)
set udg_CL_Index[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CL_AbilityLevel[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CL_Boolean[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CL_Slashes[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CL_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CL_AOE[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CL_Group[i]=CreateGroup()
set i=i+1
endloop
set udg_MG_Switch=0
set udg_MG_CastNumber=0
set i=0
loop
exitwhen(i>1)
set udg_MG_Off[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_MG_Time[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_MG_Count[i]=0
set i=i+1
endloop
set udg_WS_Chance=0
set udg_WS_Switch=0
set udg_WS_CastNumber=0
set i=0
loop
exitwhen(i>1)
set udg_WS_Off[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WS_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WS_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WS_Speed[i]=0
set i=i+1
endloop
set udg_ID_Switch=0
set udg_ID_CastNumber=0
set i=0
loop
exitwhen(i>1)
set udg_ID_Off[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_ID_Speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_ID_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_ID_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_ID_Angle[i]=0
set i=i+1
endloop
set udg_CountdownTimer=CreateTimer()
set udg_first_integer=0
set udg_BE_integer=0
set udg_BE_array=0
set i=0
loop
exitwhen(i>1)
set udg_bounces[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BE_speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_damage1[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BE_angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BE_distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BE_group[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BE_MAX[i]=0
set i=i+1
endloop
set udg_OOW_CastCount=0
set udg_OOW_OrbLifeTime=0
set udg_OOW_MaxFlyHeight=0
set udg_OOW_DamageBase=0
set udg_OOW_DamageInc=0
set udg_OOW_SphereRadius=0
set udg_OOW_OrbSpeed=0
set i=0
loop
exitwhen(i>1)
set udg_OOW_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_OOW_HitGroup[i]=CreateGroup()
set i=i+1
endloop
set udg_CountdownTimer_Copy=CreateTimer()
set udg_CountdownTimer_Copy_2=CreateTimer()
set udg_CountdownTimer_Copy_3=CreateTimer()
set udg_TOT_CastingGroup=CreateGroup()
set udg_TOT_CasterNumber=0
set udg_TOT_CastNumber=0
set udg_TOT_TreeFall=false
set udg_TOT_TreeDeath=false
set udg_TOT_OrbDuration=0
set udg_TOT_TreeDuration=0
set udg_TOT_MaxTrees=0
set i=0
loop
exitwhen(i>1)
set udg_TOT_Boolean[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TOT_TreeCount[i]=0
set i=i+1
endloop
set udg_TOT2_Size=0
set udg_TOT2_Max=0
set i=0
loop
exitwhen(i>1)
set udg_TOT2_Data[i]=0
set i=i+1
endloop
set udg_x=0
set udg_y=0
set i=0
loop
exitwhen(i>1)
set udg_TOT2_Sfx[i]=""
set i=i+1
endloop
set udg_x2=0
set udg_y2=0
set udg_a=0
set udg_Neutral_Alliance_Chance=0
set udg_Gnoll_Or_Ice=0
set udg_Topleft_Integer_Chance=0
set udg_Topleft_integer_chance2=0
set udg_TOS_CastingGroup=CreateGroup()
set udg_TOS_CasterNumber=0
set udg_TOS_CastNumber=0
set udg_TOS_Speicaleffects=""
set udg_TOS_Grave_Duration=0
set udg_TOS_Max_Skeletons=0
set i=0
loop
exitwhen(i>1)
set udg_TOS_Boolean[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TOS_Grave_Count[i]=0
set i=i+1
endloop
set udg_Zombie_Reincarnation_Chance=0
set udg_ZA_Integer=0
set udg_ZB_Integer=0
set udg_ZB_NumberOfZombies=0
set udg_ZB_ZombieUnitGroup=CreateGroup()
set udg_Zombie_Revive_Chance=0
set udg_ToD_Base_Heal=0
set udg_ToD_Base_base_Heal=0
set udg_ToD_Ability=0
set udg_ToD_Base_Chance=0
set udg_ToD_Area_of_Effect=0
set udg_ToD_Heal_Group=CreateGroup()
set udg_ToD_Unit_Counter=0
set udg_TW_Int=0
set udg_TW_Angle=0
set udg_TW_Spell_Distance=0
set udg_TW_Damage=0
set udg_TW_MissileSpeed=0
set udg_TW_Return=false
set udg_TW_Group=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_TW_DamagedUnits[i]=CreateGroup()
set i=i+1
endloop
set udg_ThunderWrath_Chance=0
set i=0
loop
exitwhen(i>1)
set udg_VO_index[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_VO_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_VO_Duration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_VO_Boolean[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_VO_Speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_VO_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FB_Neutral_Group[i]=CreateGroup()
set i=i+1
endloop
set udg_Duel_Boolean=false
set udg_TK_SpellAoEStart=0
set udg_TK_SpellAoEIncreasement=0
set udg_TK_MinHeightStart=0
set udg_TK_MinHeightIncreasement=0
set udg_TK_MaxHeightStart=0
set udg_TK_MaxHeightIncreasement=0
set udg_TK_Speed=0
set udg_TK_SpeedVariationPerc=0
set udg_TK_LiftSFX=""
set udg_TK_LiftSFXTimer=0
set udg_TK_StartSFX=""
set udg_TK_ImpactSFX=""
set udg_TK_HDmgInPercStart=0
set udg_TK_HDmgInPercIncreasement=0
set udg_TK_ImpactDmgStart=0
set udg_TK_ImpactDmgIncreasement=0
set udg_TK_Pause=false
set udg_TK_UnitGroup=CreateGroup()
set udg_TK_FlyingUnits=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_TK_Integers[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TK_Level[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TK_Interval[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TK_LsfxT[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TK_MaxHeight[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TK_FSpeed[i]=0
set i=i+1
endloop
set udg_Dead_Destructible_Int=0
set udg_Dead_Destructible_Int_Loop=0
set udg_Item_Drop_Event_Chance=0
set i=0
loop
exitwhen(i>1)
set udg_AAA_Player_Colors[i]=""
set i=i+1
endloop
set udg_CHOOSE_SETTINGS0=DialogCreate()
set udg_AAA_TurnOffEvents=false
set udg_AAA_TurnOffTrigger=false
set udg_AAS1_CastCount=0
set udg_AAS1_Integer=0
set udg_AAS1_Angle=0
set i=0
loop
exitwhen(i>10)
set udg_AAA_Timer[i]=CreateTimer()
set i=i+1
endloop
set udg_AAA_TeleportInteger=0
set udg_AAS1_UnitGroup=CreateGroup()
set udg_AAS1_UnitGroup2=CreateGroup()
set udg_AAS1_RandomUnit=CreateGroup()
set udg_AAA_FireGuyCastInterval=0
set udg_AAA_FireGuy_ManaPotChance=0
set i=0
loop
exitwhen(i>1)
set udg_AAA_PlayerPoints[i]=0
set i=i+1
endloop
set udg_AAA_UndeadPoints=0
set udg_AAA_ManaPotBoolean=false
set udg_BL_Skip=0
set udg_BL_Times=0
set i=0
loop
exitwhen(i>1)
set udg_BL_Off[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BL_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BL_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BL_Speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BL_Dmg[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BL_AoE[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_BL_Collision[i]=0
set i=i+1
endloop
set udg_BL_Scale=0
set udg_BL_Group=CreateGroup()
set udg_FB_Skip=0
set udg_FB_Times=0
set i=0
loop
exitwhen(i>1)
set udg_FB_Off[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FB_Big[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FB_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FB_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FB_Speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FB_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FB_AoE[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FB_Colision[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FB_Fragments[i]=0
set i=i+1
endloop
set udg_FB_Scale=0
set i=0
loop
exitwhen(i>1)
set udg_FB_Group[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FB_Parabola[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FB_Height[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FB_MaxDistance[i]=0
set i=i+1
endloop
set udg_SB_Skip=0
set udg_SB_Times=0
set i=0
loop
exitwhen(i>1)
set udg_SB_On[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_Level[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_Speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_Spam[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_Group[i]=CreateGroup()
set i=i+1
endloop
set udg_KB_Skip=0
set udg_KB_Times=0
set i=0
loop
exitwhen(i>1)
set udg_KB_Off[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_Speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KB_Spam[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS_Degrees[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS_Angle[i]=0
set i=i+1
endloop
set udg_TS_Group=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_TS_Boolean[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS_NumE[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS_Range[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS_Duration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS_Index[i]=0
set i=i+1
endloop
set udg_TS2_Skip=0
set udg_TS2_Times=0
set i=0
loop
exitwhen(i>1)
set udg_TS2_Off[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS2_Radius[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS2_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS2_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS2_MaxDistance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS2_Speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS2_Height[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS2_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS2_Slams[i]=0
set i=i+1
endloop
set udg_TS2=0
set i=0
loop
exitwhen(i>1)
set udg_TS2_Group[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TS2_Parabola[i]=0
set i=i+1
endloop
set udg_AB_Indexsize=0
set i=0
loop
exitwhen(i>1)
set udg_AB_index[i]=0
set i=i+1
endloop
set udg_AB_maxindexsize=0
set udg_AB_Temp=0
set i=0
loop
exitwhen(i>1)
set udg_AB_Duration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_AB_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_AB_UG[i]=CreateGroup()
set i=i+1
endloop
set udg_SlideGroup=CreateGroup()
set udg_AAA_Undead_TowerDeathCount=0
set udg_OrbVenomItemAmount=0
set i=0
loop
exitwhen(i>1)
set udg_SSChance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_PH_Index[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_PH_Group[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FL_Index[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FL_LoopIndex[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FL_CurDamageIntervall[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FL_DamageIntervall[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FL_Speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FL_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FL_Range[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FL_Angle[i]=0
set i=i+1
endloop
set udg_FL_FlameSFX_String=""
set i=0
loop
exitwhen(i>1)
set udg_FL_FlameDamageSFX_String[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_FL_Duration[i]=0
set i=i+1
endloop
set udg_FL_DamageGroup=CreateGroup()
set udg_UC_SETTINGS_Speed=0
set udg_UC_SETTINGS_DestroyTrees_Dash=false
set udg_UC_SETTINGS_Collosion=false
set i=0
loop
exitwhen(i>1)
set udg_UC_SETTINGS_AreaOfEffect[i]=0
set i=i+1
endloop
set udg_UC_SETTINGS_Invulnerable=false
set i=0
loop
exitwhen(i>1)
set udg_UC_Groups[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_PD_Integers[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_PD_Distances[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_PD_ReachedDistance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_PD_SpeedUnits[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_PD_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_PD_TreesDestroy[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_UC_Inv[i]=false
set i=i+1
endloop
set udg_PD_TestGroup=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_UC_Counter[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_PD_RealTimer[i]=0
set i=i+1
endloop
set udg_FA_Time=0
set i=0
loop
exitwhen(i>1)
set udg_DashInteger[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DashReal1[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DashDamage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DashSpeed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DashDistance[i]=0
set i=i+1
endloop
set udg_DashGroup3=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_DashReal2[i]=0
set i=i+1
endloop
set udg_DashGroup1=CreateGroup()
set udg_DashGroup2=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_ABC_UpgradeChance[i]=0
set i=i+1
endloop
set udg_ABC_kiljaedenChance=0
set udg_ABC_Creature_Chance=0
set udg_ASET_GiveGold=0
set udg_OWL_MBLevel_OwlLevel=0
set udg_OWL_MB_Level_X_INT=0
set udg_OWL_AOE=0
set udg_OWL_DurationBase=0
set udg_OWL_DurationPerLevel=0
set udg_OWL_Speed=0
set udg_OWL_ManaBurnPeriod=0
set udg_OWL_CastCountInt=0
set i=0
loop
exitwhen(i>1)
set udg_OWL_Distance[i]=0
set i=i+1
endloop
set udg_OWL_UnitGroup=CreateGroup()
set udg_OWL_UnitGroup3=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_OWL_ManaBurnCastCount[i]=0
set i=i+1
endloop
set udg_OWL_UnitGroup2=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_OWL_Boolean[i]=false
set i=i+1
endloop
set udg_OWL_Timing=0
set i=0
loop
exitwhen(i>1)
set udg_OWL_ManaBurnCastMax[i]=0
set i=i+1
endloop
set udg_AAA_Heal_Chance=0
set udg_Bomb_Group=CreateGroup()
set udg_Bomb_Size=0
set udg_A_Skip_Group=CreateForce()
set udg_A_NumPlayers=0
set udg_CDS_On=false
set udg_CDS_Seconds=0
set udg_CDS_AliiesCanFight=false
set udg_CDS_Player_Number=0
set i=0
loop
exitwhen(i>1)
set udg_CDS_Player[i]=0
set i=i+1
endloop
set udg_CDS_Timer=CreateTimer()
set i=0
loop
exitwhen(i>1)
set udg_CDS_Index[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CDS_UnitGroup[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CDS_Unit_Life[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_CDS_Unit_Mana[i]=0
set i=i+1
endloop
set udg_CDS_Invited=false
set udg_CDS_AllyCheck=false
set udg_CDS_Accept=false
set udg_Duel_On=false
set udg_Duel_Random_Satyr=0
set udg_FinalBattle_On=false
set udg_NO_FLYING_UNITS=false
set udg_AAAA_RandomEventChance=0
set udg_AAAA_TurtleEventCount=0
set udg_AAAA_DuelCheckGroup=CreateGroup()
set udg_BlackHoleUnits=CreateGroup()
set udg_tempGroup=CreateGroup()
set udg_SU_Indexsize=0
set i=0
loop
exitwhen(i>1)
set udg_SU_Integer[i]=0
set i=i+1
endloop
set udg_SU_Maxsize=0
set udg_SU_Temp=0
set i=0
loop
exitwhen(i>1)
set udg_SU_Fall[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SU_Real[i]=0
set i=i+1
endloop
set udg_CHOOSE_SETTINGS_3=DialogCreate()
set udg_Satyr_All_Units_West=CreateGroup()
set udg_Satyr_Units_NeutralGuards=CreateGroup()
set udg_Satyr_All_Units_East=CreateGroup()
set udg_Extreme_Mode=false
set udg_SB_Orb_Initial_Speed=0
set udg_SB_Orb_Final_Speed=0
set udg_SB_Orb_DetectionRange=0
set udg_SB_Orb_Max_Distance=0
set udg_SB_Orb_Stick_Duration=0
set udg_SB_Set_Orb_Detection_Delay=0
set udg_SB_Orb_Growth_Rate=0
set udg_SB_Ghost_Duration=0
set i=0
loop
exitwhen(i>1)
set udg_SB_Timer_Check[i]=0
set i=i+1
endloop
set udg_SB_Count=0
set udg_SB_CountFinishedSpell=0
set i=0
loop
exitwhen(i>1)
set udg_SB_Timer[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_Orb_Size[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_End_Boolean[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_CountdownToCast[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_UnitGroup[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_Ghost_Active_Boolean[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_OrbTravelDistance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_Orb_Detection_Delay[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_Distance_Difference[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SB_SFX_Boolean[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>2)
set udg_Bridge_Boolean[i]=false
set i=i+1
endloop
set udg_TempReal=0
set udg_AGI_Count=0
set i=0
loop
exitwhen(i>1)
set udg_AGI_Timer[i]=0
set i=i+1
endloop
set udg_AGI_Integer=0
set i=0
loop
exitwhen(i>1)
set udg_AGI_Original_MoveSpeed[i]=0
set i=i+1
endloop
set udg_AGI_Instances=0
set i=0
loop
exitwhen(i>1)
set udg_AGI_Targets[i]=CreateGroup()
set i=i+1
endloop
set udg_AAACAS_CastCount=0
set udg_AAACAS_Integer=0
set udg_AAACAS_Instances=0
set i=0
loop
exitwhen(i>1)
set udg_AAACAS_UnitGroup[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_AAACAS_Distance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_Distance_Counter[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_AAACAS_Distance_Counter[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_AAACAS_HitUnitsGroup[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_AAACAS_Angle[i]=0
set i=i+1
endloop
set udg_numshield=0
set udg_numshieldint=0
set udg_venomorb_int=0
set udg_Trained_Units=CreateGroup()
set i=0
loop
exitwhen(i>1)
set udg_WoS_Index[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_Off[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_Angle[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_AttackTimer[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_ShadowEffectTimer[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_AttackEffect[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_ShadowEffect[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_ShadowEffectDuration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_ShadowEffectCreatingDelay[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_Speed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_SpeedIncreasement[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_MaxSpeed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_OnAttackSpeedDecrease[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_SpellDuration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_WoS_AttackRange[i]=0
set i=i+1
endloop
set udg_tempSESTimer=0
set i=0
loop
exitwhen(i>1)
set udg_SystemUnitGroup[i]=CreateGroup()
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SD_Index[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SD_Off[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SD_Timer[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SD_DamageEffect[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SD_MaxDistance[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SD_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SD_TimeToDoDamage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_KoS_Angle[i]=0
set i=i+1
endloop
set udg_KOS_BackstabEffect=""
set i=0
loop
exitwhen(i>1)
set udg_SES_Index[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SES_Off[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_SES_Timer[i]=0
set i=i+1
endloop
set udg_Guardian_Group=CreateGroup()
set udg_Guardian_Timer=60
set i=0
loop
exitwhen(i>1)
set udg_Player_Guardian_Boolean[i]=false
set i=i+1
endloop
set udg_Guardian_Integer=0
set i=0
loop
exitwhen(i>1)
set udg_DP_Index[i]=0
set i=i+1
endloop
set udg_DP_Index_Selected=false
set udg_DP_Dyn_Index=0
set i=0
loop
exitwhen(i>1)
set udg_DP_Index_Is_Empty[i]=false
set i=i+1
endloop
set udg_CG_Dyn_Index=0
set i=0
loop
exitwhen(i>1)
set udg_DP_Duration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_index[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_Boolean[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_Boolean2[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_Real[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_Real2[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_Timer[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_Timer2[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_Fallspeed[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_Damage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_Damage2[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_Range[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_FriendlyDamage[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DF_Group[i]=CreateGroup()
set i=i+1
endloop
set udg_AAAA_Temp_Player_Group=CreateForce()
set udg_FightEachotherBool=false
set udg_ABC_ChaosChance=0
set udg_ABC_ChaosCounter=0
set udg_ABC_FireRainChance=0
set i=0
loop
exitwhen(i>1)
set udg_TDA_Integer[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TDA_DamagePerSpike[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TDA_Interval[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TDA_NumberOfSpikesPerInterval2[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TDA_ImpaleDotDmg[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TDA_ImpaleDotDuration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TDA_Duration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TDA_IntervalCounter[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_TDA_CurrentDurationExp[i]=0
set i=i+1
endloop
set udg_TDA_group=CreateGroup()
set udg_DOT1_DamagePerTick=0
set udg_DOT1_Duration=0
set udg_DOT1_EffectString=""
set udg_DOT1_EffectType=false
set udg_DOT1_TickTime=0
set udg_DOT1_attachpoint=""
set i=0
loop
exitwhen(i>1)
set udg_DOT1_Integer[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DOT2_DamagePerTick[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DOT2_Duration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DOT2_TickTime[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DOT2_DamageDone[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DOT2_MaxDamage[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DOT2_TimeEater[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DOT2_EffectType[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DOT2_EffectString[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_DOT2_attachpoint[i]=""
set i=i+1
endloop
set udg_SQ_Chances=0
set udg_SQ_Percentages=0
set udg_HK_Strength=0
set udg_HK_BOOL=false
set i=0
loop
exitwhen(i>1)
set udg_AGI_Duration[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen(i>1)
set udg_AGI_Damage[i]=0
set i=i+1
endloop
set udg_Sniper_Chance=0
set udg_General_Index=0
set udg_PirateChance = 6
set udg_PirateGroup=CreateGroup()
set udg_Hard_Mode=false
set udg_AAAAAA_TestingInt=0
set udg_MaxShipsInt=0
set udg_nnMode=false
set udg_ZZZ_count=0
set i=0
loop
exitwhen(i>1)
set udg_ZZZ_FireDelay[i]=0
set i=i+1
endloop
set udg_ZZZ_Units=CreateGroup()
set udg_ZZZ_loopIndex=0
set i=0
loop
exitwhen(i>1)
set udg_ZZZ_InUse[i]=false
set i=i+1
endloop
set MainMap=Rect(-7744.,-6016.,4352.,6400.)
set rct_Final_Battle_Area=Rect(-8192.,8320.,2272.,9728.)
set rct_Duel1_Area=Rect(4352.,5856.,8096.,9728.)
set rct_Duel2_Area=Rect(5088.,-4320.,8160.,4256.)
set rct_resurrect_area=Rect(5248,4576,8064,5504)
set Resurrecting_units=CreateGroup()
set GetneralControlledFroup = CreateGroup()
endfunction

function UnitEnters_Condition takes nothing returns boolean
    if(IsUnitInGroup(GetTriggerUnit(),GetneralControlledFroup)) then
        return false
    endif
    return true
endfunction

function UnitEnters_STD_Action takes nothing returns nothing
    call GroupAddUnit(GetneralControlledFroup,GetTriggerUnit())
endfunction

function ControlArea takes rect r, integer id, conditionfunc initaction, conditionfunc runcondition returns nothing
    set ControlledAreas[id] = r
    set ControlledGroups[id] = CreateGroup()
    set ControllTrigger[id] = CreateTrigger()
    call TriggerAddCondition(ControllTrigger[id],runcondition)
    call TriggerRegisterLeaveRectSimple(ControllTrigger[id],r)
    set InitTrigger[id] = CreateTrigger()
    call TriggerAddCondition(InitTrigger[id],initaction)
    call TriggerRegisterEnterRectSimple(InitTrigger[id],r)
endfunction

function return2Bounds takes rect area returns nothing
    local unit u = GetTriggerUnit()
    local real x=GetUnitX(u)
    local real y=GetUnitY(u)
    local integer setted=0
    local integer idx=0
    set warpantibug=warpantibug+1
    if(warpantibug>1000) then
        return
    endif
    if(x>=GetRectMaxX(area))then
    set x=GetRectMaxX(area)-32.
    set setted=1
    elseif(x<=GetRectMinX(area))then
    set x=GetRectMinX(area)+32.
    set setted=1
    endif
    if(y>=GetRectMaxY(area))then
    set y=GetRectMaxY(area)-32.
    set setted=1
    elseif(y<=GetRectMinY(area))then
    set y=GetRectMinY(area)+32.
    set setted=1
    endif
    if(1==setted)then
    call SetUnitX(u,x)
    call SetUnitY(u,y)
    endif
    set u = null
endfunction

function init_MainMap_control takes nothing returns boolean
    if(not UnitEnters_Condition()) then
        return false

    endif
    call UnitEnters_STD_Action()
    call GroupAddUnit(ControlledGroups[CONTROL_ID_MAIN_MAP],GetTriggerUnit())
    //call BJDebugMsg("1 init")
    return false
endfunction

function control_MainMap_condition takes nothing returns boolean
    return IsUnitInGroup(GetTriggerUnit(),ControlledGroups[CONTROL_ID_MAIN_MAP])
endfunction
function control_MainMap takes nothing returns boolean
    if(not control_MainMap_condition()) then
        return false

    endif
    call return2Bounds(ControlledAreas[CONTROL_ID_MAIN_MAP])
    //call BJDebugMsg("returning "+I2S(CONTROL_ID_MAIN_MAP))
    return false
endfunction
function init_rct_Final_Battle_Area_control takes nothing returns boolean
    if(not UnitEnters_Condition()) then
        return false
    endif
    call UnitEnters_STD_Action()
    call GroupAddUnit(ControlledGroups[CONTROL_ID_BATTLE_FINAL],GetTriggerUnit())
    // call BJDebugMsg("2 init")

    return false
endfunction
function control_rct_Final_Battle_Area_condition takes nothing returns boolean
    return IsUnitInGroup(GetTriggerUnit(),ControlledGroups[CONTROL_ID_BATTLE_FINAL])
endfunction
function control_rct_Final_Battle_Area takes nothing returns boolean
    if(not control_rct_Final_Battle_Area_condition()) then
        return false
    endif
    call return2Bounds(ControlledAreas[CONTROL_ID_BATTLE_FINAL])
    // call BJDebugMsg("returning "+I2S(CONTROL_ID_BATTLE_FINAL))
    return false
endfunction
function init_rct_Duel1_Area_control takes nothing returns boolean
    if(not UnitEnters_Condition()) then
        return false

    endif
    call UnitEnters_STD_Action()
    call GroupAddUnit(ControlledGroups[CONTROL_ID_BATTLE],GetTriggerUnit())
    // call BJDebugMsg("3 init")

    return false
endfunction
function control_rct_Duel1_Area_condition takes nothing returns boolean
    return IsUnitInGroup(GetTriggerUnit(),ControlledGroups[CONTROL_ID_BATTLE])
endfunction
function control_rct_Duel1_Area takes nothing returns boolean
    if(not control_rct_Duel1_Area_condition()) then
    return false
        
    endif
    call return2Bounds(ControlledAreas[CONTROL_ID_BATTLE])
    // call BJDebugMsg("returning "+I2S(CONTROL_ID_BATTLE))

    return false
endfunction
function init_rct_Duel2_Area_control takes nothing returns boolean
    if(not UnitEnters_Condition()) then
        return false

    endif
    call UnitEnters_STD_Action()
    call GroupAddUnit(ControlledGroups[CONTROL_ID_BATTLE_FOREST],GetTriggerUnit())
    // call BJDebugMsg("4 init")

    return false
endfunction
function control_rct_Duel2_Area_condition takes nothing returns boolean
    return IsUnitInGroup(GetTriggerUnit(),ControlledGroups[CONTROL_ID_BATTLE_FOREST])
endfunction
function control_rct_Duel2_Area takes nothing returns boolean
    if(not control_rct_Duel2_Area_condition()) then
        return false

    endif
    call return2Bounds(ControlledAreas[CONTROL_ID_BATTLE_FOREST])
    // call BJDebugMsg("returning "+I2S(CONTROL_ID_BATTLE_FOREST))

    return false
endfunction
function init_rct_resurrect_area_control takes nothing returns boolean
    if(not UnitEnters_Condition()) then
        return false

    endif
    call UnitEnters_STD_Action()
    call GroupAddUnit(ControlledGroups[CONTROL_ID_RESURRECT],GetTriggerUnit())
    // call BJDebugMsg("5 init")

    return false
endfunction
function control_rct_resurrect_area_condition takes nothing returns boolean
    return IsUnitInGroup(GetTriggerUnit(),ControlledGroups[CONTROL_ID_RESURRECT])
endfunction
function control_rct_resurrect_area takes nothing returns boolean
    if(not control_rct_resurrect_area_condition()) then
        return false

    endif
    call return2Bounds(ControlledAreas[CONTROL_ID_RESURRECT])
    // call BJDebugMsg("returning "+I2S(CONTROL_ID_RESURRECT))
    return false
endfunction

function init_rect_control takes nothing returns nothing
    call ControlArea(MainMap,CONTROL_ID_MAIN_MAP,Condition(function init_MainMap_control),Condition(function control_MainMap))
    call ControlArea(rct_resurrect_area,CONTROL_ID_RESURRECT,Condition(function init_rct_resurrect_area_control),Condition(function control_rct_resurrect_area))
    call ControlArea(udg_rct_Top_right_forest_minigame,CONTROL_ID_BATTLE,Condition(function init_rct_Duel1_Area_control),Condition(function control_rct_Duel1_Area))
    call ControlArea(rct_Duel2_Area,CONTROL_ID_BATTLE_FOREST,Condition(function init_rct_Duel2_Area_control),Condition(function control_rct_Duel2_Area))
    call ControlArea(rct_Final_Battle_Area,CONTROL_ID_BATTLE_FINAL,Condition(function init_rct_Final_Battle_Area_control),Condition(function control_rct_Final_Battle_Area))
endfunction

function RaccoonDropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if(trigWidget==null)then
set trigUnit=GetTriggerUnit()
endif
if(trigUnit!=null)then
set canDrop=not IsUnitHidden(trigUnit)
if(canDrop and GetChangingUnit()!=null)then
set canDrop=(GetChangingUnitPrevOwner()==Neutral_Satyrs)
endif
endif
if(canDrop)then
call RandomDistReset()
call RandomDistAddItem('I03P',100)
set itemID=RandomDistChoose()
if(trigUnit!=null)then
call UnitDropItem(trigUnit,itemID)
else
call WidgetDropItem(trigWidget,itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function warpantibug_action takes nothing returns nothing
set warpantibug=0
endfunction
function warpantibug_init takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterTimerEvent(t,3.,true)
call TriggerAddAction(t,function warpantibug_action)
set t=null
endfunction

function Event_RemoveDuyingHeroes_Action takes nothing returns nothing
local unit u=GetDyingUnit()
if((RectContainsUnit(rct_Duel1_Area,u))or(RectContainsUnit(rct_Duel2_Area,u)))then
call SetUnitOwner(u,Player(15),false)
call PlanUnitRemoval(u,15)
endif
set u=null
endfunction
function Event_RemoveDuyingHeroes_Condition takes nothing returns boolean
if(IsUnitType(GetDyingUnit(),UNIT_TYPE_HERO))then
return true
endif
return false
endfunction
function Event_RemoveDuyingHeroes_init takes nothing returns nothing
set trg_RemoveDuyingHeroes=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(trg_RemoveDuyingHeroes,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(trg_RemoveDuyingHeroes,Condition(function Event_RemoveDuyingHeroes_Condition))
call TriggerAddAction(trg_RemoveDuyingHeroes,function Event_RemoveDuyingHeroes_Action)
endfunction
function Unit000303_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if(trigWidget==null)then
set trigUnit=GetTriggerUnit()
endif
if(trigUnit!=null)then
set canDrop=not IsUnitHidden(trigUnit)
if(canDrop and GetChangingUnit()!=null)then
set canDrop=(GetChangingUnitPrevOwner()==Neutral_Satyrs)
endif
endif
if(canDrop)then
call RandomDistReset()
call RandomDistAddItem('I03P',100)
set itemID=RandomDistChoose()
if(trigUnit!=null)then
call UnitDropItem(trigUnit,itemID)
else
call WidgetDropItem(trigWidget,itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Unit000311_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if(trigWidget==null)then
set trigUnit=GetTriggerUnit()
endif
if(trigUnit!=null)then
set canDrop=not IsUnitHidden(trigUnit)
if(canDrop and GetChangingUnit()!=null)then
set canDrop=(GetChangingUnitPrevOwner()==Neutral_Satyrs)
endif
endif
if(canDrop)then
call RandomDistReset()
call RandomDistAddItem('I03Y',100)
set itemID=RandomDistChoose()
if(trigUnit!=null)then
call UnitDropItem(trigUnit,itemID)
else
call WidgetDropItem(trigWidget,itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitSounds2 takes nothing returns nothing
set udg_snd_Hint=CreateSound("Sound\\Interface\\Hint.wav",false,false,false,10,10,"")
call SetSoundParamsFromLabel(udg_snd_Hint,"Hint")
call SetSoundDuration(udg_snd_Hint,2006)
set udg_snd_FootmanReady1=CreateSound("Units\\Human\\Footman\\FootmanReady1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(udg_snd_FootmanReady1,"FootmanReady")
call SetSoundDuration(udg_snd_FootmanReady1,1036)
set udg_snd_SlowTarget=CreateSound("Abilities\\Spells\\Human\\Slow\\SlowTarget.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(udg_snd_SlowTarget,"Slow")
call SetSoundDuration(udg_snd_SlowTarget,3169)
set udg_snd_SealWhat1=CreateSound("Units\\Critters\\Seal\\SealWhat1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(udg_snd_SealWhat1,"SealWhat")
call SetSoundDuration(udg_snd_SealWhat1,1617)
call SetSoundChannel(udg_snd_SealWhat1,8)
set udg_snd_SealDeath=CreateSound("Units\\Critters\\Seal\\SealDeath.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(udg_snd_SealDeath,"SealDeath")
call SetSoundDuration(udg_snd_SealDeath,2348)
call SetSoundChannel(udg_snd_SealDeath,8)
set udg_snd_PeasantDeath=CreateSound("Units\\Human\\Peasant\\PeasantDeath.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(udg_snd_PeasantDeath,"PeasantDeath")
call SetSoundDuration(udg_snd_PeasantDeath,3645)
call SetSoundChannel(udg_snd_PeasantDeath,8)
set udg_snd_PH1="Sound\\Music\\mp3Music\\PH1.mp3"
set udg_snd_ClanInvitation=CreateSound("Sound\\Interface\\ClanInvitation.wav",false,false,false,10,10,"")
call SetSoundParamsFromLabel(udg_snd_ClanInvitation,"ClanInvitation")
call SetSoundDuration(udg_snd_ClanInvitation,4296)
set udg_snd_MurlocYesAttack1=CreateSound("Units\\Creeps\\Murloc\\MurlocYesAttack1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(udg_snd_MurlocYesAttack1,"MurlocYesAttack")
call SetSoundDuration(udg_snd_MurlocYesAttack1,778)
call SetSoundChannel(udg_snd_MurlocYesAttack1,8)
call SetSoundVolume(udg_snd_MurlocYesAttack1,100)
set udg_snd_HeroFirelordDeath1=CreateSound("Units\\Creeps\\HeroFlameLord\\HeroFirelordDeath1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(udg_snd_HeroFirelordDeath1,"HeroFlameLordDeath")
call SetSoundDuration(udg_snd_HeroFirelordDeath1,2345)
call SetSoundChannel(udg_snd_HeroFirelordDeath1,8)
set udg_snd_RockGolemAttack2=CreateSound("Units\\Creeps\\RockGolem\\RockGolemAttack2.wav",false,false,true,10,10,"CombatSoundsEAX")
call SetSoundParamsFromLabel(udg_snd_RockGolemAttack2,"RockGolemAttack2")
call SetSoundDuration(udg_snd_RockGolemAttack2,896)
call SetSoundChannel(udg_snd_RockGolemAttack2,8)
set udg_snd_ThunderClapCaster=CreateSound("Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(udg_snd_ThunderClapCaster,"ThunderClap")
call SetSoundDuration(udg_snd_ThunderClapCaster,3451)
call SetSoundChannel(udg_snd_ThunderClapCaster,8)
set udg_snd_SoulPreservation=CreateSound("Abilities\\Spells\\Demon\\SoulPreservation\\SoulPreservation.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(udg_snd_SoulPreservation,"SoulPreservation")
call SetSoundDuration(udg_snd_SoulPreservation,3613)
set udg_snd_GhoulDeath=CreateSound("Units\\Undead\\Ghoul\\GhoulDeath.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(udg_snd_GhoulDeath,"GhoulDeath")
call SetSoundDuration(udg_snd_GhoulDeath,1570)
call SetSoundChannel(udg_snd_GhoulDeath,8)
set udg_snd_GoodJob=CreateSound("Sound\\Interface\\GoodJob.wav",false,false,false,10,10,"")
call SetSoundParamsFromLabel(udg_snd_GoodJob,"GoodJob")
call SetSoundDuration(udg_snd_GoodJob,2548)
set udg_snd_GlueScreenMeteorHit1=CreateSound("Sound\\Interface\\GlueScreenMeteorHit1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(udg_snd_GlueScreenMeteorHit1,"GlueScreenMeteorHit")
call SetSoundDuration(udg_snd_GlueScreenMeteorHit1,1500)
call SetSoundChannel(udg_snd_GlueScreenMeteorHit1,8)
call SetSoundVolume(udg_snd_GlueScreenMeteorHit1,127)
set udg_snd_HumanCallToArmsWhat1=CreateSound("Abilities\\Spells\\Human\\CallToArms\\HumanCallToArmsWhat1.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(udg_snd_HumanCallToArmsWhat1,"TownHallCallToArms")
call SetSoundDuration(udg_snd_HumanCallToArmsWhat1,3971)
call SetSoundChannel(udg_snd_HumanCallToArmsWhat1,8)
set udg_snd_BigButtonClick=CreateSound("Sound\\Interface\\BigButtonClick.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(udg_snd_BigButtonClick,"GlueScreenClick")
call SetSoundDuration(udg_snd_BigButtonClick,390)
call SetSoundVolume(udg_snd_BigButtonClick,125)
set udg_snd_ArrangedTeamInvitation=CreateSound("Sound\\Interface\\ArrangedTeamInvitation.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(udg_snd_ArrangedTeamInvitation,"ArrangedTeamInvitation")
call SetSoundDuration(udg_snd_ArrangedTeamInvitation,2914)
set udg_snd_BanditDeath1=CreateSound("Units\\Creeps\\Bandit\\BanditDeath1.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(udg_snd_BanditDeath1,"BanditDeath")
call SetSoundDuration(udg_snd_BanditDeath1,1776)
call SetSoundChannel(udg_snd_BanditDeath1,8)
call SetSoundVolume(udg_snd_BanditDeath1,105)
set udg_snd_BristlebackWhat1=CreateSound("Units\\Creeps\\BristleBack\\BristlebackWhat1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(udg_snd_BristlebackWhat1,"BristlebackWhat")
call SetSoundDuration(udg_snd_BristlebackWhat1,424)
call SetSoundChannel(udg_snd_BristlebackWhat1,8)
endfunction
function CreateTeamForestBattleItems takes nothing returns nothing
    call CreateItem('I023',7142.100000,6046.000000)
    call CreateItem('I023',5738.800000,6061.900000)
    call CreateItem('I023',6210.100000,9645.200000)
    call CreateItem('I023',6840.700000,9650.600000)
    call CreateItem('I023',7577.600000,9653.500000)
    call CreateItem('I023',6771.700000,6063.100000)
    call CreateItem('I023',7903.900000,6042.800000)
    call CreateItem('I023',7519.300000,6041.500000)
    call CreateItem('I023',6250.100000,6068.600000)
    call CreateItem('I01Z',8050.800000,5951.800000)
    call CreateItem('I01Z',7865.200000,9651.300000)
    call CreateItem('I01Z',5981.300000,9652.300000)
    call CreateItem('I01Z',5608.400000,5953.700000)
    call CreateItem('dust',5872.900000,5963.400000)
    call CreateItem('dust',6357.900000,5981.800000)
    call CreateItem('dust',6873.200000,5961.600000)
    call CreateItem('dust',7281.700000,5960.600000)
    call CreateItem('dust',7668.200000,5947.700000)
    call CreateItem('dust',5694.100000,9559.600000)
    call CreateItem('dust',6431.800000,9550.200000)
    call CreateItem('dust',7045.600000,9532.400000)
    call CreateItem('dust',7794.500000,9542.200000)
    call CreateItem('I020',6743.600000,8030.400000)
    call CreateItem('I01N',7366.700000,6041.400000)
    call CreateItem('I01N',6510.900000,6072.600000)
    call CreateItem('I01N',7216.200000,9666.800000)
    call CreateItem('I01N',6495.500000,9661.200000)
    call CreateItem('I01N',7759.100000,6062.800000)
    call CreateItem('I01N',6949.600000,6058.100000)
endfunction
function CreateAllItems2 takes nothing returns nothing
local integer bj_itemRandomConsidered
call CreateTeamForestBattleItems()
call CreateItem('I01N',-8082.6,8631.7)
call CreateItem('I01N',-8078.2,9233.5)
call CreateItem('I01Z',-8077.6,8908.6)
call CreateItem('I01Z',-8077.2,9592.2)
call CreateItem('I01Z',2240.6,8960.6)
call CreateItem('I01Z',2240.7,9566.4)
call CreateItem('I01Z',2243.2,8363.8)
call CreateItem('I01Z',-8075.7,8368.1)
call CreateItem('dust',7167.7,-2565.7)
call CreateItem('dust',6147.2,-1912.6)
call CreateItem('dust',7184.8,1404.6)
call CreateItem('dust',6135.7,-2517.0)
call CreateItem('dust',7162.0,-1264.9)
call CreateItem('dust',6151.3,1369.2)
call CreateItem('dust',6148.4,2755.7)
call CreateItem('dust',7165.0,2652.0)
call CreateItem('dust',7167.3,-1967.5)
call CreateItem('dust',6150.3,2249.4)
call CreateItem('dust',2239.5,8859.8)
call CreateItem('dust',2238.2,9074.9)
call CreateItem('dust',5831.8,9550.2)
call CreateItem('dust',6445.6,9532.4)
call CreateItem('dust',7194.5,9542.2)
call CreateItem('dust',7172.2,-3129.9)
call CreateItem('dust',7172.5,3192.9)
call CreateItem('dust',6126.9,3235.1)
call CreateItem('dust',7168.4,2194.4)
call CreateItem('dust',2236.9,8462.1)
call CreateItem('dust',6136.4,-1245.4)
call CreateItem('dust',6129.0,-3112.6)
call CreateItem('dust',-8081.6,9387.9)
call CreateItem('dust',-8082.2,9042.5)
call CreateItem('dust',-8076.5,8753.9)
call CreateItem('dust',-8079.5,8540.3)
call CreateItem('dust',2241.5,9443.6)
call CreateItem('pghe',2236.2,9165.7)
call CreateItem('pghe',2235.6,9353.7)
call CreateItem('pghe',2233.6,8539.9)
call CreateItem('pghe',2235.1,8751.7)
call CreateItem('pman',-8000.5,9601.6)
call CreateItem('pman',-7924.1,9608.0)
call CreateItem('pman',-7845.6,9603.7)
call CreateItem('pman',2061.4,9572.2)
call CreateItem('pman',-7804.5,8369.8)
call CreateItem('pman',1998.1,9574.6)
call CreateItem('pman',-7877.2,8371.1)
call CreateItem('pman',2127.6,9565.1)
call CreateItem('pman',2059.2,8363.2)
call CreateItem('pman',2181.7,8365.7)
call CreateItem('pman',-7938.8,8367.1)
call CreateItem('pman',-7761.3,9608.0)
call CreateItem('pman',2182.9,9565.1)
call CreateItem('pman',2120.0,8366.9)
call CreateItem('pman',1997.5,8363.2)
call CreateItem('pman',-8008.0,8369.8)
call CreateItem('whwd',-7706.2,9612.2)
call CreateItem('whwd',-7706.7,8369.6)
call CreateItem('whwd',1938.2,8363.1)
call CreateItem('whwd',1927.3,9575.0)
call CreateItem( 'gold', -7588.7, -5207.6 )
call CreateItem( 'gold', -7530.7, -5202.6 )
call CreateItem( 'gold', -7381.3, 5862.7 )
call CreateItem( 'gold', -7354.0, 5800.3 )
call CreateItem( 'gold', -7343.5, 5841.8 )
call CreateItem( 'gold', -4883.9, 3027.8 )
call CreateItem( 'gold', -4372.4, 3301.6 )
call CreateItem( 'gold', 70.6, 1865.0 )
call CreateItem( 'manh', 6779.2, 414.6 )
call CreateItem( 'manh', 6588.4, 418.4 )
call CreateItem( 'manh', 6593.7, -742.6 )
call CreateItem( 'manh', 6785.1, -734.0 )
endfunction
function CreateUnitsForPlayer200 takes nothing returns nothing
local player p=Player(0)
local unit u
local integer unitID
local trigger t
local real life
if(GetPlayerSlotState(p)==PLAYER_SLOT_STATE_PLAYING)then
set udg_unit_nvlk_0021=CreateUnitBonuses(p,'nvlk',-144.3,-1.9,129.038)
call SelectUnitForPlayerSingle(udg_unit_nvlk_0021,p)
endif
endfunction
function CreateUnitsForPlayer201 takes nothing returns nothing
local player p=Player(1)
local unit u
local integer unitID
local trigger t
local real life
if(GetPlayerSlotState(p)==PLAYER_SLOT_STATE_PLAYING)then
set udg_unit_nvlk_0022=CreateUnitBonuses(p,'nvlk',229.0,-25.0,87.003)
call SelectUnitForPlayerSingle(udg_unit_nvlk_0022,p)
endif
endfunction
function CreateUnitsForPlayer20 takes nothing returns nothing
local player p=Player(2)
local unit u
local integer unitID
local trigger t
local real life
if(GetPlayerSlotState(p)==PLAYER_SLOT_STATE_PLAYING)then
set udg_unit_nvlk_0023=CreateUnitBonuses(p,'nvlk',534.1,-307.2,188.432)
call SelectUnitForPlayerSingle(udg_unit_nvlk_0023,p)
endif
endfunction
function CreateUnitsForPlayer203 takes nothing returns nothing
local player p=Player(3)
local unit u
local integer unitID
local trigger t
local real life
if(GetPlayerSlotState(p)==PLAYER_SLOT_STATE_PLAYING)then
set udg_unit_nvlk_0024=CreateUnitBonuses(p,'nvlk',-408.8,-279.2,226.589)
call SelectUnitForPlayerSingle(udg_unit_nvlk_0024,p)
endif
endfunction
function CreateUnitsForPlayer204 takes nothing returns nothing
local player p=Player(4)
local unit u
local integer unitID
local trigger t
local real life
if(GetPlayerSlotState(p)==PLAYER_SLOT_STATE_PLAYING)then
set udg_unit_nvlk_0025=CreateUnitBonuses(p,'nvlk',-476.3,-657.2,238.751)
call SelectUnitForPlayerSingle(udg_unit_nvlk_0025,p)
endif
endfunction
function CreateUnitsForPlayer205 takes nothing returns nothing
local player p=Player(5)
local unit u
local integer unitID
local trigger t
local real life
if(GetPlayerSlotState(p)==PLAYER_SLOT_STATE_PLAYING)then
set udg_unit_nvlk_0026=CreateUnitBonuses(p,'nvlk',487.1,-657.1,335.335)
call SelectUnitForPlayerSingle(udg_unit_nvlk_0026,p)
endif
endfunction
function CreateUnitsForPlayer206 takes nothing returns nothing
local player p=Player(6)
local unit u
local integer unitID
local trigger t
local real life
if(GetPlayerSlotState(p)==PLAYER_SLOT_STATE_PLAYING)then
set udg_unit_nvlk_0027=CreateUnitBonuses(p,'nvlk',-206.5,-906.3,243.157)
call SelectUnitForPlayerSingle(udg_unit_nvlk_0027,p)
endif
endfunction
function CreateUnitsForPlayer207 takes nothing returns nothing
local player p=Player(7)
local unit u
local integer unitID
local trigger t
local real life
if(GetPlayerSlotState(p)==PLAYER_SLOT_STATE_PLAYING)then
set udg_unit_nvlk_0028=CreateUnitBonuses(p,'nvlk',149.6,-921.4,37.772)
call SelectUnitForPlayerSingle(udg_unit_nvlk_0028,p)
endif
endfunction
function CreatePlayerUnits2 takes nothing returns nothing
call CreateUnitsForPlayer200()
call CreateUnitsForPlayer201()
call CreateUnitsForPlayer20()
call CreateUnitsForPlayer203()
call CreateUnitsForPlayer204()
call CreateUnitsForPlayer205()
call CreateUnitsForPlayer206()
call CreateUnitsForPlayer207()
call DestroyTimer(GetExpiredTimer())
endfunction

function CreateShops takes nothing returns nothing
    call CreateNUnitsAtLocBonuses(1,'ngme',Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(udg_rct_Spell_Shop),bj_UNIT_FACING)
    call CreateNUnitsAtLocBonuses(1,'nmrk',Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(udg_rct_Item_Shop),bj_UNIT_FACING)
    call CreateNUnitsAtLocBonuses(1,'nmer',Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(udg_rct_mercenary_camp),bj_UNIT_FACING)
    call CreateNUnitsAtLocBonuses(1,'n01Y',Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(udg_rct_Recipe_Shop),bj_UNIT_FACING)
    call CreateNUnitsAtLocBonuses(1,'ngad',Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(udg_rct_Goblin_Lab_Shop),bj_UNIT_FACING)
    call CreateUnit(Player(PLAYER_NEUTRAL_PASSIVE),'n06Y',375.,-5128,bj_UNIT_FACING)
    call CreateNUnitsAtLocBonuses(1,'n023',Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(udg_rct_Naga_Shop),bj_UNIT_FACING)
    call CreateNUnitsAtLocBonuses(1,'n032',Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(udg_rct_Tool_Shop_Spawn),bj_UNIT_FACING)
    call CreateNUnitsAtLocBonuses(1,'nshp',Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(udg_rct_shipyard_spawn),bj_UNIT_FACING)
    call CreateNUnitsAtLocBonuses(1,'n03H',Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(udg_rct_Magic_Shop_spawn),bj_UNIT_FACING)
    call CreateNUnitsAtLocBonuses(1,'n047',Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(udg_rct_random_items_shop_normal),bj_UNIT_FACING)
    endfunction

function CreateNeutralUnits takes nothing returns nothing
    local unit u = null
    local trigger t = null
	call CreateUnitBonuses( Player(15) , 'nrac', -2513.941 , -684.056 , 314.141 )
	call CreateUnitBonuses( Player(15) , 'nrac', -2793.274 , 1252.538 , 92.153 )
	set u = CreateUnitBonuses( Player(15) , 'nrac', -1822.750 , 4451.000 , 119.762 )
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function RaccoonDropItems)
	call CreateUnitBonuses( Player(15) , 'npig', -2983.046 , -3388.022 , 285.053 )
	call CreateUnitBonuses( Player(15) , 'npig', -1695.373 , -3854.734 , 52.589 )
	call CreateUnitBonuses( Player(15) , 'npig', -3297.143 , -3982.730 , 103.971 )
	call CreateUnitBonuses( Player(15) , 'ehip', -4505.223 , 1269.555 , 213.965 )
	call CreateUnitBonuses( Player(15) , 'ehip', 987.336 , 290.636 , 104.035 )
	call CreateUnitBonuses( Player(15) , 'npng', 3309.917 , -3326.557 , 11.348 )
	call CreateUnitBonuses( Player(15) , 'npng', 3235.246 , -2991.540 , 96.651 )
	call CreateUnitBonuses( Player(15) , 'npng', 3036.940 , -2091.736 , 119.586 )
	call CreateUnitBonuses( Player(15) , 'npng', 2171.290 , -3373.388 , 298.066 )
	call CreateUnitBonuses( Player(15) , 'npng', 2555.361 , -3057.947 , 359.812 )
	call CreateUnitBonuses( Player(15) , 'npng', 3300.551 , -3718.431 , 3.516 )
	call CreateUnitBonuses( Player(15) , 'npng', 3587.834 , -2213.259 , 194.924 )
	call CreateUnitBonuses( Player(15) , 'npng', 2581.059 , -3564.266 , 37.776 )
	call CreateUnitBonuses( Player(15) , 'npig', -3572.479 , -2236.050 , 132.513 )
	call CreateUnitBonuses( Player(15) , 'npig', -3854.408 , -3520.899 , 321.279 )
	call CreateUnitBonuses( Player(15) , 'npng', 2789.271 , -2888.513 , 284.704 )
	call CreateUnitBonuses( Player(15) , 'npng', 2084.646 , -3589.821 , 314.415 )
	call CreateUnitBonuses( Player(15) , 'npng', 1909.250 , -3302.000 , 305.666 )
	call CreateUnitBonuses( Player(15) , 'n067', -1047.750 , -2451.500 , 230.000 )
	call CreateUnitBonuses( Player(15) , 'n068', 1072.000 , -2352.000 , 30.000 )
	call CreateUnitBonuses( Player(15) , 'nfro', -1869.302 , -542.688 , 8.064 )
	call CreateUnitBonuses( Player(15) , 'nfro', 1673.552 , -1754.478 , 53.804 )
	call CreateUnitBonuses( Player(15) , 'nech', -3906.692 , 1774.803 , 117.562 )
	call CreateUnitBonuses( Player(15) , 'nech', -3733.411 , -1041.108 , 288.421 )
	call CreateUnitBonuses( Player(15) , 'nfro', 1966.894 , -281.308 , 91.173 )
	set udg_unit_nzep_0261 =  CreateUnitBonuses( Player(15) , 'nzep', -808.003 , -1331.791 , 337.986 )
	call CreateUnitBonuses( Player(15) , 'nshe', -2771.029 , 254.473 , 356.660 )
	set udg_unit_hhdl_0060 = CreateUnitBonuses( Player(15) , 'hhdl', -3600.000 , 907.595 , 176.656 )
	call CreateUnitBonuses( Player(15) , 'nshe', -3420.113 , 1001.849 , 86.929 )
	call CreateUnitBonuses( Player(15) , 'n061', -3536.000 , 1168.000 , 280.000 )
	set udg_unit_hhdl_0061 =  CreateUnitBonuses( Player(15) , 'hhdl', 826.514 , 1328.006 , 181.015 )
	call CreateUnitBonuses( Player(15) , 'n062', -3853.750 , 1836.500 , 355.671 )
	call CreateUnitBonuses( Player(15) , 'npig', -2054.659 , 2021.318 , 138.434 )
    set u=CreateUnitBonuses(Player(15) , 'npig' , - 7447.7 , 4832.4 , 303.980)
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function Unit000311_DropItems)
	call CreateUnitBonuses( Player(15) , 'n065', -4048.000 , 5552.000 , 320.000 )
    call CreateShops()
endfunction
function CreateNagas takes nothing returns nothing
	call CreateUnitBonuses( Neutral_Nagas , 'h01G', 1280.000 , 5376.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Nagas , 'n079', -1344.000 , 5324.750 , 352.270 )
	call CreateUnitBonuses( Neutral_Nagas , 'n079', -1310.500 , 4489.500 , 348.560 )
	call CreateUnitBonuses( Neutral_Nagas , 'nntg', -1280.000 , 4864.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Nagas , 'n07A', 1277.000 , 5271.000 , 132.830 )
	call CreateUnitBonuses( Neutral_Nagas , 'n07A', 2189.500 , 5239.000 , 45.300 )
	call CreateUnitBonuses( Neutral_Nagas , 'n07A', -123.500 , 5313.000 , 180.860 )
	call CreateUnitBonuses( Neutral_Nagas , 'n07A', -529.750 , 4709.500 , 157.660 )
	call CreateUnitBonuses( Neutral_Nagas , 'nntg', 832.000 , 4928.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Nagas , 'nntg', -320.000 , 4800.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Nagas , 'nnsw', 2482.250 , 5466.250 , 31.455 )
	call CreateUnitBonuses( Neutral_Nagas , 'nnsw', 2512.000 , 4912.000 , 169.173 )
	call CreateUnitBonuses( Neutral_Nagas , 'nnsw', 3513.250 , 4676.500 , 83.751 )
	call CreateUnitBonuses( Neutral_Nagas , 'nmpe', -1232.000 , 4976.000 , 84.480 )
	call CreateUnitBonuses( Neutral_Nagas , 'n073', 428.000 , 5363.250 , 24.620 )
	call CreateUnitBonuses( Neutral_Nagas , 'n073', -346.000 , 5034.500 , 297.450 )
	call CreateUnitBonuses( Neutral_Nagas , 'n073', 2930.000 , 5301.500 , 101.550 )
	call CreateUnitBonuses( Neutral_Nagas , 'n073', 2926.000 , 4963.500 , 198.320 )
	call CreateUnitBonuses( Neutral_Nagas , 'nUWP', 3200.000 , 5120.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Nagas , 'nnrg', 3481.500 , 5116.750 , 4.240 )
	call CreateUnitBonuses( Neutral_Nagas , 'nhyc', -625.000 , 5331.250 , 247.380 )
	call CreateUnitBonuses( Neutral_Nagas , 'nntg', 3648.000 , 5440.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Nagas , 'nntg', 832.000 , 5440.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Nagas , 'n079', 1187.750 , 5265.000 , 109.360 )
	call CreateUnitBonuses( Neutral_Nagas , 'n079', 1395.500 , 5262.000 , 85.550 )
endfunction
function CreateSatyrsXTreme takes nothing returns nothing
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', 1117.000 , 3942.000 , 173.985 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', 848.000 , 3664.000 , 219.393 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', 1126.750 , 3704.500 , 44.716 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', 1409.000 , 3689.000 , 303.858 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', 1118.750 , 3453.750 , 152.011 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', 1265.750 , -3522.750 , 190.366 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', 1535.750 , -3537.500 , 118.414 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', -2820.750 , -3577.000 , 119.667 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', -2567.500 , -3757.250 , 64.085 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', 2087.250 , -2396.000 , 340.905 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', 2729.250 , -496.750 , 293.827 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', 2012.250 , 1405.000 , 103.791 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', -2117.000 , 1389.000 , 348.211 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', -2759.750 , -748.000 , 3.208 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', -2421.500 , -1564.500 , 59.647 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', -1423.500 , -2629.750 , 223.743 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', -4009.000 , -2508.750 , 258.033 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', -2358.250 , 350.250 , 142.156 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', -3143.500 , 1412.000 , 295.981 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', -2630.500 , -3883.250 , 173.330 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', -2973.750 , -3587.500 , 54.650 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', 1636.500 , -3620.500 , 286.270 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', 951.750 , -3592.750 , 207.050 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', 3777.000 , -2918.500 , 332.390 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', -2524.750 , 3152.500 , 186.213 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', -3868.000 , 3605.500 , 141.970 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', -1839.500 , 3758.000 , 183.130 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', -1977.750 , 2687.500 , 317.780 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', 2974.500 , 2382.250 , 89.728 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', 3223.000 , 903.000 , 203.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', 3888.000 , 216.500 , 75.560 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', 3966.500 , -1947.000 , 178.379 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', 3512.500 , 3498.750 , 52.967 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', -5469.500 , -4535.500 , 310.055 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', -889.000 , -3622.500 , 97.390 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', 38.500 , -2724.750 , 124.204 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsty', 432.000 , -4048.000 , 191.706 )
	call CreateUnitBonuses( Neutral_Satyrs , 'o00K', 1216.000 , 3584.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'o00K', -4160.000 , 2560.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'o00K', -4160.000 , 2176.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'o00K', -4736.000 , 384.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'o00K', -5824.000 , -320.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'o00K', -6784.000 , -3264.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'o00K', -5056.000 , -576.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'o00K', -5120.000 , 1664.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'o00K', -5952.000 , -1856.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'o00K', 1408.000 , -3648.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'o00K', -2688.000 , -3648.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05R', -4309.250 , 2340.500 , 7.100 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05R', -5675.500 , 595.750 , 326.381 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05R', -4725.000 , 623.000 , 354.200 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05R', -4476.750 , 227.500 , 90.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05R', -4873.250 , -1693.750 , 69.765 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05R', -6611.500 , -2885.000 , 148.298 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05R', -6081.000 , -3240.500 , 189.360 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05T', -7248.000 , -1752.250 , 8.767 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05T', -7183.000 , -1672.000 , 349.013 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05T', -7192.250 , -1816.000 , 224.545 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05S', -7058.500 , -1597.500 , 316.581 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05S', -7079.000 , -1961.000 , 334.720 )
	call CreateUnitBonuses( Neutral_Satyrs , 'o00L', -6528.000 , 1536.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'o00L', -6848.000 , -1792.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05R', -5444.000 , -2000.500 , 118.280 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05R', -5218.500 , -757.500 , 0.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05R', -5876.000 , -1448.000 , 3.779 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05R', -6480.000 , -142.750 , 295.135 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05R', -6303.750 , 1220.500 , 118.887 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05R', -6745.000 , 1227.750 , 19.172 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05R', -7231.250 , 1799.750 , 265.328 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05S', -6703.500 , 1709.000 , 59.020 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05T', -6602.000 , 1805.500 , 66.557 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05T', -6803.250 , 1586.500 , 234.181 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05T', -5220.500 , 1574.000 , 143.068 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05R', -7332.250 , 2080.000 , 282.247 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05R', -7437.500 , 2068.000 , 296.904 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05R', -7376.000 , 2192.000 , 4.010 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05R', -7404.250 , 2351.000 , 186.740 )
	call CreateUnitBonuses( Neutral_Satyrs , 'o00L', -6976.000 , 2496.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'o00L', -6912.000 , 3328.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'o00L', -7360.000 , 3328.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05R', -6598.000 , 3109.750 , 93.024 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05R', -6222.000 , 3465.500 , 302.232 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05U', -7295.250 , 3856.750 , 270.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05U', -6966.750 , 3824.750 , 270.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05V', -7130.750 , 3708.250 , 270.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'o00L', -6336.000 , 3840.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05R', -5444.000 , 4214.750 , 111.163 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05R', -5920.000 , 3818.250 , 310.307 )
	call CreateUnitBonuses( Neutral_Satyrs , 'nsat', 937.500 , 3812.250 , 240.550 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05R', -5665.250 , 4035.500 , 39.167 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05V', -6024.500 , 4167.500 , 354.693 )
	call CreateUnitBonuses( Neutral_Satyrs , 'o00L', -5952.000 , 5184.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'o00L', -5952.000 , 5824.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'o00L', -5312.000 , 4288.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05W', -6847.750 , 4446.500 , 346.870 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05U', -6268.250 , 4459.000 , 282.423 )
	set udg_Spider =   CreateUnitBonuses( Neutral_Satyrs , 'nspg', -3603.250 , 5191.250 , 65.777 )
	call CreateUnitBonuses( Neutral_Satyrs , 'n05V', -6437.750 , 5527.000 , 161.910 )
endfunction

function CreateBottomTeam takes nothing returns nothing
    local unit u = null
    local trigger t = null
	call CreateUnitBonuses( Neutral_Bottom , 'n07E', -2541.500 , -5758.250 , 107.560 )
	call CreateUnitBonuses( Neutral_Bottom , 'n07E', -1097.500 , -5970.250 , 107.560 )
	call CreateUnitBonuses( Neutral_Bottom , 'n06T', 2256.000 , -5040.000 , 296.660 )
	call CreateUnitBonuses( Neutral_Bottom , 'n06T', 1191.000 , -5921.500 , 296.660 )
	call CreateUnitBonuses( Neutral_Bottom , 'n06T', 0.000 , -5120.500 , 296.660 )
	call CreateUnitBonuses( Neutral_Bottom , 'n07E', -4119.000 , -5500.500 , 296.660 )
	call CreateUnitBonuses( Neutral_Bottom , 'n075', -2363.000 , -5397.250 , 60.000 )
	call CreateUnitBonuses( Neutral_Bottom , 'n075', -5055.000 , -5708.000 , 60.000 )
	call CreateUnitBonuses( Neutral_Bottom , 'n01A', -1357.000 , -5027.250 , 80.510 )
	call CreateUnitBonuses( Neutral_Bottom , 'n01A', -4936.000 , -5721.500 , 80.510 )
	call CreateUnitBonuses( Neutral_Bottom , 'n075', -4796.750 , -5718.250 , 60.000 )
	call CreateUnitBonuses( Neutral_Bottom , 'ndrn', -7283.000 , -5395.000 , 223.568 )
	call CreateUnitBonuses( Neutral_Bottom , 'ndrt', -6788.750 , -5291.000 , 191.531 )
	call CreateUnitBonuses( Neutral_Bottom , 'ndrt', -6255.250 , -4980.500 , 319.119 )
	call CreateUnitBonuses( Neutral_Bottom , 'ndrt', -6017.500 , -5451.500 , 340.817 )
	call CreateUnitBonuses( Neutral_Bottom , 'n016', -1841.000 , -5240.500 , 180.000 )
	call CreateUnitBonuses( Neutral_Bottom , 'n016', -3884.500 , -5347.500 , 56.090 )
	call CreateUnitBonuses( Neutral_Bottom , 'n06M', -2806.000 , -5469.500 , 116.000 )
	call CreateUnitBonuses( Neutral_Bottom , 'n019', -2558.000 , -5449.750 , 104.130 )
	call CreateUnitBonuses( Neutral_Bottom , 'n06U', -2066.500 , -5497.750 , 150.000 )
	call CreateUnitBonuses( Neutral_Bottom , 'n06U', -2254.250 , -5499.000 , 35.762 )
	call CreateUnitBonuses( Neutral_Bottom , 'ndrs', -2160.000 , -5488.000 , 90.000 )
	call CreateUnitBonuses( Neutral_Bottom , 'n017', -1967.250 , -5401.250 , 120.000 )
	call CreateUnitBonuses( Neutral_Bottom , 'n074', -3007.000 , -4789.750 , 127.676 )
	call CreateUnitBonuses( Neutral_Bottom , 'n074', -2929.000 , -4782.250 , 168.733 )
	call CreateUnitBonuses( Neutral_Bottom , 'n074', -1664.750 , -5361.500 , 305.418 )
	call CreateUnitBonuses( Neutral_Bottom , 'h01G', 3648.000 , -5504.000 , 270.000 )
	//call CreateUnitBonuses( Neutral_Bottom , 'nitr', 3727.500 , -5395.000 , 69.425 )
	call CreateUnitBonuses( Neutral_Bottom , 'n072', -2491.000 , -5329.500 , 0.000 )
	call CreateUnitBonuses( Neutral_Bottom , 'ntn2', -1312.000 , -5216.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Bottom , 'n078', 3888.000 , -5232.000 , 164.086 )
	set u = CreateUnitBonuses( Neutral_Bottom , 'nrac', -7184.000 , -4944.000 , 264.086 )
    set t=CreateTrigger()
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_DEATH)
    call TriggerRegisterUnitEvent(t, u, EVENT_UNIT_CHANGE_OWNER)
    call TriggerAddAction(t, function RaccoonDropItems)
	call CreateUnitBonuses( Neutral_Bottom , 'nten', -1632.000 , -4832.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Bottom , 'n078', 3024.000 , -5008.000 , 164.086 )
	call CreateUnitBonuses( Neutral_Bottom , 'n078', 1590.500 , -4975.000 , 164.086 )
	call CreateUnitBonuses( Neutral_Bottom , 'nitr', 1913.000 , -4907.000 , 170.063 )
	call CreateUnitBonuses( Neutral_Bottom , 'nitr', 3066.000 , -4812.500 , 341.850 )
	call CreateUnitBonuses( Neutral_Bottom , 'nitr', 3132.750 , -5085.250 , 107.417 )
	call CreateUnitBonuses( Neutral_Bottom , 'nitr', 3162.000 , -4763.500 , 254.067 )
	call CreateUnitBonuses( Neutral_Bottom , 'nitr', 3277.250 , -4947.250 , 200.177 )
	call CreateUnitBonuses( Neutral_Bottom , 'nitr', 1879.000 , -5070.500 , 278.380 )
	call CreateUnitBonuses( Neutral_Bottom , 'nitr', 1799.250 , -4935.000 , 13.964 )
	call CreateUnitBonuses( Neutral_Bottom , 'nitr', 1744.000 , -5040.000 , 13.964 )
	call CreateUnitBonuses( Neutral_Bottom , 'n06L', 2596.500 , -5033.500 , 81.370 )
	call CreateUnitBonuses( Neutral_Bottom , 'ndrs', 2908.000 , -5087.250 , 180.000 )
	call CreateUnitBonuses( Neutral_Bottom , 'n078', 3254.000 , -5042.500 , 90.000 )
	call CreateUnitBonuses( Neutral_Bottom , 'nfr1', -2560.000 , -4608.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Bottom , 'n072', -2377.000 , -4557.000 , 300.000 )
	call CreateUnitBonuses( Neutral_Bottom , 'n072', -2064.000 , -4624.000 , 240.000 )
	call CreateUnitBonuses( Neutral_Bottom , 'nfr2', -1856.000 , -4608.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Bottom , 'ngno', 1295.750 , -673.750 , 204.835 )
	call CreateUnitBonuses( Neutral_Bottom , 'ngno', -1292.000 , -627.500 , 267.690 )
endfunction

function CreatePirates takes nothing returns nothing
	call CreateUnitBonuses( Neutral_Pirates, 'h07L',-5784.000 , 4073.750 , 300.000 )
	call CreateUnitBonuses( Neutral_Pirates, 'h07L',-7080.250 , 2640.000 , 220.760 )
	call CreateUnitBonuses( Neutral_Pirates, 'h07L',-4594.250 , 2202.000 , 0.000 )
	call CreateUnitBonuses( Neutral_Pirates, 'h07L',-6508.750 , 774.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Pirates, 'h07M',-6695.000 , 3664.000 , 148.320 )
	call CreateUnitBonuses( Neutral_Pirates, 'h07M',-7368.500 , 3676.250 , 34.564 )
	call CreateUnitBonuses( Neutral_Pirates, 'h07M',-6363.500 , 3355.500 , 180.764 )
	call CreateUnitBonuses( Neutral_Pirates, 'h07M',-4683.500 , 2089.500 , 0.000 )
	call CreateUnitBonuses( Neutral_Pirates, 'h07M',-4725.250 , 2304.750 , 345.000 )
	call CreateUnitBonuses( Neutral_Pirates, 'h07M',-4478.500 , 1402.500 , 159.669 )
	call CreateUnitBonuses( Neutral_Pirates, 'h07M',-5712.000 , 1552.000 , 230.610 )
	call CreateUnitBonuses( Neutral_Pirates, 'h07M',-6608.500 , 848.750 , 270.000 )
	call CreateUnitBonuses( Neutral_Pirates, 'h07M',-6419.500 , 843.750 , 241.550 )
	call CreateUnitBonuses( Neutral_Pirates, 'ncop',-4352.000 , 1344.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Pirates, 'h07J',-6108.000 , 2822.500 , 283.126 )
	call CreateUnitBonuses( Neutral_Pirates, 'h01G',-6848.000 , 4160.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Pirates, 'ncop',-6592.000 , 3968.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Pirates, 'h07N',-7296.000 , 4352.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Pirates, 'h07K',-6649.000 , 4333.000 , 270.000 )
	call CreateUnitBonuses( Neutral_Pirates, 'h07K',-7037.500 , 4346.750 , 270.000 )
	set udg_Spider =   CreateUnitBonuses( Neutral_Pirates, 'nspg',-3603.250 , 5191.250 , 65.777 )
endfunction

function CreateSatyrsHard takes nothing returns nothing
	call CreateUnitBonuses( Neutral_Satyrs, 'nsty', -4009.000, -2508.750 , 258.033)
	call CreateUnitBonuses( Neutral_Satyrs, 'nsty', -5469.500, -4535.500 , 310.055)
	call CreateUnitBonuses( Neutral_Satyrs, 'o00K', -4160.000, 2560.000 , 270.000)
	call CreateUnitBonuses( Neutral_Satyrs, 'o00K', -4160.000, 2176.000 , 270.000)
	call CreateUnitBonuses( Neutral_Satyrs, 'o00K', -4736.000, 384.000 , 270.000)
	call CreateUnitBonuses( Neutral_Satyrs, 'o00K', -5824.000, -320.000 , 270.000)
	call CreateUnitBonuses( Neutral_Satyrs, 'o00K', -6784.000, -3264.000 , 270.000)
	call CreateUnitBonuses( Neutral_Satyrs, 'o00K', -5056.000, -576.000 , 270.000)
	call CreateUnitBonuses( Neutral_Satyrs, 'o00K', -5120.000, 1664.000 , 270.000)
	call CreateUnitBonuses( Neutral_Satyrs, 'o00K', -5952.000, -1856.000 , 270.000)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05R', -4309.250, 2340.500 , 7.100)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05R', -5675.500, 595.750 , 326.381)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05R', -4725.000, 623.000 , 354.200)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05R', -4476.750, 227.500 , 90.000)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05R', -4873.250, -1693.750 , 69.765)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05R', -6611.500, -2885.000 , 148.298)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05R', -6081.000, -3240.500 , 189.360)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05T', -7248.000, -1752.250 , 8.767)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05T', -7183.000, -1672.000 , 349.013)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05T', -7192.250, -1816.000 , 224.545)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05S', -7058.500, -1597.500 , 316.581)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05S', -7079.000, -1961.000 , 334.720)
	call CreateUnitBonuses( Neutral_Satyrs, 'o00L', -6528.000, 1536.000 , 270.000)
	call CreateUnitBonuses( Neutral_Satyrs, 'o00L', -6848.000, -1792.000 , 270.000)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05R', -5444.000, -2000.500 , 118.280)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05R', -5218.500, -757.500 , 0.000)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05R', -5876.000, -1448.000 , 3.779)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05R', -6480.000, -142.750 , 295.135)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05R', -6303.750, 1220.500 , 118.887)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05R', -6745.000, 1227.750 , 19.172)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05R', -7231.250, 1799.750 , 265.328)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05S', -6703.500, 1709.000 , 59.020)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05T', -6602.000, 1805.500 , 66.557)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05T', -6803.250, 1586.500 , 234.181)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05T', -5220.500, 1574.000 , 143.068)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05R', -7332.250, 2080.000 , 282.247)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05R', -7437.500, 2068.000 , 296.904)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05R', -7376.000, 2192.000 , 4.010)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05R', -7404.250, 2351.000 , 186.740)
	call CreateUnitBonuses( Neutral_Satyrs, 'o00L', -6976.000, 2496.000 , 270.000)
	call CreateUnitBonuses( Neutral_Satyrs, 'o00L', -6912.000, 3328.000 , 270.000)
	call CreateUnitBonuses( Neutral_Satyrs, 'o00L', -7360.000, 3328.000 , 270.000)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05R', -6598.000, 3109.750 , 93.024)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05R', -6222.000, 3465.500 , 302.232)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05U', -7295.250, 3856.750 , 270.000)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05U', -6966.750, 3824.750 , 270.000)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05V', -7130.750, 3708.250 , 270.000)
	call CreateUnitBonuses( Neutral_Satyrs, 'o00L', -6336.000, 3840.000 , 270.000)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05R', -5444.000, 4214.750 , 111.163)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05R', -5920.000, 3818.250 , 310.307)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05R', -5665.250, 4035.500 , 39.167)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05V', -6024.500, 4167.500 , 354.693)
	call CreateUnitBonuses( Neutral_Satyrs, 'o00L', -5952.000, 5184.000 , 270.000)
	call CreateUnitBonuses( Neutral_Satyrs, 'o00L', -5952.000, 5824.000 , 270.000)
	call CreateUnitBonuses( Neutral_Satyrs, 'o00L', -5312.000, 4288.000 , 270.000)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05W', -6847.750, 4446.500 , 346.870)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05U', -6268.250, 4459.000 , 282.423)
	set udg_Spider =  CreateUnitBonuses( Neutral_Satyrs, 'nspg', -3603.250, 5191.250 , 65.777)
	call CreateUnitBonuses( Neutral_Satyrs, 'n05V', -6437.750, 5527.000 , 161.910)
endfunction

function CreateSatyrTowers takes nothing returns nothing
	call CreateUnit(Neutral_Satyrs,'nsty',1117.000 , 3942.000 , 173.985)
	call CreateUnit(Neutral_Satyrs,'nsty',848.000 , 3664.000 , 219.393)
	call CreateUnit(Neutral_Satyrs,'nsty',1126.750 , 3704.500 , 44.716)
	call CreateUnit(Neutral_Satyrs,'nsty',1409.000 , 3689.000 , 303.858)
	call CreateUnit(Neutral_Satyrs,'nsty',1118.750 , 3453.750 , 152.011)
	call CreateUnit(Neutral_Satyrs,'nsty',1265.750 , -3522.750 , 190.366)
	call CreateUnit(Neutral_Satyrs,'nsty',1535.750 , -3537.500 , 118.414)
	call CreateUnit(Neutral_Satyrs,'nsty',-2820.750 , -3577.000 , 119.667)
	call CreateUnit(Neutral_Satyrs,'nsty',-2567.500 , -3757.250 , 64.085)
	call CreateUnit(Neutral_Satyrs,'nsty',-2630.500 , -3883.250 , 173.330)
	call CreateUnit(Neutral_Satyrs,'nsty',-2973.750 , -3587.500 , 54.650)
	call CreateUnit(Neutral_Satyrs,'nsty',1636.500 , -3620.500 , 286.270)
	call CreateUnit(Neutral_Satyrs,'nsty',951.750 , -3592.750 , 207.050)
	call CreateUnit(Neutral_Satyrs,'o00K',1216.000 , 3584.000 , 270.000)
	call CreateUnit(Neutral_Satyrs,'o00K',1408.000 , -3648.000 , 270.000)
	call CreateUnit(Neutral_Satyrs,'o00K',-2688.000 , -3648.000 , 270.000)
	call CreateUnit(Neutral_Satyrs,'nsat',937.500 , 3812.250 , 240.550)
endfunction

function CreateAllUnits2 takes nothing returns nothing
call CreateBottomTeam()
call CreateNagas()
call CreateNeutralUnits()
call TimerStart(CreateTimer(),0,false,function CreatePlayerUnits2)
endfunction
function CreateRegions2 takes nothing returns nothing
local weathereffect we
set udg_rct_Rocks_middle=Rect(-832.0,-896.0,800.0,-160.0)
set udg_rct_Rocks_midtop=Rect(-576.0,-160.0,544.0,32.0)
set udg_rct_Rocks_Top=Rect(-384.0,96.0,416.0,160.0)
set udg_rct_Rocks_bottom=Rect(-544.0,-1152.0,544.0,-928.0)
set udg_rct_Zombie_Spawn=Rect(-160.0,-672.0,224.0,-288.0)
set we=AddWeatherEffect(udg_rct_Zombie_Spawn,'FDgh')
call EnableWeatherEffect(we,true)
set udg_rct_Entire_map_excluding_out_of_bounds=Rect(-7552.0,-4192.0,4192.0,4096.0)
set udg_rct_The_ring_of_trees=Rect(-1696.0,-2112.0,1824.0,1120.0)
set udg_rct_Top_of_water=Rect(-672.0,3552.0,512.0,4096.0)
set udg_rct_Bottom_of_water=Rect(-960.0,1920.0,1024.0,2720.0)
set udg_rct_Random_event=Rect(5568.0,-5568.0,6592.0,-4672.0)
set udg_rct_Dangerous_water_event=Rect(5632.0,-5056.0,6048.0,-4672.0)
set udg_rct_Rabbit_spawn_event=Rect(6080.0,-5088.0,6528.0,-4672.0)
set udg_rct_Bottom_Right_Snow=Rect(1856.0,-5952.0,4096.0,-2304.0)
set we=AddWeatherEffect(udg_rct_Bottom_Right_Snow,'SNhs')
call EnableWeatherEffect(we,true)
set udg_rct_Boot_drop_event=Rect(6112.0,-5536.0,6272.0,-5120.0)
set udg_rct_Far_Sight_Evil_Event=Rect(5888.0,-5536.0,6080.0,-5088.0)
set udg_rct_Slow_Event=Rect(6304.0,-5536.0,6528.0,-5120.0)
set udg_rct_Trees_top_left=Rect(-4060.0,3573.0,-2249.0,3944.0)
set udg_rct_Trees_left=Rect(-4096.0,-1792.0,-1728.0,2208.0)
set udg_rct_Trees_Bottom=Rect(-1184.0,-4096.0,4064.0,-2048.0)
set udg_rct_Trees_Right=Rect(3116.0,-129.0,3914.0,2772.0)
set udg_rct_Bridge=Rect(-832.0,2496.0,672.0,3616.0)
set udg_rct_Duel_area=Rect(5152.0,-4224.0,8192.0,4192.0)
set udg_rct_Human_duel_spawn_area=Rect(5504.0,3360.0,7904.0,3744.0)
set udg_rct_Undead_duel_spawn_area=Rect(5568.0,-3904.0,7872.0,-3392.0)
set udg_rct_Out_of_bounds_area=Rect(3744.0,-6016.0,7680.0,3872.0)
set udg_rct_Humans_lose_zone=Rect(6016.0,1632.0,7680.0,3168.0)
set udg_rct_Undead_Lose_Zone=Rect(5632.0,-3424.0,7904.0,-1920.0)
set udg_rct_Jump_barrier=Rect(4736.0,-6304.0,5024.0,4096.0)
set udg_rct_Jump_barrier_2=Rect(4288.0,-6336.0,4736.0,4096.0)
set udg_rct_Dark_Count_Region=Rect(5312.0,-4160.0,8160.0,-2272.0)
set udg_rct_Light_Count_Region=Rect(5216.0,2304.0,8192.0,4160.0)
set udg_rct_Ice_Creep_Camp=Rect(1088.0,-5984.0,4096.0,-4192.0)
set udg_rct_Ice_creep_camp_spawn=Rect(3040.0,-5600.0,3552.0,-5312.0)
set udg_rct_Jump_Barrier_4=Rect(5152.0,-4480.0,8160.0,-4288.0)
set udg_rct_Jump_Barieer_3=Rect(4864.0,-5792.0,5056.0,-4384.0)
set udg_rct_Event_area_2=Rect(6944.0,-5664.0,8096.0,-4608.0)
set udg_rct_Creeps_attack_event=Rect(6944.0,-5152.0,7808.0,-4608.0)
set udg_rct_Lightning_Storm_event=Rect(7616.0,-5632.0,8000.0,-5440.0)
set udg_rct_Gate_area_ice=Rect(1024.0,-4416.0,1760.0,-4064.0)
set udg_rct_Boot_drop_2_event=Rect(6944.0,-5632.0,7520.0,-5184.0)
set udg_rct_Activate_neutral_hostile=Rect(6368.0,-5888.0,8128.0,-5760.0)
set udg_rct_Mutate_critter_event=Rect(7584.0,-5408.0,8032.0,-5184.0)
set udg_rct_Creep_duel_spawn=Rect(6144.0,-1184.0,7264.0,-736.0)
set udg_rct_Naga_spawn_area=Rect(3808.0,5088.0,4288.0,5408.0)
set udg_rct_Naga_creep_base=Rect(-1600.0,4096.0,4512.0,5536.0)
set udg_rct_Gate_Area_Naga=Rect(32.0,3872.0,736.0,4352.0)
set udg_rct_choose_naga=Rect(7584.0,-5888.0,8128.0,-5760.0)
set udg_rct_Choose_ICE=Rect(6912.0,-5888.0,7456.0,-5760.0)
set udg_rct_Naga_duel_spawn_area=Rect(6016.0,448.0,7360.0,960.0)
set udg_rct_Creeps_invade_1=Rect(5600.0,-5536.0,5856.0,-5088.0)
set udg_rct_Spell_Shop=Rect(-544.0,1216.0,-288.0,1504.0)
set udg_rct_Item_Shop=Rect(416.0,1184.0,896.0,1856.0)
set udg_rct_Gnoll_Camp=Rect(-7680.0,-5984.0,-896.0,-4160.0)
set udg_rct_Gate_Area_gnoll=Rect(-4064.0,-4960.0,-3392.0,-4512.0)
set udg_rct_Choose_GNOLL=Rect(6272.0,-5888.0,6784.0,-5760.0)
set udg_rct_Gnoll_spawn_area=Rect(-2368.0,-5696.0,-1952.0,-5440.0)
set udg_rct_Human_Base=Rect(3008.0,1856.0,3808.0,2560.0)
set udg_rct_Undead_Base=Rect(-2752.0,64.0,-2048.0,672.0)
set udg_rct_Human_spawn_area=Rect(3232.0,1856.0,3584.0,2016.0)
set udg_rct_Random_Events_Bandit_Spawn=Rect(-2976.0,320.0,-2752.0,640.0)
set udg_rct_human_tower=Rect(2048.0,3328.0,2336.0,3584.0)
set udg_rct_human_tower_2=Rect(3232.0,160.0,3456.0,416.0)
set udg_rct_human_tower_3=Rect(2464.0,2304.0,2816.0,2592.0)
set udg_rct_Undead_Tower=Rect(-3776.0,1568.0,-3424.0,1856.0)
set udg_rct_Undead_tower_2=Rect(-3968.0,0.0,-3680.0,288.0)
set udg_rct_mercenary_camp=Rect(1120.0,1664.0,1440.0,1920.0)
set udg_rct_WHOLE_MAP_NOT_DUEL=Rect(-7872.0,-6560.0,4640.0,6624.0)
set udg_rct_duel_bridge=Rect(6080.0,-736.0,7328.0,608.0)
set udg_rct_Outa_bounds=Rect(-896.0,-5248.0,960.0,-4736.0)
set udg_rct_Outa_bounds2=Rect(-1440.0,-4672.0,-928.0,-4224.0)
set udg_rct_outa_bounds_3=Rect(-4096.0,-6592.0,8128.0,-5984.0)
set udg_rct_Top_Left_Tree_Area=Rect(-4096.0,4128.0,-1632.0,5600.0)
set udg_rct_Outa_Bounds_6=Rect(800.0,4128.0,2560.0,4736.0)
set udg_rct_Outa_bounds_7=Rect(2400.0,4128.0,4096.0,4416.0)
set udg_rct_Recipe_Shop=Rect(-1088.0,1664.0,-800.0,1824.0)
set udg_rct_Goblin_Lab_Shop=Rect(160.0,-5152.0,256.0,-5024.0)
set udg_rct_Hire_Creep_Spawn=Rect(32.0,-5760.0,352.0,-5568.0)
set udg_rct_Naga_Shop=Rect(4032.0,4672.0,4288.0,4896.0)
set udg_rct_Jump_barrier_for_duel=Rect(4928.0,4064.0,5056.0,5600.0)
set udg_rct_Jump_barrier_for_duel_2=Rect(5056.0,4224.0,8160.0,4384.0)
set udg_rct_Lives=Rect(6656.0,-5408.0,6880.0,-4864.0)
set udg_rct_Lives_boundry=Rect(5088.0,4416.0,8096.0,4480.0)
set udg_rct_Lives_boundry_2=Rect(5088.0,4448.0,5152.0,5600.0)
set udg_rct_Dead_teleport_area=Rect(5152.0,4480.0,8192.0,5728.0)
set udg_rct_Bottom_Left=Rect(5312.0,4736.0,5568.0,4896.0)
set udg_rct_Top_Left=Rect(5312.0,5280.0,5536.0,5440.0)
set udg_rct_Top_Right=Rect(7776.0,5248.0,7968.0,5440.0)
set udg_rct_Bottom_Right=Rect(7744.0,4672.0,7968.0,4896.0)
set udg_rct_Dead_area_entry=Rect(6368.0,4704.0,6880.0,4928.0)
set udg_rct_bottom_left=Rect(-3968.0,-3456.0,-2976.0,-2368.0)
set udg_rct_Bot_right=Rect(3310.0,-3776.0,4000.0,-1024.0)
set udg_rct_Final_battle_boundry_1=Rect(1472.0,-2048.0,3744.0,1152.0)
set udg_rct_Final_battle_boundry_2=Rect(-3872.0,-2048.0,-1536.0,1152.0)
set udg_rct_Final_battle_boundry_3=Rect(-3840.0,1248.0,4544.0,6144.0)
set udg_rct_Final_battle_boundry_4=Rect(-3712.0,-3648.0,3456.0,-2048.0)
set udg_rct_Final_Battle_undead_spawn=Rect(-1056.0,128.0,928.0,704.0)
set udg_rct_Final_Battle_human_spawn=Rect(-992.0,-1856.0,992.0,-1280.0)
set udg_rct_Final_Battle_Area=Rect(-8192.0,8320.0,2304.0,9728.0)
set udg_rct_Region_100=Rect(-1344.0,-928.0,-928.0,-224.0)
set udg_rct_Region_101=Rect(864.0,-864.0,1344.0,-288.0)
set udg_rct_Region_102=Rect(6368.0,5152.0,6880.0,5376.0)
set udg_rct_Bottom_Moonlight=Rect(-448.0,-4544.0,736.0,-2848.0)
set we=AddWeatherEffect(udg_rct_Bottom_Moonlight,'LRma')
call EnableWeatherEffect(we,true)
set udg_rct_Bottom_Left_Sun=Rect(-3712.0,-5888.0,-1376.0,-3072.0)
set we=AddWeatherEffect(udg_rct_Bottom_Left_Sun,'LRaa')
call EnableWeatherEffect(we,true)
set udg_rct_Tool_Shop_Spawn=Rect(2080.0,-64.0,2336.0,128.0)
set udg_rct_bottom_right_dont_blink_here_area=Rect(5504.0,-6528.0,8160.0,-4512.0)
set udg_rct_Top_right_forest_minigame=Rect(4912.0,5824.0,8890.0,9728.0)
set udg_rct_Random_tree_spawn_area=Rect(4192.0,6944.0,8192.0,8864.0)
set udg_rct_human_spawn_area=Rect(5616.0,6208.0,8144.0,6688.0)
set udg_rct_undead_spawn_area_foest=Rect(5616.0,9088.0,8144.0,9504.0)
set udg_rct_Region_110=Rect(8590.0,7584.0,8790.0,8160.0)
set udg_rct_Region_111=Rect(4930.0,7712.0,5230.0,8192.0)
set udg_rct_light_count_2=Rect(4256.0,5888.0,8064.0,7104.0)
set udg_rct_dark_count_2=Rect(4288.0,8672.0,8160.0,9600.0)
set udg_rct_trees_left_left=Rect(-6400.0,-512.0,-4128.0,1120.0)
set udg_rct_trees_lake_left=Rect(-7904.0,1056.0,-5536.0,5056.0)
set udg_rct_bridge_lake_left=Rect(-6464.0,3040.0,-5248.0,4256.0)
set udg_rct_shipyard_spawn=Rect(-6592.0,2752.0,-6464.0,2848.0)
set udg_rct_bridge_tele=Rect(-5664.0,3328.0,-5472.0,3520.0)
set udg_rct_bridge_tele_Copy=Rect(-5088.0,3808.0,-4928.0,3968.0)
set udg_rct_bridge_tele_Copy_2=Rect(-128.0,3456.0,32.0,3616.0)
set udg_rct_bridge_tele_Copy_3=Rect(-128.0,2688.0,32.0,2848.0)
set udg_rct_trees_area_1243342=Rect(-7296.0,5088.0,-6944.0,6016.0)
set udg_rct_Magic_Shop_spawn=Rect(-5472.0,-3648.0,-5280.0,-3488.0)
set udg_rct_trees_left=Rect(-7648.0,-2784.0,-7136.0,-1280.0)
set udg_rct_trees_left2=Rect(-5024.0,-1440.0,-4480.0,-1280.0)
set udg_rct_trees_left_3=Rect(-6944.0,-2752.0,-6208.0,-2592.0)
set udg_rct_naga_creep_event_area=Rect(3104.0,4448.0,4384.0,5728.0)
set udg_rct_bridge_124312=Rect(-7488.0,-4256.0,-6784.0,-3552.0)
set udg_rct_Entire_map_excluding_outa_bounds_2=Rect(-7424.0,4192.0,-5024.0,5888.0)
set udg_rct_hero_shop=Rect(-7616.0,-4672.0,-7392.0,-4480.0)
set udg_rct_FB_Human_Spawn=Rect(1472.0,8416.0,2176.0,9472.0)
set udg_rct_FB_Neutral_Spawn_Human_Side=Rect(-1120.0,8384.0,-224.0,9568.0)
set udg_rct_FB_Neutral_Spawn_Undead_Side=Rect(-6304.0,8416.0,-5344.0,9536.0)
set udg_rct_FB_Undead_Spawn=Rect(-8096.0,8384.0,-7200.0,9568.0)
set udg_rct_FB_Whole_Area=Rect(-8160.0,8096.0,2368.0,9696.0)
set udg_rct_FB_Undead_Side=Rect(-8128.0,8320.0,-4544.0,9632.0)
set udg_rct_FB_Human_Side=Rect(-1088.0,8352.0,2272.0,9632.0)
set udg_rct_patrol_point_1=Rect(7520.0,3584.0,7712.0,3776.0)
set udg_rct_patrol_2=Rect(5568.0,3584.0,5792.0,3808.0)
set udg_rct_patrol_3=Rect(7552.0,2752.0,7712.0,2944.0)
set udg_rct_patrol_4=Rect(5568.0,2784.0,5760.0,2976.0)
set udg_rct_patrol_4_Copy=Rect(5568.0,2144.0,5760.0,2336.0)
set udg_rct_patrol_4_Copy_2=Rect(7584.0,2080.0,7776.0,2272.0)
set udg_rct_patrol_4_Copy_7=Rect(7744.0,6176.0,7936.0,6368.0)
set udg_rct_patrol_4_Copy_8=Rect(4832.0,6208.0,5024.0,6400.0)
set udg_rct_patrol_4_Copy_9=Rect(7712.0,7936.0,7904.0,8128.0)
set udg_rct_patrol_4_Copy_10=Rect(7776.0,9120.0,7968.0,9312.0)
set udg_rct_patrol_4_Copy_11=Rect(4288.0,8416.0,4480.0,8608.0)
set udg_rct_patrol_5=Rect(7520.0,5024.0,7680.0,5312.0)
set udg_rct_Region_154=Rect(5632.0,4704.0,5856.0,4992.0)
set udg_rct_Region_155=Rect(3040.0,6848.0,3456.0,9696.0)
set udg_rct_Region_156=Rect(-8192.0,6912.0,3424.0,7328.0)
set udg_rct_ice_creep_event=Rect(2528.0,-5568.0,3552.0,-4736.0)
set udg_rct_random_items_shop_normal=Rect(3808.0,-1152.0,4032.0,-928.0)
set udg_rct_Region_230=Rect(640.0,5728.0,4672.0,6240.0)
set udg_rct_Region_231=Rect(4608.0,5504.0,8160.0,5920.0)
set udg_rct_Region_013=Rect(4128.0,-6656.0,5184.0,5760.0)
set udg_rct_Region_232=Rect(5024.0,4096.0,8160.0,4576.0)
set udg_rct_Region_233=Rect(3360.0,6496.0,4224.0,9696.0)
set udg_rct_Region_234=Rect(4960.0,-4640.0,8160.0,-4096.0)
set udg_rct_Region_235=Rect(-896.0,-5376.0,1024.0,-4800.0)
set udg_rct_Region_236=Rect(-1440.0,-4672.0,-928.0,-4224.0)
set udg_rct_Region_237=Rect(-1984.0,-3904.0,-1440.0,-2976.0)
set udg_rct_Region_238=Rect(-768.0,1888.0,864.0,4000.0)
set udg_rct_Region_239=Rect(-5056.0,5920.0,640.0,6336.0)
set udg_rct_Region_240=Rect(-5024.0,3552.0,-4288.0,5792.0)
set udg_rct_Region_241=Rect(-1568.0,4064.0,-672.0,4192.0)
set udg_rct_Region_242=Rect(-6848.0,-4160.0,-3776.0,-3616.0)
set udg_rct_ABC_loc_1=Rect(-1792.0,-640.0,-1600.0,-416.0)
set udg_rct_ABC_loc_2=Rect(-128.0,1056.0,128.0,1280.0)
set udg_rct_ABC_loc_3=Rect(1728.0,-640.0,1984.0,-416.0)
set udg_rct_ABC_loc_4=Rect(1216.0,-1920.0,1472.0,-1696.0)
set udg_rct_ABC_loc_5=Rect(-1248.0,-1984.0,-992.0,-1760.0)
set udg_rct_Region_248=Rect(864.0,-1792.0,1408.0,-1280.0)
set udg_rct_Region_249=Rect(-1088.0,-1824.0,-640.0,-1184.0)
set udg_rct_Region_250=Rect(-192.0,832.0,224.0,992.0)
set udg_rct_Region_251=Rect(-1312.0,-1888.0,1440.0,736.0)
set udg_rct_Region_252=Rect(1344.0,-736.0,1664.0,-256.0)
set udg_rct_Region_253=Rect(-544.0,-1600.0,928.0,672.0)
set udg_rct_Duel_Start=Rect(5568.0,-5312.0,5760.0,-5056.0)
set udg_rct_Duel_Start_2=Rect(7808.0,-5248.0,8000.0,-4992.0)
set udg_rct_Region_146=Rect(7808.0,-6368.0,8000.0,-6176.0)
set udg_rct_Region_147=Rect(5568.0,-6368.0,5760.0,-6208.0)
set udg_rct_Top_left_Lake=Rect(-6528.0,2368.0,-5440.0,3232.0)
set udg_rct_center_lake=Rect(-288.0,1984.0,-64.0,2272.0)
set udg_rct_Region_160=Rect(-7360.0,-256.0,-7232.0,224.0)
set udg_rct_Region_161=Rect(2336.0,1280.0,2656.0,1600.0)
set udg_rct_Region_162=Rect(-3168.0,-1728.0,-2976.0,-1472.0)
set udg_rct_Naga_Base_Entrance=Rect(768.0,3360.0,1504.0,4000.0)
set udg_rct_Ice_Base_Entrance=Rect(800.0,-3776.0,1792.0,-3424.0)
set udg_rct_Gnoll_Base_Entrance=Rect(-3072.0,-3968.0,-2432.0,-3456.0)
set udg_rct_Satyr_West_Units=Rect(-7488.0,-4672.0,-3968.0,6464.0)
set udg_rct_Satyr_East_Units=Rect(-3904.0,-5152.0,4448.0,6464.0)
set udg_rct_Satyr_Barracks=Rect(-6720.0,4064.0,-6528.0,4256.0)
set udg_rct_Satyr_Spawn=Rect(-6688.0,3808.0,-6560.0,4000.0)
set udg_rct_Common_Satyr_Attack_Area=Rect(-4032.0,-4192.0,4064.0,4032.0)
set udg_rct_Pirate_Spawn=Rect(-4768.0,1600.0,-4672.0,1696.0)
set udg_rct_crates1=Rect(-4352.0,-1152.0,-4096.0,-448.0)
set udg_rct_crates2=Rect(-4160.0,-4736.0,-4032.0,-4224.0)
set udg_rct_PirateTele=Rect(-4384.0,1312.0,-4320.0,1376.0)
set udg_rct_PirateTele2=Rect(-6624.0,3936.0,-6560.0,4000.0)
set udg_rct_PirateShip_Boundry=Rect(-6336.0,2592.0,-5856.0,3168.0)
set udg_rct_Rocks_Outer=Rect(-1984.0,-2432.0,2464.0,1312.0)
endfunction
function CreateCameras2 takes nothing returns nothing
set udg_cam_Camera_001=CreateCameraSetup()
call CameraSetupSetField(udg_cam_Camera_001,CAMERA_FIELD_ZOFFSET,0.0,0.0)
call CameraSetupSetField(udg_cam_Camera_001,CAMERA_FIELD_ROTATION,90.0,0.0)
call CameraSetupSetField(udg_cam_Camera_001,CAMERA_FIELD_ANGLE_OF_ATTACK,304.0,0.0)
call CameraSetupSetField(udg_cam_Camera_001,CAMERA_FIELD_TARGET_DISTANCE,3890.6,0.0)
call CameraSetupSetField(udg_cam_Camera_001,CAMERA_FIELD_ROLL,0.0,0.0)
call CameraSetupSetField(udg_cam_Camera_001,CAMERA_FIELD_FIELD_OF_VIEW,70.0,0.0)
call CameraSetupSetField(udg_cam_Camera_001,CAMERA_FIELD_FARZ,5000.0,0.0)
call CameraSetupSetDestPosition(udg_cam_Camera_001,-239.8,-1330.1,0.0)
endfunction
function Trig_Flame_Breath_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0KW'))then
return false
endif
return true
endfunction
function Trig_Flame_Breath_Actions takes nothing returns nothing
set udg_AAAA_GP=GetSpellTargetLoc()
set udg_ZZZ_Caster[udg_ZZZ_count]=GetTriggerUnit()
set udg_ZZZ_FireDelay[udg_ZZZ_loopIndex]=48
call GroupAddUnitSimple(udg_ZZZ_Caster[udg_ZZZ_count],udg_ZZZ_Units)
call CreateNUnitsAtLocBonuses(1,'h07Q',GetOwningPlayer(udg_ZZZ_Caster[udg_ZZZ_count]),udg_AAAA_GP,bj_UNIT_FACING)
set udg_ZZZ_Dummy[udg_ZZZ_count]=GetLastCreatedUnit()
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"rainoffire",udg_AAAA_GP)
call UnitApplyTimedLifeBJ(10.00,'BTLF',GetLastCreatedUnit())
set udg_ZZZ_InUse[udg_ZZZ_count]=true
set udg_ZZZ_count=(udg_ZZZ_count+1)
call EnableTrigger(udg_trg_Flame_Breath_Loop)
call RemoveLocation(udg_AAAA_GP)
endfunction
function InitTrig_Flame_Breath takes nothing returns nothing
set udg_trg_Flame_Breath=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Flame_Breath,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Flame_Breath,Condition(function Trig_Flame_Breath_Conditions))
call TriggerAddAction(udg_trg_Flame_Breath,function Trig_Flame_Breath_Actions)
endfunction
function Trig_Treant_Fix_Conditions takes nothing returns boolean
call Print("unroot ordered")
return (GetSpellAbilityId()=='Aro1')
endfunction
function Trig_Treant_Fix_Actions takes nothing returns nothing
local integer abil = GetUnitAbility(GetTriggerUnit(),'AInv')
if(abil==0) then
return
endif
call WriteRealMemory(abil+0x3c,-2)
call WriteRealMemory(abil+0x40,-2)
call WriteRealMemory(abil+0x44,-2)

endfunction
function InitTrig_Treant_Fix takes nothing returns nothing
set udg_trg_Treant_Fix=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Treant_Fix,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Treant_Fix,Condition(function Trig_Treant_Fix_Conditions))
call TriggerAddAction(udg_trg_Treant_Fix,function Trig_Treant_Fix_Actions)
endfunction
function Trig_Flame_Breath_Loop_Func001C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_ZZZ_Units)==0))then
return false
endif
return true
endfunction
function Trig_Flame_Breath_Loop_Func002Func001Func002Func002C takes nothing returns boolean
if(not(GetUnitTypeId(udg_ZZZ_Caster[udg_ZZZ_loopIndex])=='E01A'))then
return false
endif
return true
endfunction
function Trig_Flame_Breath_Loop_Func002Func001Func002C takes nothing returns boolean
if(not(udg_ZZZ_FireDelay[udg_ZZZ_loopIndex]>=48))then
return false
endif
return true
endfunction
function Trig_Flame_Breath_Loop_Func002Func001Func003C takes nothing returns boolean
if(not(udg_ZZZ_InUse[udg_ZZZ_loopIndex]==true))then
return false
endif
return true
endfunction
function Trig_Flame_Breath_Loop_Func002Func001C takes nothing returns boolean
if(not(IsUnitInGroup(udg_ZZZ_Caster[udg_ZZZ_loopIndex],udg_ZZZ_Units)==true))then
return false
endif
return true
endfunction
function Trig_Flame_Breath_Loop_Actions takes nothing returns nothing
if(Trig_Flame_Breath_Loop_Func001C())then
set udg_ZZZ_count=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
set udg_ZZZ_loopIndex=0
loop
exitwhen udg_ZZZ_loopIndex>udg_ZZZ_count
if(Trig_Flame_Breath_Loop_Func002Func001C())then
set udg_ZZZ_FireDelay[udg_ZZZ_loopIndex]=(udg_ZZZ_FireDelay[udg_ZZZ_loopIndex]+1)
if(Trig_Flame_Breath_Loop_Func002Func001Func002C())then
set udg_ZZZ_FireDelay[udg_ZZZ_loopIndex]=0
if(Trig_Flame_Breath_Loop_Func002Func001Func002Func002C())then
call SetUnitAnimation(udg_ZZZ_Caster[udg_ZZZ_loopIndex],"spell")
else
call SetUnitAnimation(udg_ZZZ_Caster[udg_ZZZ_loopIndex],"spell, alternate")
endif
else
endif
else
if(Trig_Flame_Breath_Loop_Func002Func001Func003C())then
call RemoveUnit(udg_ZZZ_Dummy[udg_ZZZ_loopIndex])
set udg_ZZZ_InUse[udg_ZZZ_loopIndex]=false
else
endif
endif
set udg_ZZZ_loopIndex=udg_ZZZ_loopIndex+1
endloop
endfunction
function InitTrig_Flame_Breath_Loop takes nothing returns nothing
set udg_trg_Flame_Breath_Loop=CreateTrigger()
call DisableTrigger(udg_trg_Flame_Breath_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_Flame_Breath_Loop,0.05)
call TriggerAddAction(udg_trg_Flame_Breath_Loop,function Trig_Flame_Breath_Loop_Actions)
endfunction
function Trig_Flame_Breath_Stop_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0KW'))then
return false
endif
return true
endfunction
function Trig_Flame_Breath_Stop_Actions takes nothing returns nothing
call GroupRemoveUnitSimple(GetTriggerUnit(),udg_ZZZ_Units)
endfunction
function InitTrig_Flame_Breath_Stop takes nothing returns nothing
set udg_trg_Flame_Breath_Stop=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Flame_Breath_Stop,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerRegisterAnyUnitEventBJ(udg_trg_Flame_Breath_Stop,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(udg_trg_Flame_Breath_Stop,Condition(function Trig_Flame_Breath_Stop_Conditions))
call TriggerAddAction(udg_trg_Flame_Breath_Stop,function Trig_Flame_Breath_Stop_Actions)
endfunction
function Trig_Generic_Slam_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0JY'))then
return false
endif
return true
endfunction
function Trig_Generic_Slam_Func005002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Generic_Slam_Func005002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)
endfunction
function Trig_Generic_Slam_Func005002003002002001 takes nothing returns boolean
return(IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true)
endfunction
function Trig_Generic_Slam_Func005002003002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Generic_Slam_Func005002003002002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)
endfunction
function Trig_Generic_Slam_Func005002003002002002002002 takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Generic_Slam_Func005002003002002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))
endfunction
function Trig_Generic_Slam_Func005002003002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))
endfunction
function Trig_Generic_Slam_Func005002003002002 takes nothing returns boolean
return GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))
endfunction
function Trig_Generic_Slam_Func005002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))))
endfunction
function Trig_Generic_Slam_Func005002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))))))
endfunction
function Trig_Generic_Slam_Func006A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Antidesync_temp_unit,GetEnumUnit(),200.00,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call CreateNUnitsAtLocBonuses(1,'e018',GetOwningPlayer(udg_Antidesync_temp_unit),udg_TempPoint,bj_UNIT_FACING)
call UnitAddAbilityBJ('A0JW',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0JW',GetLastCreatedUnit(),2)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"slow",GetEnumUnit())
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
endfunction
function Trig_Generic_Slam_Actions takes nothing returns nothing
set udg_Antidesync_temp_unit=GetTriggerUnit()
set udg_TempPoint=GetUnitLoc(udg_Antidesync_temp_unit)
set udg_TempGroup=GetUnitsInRangeOfLocMatching(300.00,udg_TempPoint,Condition(function Trig_Generic_Slam_Func005002003))
call ForGroupBJ(udg_TempGroup,function Trig_Generic_Slam_Func006A)
call RemoveLocation(udg_TempPoint)
call DestroyGroup(udg_TempGroup)
endfunction
function InitTrig_Generic_Slam takes nothing returns nothing
set udg_trg_Generic_Slam=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Generic_Slam,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Generic_Slam,Condition(function Trig_Generic_Slam_Conditions))
call TriggerAddAction(udg_trg_Generic_Slam,function Trig_Generic_Slam_Actions)
endfunction
function Trig_Generic_Slam_Copy_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0JY'))then
return false
endif
return true
endfunction
function Trig_Generic_Slam_Copy_Func005002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Generic_Slam_Copy_Func005002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)
endfunction
function Trig_Generic_Slam_Copy_Func005002003002002001 takes nothing returns boolean
return(IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true)
endfunction
function Trig_Generic_Slam_Copy_Func005002003002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Generic_Slam_Copy_Func005002003002002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)
endfunction
function Trig_Generic_Slam_Copy_Func005002003002002002002002 takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Generic_Slam_Copy_Func005002003002002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))
endfunction
function Trig_Generic_Slam_Copy_Func005002003002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))
endfunction
function Trig_Generic_Slam_Copy_Func005002003002002 takes nothing returns boolean
return GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))
endfunction
function Trig_Generic_Slam_Copy_Func005002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))))
endfunction
function Trig_Generic_Slam_Copy_Func005002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))))))
endfunction
function Trig_Generic_Slam_Copy_Func006A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Antidesync_temp_unit,GetEnumUnit(),(80.00*I2R(GetUnitAbilityLevelSwapped('A000',GetTriggerUnit()))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call CreateNUnitsAtLocBonuses(1,'h001',GetOwningPlayer(GetTriggerUnit()),udg_TempPoint,bj_UNIT_FACING)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"slow",GetEnumUnit())
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
endfunction
function Trig_Generic_Slam_Copy_Actions takes nothing returns nothing
set udg_Antidesync_temp_unit=GetTriggerUnit()
set udg_TempPoint=GetUnitLoc(udg_Antidesync_temp_unit)
set udg_TempGroup=GetUnitsInRangeOfLocMatching(300.00,udg_TempPoint,Condition(function Trig_Generic_Slam_Copy_Func005002003))
call ForGroupBJ(udg_TempGroup,function Trig_Generic_Slam_Copy_Func006A)
call RemoveLocation(udg_TempPoint)
call DestroyGroup(udg_TempGroup)
endfunction
function InitTrig_Generic_Slam_Copy takes nothing returns nothing
set udg_trg_Generic_Slam_Copy=CreateTrigger()
call DisableTrigger(udg_trg_Generic_Slam_Copy)
call TriggerRegisterAnyUnitEventBJ(udg_trg_Generic_Slam_Copy,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Generic_Slam_Copy,Condition(function Trig_Generic_Slam_Copy_Conditions))
call TriggerAddAction(udg_trg_Generic_Slam_Copy,function Trig_Generic_Slam_Copy_Actions)
endfunction
function Trig_Plated_Footman_Warstomp_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0K2'))then
return false
endif
return true
endfunction
function Trig_Plated_Footman_Warstomp_Func005002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Plated_Footman_Warstomp_Func005002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)
endfunction
function Trig_Plated_Footman_Warstomp_Func005002003002002001 takes nothing returns boolean
return(IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true)
endfunction
function Trig_Plated_Footman_Warstomp_Func005002003002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Plated_Footman_Warstomp_Func005002003002002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)
endfunction
function Trig_Plated_Footman_Warstomp_Func005002003002002002002002 takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Plated_Footman_Warstomp_Func005002003002002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))
endfunction
function Trig_Plated_Footman_Warstomp_Func005002003002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))
endfunction
function Trig_Plated_Footman_Warstomp_Func005002003002002 takes nothing returns boolean
return GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))
endfunction
function Trig_Plated_Footman_Warstomp_Func005002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))))
endfunction
function Trig_Plated_Footman_Warstomp_Func005002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))))))
endfunction
function Trig_Plated_Footman_Warstomp_Func006A takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'e018',GetOwningPlayer(udg_Antidesync_temp_unit),udg_TempPoint,bj_UNIT_FACING)
call UnitAddAbilityBJ('A0K0',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0K0',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A0K2',udg_Antidesync_temp_unit))
call IssueTargetOrderBJ(GetLastCreatedUnit(),"thunderbolt",GetEnumUnit())
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
endfunction
function Trig_Plated_Footman_Warstomp_Actions takes nothing returns nothing
set udg_Antidesync_temp_unit=GetTriggerUnit()
set udg_TempPoint=GetUnitLoc(udg_Antidesync_temp_unit)
set udg_TempGroup=GetUnitsInRangeOfLocMatching(300.00,udg_TempPoint,Condition(function Trig_Plated_Footman_Warstomp_Func005002003))
call ForGroupBJ(udg_TempGroup,function Trig_Plated_Footman_Warstomp_Func006A)
call RemoveLocation(udg_TempPoint)
call DestroyGroup(udg_TempGroup)
endfunction
function InitTrig_Plated_Footman_Warstomp takes nothing returns nothing
set udg_trg_Plated_Footman_Warstomp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Plated_Footman_Warstomp,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Plated_Footman_Warstomp,Condition(function Trig_Plated_Footman_Warstomp_Conditions))
call TriggerAddAction(udg_trg_Plated_Footman_Warstomp,function Trig_Plated_Footman_Warstomp_Actions)
endfunction
function Trig_Paladin_uu_warstomp_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0K6'))then
return false
endif
return true
endfunction
function Trig_Paladin_uu_warstomp_Func005002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Paladin_uu_warstomp_Func005002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)
endfunction
function Trig_Paladin_uu_warstomp_Func005002003002002001 takes nothing returns boolean
return(IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true)
endfunction
function Trig_Paladin_uu_warstomp_Func005002003002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Paladin_uu_warstomp_Func005002003002002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)
endfunction
function Trig_Paladin_uu_warstomp_Func005002003002002002002002 takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Paladin_uu_warstomp_Func005002003002002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))
endfunction
function Trig_Paladin_uu_warstomp_Func005002003002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))
endfunction
function Trig_Paladin_uu_warstomp_Func005002003002002 takes nothing returns boolean
return GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))
endfunction
function Trig_Paladin_uu_warstomp_Func005002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))))
endfunction
function Trig_Paladin_uu_warstomp_Func005002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))))))
endfunction
function Trig_Paladin_uu_warstomp_Func006A takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'e018',GetOwningPlayer(udg_Antidesync_temp_unit),udg_TempPoint,bj_UNIT_FACING)
call UnitAddAbilityBJ('A0K0',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0K0',GetLastCreatedUnit(),(11+GetUnitAbilityLevelSwapped('A0K6',udg_Antidesync_temp_unit)))
call IssueTargetOrderBJ(GetLastCreatedUnit(),"thunderbolt",GetEnumUnit())
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
endfunction
function Trig_Paladin_uu_warstomp_Actions takes nothing returns nothing
set udg_Antidesync_temp_unit=GetTriggerUnit()
set udg_TempPoint=GetUnitLoc(udg_Antidesync_temp_unit)
set udg_TempGroup=GetUnitsInRangeOfLocMatching(350.00,udg_TempPoint,Condition(function Trig_Paladin_uu_warstomp_Func005002003))
call ForGroupBJ(udg_TempGroup,function Trig_Paladin_uu_warstomp_Func006A)
call RemoveLocation(udg_TempPoint)
call DestroyGroup(udg_TempGroup)
endfunction
function InitTrig_Paladin_uu_warstomp takes nothing returns nothing
set udg_trg_Paladin_uu_warstomp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Paladin_uu_warstomp,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Paladin_uu_warstomp,Condition(function Trig_Paladin_uu_warstomp_Conditions))
call TriggerAddAction(udg_trg_Paladin_uu_warstomp,function Trig_Paladin_uu_warstomp_Actions)
endfunction
function Trig_Icey_Explosion_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0K5'))then
return false
endif
return true
endfunction
function Trig_Icey_Explosion_Func005002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Icey_Explosion_Func005002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)
endfunction
function Trig_Icey_Explosion_Func005002003002002001 takes nothing returns boolean
return(IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true)
endfunction
function Trig_Icey_Explosion_Func005002003002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Icey_Explosion_Func005002003002002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)
endfunction
function Trig_Icey_Explosion_Func005002003002002002002002 takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Icey_Explosion_Func005002003002002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))
endfunction
function Trig_Icey_Explosion_Func005002003002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))
endfunction
function Trig_Icey_Explosion_Func005002003002002 takes nothing returns boolean
return GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))
endfunction
function Trig_Icey_Explosion_Func005002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))))
endfunction
function Trig_Icey_Explosion_Func005002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))))))
endfunction
function Trig_Icey_Explosion_Func006A takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'e018',GetOwningPlayer(udg_Antidesync_temp_unit),udg_TempPoint,bj_UNIT_FACING)
call UnitAddAbilityBJ('A0K0',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0K0',GetLastCreatedUnit(),(5+GetUnitAbilityLevelSwapped('A0K5',udg_Antidesync_temp_unit)))
call IssueTargetOrderBJ(GetLastCreatedUnit(),"thunderbolt",GetEnumUnit())
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
endfunction
function Trig_Icey_Explosion_Actions takes nothing returns nothing
set udg_Antidesync_temp_unit=GetTriggerUnit()
set udg_TempPoint=GetUnitLoc(udg_Antidesync_temp_unit)
set udg_TempGroup=GetUnitsInRangeOfLocMatching(300.00,udg_TempPoint,Condition(function Trig_Icey_Explosion_Func005002003))
call ForGroupBJ(udg_TempGroup,function Trig_Icey_Explosion_Func006A)
call RemoveLocation(udg_TempPoint)
call DestroyGroup(udg_TempGroup)
endfunction
function InitTrig_Icey_Explosion takes nothing returns nothing
set udg_trg_Icey_Explosion=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Icey_Explosion,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Icey_Explosion,Condition(function Trig_Icey_Explosion_Conditions))
call TriggerAddAction(udg_trg_Icey_Explosion,function Trig_Icey_Explosion_Actions)
endfunction
function Trig_Generic_War_Stomp_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0K3'))then
return false
endif
return true
endfunction
function Trig_Generic_War_Stomp_Func004002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Generic_War_Stomp_Func004002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)
endfunction
function Trig_Generic_War_Stomp_Func004002003002002001 takes nothing returns boolean
return(IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true)
endfunction
function Trig_Generic_War_Stomp_Func004002003002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Generic_War_Stomp_Func004002003002002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)
endfunction
function Trig_Generic_War_Stomp_Func004002003002002002002002 takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Generic_War_Stomp_Func004002003002002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))
endfunction
function Trig_Generic_War_Stomp_Func004002003002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))
endfunction
function Trig_Generic_War_Stomp_Func004002003002002 takes nothing returns boolean
return GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))
endfunction
function Trig_Generic_War_Stomp_Func004002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))))
endfunction
function Trig_Generic_War_Stomp_Func004002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))))))
endfunction
function Trig_Generic_War_Stomp_Func005A takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'e018',GetOwningPlayer(udg_Antidesync_temp_unit),udg_TempPoint,bj_UNIT_FACING)
call UnitAddAbilityBJ('A0K0',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0K0',GetLastCreatedUnit(),5)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"thunderbolt",GetEnumUnit())
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
endfunction
function Trig_Generic_War_Stomp_Actions takes nothing returns nothing
set udg_Antidesync_temp_unit=GetTriggerUnit()
set udg_TempPoint=GetUnitLoc(udg_Antidesync_temp_unit)
set udg_TempGroup=GetUnitsInRangeOfLocMatching(325.00,udg_TempPoint,Condition(function Trig_Generic_War_Stomp_Func004002003))
call ForGroupBJ(udg_TempGroup,function Trig_Generic_War_Stomp_Func005A)
call RemoveLocation(udg_TempPoint)
call DestroyGroup(udg_TempGroup)
endfunction
function InitTrig_Generic_War_Stomp takes nothing returns nothing
set udg_trg_Generic_War_Stomp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Generic_War_Stomp,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Generic_War_Stomp,Condition(function Trig_Generic_War_Stomp_Conditions))
call TriggerAddAction(udg_trg_Generic_War_Stomp,function Trig_Generic_War_Stomp_Actions)
endfunction
function Trig_Display_stats_Actions takes nothing returns nothing
set udg_AAAA_Temp_Player_Group=GetForceOfPlayer(GetTriggerPlayer())
call DisplayTimedTextToForce(udg_AAAA_Temp_Player_Group,5.00,("|cff00ff00Bonus HP: |r"+(I2S(udg_Player_HP_Points[GetConvertedPlayerId(GetTriggerPlayer())])+" ")))
call DisplayTimedTextToForce(udg_AAAA_Temp_Player_Group,5.00,("|cff00ff00Bonus Damage: |r"+(I2S(udg_Player_DamagePoints[GetConvertedPlayerId(GetTriggerPlayer())])+" ")))
call DisplayTimedTextToForce(udg_AAAA_Temp_Player_Group,5.00,("Book Bounus HP: |r"+(I2S(HPBonuses[GetPlayerId(GetTriggerPlayer())])+" ")))
call DisplayTimedTextToForce(udg_AAAA_Temp_Player_Group,5.00,("Book Bounus Damage: |r"+(I2S(damageBonuses[GetPlayerId(GetTriggerPlayer())])+" ")))
call DestroyForce(udg_AAAA_Temp_Player_Group)
endfunction
function InitTrig_Display_stats takes nothing returns nothing
set udg_trg_Display_stats=CreateTrigger()
call TriggerRegisterPlayerChatEvent(udg_trg_Display_stats,Player(0),"-stats",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Display_stats,Player(1),"-stats",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Display_stats,Player(2),"-stats",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Display_stats,Player(3),"-stats",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Display_stats,Player(4),"-stats",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Display_stats,Player(5),"-stats",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Display_stats,Player(6),"-stats",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Display_stats,Player(7),"-stats",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Display_stats,Player(8),"-stats",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Display_stats,Player(9),"-stats",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Display_stats,Player(10),"-stats",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Display_stats,Player(11),"-stats",true)
call TriggerAddAction(udg_trg_Display_stats,function Trig_Display_stats_Actions)
endfunction
function Trig_Fullcontrol_Actions takes nothing returns nothing
local integer pnumber
local string snumber
set snumber=SubString(GetEventPlayerChatString(),9,11)
set pnumber=S2I(snumber)
if(pnumber==0)then
if(SubString(snumber,0,1)!="0")then
return
endif
endif
if(pnumber>11 or pnumber<0)then
return
endif
if(IsPlayerAlly(GetTriggerPlayer(),Player(pnumber)))then
call SetPlayerAlliance(GetTriggerPlayer(),Player(pnumber),ALLIANCE_SHARED_ADVANCED_CONTROL,true)
endif
endfunction
function InitTrig_AdvControl takes nothing returns nothing
local integer idx=0
local trigger this=CreateTrigger()
call TriggerRegisterPlayerChatEvent(this,Player(0),"-control",false)
call TriggerAddAction(this,function Trig_Fullcontrol_Actions)
endfunction
function Trig_Trained_units_setup_Actions takes nothing returns nothing
call GroupAddUnitSimple(GetTrainedUnit(),udg_Trained_Units)
endfunction
function InitTrig_Trained_units_setup takes nothing returns nothing
set udg_trg_Trained_units_setup=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Trained_units_setup,EVENT_PLAYER_UNIT_TRAIN_FINISH)
call TriggerAddAction(udg_trg_Trained_units_setup,function Trig_Trained_units_setup_Actions)
endfunction
function Trig_Player_Points_Conditions takes nothing returns boolean
if(not(IsUnitIllusionBJ(GetDyingUnit())==false))then
return false
endif
if(not(IsUnitEnemy(GetDyingUnit(),GetOwningPlayer(GetKillingUnitBJ()))==true))then
return false
endif
if(not(GetUnitTypeId(GetDyingUnit())!='nrac'))then
return false
endif
if(not(GetKillingUnitBJ()!=null))then
return false
endif
return true
endfunction
function Trig_Player_Points_Func003001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)
endfunction
function Trig_Player_Points_Func003001002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Player_Points_Func003001002002002001 takes nothing returns boolean
return(IsUnitIllusionBJ(GetFilterUnit())==false)
endfunction
function Trig_Player_Points_Func003001002002002002 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),udg_Trained_Units)==false)
endfunction
function Trig_Player_Points_Func003001002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitIllusionBJ(GetFilterUnit())==false),(IsUnitInGroup(GetFilterUnit(),udg_Trained_Units)==false))
endfunction
function Trig_Player_Points_Func003001002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsUnitIllusionBJ(GetFilterUnit())==false),(IsUnitInGroup(GetFilterUnit(),udg_Trained_Units)==false))))
endfunction
function Trig_Player_Points_Func003001002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsUnitIllusionBJ(GetFilterUnit())==false),(IsUnitInGroup(GetFilterUnit(),udg_Trained_Units)==false))))))
endfunction
function Trig_Player_Points_Func003A takes nothing returns nothing
set udg_CS_Unit=GetEnumUnit()
set udg_CS_Value=1
call AddHP()
endfunction
function Trig_Player_Points_Actions takes nothing returns nothing
set udg_Player_HP_Points[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]=(udg_Player_HP_Points[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+1)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsOfPlayerMatching(GetOwningPlayer(GetKillingUnitBJ()),Condition(function Trig_Player_Points_Func003001002)),function Trig_Player_Points_Func003A)
endfunction
function InitTrig_Player_Points takes nothing returns nothing
set udg_trg_Player_Points=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Player_Points,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Player_Points,Condition(function Trig_Player_Points_Conditions))
call TriggerAddAction(udg_trg_Player_Points,function Trig_Player_Points_Actions)
endfunction
function Trig_Militia_Summoner_Func002C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03I'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03J'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03K'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03U'))then
return true
endif
return false
endfunction
function Trig_Militia_Summoner_Conditions takes nothing returns boolean
if(not Trig_Militia_Summoner_Func002C())then
return false
endif
return true
endfunction
function Trig_Militia_Summoner_Func001C takes nothing returns boolean
if(not(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),udg_Humans)==false))then
return false
endif
return true
endfunction
function Trig_Militia_Summoner_Actions takes nothing returns nothing
if(Trig_Militia_Summoner_Func001C())then
call RemoveItem(GetManipulatedItem())
else
endif
endfunction
function InitTrig_Militia_Summoner takes nothing returns nothing
set udg_trg_Militia_Summoner=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Militia_Summoner,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Militia_Summoner,Condition(function Trig_Militia_Summoner_Conditions))
call TriggerAddAction(udg_trg_Militia_Summoner,function Trig_Militia_Summoner_Actions)
endfunction
function Trig_Ghoul_Summoner_Func002C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I03M'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I03V'))then
return true
endif
return false
endfunction
function Trig_Ghoul_Summoner_Conditions takes nothing returns boolean
if(not Trig_Ghoul_Summoner_Func002C())then
return false
endif
return true
endfunction
function Trig_Ghoul_Summoner_Func001C takes nothing returns boolean
if(not(IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),udg_Evil)==false))then
return false
endif
return true
endfunction
function Trig_Ghoul_Summoner_Actions takes nothing returns nothing
if(Trig_Ghoul_Summoner_Func001C())then
call RemoveItem(GetManipulatedItem())
else
endif
endfunction
function InitTrig_Ghoul_Summoner takes nothing returns nothing
set udg_trg_Ghoul_Summoner=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Ghoul_Summoner,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Ghoul_Summoner,Condition(function Trig_Ghoul_Summoner_Conditions))
call TriggerAddAction(udg_trg_Ghoul_Summoner,function Trig_Ghoul_Summoner_Actions)
endfunction
function Trig_Giant_Garg_Spell_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A01G'))then
return false
endif
return true
endfunction
function Trig_Giant_Garg_Spell_Actions takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),150.00,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
endfunction
function InitTrig_Giant_Garg_Spell takes nothing returns nothing
set udg_trg_Giant_Garg_Spell=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Giant_Garg_Spell,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Giant_Garg_Spell,Condition(function Trig_Giant_Garg_Spell_Conditions))
call TriggerAddAction(udg_trg_Giant_Garg_Spell,function Trig_Giant_Garg_Spell_Actions)
endfunction
function Trig_Zombie_spawn_from_grave_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='o001'))then
return false
endif
return true
endfunction
function Trig_Zombie_spawn_from_grave_Actions takes nothing returns nothing
set udg_AAAA_GP=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocBonuses(1,'n05P',GetOwningPlayer(GetTriggerUnit()),udg_AAAA_GP,bj_UNIT_FACING)
call SetUnitAnimation(GetLastCreatedUnit(),"birth")
call RemoveLocation(udg_AAAA_GP)
endfunction
function InitTrig_Zombie_spawn_from_grave takes nothing returns nothing
set udg_trg_Zombie_spawn_from_grave=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Zombie_spawn_from_grave,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Zombie_spawn_from_grave,Condition(function Trig_Zombie_spawn_from_grave_Conditions))
call TriggerAddAction(udg_trg_Zombie_spawn_from_grave,function Trig_Zombie_spawn_from_grave_Actions)
endfunction
function Trig_Spider_Actions takes nothing returns nothing
call SetUnitOwner(udg_unit_nspg_0176,Neutral_Satyrs,true)
set udg_Spider=udg_unit_nspg_0176
endfunction
function InitTrig_Spider takes nothing returns nothing
set udg_trg_Spider=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Spider,1.71)
call TriggerAddAction(udg_trg_Spider,function Trig_Spider_Actions)
endfunction
function Trig_Spider_evolve_1_Conditions takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_Spider)==true))then
return false
endif
return true
endfunction
function Trig_Spider_evolve_1_Actions takes nothing returns nothing
call ReplaceUnitBJ(udg_Spider,'nsbm',bj_UNIT_STATE_METHOD_RELATIVE)
set udg_Spider=GetLastReplacedUnitBJ()
endfunction
function InitTrig_Spider_evolve_1 takes nothing returns nothing
set udg_trg_Spider_evolve_1=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Spider_evolve_1,677.00)
call TriggerAddCondition(udg_trg_Spider_evolve_1,Condition(function Trig_Spider_evolve_1_Conditions))
call TriggerAddAction(udg_trg_Spider_evolve_1,function Trig_Spider_evolve_1_Actions)
endfunction
function Trig_Spider_evolve_2_Conditions takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_Spider)==true))then
return false
endif
return true
endfunction
function Trig_Spider_evolve_2_Actions takes nothing returns nothing
    //call PrintHidden("Trig_Spider_evolve_2_Actions")
call ReplaceUnitBJ(udg_Spider,'n04U',bj_UNIT_STATE_METHOD_RELATIVE)
set udg_Spider=GetLastReplacedUnitBJ()
endfunction
function InitTrig_Spider_evolve_2 takes nothing returns nothing
set udg_trg_Spider_evolve_2=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Spider_evolve_2,1277.00)
call TriggerAddCondition(udg_trg_Spider_evolve_2,Condition(function Trig_Spider_evolve_2_Conditions))
call TriggerAddAction(udg_trg_Spider_evolve_2,function Trig_Spider_evolve_2_Actions)
endfunction
function Trig_Test_enable_Actions takes nothing returns nothing
call EnableTrigger(udg_trg_Test_command)
call EnableTrigger(udg_trg_Test_command_Copy)
endfunction
function InitTrig_Test_enable takes nothing returns nothing
set udg_trg_Test_enable=CreateTrigger()
call TriggerRegisterPlayerEventEndCinematic(udg_trg_Test_enable,Player(10))
call TriggerAddAction(udg_trg_Test_enable,function Trig_Test_enable_Actions)
endfunction
function Trig_Test_command_Actions takes nothing returns nothing
set udg_Neutral_Alliance_Chance=1
endfunction
function InitTrig_Test_command takes nothing returns nothing
set udg_trg_Test_command=CreateTrigger()
call DisableTrigger(udg_trg_Test_command)
call TriggerRegisterPlayerChatEvent(udg_trg_Test_command,Player(10),"-test",true)
call TriggerAddAction(udg_trg_Test_command,function Trig_Test_command_Actions)
endfunction
function Trig_Test_command_Copy_Actions takes nothing returns nothing
set udg_Neutral_Alliance_Chance=GetRandomInt(1,2)
call DisplayTimedTextToForce(GetPlayersAll(),30,"|cff32cd32Neutral Allies enabled|r")
call SetUnitOwner(udg_unit_ngno_0004,Neutral_Bottom,true)
call SetUnitOwner(udg_unit_ngno_0062,Neutral_Bottom,true)
call ReplaceUnitBJ(udg_unit_ngno_0003,'nmcf',bj_UNIT_STATE_METHOD_RELATIVE)
call ReplaceUnitBJ(udg_unit_ngno_0005,'nmcf',bj_UNIT_STATE_METHOD_RELATIVE)
endfunction
function InitTrig_Test_command_Copy takes nothing returns nothing
set udg_trg_Test_command_Copy=CreateTrigger()
call DisableTrigger(udg_trg_Test_command_Copy)
call TriggerRegisterPlayerChatEvent(udg_trg_Test_command_Copy,Player(10),"-test2",true)
call TriggerAddAction(udg_trg_Test_command_Copy,function Trig_Test_command_Copy_Actions)
endfunction
function Trig_goblin_sapper_auto_attack_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetSummonedUnit())=='n04R'))then
return false
endif
return true
endfunction
function Trig_goblin_sapper_auto_attack_Func002002001003 takes nothing returns boolean
return(IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(GetSummonedUnit()))==true)
endfunction
function Trig_goblin_sapper_auto_attack_Actions takes nothing returns nothing
set udg_AAAA_GP=GetUnitLoc(GetSummonedUnit())
set udg_AAAA_Random_Enemy=GroupPickRandomUnit(GetUnitsInRangeOfLocMatching(900.00,udg_AAAA_GP,Condition(function Trig_goblin_sapper_auto_attack_Func002002001003)))
call IssueTargetOrderBJ(GetSummonedUnit(),"selfdestruct",udg_AAAA_Random_Enemy)
call RemoveLocation(udg_AAAA_GP)
endfunction
function InitTrig_goblin_sapper_auto_attack takes nothing returns nothing
set udg_trg_goblin_sapper_auto_attack=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_goblin_sapper_auto_attack,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(udg_trg_goblin_sapper_auto_attack,Condition(function Trig_goblin_sapper_auto_attack_Conditions))
call TriggerAddAction(udg_trg_goblin_sapper_auto_attack,function Trig_goblin_sapper_auto_attack_Actions)
endfunction
function Trig_Skip_to_Final_Battle_Conditions takes nothing returns boolean
if(not(udg_Duel_On==false))then
return false
endif
if(not(udg_FinalBattle_On==false))then
return false
endif
return true
endfunction
function Trig_Skip_to_Final_Battle_Func003Func002002001001 takes nothing returns boolean
return(GetPlayerSlotState(GetFilterPlayer())==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_Skip_to_Final_Battle_Func003C takes nothing returns boolean
if(not(IsPlayerInForce(GetTriggerPlayer(),udg_A_Skip_Group)==false))then
return false
endif
return true
endfunction
function Trig_Skip_to_Final_Battle_Func004C takes nothing returns boolean
if(not((udg_A_NumPlayers-1)<=CountPlayersInForceBJ(udg_A_Skip_Group)))then
return false
endif
return true
endfunction
function EnableFinalBattle takes nothing returns nothing
set udg_FinalBattle_On=true
call ExecuteFunc("All_Morphs_return")
endfunction
function Trig_Skip_to_Final_Battle_Actions takes nothing returns nothing
if(Trig_Skip_to_Final_Battle_Func003C())then
call ForceAddPlayerSimple(GetTriggerPlayer(),udg_A_Skip_Group)
set udg_A_NumPlayers=CountPlayersInForceBJ(GetPlayersMatching(Condition(function Trig_Skip_to_Final_Battle_Func003Func002002001001)))
call DisplayTimedTextToForce(GetPlayersAll(),7.00,(udg_AAA_Player_Colors[GetConvertedPlayerId(GetTriggerPlayer())]+(" has voted to skip to final battle "+(" ("+(I2S(CountPlayersInForceBJ(udg_A_Skip_Group))+("/"+(I2S((udg_A_NumPlayers-1))+")")))))))
call PlaySoundBJ(udg_snd_BigButtonClick)
call KillSoundWhenDoneBJ(GetLastPlayedSound())
else
endif
if(Trig_Skip_to_Final_Battle_Func004C())then
call PlaySoundBJ(udg_snd_ArrangedTeamInvitation)
call KillSoundWhenDoneBJ(GetLastPlayedSound())
call DisableTrigger(udg_trg_Final_Battle_Timer)
call DisableTrigger(udg_trg_Final_Battle_Timer_Copy)
call EnableFinalBattle()
call ConditionalTriggerExecute(udg_trg_Lives_Cop)
call ConditionalTriggerExecute(udg_trg_Lives_Cop_neut_alliance_1a)
call ConditionalTriggerExecute(udg_trg_Lives_Copy_Copy)
call ConditionalTriggerExecute(udg_trg_Lives_Copy_Copy_neut_alliance_1a)
else
endif
endfunction
function InitTrig_Skip_to_Final_Battle takes nothing returns nothing
set udg_trg_Skip_to_Final_Battle=CreateTrigger()
call TriggerRegisterPlayerChatEvent(udg_trg_Skip_to_Final_Battle,Player(0),"-skip",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Skip_to_Final_Battle,Player(1),"-skip",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Skip_to_Final_Battle,Player(2),"-skip",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Skip_to_Final_Battle,Player(3),"-skip",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Skip_to_Final_Battle,Player(4),"-skip",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Skip_to_Final_Battle,Player(5),"-skip",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Skip_to_Final_Battle,Player(6),"-skip",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Skip_to_Final_Battle,Player(7),"-skip",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Skip_to_Final_Battle,Player(8),"-skip",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Skip_to_Final_Battle,Player(9),"-skip",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Skip_to_Final_Battle,Player(10),"-skip",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Skip_to_Final_Battle,Player(11),"-skip",true)
call TriggerAddCondition(udg_trg_Skip_to_Final_Battle,Condition(function Trig_Skip_to_Final_Battle_Conditions))
call TriggerAddAction(udg_trg_Skip_to_Final_Battle,function Trig_Skip_to_Final_Battle_Actions)
endfunction
function Trig_Stop_unit_dropping_item_Conditions takes nothing returns boolean
if(not(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==false))then
return false
endif
if(not(IsUnitAliveBJ(GetTriggerUnit())==false))then
return false
endif
return true
endfunction
function Trig_Stop_unit_dropping_item_Actions takes nothing returns nothing
call RemoveItem(GetManipulatedItem())
endfunction
function InitTrig_Stop_unit_dropping_item takes nothing returns nothing
set udg_trg_Stop_unit_dropping_item=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Stop_unit_dropping_item,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(udg_trg_Stop_unit_dropping_item,Condition(function Trig_Stop_unit_dropping_item_Conditions))
call TriggerAddAction(udg_trg_Stop_unit_dropping_item,function Trig_Stop_unit_dropping_item_Actions)
endfunction
function Trig_lumber_spawn_in_top_left_tree_area_Actions takes nothing returns nothing
call CreateItemLoc('I03L',GetRandomLocInRect(udg_rct_Top_Left_Tree_Area))
call CreateItemLoc('I03L',GetRandomLocInRect(udg_rct_Top_Left_Tree_Area))
call CreateItemLoc('I03L',GetRandomLocInRect(udg_rct_Top_Left_Tree_Area))
call CreateItemLoc('I03L',GetRandomLocInRect(udg_rct_Top_Left_Tree_Area))
call CreateItemLoc('I03L',GetRandomLocInRect(udg_rct_Top_Left_Tree_Area))
call CreateItemLoc('I03L',GetRandomLocInRect(udg_rct_Top_Left_Tree_Area))
endfunction
function InitTrig_lumber_spawn_in_top_left_tree_area takes nothing returns nothing
set udg_trg_lumber_spawn_in_top_left_tree_area=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_lumber_spawn_in_top_left_tree_area,13.09)
call TriggerAddAction(udg_trg_lumber_spawn_in_top_left_tree_area,function Trig_lumber_spawn_in_top_left_tree_area_Actions)
endfunction
function Trig_MAP_INIT_and_QUESTS_Actions takes nothing returns nothing
call MeleeStartingVisibility()
set udg_Dueling=true
call InitHashtableBJ()
set udg_CE_Knocktable=GetLastCreatedHashtableBJ()
call InitHashtableBJ()
set udg_Hashtable=GetLastCreatedHashtableBJ()
call InitHashtableBJ()
set udg_blackHoleTable=GetLastCreatedHashtableBJ()
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"General Stuff","-Rabbits give tomes or EXP when killed. Spawns middle
-Gold Chicken gives 50 gold when killed. Spawns middle
-When you evolve, you have a 10% chance to get a random buff
-Evolved unit gets [%HP of upgrading unit]+[25% max HP]
-Bosses have a chance of dropping a boss item
-Undead have gold income and humans do not.","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"Mapmaking Credits","bever_smasher (gnoll team)
Eldrazor (Extra terraining/suggestions)
","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"Credits","hiveworkshop:
Paladon (jump/KB spell)
JetFangInferno (Dark lightning)
donut3.5 (Wraith)
Shamanyouranus (Shadow Bind Target)
Republicola and Cookie Vashard (Ninja model)
Olof Moleman and Jigrael (Dragon model)
Carrington2k (Light Arrows)
Zack1996 (Cool Spells)
ur_mom(Testing)","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"Credits2","hiveworkshop:
Deep Sea Kraken(Tree Golem)
Levigeorge1617 and THE_END (Skeleton Lord)
berZeker and D4RK_G4ND4LF (Cutting Edge)
Foopad(Lightning Strike, Freezing Spiral, and Arcane Profanity)
reason 3 (Elune Arrow)","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"Credits8","hiveworkshop:
Iceclaw icon= Mr.Goblin
Baron Iceclaw model= Fan & xXm0RpH3usXx
shadow side=MajorSonnwaitts
phantom hook=StaberFire
ninja icon=sopho
flame spell=hell gate
dash=sasuke23
unexpected charge=paladon
fire mage=kitabatake
-Iron Knight By Pyramidhe@d
-Demon Knight by DevineArmy
-demonknight icon By Juan_Ann
-panda militia by skipper
-panda miltia icon by mnib
HellBond By judash137
ShadeMissile By judash137
Specter By Callahan
Frost Nova By Daelin
Bandit Mage on Foot By Dan van Ohllus
Ice Elemental By Burning_Dragoon5
shattered universe by Demongrip
dark orb model made by frankster
voodoo aura made by jetfanginferno
Star By RetroSexual","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"Commands","-open (opens neutral gates)
-warp (warps your unit but deals damage (for teleport setting))
-remove (removes any ultimate upgrade item for inventory)
-ms (checks movement speed of selected units)
-Autowin (Red-Only: Wins the game for undead instantly. Only                 usable when humans clearly can't win)","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"Credits3","hiveworkshop:
Tranquil (Lightning)
HappyTauren/Blizzard (PlatedFootman)
JonNy(maneating plant/fiery run)
Cheezeman(timestop)
Killst4r(Ultralisk)
General Frank(Ultralisk icon)
MortAr(Poison Nova)
wingednosering(Undead berserker)","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"Credits4","hiveworkshop:
Kitabakake (kitapsycho)
Nackel(Insanity)
Epsilon (Plasma Marine)
DeathKnight (poison arrow icon)
JeffreyQ (Missle system for glaive throw)
Pyramidhe@d (Vamp Models)
expresso/tranquil (angel)
Medic (Jigrael)","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"Credits5","hiveworkshop:
Peekay (Vampire Rogue)
angel icon (palaslayer)
Asgard Ragna (Holy Domination)
Jetfanginferno (holy bomb)
Mortar (Holy wrath)
Kricz and Cedi (Holy Birds)
G00dG4m3 (heroic leap)
---------------------------------------
IronMaiden (Human Berserker)","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"Credits6","hiveworkshop:
Cyberkid (arkain blademaster spells)
F0rsAk3n (Omnislash)
aaron79 (bird of enerygy)
GeneralFrank (water orb model)
Godlike(orb of water spell)
Mc !(Frost Golem)
Pyramidhe@d(Flesh Tearer)
DonDustin (Tree Impale)
General Frank (Nuke icon/nuke aura)
WILL THE ALMIGHTY (Nuke model/goblin soldier)
f0rsAk3n (Thunder Storm/Volt Overdose)
-Berz- (Taste of death)","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"Credits7","hiveworkshop:
Mainy(Thunder Wrath)
Anachron (LightningOrb Icon)
DonDustin (Lightning empower model)
NFWar (telekinetic seizure, fire ball, lightning ball, shield bash)
Snowman-Bloody_Turds
Snowball icon-Elainiel","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"Credits9","Ampharos_222 - Dune crawler and earth lich
jetfanginferno - sand explosion and sand aura sfx
redscores - desert ant spell

list is too long..
use search in hiveworkshop for who made spell/model","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"\"Hidden Heroes\"","type command with unit in target to be able to get them if u want |nAcolyte \"-builder\" - undead builder|nGiant Infernal \"-demon\" - Demon ","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"HCL mode","1st symbol: a/n/m = all units/no flying units/fastmode|n with m u can add fastmode number: 1 - nlan 2 - alan3 - nlah4 - nlaf5 - nlnn 6 - nlnhojk|n2nd symbol n/l/p: normal game 3/2 lives long game 5/3 lives and normal game 5/3 lives|n3nd symbol - n/a - allies/no allies|nsymbol 4: n/h/e/f - normal/hard/extreme/special extreme|n symbol 5: o - no obstructions i u dont want - replace with j|n symbol 6 - n - no random events |n symbol 7 - p/k - no allies zombies becomes humans or not","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
endfunction
function InitTrig_MAP_INIT_and_QUESTS takes nothing returns nothing
set udg_trg_MAP_INIT_and_QUESTS=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_MAP_INIT_and_QUESTS,0.01)
call TriggerAddAction(udg_trg_MAP_INIT_and_QUESTS,function Trig_MAP_INIT_and_QUESTS_Actions)
endfunction
function Trig_uu_merchants_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'n01Z',Player(PLAYER_NEUTRAL_PASSIVE),GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds),bj_UNIT_FACING)
call CreateNUnitsAtLocBonuses(1,'n01Z',Player(PLAYER_NEUTRAL_PASSIVE),GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds),bj_UNIT_FACING)
call CreateNUnitsAtLocBonuses(1,'n01Z',Player(PLAYER_NEUTRAL_PASSIVE),GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds),bj_UNIT_FACING)
call CreateNUnitsAtLocBonuses(1,'n01Z',Player(PLAYER_NEUTRAL_PASSIVE),GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds),bj_UNIT_FACING)
call CreateNUnitsAtLocBonuses(1,'n01Z',Player(PLAYER_NEUTRAL_PASSIVE),GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds),bj_UNIT_FACING)
call CreateNUnitsAtLocBonuses(1,'n01Z',Player(PLAYER_NEUTRAL_PASSIVE),GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds),bj_UNIT_FACING)
endfunction
function InitTrig_uu_merchants takes nothing returns nothing
set udg_trg_uu_merchants=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_uu_merchants,900.00)
call TriggerAddAction(udg_trg_uu_merchants,function Trig_uu_merchants_Actions)
endfunction
function Trig_Check_Leavers_Func001002 takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_Check_Leavers_Func002001 takes nothing returns boolean
return(IsPlayerInForce(GetTriggerPlayer(),udg_Evil)==true)
endfunction
function Trig_Check_Leavers_Func003001 takes nothing returns boolean
return(IsPlayerInForce(GetTriggerPlayer(),udg_Humans)==true)
endfunction
function Trig_Check_Leavers_Func004A takes nothing returns nothing
call SetPlayerAllianceStateBJ(GetEnumPlayer(),GetTriggerPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
endfunction
function Trig_Check_Leavers_Func005A takes nothing returns nothing
call SetPlayerAllianceStateBJ(GetEnumPlayer(),GetTriggerPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(GetTriggerPlayer(),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
endfunction
function Trig_Check_Leavers_Func007C takes nothing returns boolean
if(not(GetTriggerPlayer()==Player(0)))then
return false
endif
return true
endfunction
function Trig_Check_Leavers_Func008C takes nothing returns boolean
if(not(GetTriggerPlayer()==Player(1)))then
return false
endif
return true
endfunction
function Trig_Check_Leavers_Func009C takes nothing returns boolean
if(not(GetTriggerPlayer()==Player(2)))then
return false
endif
return true
endfunction
function Trig_Check_Leavers_Func010C takes nothing returns boolean
if(not(GetTriggerPlayer()==Player(3)))then
return false
endif
return true
endfunction
function Trig_Check_Leavers_Func011C takes nothing returns boolean
if(not(GetTriggerPlayer()==Player(4)))then
return false
endif
return true
endfunction
function Trig_Check_Leavers_Func012C takes nothing returns boolean
if(not(GetTriggerPlayer()==Player(5)))then
return false
endif
return true
endfunction
function Trig_Check_Leavers_Func013C takes nothing returns boolean
if(not(GetTriggerPlayer()==Player(6)))then
return false
endif
return true
endfunction
function Trig_Check_Leavers_Func014C takes nothing returns boolean
if(not(GetTriggerPlayer()==Player(7)))then
return false
endif
return true
endfunction
function Trig_Check_Leavers_Func015C takes nothing returns boolean
if(not(GetTriggerPlayer()==Player(8)))then
return false
endif
return true
endfunction
function Trig_Check_Leavers_Func016C takes nothing returns boolean
if(not(GetTriggerPlayer()==Player(9)))then
return false
endif
return true
endfunction
function Trig_Check_Leavers_Func017C takes nothing returns boolean
if(not(GetTriggerPlayer()==Player(10)))then
return false
endif
return true
endfunction
function Trig_Check_Leavers_Func018C takes nothing returns boolean
if(not(GetTriggerPlayer()==Player(11)))then
return false
endif
return true
endfunction
function Trig_Check_Leavers_AddPlayerGold takes nothing returns nothing
call AdjustPlayerStateBJ(LeaverGold,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(LeaverLumber,GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
endfunction
function Trig_Check_Leavers_Actions takes nothing returns nothing
local integer playerscount=0
if(DoNotRemovePlayerAfterLeave) then
    return
endif
call ForGroupBJ(GetUnitsOfPlayerAll(GetTriggerPlayer()),function Trig_Check_Leavers_Func001002)
if((IsPlayerInForce(GetTriggerPlayer(),udg_Evil)==true))then
call ForceRemovePlayerSimple(GetTriggerPlayer(),udg_Evil)
set playerscount=CountPlayersInForceBJ(udg_Evil)
if(playerscount>0)then
set LeaverGold=GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)/ playerscount
set LeaverLumber=GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)/ playerscount
call SetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER,0)
call ForForce(udg_Evil,function Trig_Check_Leavers_AddPlayerGold)
endif
else
call DoNothing()
endif
if((IsPlayerInForce(GetTriggerPlayer(),udg_Humans)==true))then
call ForceRemovePlayerSimple(GetTriggerPlayer(),udg_Humans)
set playerscount=CountPlayersInForceBJ(udg_Humans)
if(playerscount>0)then
set LeaverGold=GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)/ playerscount
set LeaverLumber=GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)/ playerscount
call ForForce(udg_Humans,function Trig_Check_Leavers_AddPlayerGold)
endif
else
call DoNothing()
endif
call ForForce(udg_Evil,function Trig_Check_Leavers_Func004A)
call ForForce(udg_Humans,function Trig_Check_Leavers_Func005A)
if(GetTriggerPlayer()!=null)then
call SetLivesP(GetTriggerPlayer(),0)
endif
call DisplayTextToForce(GetPlayersAll(),(GetPlayerName(GetTriggerPlayer())+" has left the game!"))
endfunction
function InitTrig_Check_Leavers takes nothing returns nothing
set udg_trg_Check_Leavers=CreateTrigger()
call TriggerRegisterPlayerEventLeave(udg_trg_Check_Leavers,Player(0))
call TriggerRegisterPlayerEventLeave(udg_trg_Check_Leavers,Player(1))
call TriggerRegisterPlayerEventLeave(udg_trg_Check_Leavers,Player(2))
call TriggerRegisterPlayerEventLeave(udg_trg_Check_Leavers,Player(3))
call TriggerRegisterPlayerEventLeave(udg_trg_Check_Leavers,Player(4))
call TriggerRegisterPlayerEventLeave(udg_trg_Check_Leavers,Player(5))
call TriggerRegisterPlayerEventLeave(udg_trg_Check_Leavers,Player(6))
call TriggerRegisterPlayerEventLeave(udg_trg_Check_Leavers,Player(7))
call TriggerRegisterPlayerEventLeave(udg_trg_Check_Leavers,Player(8))
call TriggerRegisterPlayerEventLeave(udg_trg_Check_Leavers,Player(9))
call TriggerRegisterPlayerEventLeave(udg_trg_Check_Leavers,Player(10))
call TriggerRegisterPlayerEventLeave(udg_trg_Check_Leavers,Player(11))
call TriggerAddAction(udg_trg_Check_Leavers,function Trig_Check_Leavers_Actions)
endfunction
function Trig_Spawn_Tree_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
return true
endfunction
function Trig_Spawn_Tree_Actions takes nothing returns nothing
call CreateDestructableLoc('LTlt',GetRandomLocInRect(udg_rct_The_ring_of_trees),GetRandomDirectionDeg(),1,0)
call AddSpecialEffectLocBJ(GetDestructableLoc(GetLastCreatedDestructable()),"Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function InitTrig_Spawn_Tree takes nothing returns nothing
set udg_trg_Spawn_Tree=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(udg_trg_Spawn_Tree,254.00)
call TriggerAddCondition(udg_trg_Spawn_Tree,Condition(function Trig_Spawn_Tree_Conditions))
call TriggerAddAction(udg_trg_Spawn_Tree,function Trig_Spawn_Tree_Actions)
endfunction
function Trig_Tree_dies_Conditions takes nothing returns boolean
if(Unres_Conditions_DestType()) then
    return false
endif
if(not(GetDestructableTypeId(GetDyingDestructable())!='B004'))then
return false
endif
if(not(GetDestructableTypeId(GetDyingDestructable())!='B005'))then
return false
endif
if(not(GetDestructableTypeId(GetDyingDestructable())!='B008'))then
return false
endif
if(not(GetDestructableTypeId(GetDyingDestructable())!='B001'))then
return false
endif
if(not(GetDestructableTypeId(GetDyingDestructable())!='B002'))then
return false
endif
if(not(GetDestructableTypeId(GetDyingDestructable())!='B000'))then
return false
endif
if(not(GetDestructableTypeId(GetDyingDestructable())!='B006'))then
return false
endif
return true
endfunction
function RestoreDestructableTimed takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local destructable d = LoadDestructableHandle(timerdata,GetHandleId(t),0)
    call DestructableRestoreLife(d,GetDestructableMaxLife(d),true)
    call FlushChildHashtable(timerdata,GetHandleId(t))
    call DestroyTimer(t)
    set t = null
    set d = null
endfunction

function PlanDestructableRestoration takes destructable d, real time returns nothing
    local timer t = CreateTimer()
    call SaveDestructableHandle(timerdata,GetHandleId(t),0,d)
    call TimerStart(t,time,false,function RestoreDestructableTimed)
    set t = null
endfunction
function Trig_Tree_dies_Actions takes nothing returns nothing
local destructable d=GetDyingDestructable()
call PlanDestructableRestoration(d,2.)
set d=null
endfunction
function InitTrig_Tree_dies takes nothing returns nothing
set udg_trg_Tree_dies=CreateTrigger()
call TriggerRegisterDestDeathInRegionEvent(udg_trg_Tree_dies,udg_rct_Trees_left)
call TriggerRegisterDestDeathInRegionEvent(udg_trg_Tree_dies,udg_rct_Trees_Right)
call TriggerRegisterDestDeathInRegionEvent(udg_trg_Tree_dies,udg_rct_Trees_Bottom)
call TriggerRegisterDestDeathInRegionEvent(udg_trg_Tree_dies,udg_rct_trees_left_left)
call TriggerRegisterDestDeathInRegionEvent(udg_trg_Tree_dies,udg_rct_trees_lake_left)
call TriggerRegisterDestDeathInRegionEvent(udg_trg_Tree_dies,udg_rct_trees_area_1243342)
call TriggerRegisterDestDeathInRegionEvent(udg_trg_Tree_dies,udg_rct_trees_left)
call TriggerRegisterDestDeathInRegionEvent(udg_trg_Tree_dies,udg_rct_trees_left2)
call TriggerRegisterDestDeathInRegionEvent(udg_trg_Tree_dies,udg_rct_trees_left_3)
call TriggerRegisterDestDeathInRegionEvent(udg_trg_Tree_dies,rct_Trees_Naga)
call TriggerRegisterDestDeathInRegionEvent(udg_trg_Tree_dies,rct_Trees_FB1)
call TriggerRegisterDestDeathInRegionEvent(udg_trg_Tree_dies,rct_Trees_FB2)
call TriggerRegisterDestDeathInRegionEvent(udg_trg_Tree_dies,rct_Trees_FB3)
call TriggerRegisterDestDeathInRegionEvent(udg_trg_Tree_dies,rct_Trees_FB4)
call TriggerAddCondition(udg_trg_Tree_dies,Condition(function Trig_Tree_dies_Conditions))
call TriggerAddAction(udg_trg_Tree_dies,function Trig_Tree_dies_Actions)
endfunction
function Trig_Tree_dies_a_Actions takes nothing returns nothing
set udg_Dead_Destructible_Int_Loop=1
loop
exitwhen udg_Dead_Destructible_Int_Loop>udg_Dead_Destructible_Int
call DestructableRestoreLife(udg_Dead_Destructible[udg_Dead_Destructible_Int_Loop],GetDestructableMaxLife(GetLastCreatedDestructable()),true)
set udg_Dead_Destructible_Int_Loop=udg_Dead_Destructible_Int_Loop+1
endloop
set udg_Dead_Destructible_Int=1
endfunction
function InitTrig_Tree_dies_a takes nothing returns nothing
set udg_trg_Tree_dies_a=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(udg_trg_Tree_dies_a,40.00)
call TriggerAddAction(udg_trg_Tree_dies_a,function Trig_Tree_dies_a_Actions)
endfunction
function Trig_Bridge_Dies_Func001C takes nothing returns boolean
if(not(IsDestructableAliveBJ(gg_dest_YT16_0650)==false))then
return false
endif
return true
endfunction
function Trig_Bridge_Dies_Func002C takes nothing returns boolean
if(not(IsDestructableAliveBJ(gg_dest_YT18_0310)==false))then
return false
endif
return true
endfunction
function Trig_Bridge_Dies_Func003C takes nothing returns boolean
if(not(IsDestructableAliveBJ(gg_dest_YT19_3788)==false))then
return false
endif
return true
endfunction
function Trig_Bridge_Dies_Func004C takes nothing returns boolean
if(not(IsDestructableAliveBJ(gg_dest_YT40_4243)==false))then
return false
endif
return true
endfunction
function Trig_Bridge_Dies_Actions takes nothing returns nothing
if(Trig_Bridge_Dies_Func001C())then
call DestructableRestoreLife(gg_dest_YT16_0650,GetDestructableMaxLife(GetLastCreatedDestructable()),true)
else
endif
if(Trig_Bridge_Dies_Func002C())then
call DestructableRestoreLife(gg_dest_YT18_0310,GetDestructableMaxLife(GetLastCreatedDestructable()),true)
else
endif
if(Trig_Bridge_Dies_Func003C())then
call DestructableRestoreLife(gg_dest_YT19_3788,GetDestructableMaxLife(GetLastCreatedDestructable()),true)
else
endif
if(Trig_Bridge_Dies_Func004C())then
call DestructableRestoreLife(gg_dest_YT40_4243,GetDestructableMaxLife(GetLastCreatedDestructable()),true)
else
endif
endfunction
function InitTrig_Bridge_Dies takes nothing returns nothing
set udg_trg_Bridge_Dies=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(udg_trg_Bridge_Dies,12.50)
call TriggerAddAction(udg_trg_Bridge_Dies,function Trig_Bridge_Dies_Actions)
endfunction
function Trig_Infernal_Partner_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetSellingUnit())=='n00H'))then
return false
endif
return true
endfunction
function Trig_Infernal_Partner_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'nbal',GetOwningPlayer(GetSellingUnit()),GetUnitLoc(GetSellingUnit()),bj_UNIT_FACING)
endfunction
function InitTrig_Infernal_Partner takes nothing returns nothing
set udg_trg_Infernal_Partner=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Infernal_Partner,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(udg_trg_Infernal_Partner,Condition(function Trig_Infernal_Partner_Conditions))
call TriggerAddAction(udg_trg_Infernal_Partner,function Trig_Infernal_Partner_Actions)
endfunction
function Trig_Infernal_Partner_Copy_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetSoldUnit())=='e00P'))then
return false
endif
return true
endfunction
function Trig_Infernal_Partner_Copy_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'hrdh',GetOwningPlayer(GetSoldUnit()),GetUnitLoc(GetSoldUnit()),bj_UNIT_FACING)
endfunction
function InitTrig_Infernal_Partner_Copy takes nothing returns nothing
set udg_trg_Infernal_Partner_Copy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Infernal_Partner_Copy,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(udg_trg_Infernal_Partner_Copy,Condition(function Trig_Infernal_Partner_Copy_Conditions))
call TriggerAddAction(udg_trg_Infernal_Partner_Copy,function Trig_Infernal_Partner_Copy_Actions)
endfunction
function Secret_Hero3_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I03Q'))then
return false
endif
return true
endfunction
function Secret_Hero3_Actions takes nothing returns nothing
local integer i=1
call RemoveItem(GetManipulatedItem())
call ChangeUnit2(GetTriggerUnit(),'H00B')
call DisableTrigger(udg_secrethero_active[GetPlayerId(GetTriggerPlayer())])
call DestroyTrigger(udg_secrethero_active[GetPlayerId(GetTriggerPlayer())])
set udg_secrethero_active[GetPlayerId(GetTriggerPlayer())]=CreateTrigger()
endfunction

function Secret_Hero3 takes nothing returns nothing
local player p=GetTriggerPlayer()
call DisableTrigger(udg_secrethero_active[GetPlayerId(p)])
call DestroyTrigger(udg_secrethero_active[GetPlayerId(p)])
set udg_secrethero_active[GetPlayerId(p)]=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(udg_secrethero_active[GetPlayerId(p)],p,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_secrethero_active[GetPlayerId(p)],Condition(function Secret_Hero3_Conditions))
call TriggerAddAction(udg_secrethero_active[GetPlayerId(p)],function Secret_Hero3_Actions)
call PlanTriggerDestruction(udg_secrethero_active[GetPlayerId(p)],2.)
set udg_secrethero_active[GetPlayerId(p)]=null
set p=null
endfunction
function Secret_Hero2 takes nothing returns nothing
call DisableTrigger(udg_secrethero_active[GetPlayerId(GetTriggerPlayer())])
call DestroyTrigger(udg_secrethero_active[GetPlayerId(GetTriggerPlayer())])
set udg_secrethero_active[GetPlayerId(GetTriggerPlayer())]=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(udg_secrethero_active[GetPlayerId(GetTriggerPlayer())],GetTriggerPlayer(),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_DOWN)
call TriggerAddAction(udg_secrethero_active[GetPlayerId(GetTriggerPlayer())],function Secret_Hero3)
endfunction
function Secret_Hero1 takes nothing returns nothing
if(IsPlayerInForce(GetTriggerPlayer(),udg_Evil))then
return
endif
call DisableTrigger(udg_secrethero_active[GetPlayerId(GetTriggerPlayer())])
call DestroyTrigger(udg_secrethero_active[GetPlayerId(GetTriggerPlayer())])
set udg_secrethero_active[GetPlayerId(GetTriggerPlayer())]=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(udg_secrethero_active[GetPlayerId(GetTriggerPlayer())],GetTriggerPlayer(),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_RIGHT)
call TriggerAddAction(udg_secrethero_active[GetPlayerId(GetTriggerPlayer())],function Secret_Hero2)
endfunction
function Trig_Infernal_Partner_Copy_Copy_Actions takes nothing returns nothing
if(udg_secrethero_active[GetPlayerId(GetTriggerPlayer())]==null)then
set udg_secrethero_active[GetPlayerId(GetTriggerPlayer())]=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(udg_secrethero_active[GetPlayerId(GetTriggerPlayer())],GetTriggerPlayer(),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_RIGHT)
call TriggerAddAction(udg_secrethero_active[GetPlayerId(GetTriggerPlayer())],function Secret_Hero1)
endif
endfunction
function Trig_Infernal_Partner_Copy_Copy_Conditions takes nothing returns boolean
if(IsPlayerInForce(GetTriggerPlayer(),udg_Humans))then
return true
endif
return false
endfunction
function InitTrig_Infernal_Partner_Copy_Copy takes nothing returns nothing
local integer idx=0
set udg_trg_Infernal_Partner_Copy_Copy=CreateTrigger()
loop
call TriggerRegisterPlayerEventEndCinematic(udg_trg_Infernal_Partner_Copy_Copy,Player(idx))
set idx=idx+1
exitwhen idx>=11
endloop
call TriggerAddAction(udg_trg_Infernal_Partner_Copy_Copy,function Trig_Infernal_Partner_Copy_Copy_Actions)
call TriggerAddCondition(udg_trg_Infernal_Partner_Copy_Copy,Condition(function Trig_Infernal_Partner_Copy_Copy_Conditions))
endfunction
function Trig_Naga_partner_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetSellingUnit())=='n011'))then
return false
endif
return true
endfunction
function Trig_Naga_partner_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'n01E',GetOwningPlayer(GetSellingUnit()),GetUnitLoc(GetSellingUnit()),bj_UNIT_FACING)
call CreateNUnitsAtLocBonuses(1,'nmpe',GetOwningPlayer(GetSellingUnit()),GetUnitLoc(GetSellingUnit()),bj_UNIT_FACING)
endfunction
function InitTrig_Naga_partner takes nothing returns nothing
set udg_trg_Naga_partner=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Naga_partner,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(udg_trg_Naga_partner,Condition(function Trig_Naga_partner_Conditions))
call TriggerAddAction(udg_trg_Naga_partner,function Trig_Naga_partner_Actions)
endfunction
function Trig_Naga_partner_Copy_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetSellingUnit())=='n012'))then
return false
endif
return true
endfunction
function Trig_Naga_partner_Copy_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'n01F',GetOwningPlayer(GetSellingUnit()),GetUnitLoc(GetSellingUnit()),bj_UNIT_FACING)
call CreateNUnitsAtLocBonuses(1,'nmpe',GetOwningPlayer(GetSellingUnit()),GetUnitLoc(GetSellingUnit()),bj_UNIT_FACING)
endfunction
function InitTrig_Naga_partner_Copy takes nothing returns nothing
set udg_trg_Naga_partner_Copy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Naga_partner_Copy,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(udg_trg_Naga_partner_Copy,Condition(function Trig_Naga_partner_Copy_Conditions))
call TriggerAddAction(udg_trg_Naga_partner_Copy,function Trig_Naga_partner_Copy_Actions)
endfunction
function Trig_Remove_Selling_Unit_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetSellingUnit())!='uabo'))then
return false
endif
if(not(GetUnitTypeId(GetSellingUnit())!='U00O'))then
return false
endif
if(not(GetUnitTypeId(GetSellingUnit())!='nmer'))then
return false
endif
if(not(GetUnitTypeId(GetSellingUnit())!='n065'))then
return false
endif
if(not(GetUnitTypeId(GetSellingUnit())!='nshp'))then
return false
endif
if(not(GetUnitTypeId(GetSellingUnit())!='ngad'))then
return false
endif
if(not(GetUnitTypeId(GetSellingUnit())!='n023'))then
return false
endif
if(not(GetUnitTypeId(GetSellingUnit())!='n03X'))then
return false
endif
if(not(GetUnitTypeId(GetSellingUnit())!='n062'))then
return false
endif
if(not(GetUnitTypeId(GetSellingUnit())!='h05G'))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func001C takes nothing returns boolean
if(not(IsUnitInGroup(GetSellingUnit(),udg_Trained_Units)==true))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func002C takes nothing returns boolean
if(not(IsUnitInGroup(GetSoldUnit(),udg_Trained_Units)==false))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func003C takes nothing returns boolean
if(not(GetSellingUnit()==udg_CDS_Unit[1]))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func004C takes nothing returns boolean
if(not(GetSellingUnit()==udg_CDS_Unit[2]))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func005C takes nothing returns boolean
if(not(GetSellingUnit()==udg_CDS_Unit[3]))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func016Func017C takes nothing returns boolean
if(not(udg_RANDOM_BUFF==1))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func016Func018C takes nothing returns boolean
if(not(udg_RANDOM_BUFF==2))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func016Func019C takes nothing returns boolean
if(not(udg_RANDOM_BUFF==3))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func016Func020C takes nothing returns boolean
if(not(udg_RANDOM_BUFF==4))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func016Func021C takes nothing returns boolean
if(not(udg_RANDOM_BUFF==5))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func016C takes nothing returns boolean
if(not(GetUnitTypeId(GetSellingUnit())!='uabo'))then
return false
endif
if(not(GetUnitTypeId(GetSellingUnit())!='nvlk'))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func017Func001C takes nothing returns boolean
if(not(GetItemTypeId(UnitItemInSlotBJ(GetSellingUnit(),GetForLoopIndexA()))!='I02K'))then
return false
endif
if(not(GetItemTypeId(UnitItemInSlotBJ(GetSellingUnit(),GetForLoopIndexA()))!='I02L'))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func018C takes nothing returns boolean
if(not(GetUnitUserData(GetSellingUnit())==666))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func021Func002C takes nothing returns boolean
if(not(IsUnitType(GetSellingUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func021C takes nothing returns boolean
if(not Trig_Remove_Selling_Unit_Func021Func002C())then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func022Func001Func003C takes nothing returns boolean
if(not(GetUnitTypeId(GetSoldUnit())=='ugar'))then
return false
endif
if(not(udg_NO_FLYING_UNITS==true))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func022Func001C takes nothing returns boolean
if(not Trig_Remove_Selling_Unit_Func022Func001Func003C())then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func022C takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func023C takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==true))then
return false
endif
if(not(GetUnitTypeId(GetSoldUnit())!='ugar'))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func025C takes nothing returns boolean
if((GetUnitTypeId(GetSoldUnit())=='ugar'))then
return true
endif
return false
endfunction
function Trig_Remove_Selling_Unit_Func026Func021C takes nothing returns boolean
if(not(GetUnitUserData(GetSellingUnit())==666))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func026C takes nothing returns boolean
if(not(GetUnitTypeId(GetSellingUnit())=='hfoo'))then
return false
endif
if(not(GetUnitTypeId(GetSoldUnit())=='hhes'))then
return false
endif
if(not(GetTerrainTypeBJ(GetUnitLoc(GetSellingUnit()))=='Nice'))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func027Func021C takes nothing returns boolean
if(not(GetUnitUserData(GetSellingUnit())==666))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func027C takes nothing returns boolean
if(not(GetUnitTypeId(GetSellingUnit())=='H03F'))then
return false
endif
if(not(GetTerrainTypeBJ(GetUnitLoc(GetSellingUnit()))=='Nice'))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func028Func003C takes nothing returns boolean
if((GetUnitTypeId(GetSoldUnit())=='n011'))then
return true
endif
if((GetUnitTypeId(GetSoldUnit())=='n012'))then
return true
endif
return false
endfunction
function Trig_Remove_Selling_Unit_Func028C takes nothing returns boolean
if(not Trig_Remove_Selling_Unit_Func028Func003C())then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func029Func004C takes nothing returns boolean
if((GetUnitTypeId(GetSoldUnit())=='nhyc'))then
return true
endif
if((GetUnitTypeId(GetSoldUnit())=='nnrg'))then
return true
endif
return false
endfunction
function Trig_Remove_Selling_Unit_Func029C takes nothing returns boolean
if(not Trig_Remove_Selling_Unit_Func029Func004C())then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func030Func003C takes nothing returns boolean
if((GetUnitTypeId(GetSoldUnit())=='n001'))then
return true
endif
if((GetUnitTypeId(GetSoldUnit())=='n002'))then
return true
endif
if((GetUnitTypeId(GetSoldUnit())=='n003'))then
return true
endif
if((GetUnitTypeId(GetSoldUnit())=='n004'))then
return true
endif
if((GetUnitTypeId(GetSoldUnit())=='n005'))then
return true
endif
if((GetUnitTypeId(GetSoldUnit())=='n006'))then
return true
endif
if((GetUnitTypeId(GetSoldUnit())=='n007'))then
return true
endif
if((GetUnitTypeId(GetSoldUnit())=='n00O'))then
return true
endif
return false
endfunction
function Trig_Remove_Selling_Unit_Func030C takes nothing returns boolean
if(not Trig_Remove_Selling_Unit_Func030Func003C())then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func031Func002Func002Func001C takes nothing returns boolean
if(not(GetTimeOfDay()<=26.00))then
return false
endif
if(not(GetTimeOfDay()>=18.00))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func031Func002Func002Func002C takes nothing returns boolean
if(not(GetTimeOfDay()>=0.00))then
return false
endif
if(not(GetTimeOfDay()<6.00))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func031Func002Func002C takes nothing returns boolean
if(Trig_Remove_Selling_Unit_Func031Func002Func002Func001C())then
return true
endif
if(Trig_Remove_Selling_Unit_Func031Func002Func002Func002C())then
return true
endif
return false
endfunction
function Trig_Remove_Selling_Unit_Func031Func002C takes nothing returns boolean
if(not Trig_Remove_Selling_Unit_Func031Func002Func002C())then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_Func031Func003C takes nothing returns boolean
if((GetUnitTypeId(GetSoldUnit())=='n035'))then
return true
endif
if((GetUnitTypeId(GetSoldUnit())=='n036'))then
return true
endif
if((GetUnitTypeId(GetSoldUnit())=='Udre'))then
return true
endif
return false
endfunction
function Trig_Remove_Selling_Unit_Func031C takes nothing returns boolean
if(not Trig_Remove_Selling_Unit_Func031Func003C())then
return false
endif
return true
endfunction
function Trig_Psycho_sold_Condition takes nothing returns boolean
if((GetUnitTypeId(GetSoldUnit())=='u00S'))then
return true
endif
if((GetUnitTypeId(GetSoldUnit())=='u00T'))then
return true
endif
return false
endfunction
function Trig_Remove_Selling_Unit_Actions takes nothing returns nothing
local unit selling=GetSellingUnit()
local unit sold=GetSoldUnit()
local unit created
local integer idx=1
local integer tmp_int
local location l
if(IsUnitInGroup(selling,morphs))then
call RemoveUnit(GetSoldUnit())
set sold=null
set selling=null
set created=null
return
endif
if(Trig_Remove_Selling_Unit_Func025C()and udg_NO_FLYING_UNITS)then
call RemoveUnit(GetSoldUnit())
set sold=null
set selling=null
return
endif
if(GetUnitAbilityLevel(selling,'ACCN')>0) then
call RemoveUnit(GetSoldUnit())
set sold=null
set selling=null
return
endif
if(Trig_Remove_Selling_Unit_Func026C())then
set created=ChangeUnit2(GetSellingUnit(),'h024')
elseif(Trig_Remove_Selling_Unit_Func027C())then
set created=ChangeUnit2(GetSellingUnit(),'H03H')
elseif(GetUnitTypeId(GetSoldUnit())=='Z00E' and udg_NO_FLYING_UNITS)then
set created=ChangeUnit2(GetSellingUnit(),'Z00I')
elseif(GetUnitTypeId(GetSoldUnit())=='h07T')then
set created=ChangeUnit2(GetSellingUnit(),'h07T')
set idx=1
loop
call AddUnitToStock(created,Egg_Evolutions[GetRandomInt(0,Egg_Evocnt)],1,1)
set idx=idx+1
exitwhen idx>6
endloop
set damageBonuses[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=damageBonuses[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+40
set HPBonuses[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=HPBonuses[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+500
set idx=1
elseif(GetUnitTypeId(GetSoldUnit())=='e00P')then
if(treant_count<1)then
set treant_count=treant_count+1
set created=ChangeUnit2(GetSellingUnit(),'e00P')
else
call RemoveUnit(GetSoldUnit())
set sold=null
set created=null
set selling=null
return
endif
else
set created=ChangeUnit2(GetSellingUnit(),GetUnitTypeId(sold))
endif
if(RectContainsUnit(udg_rct_Dead_teleport_area,created))then
set tmp_int=GetRandomInt(0,3)
if(tmp_int==0)then
set l=GetRectCenter(udg_rct_Top_Left)
elseif(tmp_int==1)then
set l=GetRectCenter(udg_rct_Top_Right)
elseif(tmp_int==2)then
set l=GetRectCenter(udg_rct_Bottom_Left)
else
set l=GetRectCenter(udg_rct_Bottom_Right)
endif
call SetUnitPositionLoc(created,l)
call RemoveLocation(l)
set l = null
endif
if(Trig_Remove_Selling_Unit_Func028C())then
call UnitAddAbilityBJ('A027',GetSoldUnit())
call IncUnitAbilityLevelSwapped('A027',created)
call IncUnitAbilityLevelSwapped('A027',created)
call IncUnitAbilityLevelSwapped('A027',created)
endif
if(Trig_Remove_Selling_Unit_Func029C())then
call UnitAddAbilityBJ('A027',created)
call IncUnitAbilityLevelSwapped('A027',created)
endif
if(Trig_Remove_Selling_Unit_Func030C())then
call UnitAddAbilityBJ(udg_Random_Ability[GetRandomInt(1,12)],created)
endif
if(Trig_Remove_Selling_Unit_Func031C())then
if(GetUnitAbilityLevel(created,'S003')<=0)then
call UnitAddAbility(created,'S003')
endif
if(Trig_Remove_Selling_Unit_Func031Func002C())then
call SetUnitAbilityLevelSwappedSafe('S003',created,1)
else
call SetUnitAbilityLevelSwappedSafe('S003',created,2)
endif
endif
if((GetUnitTypeId(created)=='u00S')or(GetUnitTypeId(created)=='u00T'))then
if(CountUnitsInGroup(Psychos)==0)then
call EnableTrigger(udg_trg_Kitapsycho)
endif
call GroupAddUnit(Psychos,created)
endif
call RemoveUnit(sold)
set sold=null
set selling=null
set created=null
set l=null
endfunction
function InitTrig_Remove_Selling_Unit takes nothing returns nothing
set udg_trg_Remove_Selling_Unit=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Remove_Selling_Unit,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(udg_trg_Remove_Selling_Unit,Condition(function Trig_Remove_Selling_Unit_Conditions))
call TriggerAddAction(udg_trg_Remove_Selling_Unit,function Trig_Remove_Selling_Unit_Actions)
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetSellingUnit())=='n03X'))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_Func002Func001Func016Func002C takes nothing returns boolean
if(not(IsUnitType(GetBuyingUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_Func002Func001Func016C takes nothing returns boolean
if(not Trig_Remove_Selling_Unit_HERO_SHOP_Func002Func001Func016Func002C())then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_Func002Func001Func025C takes nothing returns boolean
if((GetUnitTypeId(GetBuyingUnit())=='N01N'))then
return true
endif
if((GetUnitTypeId(GetBuyingUnit())=='N01P'))then
return true
endif
if((GetUnitTypeId(GetBuyingUnit())=='N01I'))then
return true
endif
if((GetUnitTypeId(GetBuyingUnit())=='N03K'))then
return true
endif
if((GetUnitTypeId(GetBuyingUnit())=='O003'))then
return true
endif
if((GetUnitTypeId(GetBuyingUnit())=='U00O'))then
return true
endif
if((GetUnitTypeId(GetBuyingUnit())=='E01A'))then
return true
endif
return false
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_Func002Func001C takes nothing returns boolean
if(not Trig_Remove_Selling_Unit_HERO_SHOP_Func002Func001Func025C())then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_Func002C takes nothing returns boolean
if(not(GetUnitTypeId(GetSoldUnit())=='Nman'))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_Func003Func001Func016Func002C takes nothing returns boolean
if(not(IsUnitType(GetBuyingUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_Func003Func001Func016C takes nothing returns boolean
if(not Trig_Remove_Selling_Unit_HERO_SHOP_Func003Func001Func016Func002C())then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_Func003Func001Func025C takes nothing returns boolean
if((GetUnitTypeId(GetBuyingUnit())=='N01N'))then
return true
endif
if((GetUnitTypeId(GetBuyingUnit())=='N03G'))then
return true
endif
if((GetUnitTypeId(GetBuyingUnit())=='Edmm'))then
return true
endif
if((GetUnitTypeId(GetBuyingUnit())=='N06Z'))then
return true
endif
return false
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_Func003Func001C takes nothing returns boolean
if(not Trig_Remove_Selling_Unit_HERO_SHOP_Func003Func001Func025C())then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_Func003C takes nothing returns boolean
if(not(GetUnitTypeId(GetSoldUnit())=='Uwar'))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_Func004Func001Func016Func002C takes nothing returns boolean
if(not(IsUnitType(GetBuyingUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_Func004Func001Func016C takes nothing returns boolean
if(not Trig_Remove_Selling_Unit_HERO_SHOP_Func004Func001Func016Func002C())then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_Func004Func001Func025C takes nothing returns boolean
if((GetUnitTypeId(GetBuyingUnit())=='N03F'))then
return true
endif
if((GetUnitTypeId(GetBuyingUnit())=='O003'))then
return true
endif
if((GetUnitTypeId(GetBuyingUnit())=='Opgh'))then
return true
endif
if((GetUnitTypeId(GetBuyingUnit())=='nsrw'))then
return true
endif
return false
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_Func004Func001C takes nothing returns boolean
if(not Trig_Remove_Selling_Unit_HERO_SHOP_Func004Func001Func025C())then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_Func004C takes nothing returns boolean
if(not(GetUnitTypeId(GetSoldUnit())=='O008'))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_Func005Func001Func016Func002C takes nothing returns boolean
if(not(IsUnitType(GetBuyingUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_Func005Func001Func016C takes nothing returns boolean
if(not Trig_Remove_Selling_Unit_HERO_SHOP_Func005Func001Func016Func002C())then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_Func005Func001Func025C takes nothing returns boolean
if((GetUnitTypeId(GetBuyingUnit())=='U01M'))then
return true
endif
return false
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_Func005Func001C takes nothing returns boolean
if(not Trig_Remove_Selling_Unit_HERO_SHOP_Func005Func001Func025C())then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_Func005C takes nothing returns boolean
if(not(GetUnitTypeId(GetSoldUnit())=='U024'))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_Actions takes nothing returns nothing
if(Trig_Remove_Selling_Unit_HERO_SHOP_Func002C())then
if(IsUnitInGroup(GetBuyingUnit(),morphs))then
call AdjustPlayerStateSimpleBJ(GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD,175)
call RemoveUnit(GetSoldUnit())
return
endif
if(Trig_Remove_Selling_Unit_HERO_SHOP_Func002Func001C())then
call ChangeUnit2(GetBuyingUnit(),GetUnitTypeId(GetSoldUnit()))
call RemoveUnit(GetSoldUnit())
else
call AdjustPlayerStateSimpleBJ(GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD,175)
call RemoveUnit(GetSoldUnit())
endif
else
endif
if(Trig_Remove_Selling_Unit_HERO_SHOP_Func003C())then
if(IsUnitInGroup(GetBuyingUnit(),morphs))then
call AdjustPlayerStateSimpleBJ(GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD,175)
call RemoveUnit(GetSoldUnit())
return
endif
if(Trig_Remove_Selling_Unit_HERO_SHOP_Func003Func001C())then
call ChangeUnit2(GetBuyingUnit(),GetUnitTypeId(GetSoldUnit()))
call RemoveUnit(GetSoldUnit())
else
call AdjustPlayerStateSimpleBJ(GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD,175)
call RemoveUnit(GetSoldUnit())
endif
else
endif
if(Trig_Remove_Selling_Unit_HERO_SHOP_Func004C())then
if(IsUnitInGroup(GetBuyingUnit(),morphs))then
call AdjustPlayerStateSimpleBJ(GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD,65)
call RemoveUnit(GetSoldUnit())
return
endif
if(Trig_Remove_Selling_Unit_HERO_SHOP_Func004Func001C())then
call ChangeUnit2(GetBuyingUnit(),GetUnitTypeId(GetSoldUnit()))
call RemoveUnit(GetSoldUnit())
else
call AdjustPlayerStateSimpleBJ(GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD,65)
call RemoveUnit(GetSoldUnit())
endif
else
endif
if(Trig_Remove_Selling_Unit_HERO_SHOP_Func005C())then
if(IsUnitInGroup(GetBuyingUnit(),morphs))then
call AdjustPlayerStateSimpleBJ(GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD,100)
call RemoveUnit(GetSoldUnit())
return
endif
if(Trig_Remove_Selling_Unit_HERO_SHOP_Func005Func001C())then
call ChangeUnit2(GetBuyingUnit(),GetUnitTypeId(GetSoldUnit()))
call RemoveUnit(GetSoldUnit())
else
call AdjustPlayerStateSimpleBJ(GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD,100)
call RemoveUnit(GetSoldUnit())
endif
else
endif
endfunction
function InitTrig_Remove_Selling_Unit_HERO_SHOP takes nothing returns nothing
set udg_trg_Remove_Selling_Unit_HERO_SHOP=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Remove_Selling_Unit_HERO_SHOP,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(udg_trg_Remove_Selling_Unit_HERO_SHOP,Condition(function Trig_Remove_Selling_Unit_HERO_SHOP_Conditions))
call TriggerAddAction(udg_trg_Remove_Selling_Unit_HERO_SHOP,function Trig_Remove_Selling_Unit_HERO_SHOP_Actions)
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_HUMAN_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetSellingUnit())=='n062'))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_HUMAN_Func002Func001Func017Func002C takes nothing returns boolean
if(not(IsUnitType(GetBuyingUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not(IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==true))then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_HUMAN_Func002Func001Func017C takes nothing returns boolean
if(not Trig_Remove_Selling_Unit_HERO_SHOP_HUMAN_Func002Func001Func017Func002C())then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_HUMAN_Func002Func001Func026C takes nothing returns boolean
if((GetUnitTypeId(GetBuyingUnit())=='H037'))then
return true
endif
if((GetUnitTypeId(GetBuyingUnit())=='H06O'))then
return true
endif
if((GetUnitTypeId(GetBuyingUnit())=='H038'))then
return true
endif
if((GetUnitTypeId(GetBuyingUnit())=='H04O'))then
return true
endif
if((GetUnitTypeId(GetBuyingUnit())=='H05A'))then
return true
endif
if((GetUnitTypeId(GetBuyingUnit())=='H025'))then
return true
endif
if((GetUnitTypeId(GetBuyingUnit())=='H028'))then
return true
endif
if((GetUnitTypeId(GetBuyingUnit())=='H03C'))then
return true
endif
if((GetUnitTypeId(GetBuyingUnit())=='Hpal'))then
return true
endif
if((GetUnitTypeId(GetBuyingUnit())=='H01Y'))then
return true
endif
return false
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_HUMAN_Func002Func001C takes nothing returns boolean
if(not Trig_Remove_Selling_Unit_HERO_SHOP_HUMAN_Func002Func001Func026C())then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_HUMAN_Func002C takes nothing returns boolean
if((GetUnitTypeId(GetSoldUnit())=='H073'))then
return true
endif
return false
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_HUMAN_Func002C_2 takes nothing returns boolean
if(not (GetUnitTypeId(GetSoldUnit())=='H07W'))then
return false
elseif(GetUnitAbilityLevel(GetBuyingUnit(),'ACCM')==0) then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_HUMAN_Func002C_cultist takes nothing returns boolean
if(not (GetUnitTypeId(GetSoldUnit())=='u02S'))then
return false
elseif(GetUnitAbilityLevel(GetBuyingUnit(),'ACCP')==0) then
return false
endif
return true
endfunction
function Trig_Remove_Selling_Unit_HERO_SHOP_HUMAN_Actions takes nothing returns nothing
if(IsUnitInGroup(GetBuyingUnit(),morphs))then
call AdjustPlayerStateSimpleBJ(GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD,50)
call RemoveUnit(GetSoldUnit())
return
endif
if(Trig_Remove_Selling_Unit_HERO_SHOP_HUMAN_Func002Func001C() and Trig_Remove_Selling_Unit_HERO_SHOP_HUMAN_Func002C())then
call UnitAddItemByIdSwapped('I03N',ChangeUnit2(GetBuyingUnit(),GetUnitTypeId(GetSoldUnit())))
call RemoveUnit(GetSoldUnit())
elseif(Trig_Remove_Selling_Unit_HERO_SHOP_HUMAN_Func002C_2()) then
call RemoveUnit(GetSoldUnit())
call ChangeUnit2(GetBuyingUnit(),'H07W')
elseif(Trig_Remove_Selling_Unit_HERO_SHOP_HUMAN_Func002C_cultist()) then
    call RemoveUnit(GetSoldUnit())
    call ChangeUnit2(GetBuyingUnit(),'u02S')
    call SetPlayerTechMaxAllowed(GetOwningPlayer(GetSoldUnit()),'Ulic',5)
    call SetPlayerTechMaxAllowed(GetOwningPlayer(GetSoldUnit()),'Ucrl',3)
    call SetPlayerTechMaxAllowed(GetOwningPlayer(GetSoldUnit()),'Nplh',3)
    call SetPlayerTechMaxAllowed(GetOwningPlayer(GetSoldUnit()),'u018',30)
else
    call RemoveUnit(GetSoldUnit())
    if(GetUnitTypeId(GetSoldUnit())=='u02S')  then
        call AdjustPlayerStateSimpleBJ(GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD,25)
    else
        call AdjustPlayerStateSimpleBJ(GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD,50)
    endif
endif
endfunction
function InitTrig_Remove_Selling_Unit_HERO_SHOP_HUMAN takes nothing returns nothing
set udg_trg_Remove_Selling_Unit_HERO_SHOP_HUMAN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Remove_Selling_Unit_HERO_SHOP_HUMAN,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(udg_trg_Remove_Selling_Unit_HERO_SHOP_HUMAN,Condition(function Trig_Remove_Selling_Unit_HERO_SHOP_HUMAN_Conditions))
call TriggerAddAction(udg_trg_Remove_Selling_Unit_HERO_SHOP_HUMAN,function Trig_Remove_Selling_Unit_HERO_SHOP_HUMAN_Actions)
endfunction
function Trig_Prevent_AOE_from_orb_effects_Func001C takes nothing returns boolean
if((GetUnitTypeId(GetTriggerUnit())=='E01A'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='E019'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='h00H'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='Z00G'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='H031'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='H032'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='h00V'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='h00W'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='Z00E'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='Z00I'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='H06J'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='H032'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='h00W'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='h04D'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='h04T'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='h04U'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='h04V'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='h04W'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='h04X'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='h04Y'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='h04Z'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='h050'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='H051'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='h05W'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='H06F'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='h065'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='h066'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='h067'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='h068'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='h069'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='h06A'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='h06D'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='h06E'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='Hmkg'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='H06G'))then
return true
endif
return false
endfunction
function Trig_Prevent_AOE_from_orb_effects_Func003C takes nothing returns boolean
if((GetItemTypeId(GetManipulatedItem())=='I01Q'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I01F'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02V'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I031'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02X'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02Y'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02Z'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I030'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I02W'))then
return true
endif
if((GetItemTypeId(GetManipulatedItem())=='I042'))then
return true
endif
return false
endfunction
function Trig_Prevent_AOE_from_orb_effects_Conditions takes nothing returns boolean
if(not Trig_Prevent_AOE_from_orb_effects_Func001C())then
return false
endif
if(not Trig_Prevent_AOE_from_orb_effects_Func003C())then
return false
endif
return true
endfunction
function Trig_Prevent_AOE_from_orb_effects_Actions takes nothing returns nothing
call UnitRemoveItemSwapped(GetManipulatedItem(),GetTriggerUnit())
endfunction
function InitTrig_Prevent_AOE_from_orb_effects takes nothing returns nothing
set udg_trg_Prevent_AOE_from_orb_effects=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Prevent_AOE_from_orb_effects,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Prevent_AOE_from_orb_effects,Condition(function Trig_Prevent_AOE_from_orb_effects_Conditions))
call TriggerAddAction(udg_trg_Prevent_AOE_from_orb_effects,function Trig_Prevent_AOE_from_orb_effects_Actions)
endfunction
function Trig_Neutral_alliance_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
return true
endfunction
function Trig_Neutral_alliance_Func002Func001Func001Func004A takes nothing returns nothing
call SetPlayerAllianceStateBJ(Neutral_Satyrs,GetEnumPlayer(),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Satyrs,bj_ALLIANCE_ALLIED)
endfunction
function Trig_Neutral_alliance_Func002Func001Func001Func005A takes nothing returns nothing
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Bottom,bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Neutral_Bottom,GetEnumPlayer(),bj_ALLIANCE_ALLIED)
endfunction
function Trig_Neutral_alliance_Func002Func001Func001Func009A takes nothing returns nothing
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Bottom,bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Neutral_Bottom,GetEnumPlayer(),bj_ALLIANCE_ALLIED)
endfunction
function Trig_Neutral_alliance_Func002Func001Func001Func010A takes nothing returns nothing
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Satyrs,bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Neutral_Satyrs,GetEnumPlayer(),bj_ALLIANCE_ALLIED)
endfunction
function Trig_Neutral_alliance_Func002Func001Func001C takes nothing returns boolean
if(not(udg_PirateChance>=7))then
return false
endif
return true
endfunction
function Trig_Neutral_alliance_Func002Func001Func005A takes nothing returns nothing
call SetPlayerAllianceStateBJ(Neutral_Satyrs,GetEnumPlayer(),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Satyrs,bj_ALLIANCE_ALLIED)
endfunction
function Trig_Neutral_alliance_Func002Func001Func006A takes nothing returns nothing
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Satyrs,bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Neutral_Satyrs,GetEnumPlayer(),bj_ALLIANCE_ALLIED)
endfunction
function Trig_Neutral_alliance_Func002Func001C takes nothing returns boolean
if(not(udg_PirateChance>=9))then
return false
endif
return true
endfunction
function Trig_Neutral_alliance_Func002C takes nothing returns boolean
if(not(udg_Neutral_Alliance_Chance==1))then
return false
endif
return true
endfunction
function ally_with_bottom takes nothing returns nothing
call SetPlayerAllianceStateBJ(Neutral_Bottom,GetEnumPlayer(),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Bottom,bj_ALLIANCE_ALLIED)
endfunction
function Trig_Neutral_alliance_Func003Func001Func001Func005A takes nothing returns nothing
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Satyrs,bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Neutral_Satyrs,GetEnumPlayer(),bj_ALLIANCE_ALLIED)
endfunction
function ally_with_satyrs takes nothing returns nothing
call SetPlayerAllianceStateBJ(Neutral_Satyrs,GetEnumPlayer(),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Satyrs,bj_ALLIANCE_ALLIED)
endfunction
function ally_with_nagas takes nothing returns nothing
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Nagas,bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Neutral_Nagas,GetEnumPlayer(),bj_ALLIANCE_ALLIED)
endfunction
function Trig_Neutral_alliance_Func003Func001Func001C takes nothing returns boolean
if(not(udg_PirateChance>=7))then
return false
endif
return true
endfunction
function Trig_Neutral_alliance_Func003Func001Func005A takes nothing returns nothing
call SetPlayerAllianceStateBJ(Neutral_Bottom,GetEnumPlayer(),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Bottom,bj_ALLIANCE_ALLIED)
endfunction
function Trig_Neutral_alliance_Func003Func001Func006A takes nothing returns nothing
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Satyrs,bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Neutral_Satyrs,GetEnumPlayer(),bj_ALLIANCE_ALLIED)
endfunction
function Trig_Neutral_alliance_Func003Func001C takes nothing returns boolean
if(not(udg_PirateChance>=9))then
return false
endif
return true
endfunction
function Trig_Neutral_alliance_Func003C takes nothing returns boolean
if(not(udg_Neutral_Alliance_Chance==2))then
return false
endif
return true
endfunction
function Trig_Neutral_alliance_Actions takes nothing returns nothing
    set udg_PirateChance=6
    
    if ( Trig_Neutral_alliance_Func002C() ) then
    if ( Trig_Neutral_alliance_Func002Func001C() ) then
    call DisplayTimedTextToForce(GetPlayersAll(), 10.00, "|cff00ffffThe Pirates have decided to ally with Humans|r")
    call PingMinimapForForceEx(udg_Humans,-6972,4153,10,bj_MINIMAPPINGSTYLE_SIMPLE,0,255,0)
    call DisplayTimedTextToForce(GetPlayersAll(), 10.00, "|cff00ffffThe Naga team has decided to ally with Undead|r")
    call PingMinimapForForceEx(udg_Evil,1289,5380,10,bj_MINIMAPPINGSTYLE_SIMPLE,0,255,0)
    call ForForce(udg_Evil, function ally_with_nagas)
    call ForForce(udg_Humans, function ally_with_satyrs)
    call ForForce(neutral_humans, function ally_with_satyrs)
    else
    if ( Trig_Neutral_alliance_Func002Func001Func001C() ) then
    call DisplayTimedTextToForce(GetPlayersAll(), 10.00, "|cff00ffffThe Pirates have decided to ally with Undead|r")
    call PingMinimapForForceEx(udg_Evil,-6972,4153,10,bj_MINIMAPPINGSTYLE_SIMPLE,0,255,0)
    call DisplayTimedTextToForce(GetPlayersAll(), 10.00, "|cff00ffffThe Bottom neutrals have decided to ally with Humans|r")
    call PingMinimapForForceEx(udg_Humans,1872,-4996,10,bj_MINIMAPPINGSTYLE_SIMPLE,0,255,0) // Bottom Team
    call PingMinimapForForceEx(udg_Humans,-3263,-5124,10,bj_MINIMAPPINGSTYLE_SIMPLE,0,255,0) // Bottom Team
    call ForForce(udg_Humans, function ally_with_bottom)
    call ForForce(udg_Evil, function ally_with_satyrs)
    call ForForce(neutral_humans, function ally_with_bottom)
    else
    call DisplayTimedTextToForce(GetPlayersAll(), 10.00, "|cff00ffffThe Bottom neutrals have decided to ally with Humans|r")
    call PingMinimapForForceEx(udg_Humans,1872,-4996,10,bj_MINIMAPPINGSTYLE_SIMPLE,0,255,0) // Bottom Team
    call PingMinimapForForceEx(udg_Humans,-3263,-5124,10,bj_MINIMAPPINGSTYLE_SIMPLE,0,255,0) // Bottom Team
    call DisplayTimedTextToForce(GetPlayersAll(), 10.00, "|cff00ffffThe Naga team has decided to ally with Undead|r")
    call PingMinimapForForceEx(udg_Evil,1289,5380,10,bj_MINIMAPPINGSTYLE_SIMPLE,0,255,0) // Naga Team
    call ForForce(udg_Evil, function ally_with_nagas)
    call ForForce(udg_Humans, function ally_with_bottom)
    call ForForce(neutral_humans, function ally_with_bottom)
    endif
    endif
    else
    endif
    if ( Trig_Neutral_alliance_Func003C() ) then
    if ( Trig_Neutral_alliance_Func003Func001C() ) then
    call DisplayTimedTextToForce(GetPlayersAll(), 10.00, "|cff00ffffThe Pirates have decided to ally with Humans|r")
    call PingMinimapForForceEx(udg_Humans,-6972,4153,10,bj_MINIMAPPINGSTYLE_SIMPLE,0,255,0) // Pirates
    call DisplayTimedTextToForce(GetPlayersAll(), 10.00, "|cff00ffffThe bottom neutrals team has decided to ally with Undead|r")
    call PingMinimapForForceEx(udg_Evil,1872,-4996,10,bj_MINIMAPPINGSTYLE_SIMPLE,0,255,0) // Bottom Team
    call PingMinimapForForceEx(udg_Evil,-3263,-5124,10,bj_MINIMAPPINGSTYLE_SIMPLE,0,255,0) // Bottom Team
    call ForForce(udg_Evil, function ally_with_bottom)
    call ForForce(udg_Humans, function ally_with_satyrs)
    call ForForce(neutral_humans, function ally_with_satyrs)
    else
    if ( Trig_Neutral_alliance_Func003Func001Func001C() ) then
    call DisplayTimedTextToForce(GetPlayersAll(), 10.00, "|cff00ffffThe Pirates have decided to ally with Undead|r")
    call PingMinimapForForceEx(udg_Evil,-6972,4153,10,bj_MINIMAPPINGSTYLE_SIMPLE,0,255,0) // Pirates
    call DisplayTimedTextToForce(GetPlayersAll(), 10.00, "|cff00ffffThe Naga team has decided to ally with Humans|r")
    call PingMinimapForForceEx(udg_Humans,1289,5380,10,bj_MINIMAPPINGSTYLE_SIMPLE,0,255,0) // Naga Team
    call ForForce(udg_Evil, function ally_with_satyrs)
    call ForForce(udg_Humans, function ally_with_nagas)
    call ForForce(neutral_humans, function ally_with_nagas)
    else
    call DisplayTimedTextToForce(GetPlayersAll(), 10.00, "|cff00ffffThe Bottom neutrals have decided to ally with Undead|r")
    call PingMinimapForForceEx(udg_Evil,1872,-4996,10,bj_MINIMAPPINGSTYLE_SIMPLE,0,255,0) // Bottom Team
    call PingMinimapForForceEx(udg_Evil,-3263,-5124,10,bj_MINIMAPPINGSTYLE_SIMPLE,0,255,0) // Bottom Team
    call DisplayTimedTextToForce(GetPlayersAll(), 10.00, "|cff00ffffThe Naga team has decided to ally with Humans|r")
    call PingMinimapForForceEx(udg_Humans,1289,5380,10,bj_MINIMAPPINGSTYLE_SIMPLE,0,255,0) // Naga Team
    call ForForce(udg_Evil, function ally_with_bottom)
    call ForForce(udg_Humans, function ally_with_nagas)
    call ForForce(neutral_humans, function ally_with_nagas)
    endif
    endif
    else
    endif
    call UpdateSharedVisionAll()
    endfunction
function InitTrig_Neutral_alliance takes nothing returns nothing
set udg_trg_Neutral_alliance=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Neutral_alliance,42.50)
call TriggerAddCondition(udg_trg_Neutral_alliance,Condition(function Trig_Neutral_alliance_Conditions))
call TriggerAddAction(udg_trg_Neutral_alliance,function Trig_Neutral_alliance_Actions)
endfunction
function Trig_Display_mode_Actions takes nothing returns nothing
if(GetLocalPlayer()==GetTriggerPlayer())then
if(udg_NO_FLYING_UNITS)then
call Print("No Flying Units")
else
call Print("All units")
endif
if(udg_SETTINGS_CHOICE1_YES)then
call Print("Long Game: 5/3 Lives and Final Battle in 42 minutes")
elseif(udg_SETTINGS_CHOICE3_YES)then
call Print("Normal Game: 5/3 Lives and Final Battle in 30 minutes")
else
call Print("Normal Game: 3/2 Lives and Final Battle in 30 minutes")
endif
if(udg_Neutral_Alliance_Chance==0)then
call Print("Neutral allies disabled")
else
call Print("Neutral Allies enabled")
if(udg_Neutral_Alliance_Chance==1)then
if(udg_PirateChance>=9)then
call Print("The Pirates with Humans")
call Print("The Naga team with Undead")
elseif(udg_PirateChance>=7)then
call Print("The Bottom Neutrals with Humans")
call Print("The Pirates with Undead")
else
call Print("The Bottom Neutrals with Humans")
call Print("The Naga Team with Undead")
endif
elseif(udg_Neutral_Alliance_Chance==2)then
if(udg_PirateChance>=9)then
call Print("The Pirates with Humans")
call Print("The bottom neutrals with Undead")
elseif(udg_PirateChance>=7)then
call Print("The Naga team with Humans")
call Print("The Pirates with Undead")
else
call Print("The Naga team with Humans")
call Print("The Bottom neutrals with Undead")
endif
endif
endif
if(udg_Extreme_Mode)then
call Print("Extreme Mode: +1 lives")
elseif(udg_SETTINGS_CHOICE3_YES)then
call Print("Hard Mode")
else
call Print("Normal Mode")
endif
endif
endfunction
function InitTrig_Display_mode takes nothing returns nothing
set udg_trg_Display_mode=CreateTrigger()
call TriggerRegisterPlayerChatEvent(udg_trg_Display_mode,Player(0),"-mode",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Display_mode,Player(1),"-mode",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Display_mode,Player(2),"-mode",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Display_mode,Player(3),"-mode",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Display_mode,Player(4),"-mode",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Display_mode,Player(5),"-mode",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Display_mode,Player(6),"-mode",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Display_mode,Player(7),"-mode",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Display_mode,Player(8),"-mode",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Display_mode,Player(9),"-mode",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Display_mode,Player(10),"-mode",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Display_mode,Player(11),"-mode",true)
call TriggerAddAction(udg_trg_Display_mode,function Trig_Display_mode_Actions)
endfunction
function Trig_Neutral_hostile_team_setting_Actions takes nothing returns nothing
call EnableTrigger(udg_trg_undead_becomes_neutral_EXTRA)
call EnableTrigger(udg_trg_undead_becomes_neutral_EXTRA_2)
call EnableTrigger(udg_trg_undead_becomes_neutral_HOSTILE)
call EnableTrigger(udg_trg_undead_becomes_neutral_nothing)
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cff32cd32Undead can now randomly join the ice team, naga team, or maybe no team at all (after dieing)|r")
endfunction
function InitTrig_Neutral_hostile_team_setting takes nothing returns nothing
set udg_trg_Neutral_hostile_team_setting=CreateTrigger()
call DisableTrigger(udg_trg_Neutral_hostile_team_setting)
call TriggerRegisterTimerEventSingle(udg_trg_Neutral_hostile_team_setting,280.00)
call TriggerAddAction(udg_trg_Neutral_hostile_team_setting,function Trig_Neutral_hostile_team_setting_Actions)
endfunction
function Trig_humansundead_player_check_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
return true
endfunction
function Trig_humansundead_player_check_Actions takes nothing returns nothing
call PlaySoundBJ(udg_snd_Hint)
call DisplayTimedTextToForce(GetPlayersAll(),6.00,("|cff20b2aa~~~~|r"+(I2S(CountPlayersInForceBJ(udg_Humans))+"humans")))
call DisplayTimedTextToForce(GetPlayersAll(),6.00,("|cff20b2aa~~~~|r"+(I2S(CountPlayersInForceBJ(udg_Evil))+"Undead")))
endfunction
function InitTrig_humansundead_player_check takes nothing returns nothing
set udg_trg_humansundead_player_check=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(udg_trg_humansundead_player_check,110.00)
call TriggerAddCondition(udg_trg_humansundead_player_check,Condition(function Trig_humansundead_player_check_Conditions))
call TriggerAddAction(udg_trg_humansundead_player_check,function Trig_humansundead_player_check_Actions)
endfunction
function InitTrig_MS takes nothing returns nothing
set udg_trg_MS=CreateTrigger()
call DisableTrigger(udg_trg_MS)
endfunction
function Trig_Worker_Bounty_Func003C takes nothing returns boolean
if((GetUnitTypeId(GetDyingUnit())=='h00F'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='h013'))then
return true
endif
return false
endfunction
function Trig_Worker_Bounty_Conditions takes nothing returns boolean
if(not(IsUnitEnemy(GetKillingUnitBJ(),GetOwningPlayer(GetDyingUnit()))==true))then
return false
endif
if(not Trig_Worker_Bounty_Func003C())then
return false
endif
return true
endfunction
function Trig_Worker_Bounty_Actions takes nothing returns nothing
call AdjustPlayerStateBJ(1,GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)
endfunction
function InitTrig_Worker_Bounty takes nothing returns nothing
set udg_trg_Worker_Bounty=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Worker_Bounty,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Worker_Bounty,Condition(function Trig_Worker_Bounty_Conditions))
call TriggerAddAction(udg_trg_Worker_Bounty,function Trig_Worker_Bounty_Actions)
endfunction
function Trig_Missle_death_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='n02C'))then
return false
endif
return true
endfunction
function Trig_Missle_death_Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetDyingUnit()),"Objects\\Spawnmodels\\Human\\FragmentationShards\\FragBoomSpawn.mdl")
call AddSpecialEffectTargetUnitBJ("origin",GetDyingUnit(),"Objects\\Spawnmodels\\Human\\FragmentationShards\\FragBoomSpawn.mdl")
endfunction
function InitTrig_Missle_death takes nothing returns nothing
set udg_trg_Missle_death=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Missle_death,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Missle_death,Condition(function Trig_Missle_death_Conditions))
call TriggerAddAction(udg_trg_Missle_death,function Trig_Missle_death_Actions)
endfunction
function Trig_Kitapsycho_Func002Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
return true
endfunction
function IsPsycho takes unit u returns boolean
if((GetUnitTypeId(u)=='u00S'))then
return true
endif
if((GetUnitTypeId(u)=='u00T'))then
return true
endif
return false
endfunction
function Trig_Kitapsycho_Func002 takes nothing returns nothing
if(IsPsycho(GetEnumUnit()))then
if(Trig_Kitapsycho_Func002Func001C())then
call h__SetUnitMoveSpeed(GetEnumUnit(),GetRandomReal(50.00,500.00))
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
endif
else
call GroupRemoveUnit(Psychos,GetEnumUnit())
endif
endfunction
function Trig_Kitapsycho_Actions takes nothing returns nothing
if(CountUnitsInGroup(Psychos)>0)then
call ForGroup(Psychos,function Trig_Kitapsycho_Func002)
else
call DisableTrigger(udg_trg_Kitapsycho)
endif
endfunction
function InitTrig_Kitapsycho takes nothing returns nothing
set udg_trg_Kitapsycho=CreateTrigger()
call DisableTrigger(udg_trg_Kitapsycho)
call TriggerRegisterTimerEventPeriodic(udg_trg_Kitapsycho,7.)
call TriggerAddAction(udg_trg_Kitapsycho,function Trig_Kitapsycho_Actions)
endfunction
function Trig_Kill_last_human_command_Func003C takes nothing returns boolean
if((CountLivingPlayerUnitsOfTypeId('H00B',ForcePickRandomPlayer(udg_Humans))==1))then
return true
endif
if((CountLivingPlayerUnitsOfTypeId('H02A',ForcePickRandomPlayer(udg_Humans))==1))then
return true
endif
if((CountLivingPlayerUnitsOfTypeId('H027',ForcePickRandomPlayer(udg_Humans))==1))then
return true
endif
if((CountLivingPlayerUnitsOfTypeId('H029',ForcePickRandomPlayer(udg_Humans))==1))then
return true
endif
if((CountLivingPlayerUnitsOfTypeId('Hlgr',ForcePickRandomPlayer(udg_Humans))==1))then
return true
endif
if((CountLivingPlayerUnitsOfTypeId('E00E',ForcePickRandomPlayer(udg_Humans))==1))then
return true
endif
if((CountLivingPlayerUnitsOfTypeId('E00B',ForcePickRandomPlayer(udg_Humans))==1))then
return true
endif
if((CountLivingPlayerUnitsOfTypeId('E006',ForcePickRandomPlayer(udg_Humans))==1))then
return true
endif
if((CountLivingPlayerUnitsOfTypeId('E007',ForcePickRandomPlayer(udg_Humans))==1))then
return true
endif
if((CountLivingPlayerUnitsOfTypeId('e008',ForcePickRandomPlayer(udg_Humans))==1))then
return true
endif
if((CountLivingPlayerUnitsOfTypeId('Hant',ForcePickRandomPlayer(udg_Humans))==1))then
return true
endif
return false
endfunction
function Trig_Kill_last_human_command_Conditions takes nothing returns boolean
if(not(CountPlayersInForceBJ(udg_Humans)==1))then
return false
endif
if(not Trig_Kill_last_human_command_Func003C())then
return false
endif
if(not(CountPlayersInForceBJ(udg_Evil)>=4))then
return false
endif
if(not(GetPlayerColor(GetTriggerPlayer())==PLAYER_COLOR_RED))then
return false
endif
return true
endfunction
function Trig_Kill_last_human_command_Func001Func001C takes nothing returns boolean
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Humans)==true))then
return false
endif
return true
endfunction
function Trig_Kill_last_human_command_Func001A takes nothing returns nothing
if(Trig_Kill_last_human_command_Func001Func001C())then
call KillUnit(GetEnumUnit())
else
call DoNothing()
endif
endfunction
function Trig_Kill_last_human_command_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRectAll(GetEntireMapRect()),function Trig_Kill_last_human_command_Func001A)
endfunction
function InitTrig_Kill_last_human_command takes nothing returns nothing
set udg_trg_Kill_last_human_command=CreateTrigger()
call TriggerRegisterPlayerChatEvent(udg_trg_Kill_last_human_command,Player(0),"-Autowin",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Kill_last_human_command,Player(1),"-Autowin",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Kill_last_human_command,Player(2),"-Autowin",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Kill_last_human_command,Player(3),"-Autowin",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Kill_last_human_command,Player(4),"-Autowin",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Kill_last_human_command,Player(5),"-Autowin",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Kill_last_human_command,Player(6),"-Autowin",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Kill_last_human_command,Player(7),"-Autowin",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Kill_last_human_command,Player(8),"-Autowin",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Kill_last_human_command,Player(9),"-Autowin",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Kill_last_human_command,Player(10),"-Autowin",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Kill_last_human_command,Player(11),"-Autowin",true)
call TriggerAddCondition(udg_trg_Kill_last_human_command,Condition(function Trig_Kill_last_human_command_Conditions))
call TriggerAddAction(udg_trg_Kill_last_human_command,function Trig_Kill_last_human_command_Actions)
endfunction
function Trig_prevent_double_uu_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I00N'))then
return false
endif
return true
endfunction
function Trig_prevent_double_uu_Func001C takes nothing returns boolean
if(not(GetUnitUserData(GetTriggerUnit())==666))then
return false
endif
return true
endfunction
function Trig_prevent_double_uu_Actions takes nothing returns nothing
if(Trig_prevent_double_uu_Func001C())then
call RemoveItem(GetManipulatedItem())
else
call SetUnitUserData(GetManipulatingUnit(),666)
endif
endfunction
function InitTrig_prevent_double_uu takes nothing returns nothing
set udg_trg_prevent_double_uu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_prevent_double_uu,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_prevent_double_uu,Condition(function Trig_prevent_double_uu_Conditions))
call TriggerAddAction(udg_trg_prevent_double_uu,function Trig_prevent_double_uu_Actions)
endfunction
function Trig_bridge_teleports_Conditions takes nothing returns boolean
if(not(IsUnitAliveBJ(GetTriggerUnit())==true))then
return false
endif
if(not(IsUnitIdType(GetUnitTypeId(GetTriggerUnit()),UNIT_TYPE_FLYING)==false))then
return false
endif
if(not(udg_Bridge_Boolean[1]==false))then
return false
endif
if(GetUnitAbilityLevel(GetTriggerUnit(),'AJHH')>0)then
return false
endif
return true
endfunction
function Trig_bridge_teleports_Actions takes nothing returns nothing
set udg_Bridge_Boolean[1]=true
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitPositionLocFacingBJ(GetTriggerUnit(),GetRectCenter(udg_rct_bridge_tele_Copy),GetUnitFacing(GetTriggerUnit()))
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call EnableTrigger(udg_trg_Bridge_Timer_1)
endfunction
function InitTrig_bridge_teleports takes nothing returns nothing
set udg_trg_bridge_teleports=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_bridge_teleports,udg_rct_bridge_tele)
call TriggerAddCondition(udg_trg_bridge_teleports,Condition(function Trig_bridge_teleports_Conditions))
call TriggerAddAction(udg_trg_bridge_teleports,function Trig_bridge_teleports_Actions)
endfunction
function Trig_Bridge_Timer_1_Conditions takes nothing returns boolean
if(not(udg_Bridge_Boolean[1]==true))then
return false
endif
return true
endfunction
function Trig_Bridge_Timer_1_Actions takes nothing returns nothing
set udg_Bridge_Boolean[1]=false
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Bridge_Timer_1 takes nothing returns nothing
set udg_trg_Bridge_Timer_1=CreateTrigger()
call DisableTrigger(udg_trg_Bridge_Timer_1)
call TriggerRegisterTimerEventPeriodic(udg_trg_Bridge_Timer_1,0.10)
call TriggerAddCondition(udg_trg_Bridge_Timer_1,Condition(function Trig_Bridge_Timer_1_Conditions))
call TriggerAddAction(udg_trg_Bridge_Timer_1,function Trig_Bridge_Timer_1_Actions)
endfunction
function Trig_bridge_teleports_Copy_Conditions takes nothing returns boolean
if(not(IsUnitAliveBJ(GetTriggerUnit())==true))then
return false
endif
if(not(udg_Bridge_Boolean[1]==false))then
return false
endif
if(not(IsUnitIdType(GetUnitTypeId(GetTriggerUnit()),UNIT_TYPE_FLYING)==false))then
return false
endif
if(GetUnitAbilityLevel(GetTriggerUnit(),'AJHH')>0)then
return false
endif
return true
endfunction
function Trig_bridge_teleports_Copy_Actions takes nothing returns nothing
set udg_Bridge_Boolean[1]=true
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitPositionLocFacingBJ(GetTriggerUnit(),GetRectCenter(udg_rct_bridge_tele),GetUnitFacing(GetTriggerUnit()))
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call EnableTrigger(udg_trg_Bridge_Timer_1)
endfunction
function InitTrig_bridge_teleports_Copy takes nothing returns nothing
set udg_trg_bridge_teleports_Copy=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_bridge_teleports_Copy,udg_rct_bridge_tele_Copy)
call TriggerAddCondition(udg_trg_bridge_teleports_Copy,Condition(function Trig_bridge_teleports_Copy_Conditions))
call TriggerAddAction(udg_trg_bridge_teleports_Copy,function Trig_bridge_teleports_Copy_Actions)
endfunction
function Trig_bridge_teleports_Copy_Copy_Conditions takes nothing returns boolean
if(not(IsUnitIdType(GetUnitTypeId(GetTriggerUnit()),UNIT_TYPE_FLYING)==false))then
return false
endif
if(not(IsUnitAliveBJ(GetTriggerUnit())==true))then
return false
endif
if(not(udg_Bridge_Boolean[2]==false))then
return false
endif
if(GetUnitAbilityLevel(GetTriggerUnit(),'AJHH')>0)then
return false
endif
return true
endfunction
function Trig_bridge_teleports_Copy_Copy_Actions takes nothing returns nothing
set udg_Bridge_Boolean[2]=true
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitPositionLocFacingBJ(GetTriggerUnit(),GetRectCenter(udg_rct_bridge_tele_Copy_3),GetUnitFacing(GetTriggerUnit()))
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call EnableTrigger(udg_trg_Bridge_Timer_2)
endfunction
function InitTrig_bridge_teleports_Copy_Copy takes nothing returns nothing
set udg_trg_bridge_teleports_Copy_Copy=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_bridge_teleports_Copy_Copy,udg_rct_bridge_tele_Copy_2)
call TriggerAddCondition(udg_trg_bridge_teleports_Copy_Copy,Condition(function Trig_bridge_teleports_Copy_Copy_Conditions))
call TriggerAddAction(udg_trg_bridge_teleports_Copy_Copy,function Trig_bridge_teleports_Copy_Copy_Actions)
endfunction
function Trig_Bridge_Timer_2_Conditions takes nothing returns boolean
if(not(udg_Bridge_Boolean[2]==true))then
return false
endif
return true
endfunction
function Trig_Bridge_Timer_2_Actions takes nothing returns nothing
set udg_Bridge_Boolean[2]=false
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Bridge_Timer_2 takes nothing returns nothing
set udg_trg_Bridge_Timer_2=CreateTrigger()
call DisableTrigger(udg_trg_Bridge_Timer_2)
call TriggerRegisterTimerEventPeriodic(udg_trg_Bridge_Timer_2,0.10)
call TriggerAddCondition(udg_trg_Bridge_Timer_2,Condition(function Trig_Bridge_Timer_2_Conditions))
call TriggerAddAction(udg_trg_Bridge_Timer_2,function Trig_Bridge_Timer_2_Actions)
endfunction
function Trig_bridge_teleports_Copy_Copy_Copy_Conditions takes nothing returns boolean
if(not(IsUnitIdType(GetUnitTypeId(GetTriggerUnit()),UNIT_TYPE_FLYING)==false))then
return false
endif
if(not(IsUnitAliveBJ(GetTriggerUnit())==true))then
return false
endif
if(not(udg_Bridge_Boolean[2]==false))then
return false
endif
if(GetUnitAbilityLevel(GetTriggerUnit(),'AJHH')>0)then
return false
endif
return true
endfunction
function Trig_bridge_teleports_Copy_Copy_Copy_Actions takes nothing returns nothing
set udg_Bridge_Boolean[2]=true
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitPositionLocFacingBJ(GetTriggerUnit(),GetRectCenter(udg_rct_bridge_tele_Copy_2),GetUnitFacing(GetTriggerUnit()))
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call EnableTrigger(udg_trg_Bridge_Timer_2)
endfunction
function InitTrig_bridge_teleports_Copy_Copy_Copy takes nothing returns nothing
set udg_trg_bridge_teleports_Copy_Copy_Copy=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_bridge_teleports_Copy_Copy_Copy,udg_rct_bridge_tele_Copy_3)
call TriggerAddCondition(udg_trg_bridge_teleports_Copy_Copy_Copy,Condition(function Trig_bridge_teleports_Copy_Copy_Copy_Conditions))
call TriggerAddAction(udg_trg_bridge_teleports_Copy_Copy_Copy,function Trig_bridge_teleports_Copy_Copy_Copy_Actions)
endfunction
function Trig_ultimate_farm_construction_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='h05G'))then
return false
endif
return true
endfunction
function Trig_ultimate_farm_construction_Actions takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),(udg_AAA_Player_Colors[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+" has constructed an ultimate farm!"))
call PingMinimapLocForForceEx(GetPlayersAll(),GetUnitLoc(GetTriggerUnit()),2.00,bj_MINIMAPPINGSTYLE_ATTACK,100,100.00,100.00)
endfunction
function InitTrig_ultimate_farm_construction takes nothing returns nothing
set udg_trg_ultimate_farm_construction=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_ultimate_farm_construction,EVENT_PLAYER_UNIT_UPGRADE_FINISH)
call TriggerAddCondition(udg_trg_ultimate_farm_construction,Condition(function Trig_ultimate_farm_construction_Conditions))
call TriggerAddAction(udg_trg_ultimate_farm_construction,function Trig_ultimate_farm_construction_Actions)
endfunction
function Trig_BOSSes_AI_Func001Func002A takes nothing returns nothing
local location target = GetRandomLocInRect(MainMap)
call IssuePointOrderLocBJ(GetEnumUnit(),"patrol",target)
call RemoveLocation(target)
set target = null
endfunction

function Trig_BOSSes_AI_Actions takes nothing returns nothing
//call ForGroupBJ(udg_BOSSes,function Trig_BOSSes_AI_Func001Func002A)
endfunction
function InitTrig_BOSSes_AI takes nothing returns nothing
set udg_trg_BOSSes_AI=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(udg_trg_BOSSes_AI,60.00)
call TriggerAddAction(udg_trg_BOSSes_AI,function Trig_BOSSes_AI_Actions)
endfunction
function Trig_simple_bounds_system_Func001Func002A takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),GetRectCenter(udg_rct_Lives))
endfunction
function Trig_simple_bounds_system_Func001C takes nothing returns boolean
if(not(udg_Duel_On==true))then
return false
endif
return true
endfunction
function Trig_simple_bounds_system_Func002Func002Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetEnumUnit())!='n042'))then
return false
endif
if(not(GetUnitTypeId(GetEnumUnit())!='h00X'))then
return false
endif
if(not(GetUnitTypeId(GetEnumUnit())!='h016'))then
return false
endif
if(not(GetUnitTypeId(GetEnumUnit())!='h00J'))then
return false
endif
if(not(GetUnitTypeId(GetEnumUnit())!='h00Z'))then
return false
endif
if(not(GetUnitTypeId(GetEnumUnit())!='h01F'))then
return false
endif
return true
endfunction
function Trig_simple_bounds_system_Func002Func002A takes nothing returns nothing
if(Trig_simple_bounds_system_Func002Func002Func001C())then
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function Trig_simple_bounds_system_Func002Func004A takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig_simple_bounds_system_Func002C takes nothing returns boolean
if(not(udg_Duel_Boolean==true))then
return false
endif
return true
endfunction
function Trig_simple_bounds_system_Func003Func002A takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig_simple_bounds_system_Func003Func004A takes nothing returns nothing
    call RemoveUnit(GetEnumUnit())
endfunction
function Trig_simple_bounds_system_Func003C takes nothing returns boolean
if(not(udg_Duel_Boolean==false))then
return false
endif
if(not(udg_Duel_On==false))then
return false
endif
return true
endfunction
function Trig_simple_bounds_system_Actions takes nothing returns nothing
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(udg_rct_Duel_area),function Trig_simple_bounds_system_Func001Func002A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(udg_rct_bottom_right_dont_blink_here_area),function Trig_simple_bounds_system_Func002Func002A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(udg_rct_Duel_area),function Trig_simple_bounds_system_Func003Func002A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(udg_rct_Top_right_forest_minigame),function Trig_simple_bounds_system_Func003Func004A)
endfunction
function InitTrig_simple_bounds_system takes nothing returns nothing
set udg_trg_simple_bounds_system=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(udg_trg_simple_bounds_system,2.00)
call TriggerAddAction(udg_trg_simple_bounds_system,function Trig_simple_bounds_system_Actions)
endfunction
function Trig_snowman_dies_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='n046'))then
return false
endif
return true
endfunction
function Trig_snowman_dies_Actions takes nothing returns nothing
call RemoveUnit(GetTriggerUnit())
endfunction
function InitTrig_snowman_dies takes nothing returns nothing
set udg_trg_snowman_dies=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_snowman_dies,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_snowman_dies,Condition(function Trig_snowman_dies_Conditions))
call TriggerAddAction(udg_trg_snowman_dies,function Trig_snowman_dies_Actions)
endfunction
function Trig_portal_dies_Func001C takes nothing returns boolean
if((udg_Neutral_Alliance_Chance==1))then
return true
endif
if((udg_Neutral_Alliance_Chance==2))then
return true
endif
return false
endfunction
function Trig_portal_dies_Conditions takes nothing returns boolean
if(not Trig_portal_dies_Func001C())then
return false
endif
return true
endfunction
function Trig_portal_dies_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cff00ffffNaga Portal Has been destroyed. Units for that team will stop spawning.|r")
endfunction
function InitTrig_portal_dies takes nothing returns nothing
set udg_trg_portal_dies=CreateTrigger()
call TriggerRegisterDeathEvent(udg_trg_portal_dies,gg_dest_OTsp_1007)
call TriggerAddCondition(udg_trg_portal_dies,Condition(function Trig_portal_dies_Conditions))
call TriggerAddAction(udg_trg_portal_dies,function Trig_portal_dies_Actions)
endfunction
function Trig_portal_dies_Copy_Func001C takes nothing returns boolean
if((udg_Neutral_Alliance_Chance==1))then
return true
endif
if((udg_Neutral_Alliance_Chance==2))then
return true
endif
return false
endfunction
function Trig_portal_dies_Copy_Conditions takes nothing returns boolean
if(not Trig_portal_dies_Copy_Func001C())then
return false
endif
return true
endfunction
function Trig_portal_dies_Copy_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cff00ffffIce Portal Has been destroyed. Units for that team will stop spawning.|r")
endfunction
function InitTrig_portal_dies_Copy takes nothing returns nothing
set udg_trg_portal_dies_Copy=CreateTrigger()
call TriggerRegisterDeathEvent(udg_trg_portal_dies_Copy,gg_dest_OTsp_0549)
call TriggerAddCondition(udg_trg_portal_dies_Copy,Condition(function Trig_portal_dies_Copy_Conditions))
call TriggerAddAction(udg_trg_portal_dies_Copy,function Trig_portal_dies_Copy_Actions)
endfunction
function Trig_portal_dies_Copy_Copy_Func001C takes nothing returns boolean
if((udg_Neutral_Alliance_Chance==1))then
return true
endif
if((udg_Neutral_Alliance_Chance==2))then
return true
endif
return false
endfunction
function Trig_portal_dies_Copy_Copy_Conditions takes nothing returns boolean
if(not Trig_portal_dies_Copy_Copy_Func001C())then
return false
endif
return true
endfunction
function Trig_portal_dies_Copy_Copy_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cff00ffffGnoll Portal Has been destroyed. Units for that team will stop spawning.|r")
endfunction
function InitTrig_portal_dies_Copy_Copy takes nothing returns nothing
set udg_trg_portal_dies_Copy_Copy=CreateTrigger()
call TriggerRegisterDeathEvent(udg_trg_portal_dies_Copy_Copy,gg_dest_OTsp_0914)
call TriggerAddCondition(udg_trg_portal_dies_Copy_Copy,Condition(function Trig_portal_dies_Copy_Copy_Conditions))
call TriggerAddAction(udg_trg_portal_dies_Copy_Copy,function Trig_portal_dies_Copy_Copy_Actions)
endfunction
function Trig_Fountain_Dies_Func001C takes nothing returns boolean
if((udg_Neutral_Alliance_Chance==1))then
return true
endif
if((udg_Neutral_Alliance_Chance==2))then
return true
endif
return false
endfunction
function Trig_Fountain_Dies_Conditions takes nothing returns boolean
if(not Trig_Fountain_Dies_Func001C())then
return false
endif
return true
endfunction
function Trig_Fountain_Dies_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cff00ffffIce/Gnoll Fountain has been destroyed! Unit upgrades for that team will stop.|r")
endfunction
function InitTrig_Fountain_Dies takes nothing returns nothing
set udg_trg_Fountain_Dies=CreateTrigger()
call TriggerRegisterUnitEvent(udg_trg_Fountain_Dies,udg_unit_h01G_0215,EVENT_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Fountain_Dies,Condition(function Trig_Fountain_Dies_Conditions))
call TriggerAddAction(udg_trg_Fountain_Dies,function Trig_Fountain_Dies_Actions)
endfunction
function Trig_Fountain_Dies_Copy_Func001C takes nothing returns boolean
if((udg_Neutral_Alliance_Chance==1))then
return true
endif
if((udg_Neutral_Alliance_Chance==2))then
return true
endif
return false
endfunction
function Trig_Fountain_Dies_Copy_Conditions takes nothing returns boolean
if(not Trig_Fountain_Dies_Copy_Func001C())then
return false
endif
return true
endfunction
function Trig_Fountain_Dies_Copy_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cff00ffffNaga Fountain has been destroyed! Unit upgrades for that team will stop.|r")
endfunction
function InitTrig_Fountain_Dies_Copy takes nothing returns nothing
set udg_trg_Fountain_Dies_Copy=CreateTrigger()
call TriggerRegisterUnitEvent(udg_trg_Fountain_Dies_Copy,udg_unit_h01G_0084,EVENT_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Fountain_Dies_Copy,Condition(function Trig_Fountain_Dies_Copy_Conditions))
call TriggerAddAction(udg_trg_Fountain_Dies_Copy,function Trig_Fountain_Dies_Copy_Actions)
endfunction
function Trig_Fountain_Dies_Copy_Copy_Func001C takes nothing returns boolean
if((udg_Neutral_Alliance_Chance==1))then
return true
endif
if((udg_Neutral_Alliance_Chance==2))then
return true
endif
return false
endfunction
function Trig_Fountain_Dies_Copy_Copy_Conditions takes nothing returns boolean
if(not Trig_Fountain_Dies_Copy_Copy_Func001C())then
return false
endif
return true
endfunction
function Trig_Fountain_Dies_Copy_Copy_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cff00ffffPirate Fountain has been destroyed! Unit upgrades for that team will stop.|r")
endfunction
function InitTrig_Fountain_Dies_Copy_Copy takes nothing returns nothing
set udg_trg_Fountain_Dies_Copy_Copy=CreateTrigger()
call TriggerRegisterUnitEvent(udg_trg_Fountain_Dies_Copy_Copy,udg_unit_h01G_0328,EVENT_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Fountain_Dies_Copy_Copy,Condition(function Trig_Fountain_Dies_Copy_Copy_Conditions))
call TriggerAddAction(udg_trg_Fountain_Dies_Copy_Copy,function Trig_Fountain_Dies_Copy_Copy_Actions)
endfunction
function Trig_Pirate_Stash_Dies_Func001C takes nothing returns boolean
if((udg_Neutral_Alliance_Chance==1))then
return true
endif
if((udg_Neutral_Alliance_Chance==2))then
return true
endif
return false
endfunction
function Trig_Pirate_Stash_Dies_Conditions takes nothing returns boolean
if(not Trig_Pirate_Stash_Dies_Func001C())then
return false
endif
return true
endfunction
function Trig_Pirate_Stash_Dies_Func003C takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_unit_h07J_0134)==true))then
return false
endif
return true
endfunction
function Trig_Pirate_Stash_Dies_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cff00ffffThe Pirate Stash has been destroyed! The Pirate Ship has vanished and unit production has stopped.|r")
if(Trig_Pirate_Stash_Dies_Func003C())then
call KillUnit(udg_unit_h07J_0134)
else
endif
endfunction
function InitTrig_Pirate_Stash_Dies takes nothing returns nothing
set udg_trg_Pirate_Stash_Dies=CreateTrigger()
call TriggerRegisterUnitEvent(udg_trg_Pirate_Stash_Dies,udg_unit_h07N_0343,EVENT_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Pirate_Stash_Dies,Condition(function Trig_Pirate_Stash_Dies_Conditions))
call TriggerAddAction(udg_trg_Pirate_Stash_Dies,function Trig_Pirate_Stash_Dies_Actions)
endfunction
function Trig_Naga_Spawns_Func001C takes nothing returns boolean
if((udg_Neutral_Alliance_Chance==1))then
return true
endif
if((udg_Neutral_Alliance_Chance==2))then
return true
endif
return false
endfunction
function Trig_Naga_Spawns_Conditions takes nothing returns boolean
if(not Trig_Naga_Spawns_Func001C())then
return false
endif
if(not(IsDestructableAliveBJ(gg_dest_OTsp_1007)==true))then
return false
endif
if(not(IsDestructableAliveBJ(gg_dest_ATg1_0915)==false))then
return false
endif
return true
endfunction
function Trig_Naga_Spawns_Func008C takes nothing returns boolean
if(not(udg_Topleft_Integer_Chance==15))then
return false
endif
return true
endfunction
function Trig_Naga_Spawns_Actions takes nothing returns nothing
set udg_AAAA_GP=GetRectCenter(udg_rct_Naga_spawn_area)
call CreateNUnitsAtLocBonuses(1,'n07B',Neutral_Nagas,udg_AAAA_GP,bj_UNIT_FACING)
call RemoveLocation(udg_AAAA_GP)
set udg_Topleft_Integer_Chance=GetRandomInt(1,20)
if(Trig_Naga_Spawns_Func008C())then
call SetUnitCreepGuard(GetLastCreatedUnit(),false)
call RemoveGuardPosition(GetLastCreatedUnit())
call NeutralIssueOrderRandomLocInRect(GetLastCreatedUnit(),"patrol",udg_rct_Entire_map_excluding_outa_bounds_2)
else
call NeutralIssueOrderRandomLocInRect(GetLastCreatedUnit(),"patrol",udg_rct_Entire_map_excluding_out_of_bounds)
endif
endfunction
function InitTrig_Naga_Spawns takes nothing returns nothing
set udg_trg_Naga_Spawns=CreateTrigger()
call DisableTrigger(udg_trg_Naga_Spawns)
call TriggerRegisterTimerEventPeriodic(udg_trg_Naga_Spawns,15.00)
call TriggerAddCondition(udg_trg_Naga_Spawns,Condition(function Trig_Naga_Spawns_Conditions))
call TriggerAddAction(udg_trg_Naga_Spawns,function Trig_Naga_Spawns_Actions)
endfunction
function Trig_Gnoll_Spawn_Func001C takes nothing returns boolean
if((udg_Neutral_Alliance_Chance==1))then
return true
endif
if((udg_Neutral_Alliance_Chance==2))then
return true
endif
return false
endfunction
function Trig_Gnoll_Spawn_Conditions takes nothing returns boolean
if(not Trig_Gnoll_Spawn_Func001C())then
return false
endif
if(not(IsDestructableAliveBJ(gg_dest_OTsp_0914)==true))then
return false
endif
if(not(IsDestructableAliveBJ(gg_dest_LTg1_0913)==false))then
return false
endif
return true
endfunction
function Trig_Gnoll_Spawn_Func008C takes nothing returns boolean
if(not(udg_Topleft_Integer_Chance==15))then
return false
endif
return true
endfunction
function Trig_Gnoll_Spawn_Actions takes nothing returns nothing
set udg_AAAA_GP=GetRectCenter(udg_rct_Gnoll_spawn_area)
call CreateNUnitsAtLocBonuses(1,'ngno',Neutral_Bottom,udg_AAAA_GP,bj_UNIT_FACING)
call SetUnitCreepGuard(GetLastCreatedUnit(),false)
call RemoveGuardPosition(GetLastCreatedUnit())
call RemoveLocation(udg_AAAA_GP)
set udg_Topleft_Integer_Chance=GetRandomInt(1,20)
if(Trig_Gnoll_Spawn_Func008C())then
call NeutralIssueOrderRandomLocInRect(GetLastCreatedUnit(),"patrol",udg_rct_Entire_map_excluding_outa_bounds_2)
else
call NeutralIssueOrderRandomLocInRect(GetLastCreatedUnit(),"patrol",udg_rct_Entire_map_excluding_out_of_bounds)
endif
endfunction
function InitTrig_Gnoll_Spawn takes nothing returns nothing
set udg_trg_Gnoll_Spawn=CreateTrigger()
call DisableTrigger(udg_trg_Gnoll_Spawn)
call TriggerRegisterTimerEventPeriodic(udg_trg_Gnoll_Spawn,29.99)
call TriggerAddCondition(udg_trg_Gnoll_Spawn,Condition(function Trig_Gnoll_Spawn_Conditions))
call TriggerAddAction(udg_trg_Gnoll_Spawn,function Trig_Gnoll_Spawn_Actions)
endfunction
function Trig_Ice_Spawn_Func001C takes nothing returns boolean
if((udg_Neutral_Alliance_Chance==1))then
return true
endif
if((udg_Neutral_Alliance_Chance==2))then
return true
endif
return false
endfunction
function Trig_Ice_Spawn_Conditions takes nothing returns boolean
if(not Trig_Ice_Spawn_Func001C())then
return false
endif
if(not(IsDestructableAliveBJ(gg_dest_OTsp_0549)==true))then
return false
endif
if(not(IsDestructableAliveBJ(gg_dest_ATg1_0502)==false))then
return false
endif
return true
endfunction
function Trig_Ice_Spawn_Func008C takes nothing returns boolean
if(not(udg_Topleft_Integer_Chance==15))then
return false
endif
return true
endfunction
function Trig_Ice_Spawn_Actions takes nothing returns nothing
set udg_AAAA_GP=GetRectCenter(udg_rct_Ice_creep_camp_spawn)
call CreateNUnitsAtLocBonuses(1,'ntkf',Neutral_Bottom,udg_AAAA_GP,bj_UNIT_FACING)
call SetUnitCreepGuard(GetLastCreatedUnit(),false)
call RemoveGuardPosition(GetLastCreatedUnit())
call RemoveLocation(udg_AAAA_GP)
set udg_Topleft_Integer_Chance=GetRandomInt(1,20)
if(Trig_Ice_Spawn_Func008C())then
call NeutralIssueOrderRandomLocInRect(GetLastCreatedUnit(),"patrol",udg_rct_Entire_map_excluding_outa_bounds_2)
else
call NeutralIssueOrderRandomLocInRect(GetLastCreatedUnit(),"patrol",udg_rct_Entire_map_excluding_out_of_bounds)
endif
endfunction
function InitTrig_Ice_Spawn takes nothing returns nothing
set udg_trg_Ice_Spawn=CreateTrigger()
call DisableTrigger(udg_trg_Ice_Spawn)
call TriggerRegisterTimerEventPeriodic(udg_trg_Ice_Spawn,30.01)
call TriggerAddCondition(udg_trg_Ice_Spawn,Condition(function Trig_Ice_Spawn_Conditions))
call TriggerAddAction(udg_trg_Ice_Spawn,function Trig_Ice_Spawn_Actions)
endfunction
function Trig_Pirate_Spawn_Func001C takes nothing returns boolean
if((udg_Neutral_Alliance_Chance==1))then
return true
endif
if((udg_Neutral_Alliance_Chance==2))then
return true
endif
return false
endfunction
function Trig_Pirate_Spawn_Conditions takes nothing returns boolean
if(not Trig_Pirate_Spawn_Func001C())then
return false
endif
if(not(IsUnitAliveBJ(udg_unit_h07N_0343)==true))then
return false
endif
if(not(IsDestructableAliveBJ(gg_dest_ATg3_1010)==false))then
return false
endif
return true
endfunction
function Trig_Pirate_Spawn_Func008C takes nothing returns boolean
if(not(udg_Topleft_Integer_Chance==15))then
return false
endif
return true
endfunction
function Trig_Pirate_Spawn_Actions takes nothing returns nothing
set udg_AAAA_GP=GetRectCenter(udg_rct_Pirate_Spawn)
call CreateNUnitsAtLocBonuses(1,'h07O',Neutral_Satyrs,udg_AAAA_GP,bj_UNIT_FACING)
call SetUnitCreepGuard(GetLastCreatedUnit(),false)
call RemoveGuardPosition(GetLastCreatedUnit())
call RemoveLocation(udg_AAAA_GP)
set udg_Topleft_Integer_Chance=GetRandomInt(1,20)
if(Trig_Pirate_Spawn_Func008C())then
call NeutralIssueOrderRandomLocInRect(GetLastCreatedUnit(),"patrol",udg_rct_Entire_map_excluding_outa_bounds_2)
else
call NeutralIssueOrderRandomLocInRect(GetLastCreatedUnit(),"patrol",udg_rct_Entire_map_excluding_out_of_bounds)
endif
endfunction
function InitTrig_Pirate_Spawn takes nothing returns nothing
set udg_trg_Pirate_Spawn=CreateTrigger()
call DisableTrigger(udg_trg_Pirate_Spawn)
call TriggerRegisterTimerEventPeriodic(udg_trg_Pirate_Spawn,54.98)
call TriggerAddCondition(udg_trg_Pirate_Spawn,Condition(function Trig_Pirate_Spawn_Conditions))
call TriggerAddAction(udg_trg_Pirate_Spawn,function Trig_Pirate_Spawn_Actions)
endfunction
function Trig_Research_upgrades_Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_unit_h01G_0328)==true))then
return false
endif
return true
endfunction
function Trig_Research_upgrades_Func002C takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_unit_h01G_0215)==true))then
return false
endif
return true
endfunction
function Trig_Research_upgrades_Func003C takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_unit_h01G_0084)==true))then
return false
endif
return true
endfunction
function Trig_Research_upgrades_Actions takes nothing returns nothing
if(Trig_Research_upgrades_Func001C())then
call IssueUpgradeOrderByIdBJ(udg_unit_h01G_0328,'R001')
else
endif
if(Trig_Research_upgrades_Func002C())then
call IssueUpgradeOrderByIdBJ(udg_unit_h01G_0215,'R001')
else
endif
if(Trig_Research_upgrades_Func003C())then
call IssueUpgradeOrderByIdBJ(udg_unit_h01G_0084,'R001')
else
endif
endfunction
function InitTrig_Research_upgrades takes nothing returns nothing
set udg_trg_Research_upgrades=CreateTrigger()
call DisableTrigger(udg_trg_Research_upgrades)
call TriggerRegisterTimerEventPeriodic(udg_trg_Research_upgrades,30.00)
call TriggerAddAction(udg_trg_Research_upgrades,function Trig_Research_upgrades_Actions)
endfunction
function Trig_Pirate_Autoshoot_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0KS'))then
return false
endif
return true
endfunction
function Trig_Pirate_Autoshoot_Func004C takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='h07L'))then
return false
endif
return true
endfunction
function Trig_Pirate_Autoshoot_Actions takes nothing returns nothing
set udg_AAAA_GP=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocBonuses(1,'h075',GetOwningPlayer(GetTriggerUnit()),udg_AAAA_GP,bj_UNIT_FACING)
call UnitAddAbilityBJ('A0KT',GetLastCreatedUnit())
if(Trig_Pirate_Autoshoot_Func004C())then
call SetUnitAbilityLevelSwapped('A0KT',GetLastCreatedUnit(),2)
else
endif
call IssueTargetOrderBJ(GetLastCreatedUnit(),"firebolt",GetSpellTargetUnit())
call UnitApplyTimedLifeBJ(5.00,'BTLF',GetLastCreatedUnit())
call RemoveLocation(udg_AAAA_GP)
endfunction
function InitTrig_Pirate_Autoshoot takes nothing returns nothing
set udg_trg_Pirate_Autoshoot=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Pirate_Autoshoot,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Pirate_Autoshoot,Condition(function Trig_Pirate_Autoshoot_Conditions))
call TriggerAddAction(udg_trg_Pirate_Autoshoot,function Trig_Pirate_Autoshoot_Actions)
endfunction
function Trig_Pirate_Ship_Boundry_Conditions takes nothing returns boolean
if(not(GetTriggerUnit()==udg_unit_h07J_0134))then
return false
endif
return true
endfunction
function Trig_Pirate_Ship_Boundry_Actions takes nothing returns nothing
set udg_AAAA_GP=GetRectCenter(udg_rct_PirateShip_Boundry)
call SetUnitPositionLocFacingBJ(GetTriggerUnit(),udg_AAAA_GP,GetUnitFacing(GetTriggerUnit()))
call RemoveLocation(udg_AAAA_GP)
endfunction
function InitTrig_Pirate_Ship_Boundry takes nothing returns nothing
set udg_trg_Pirate_Ship_Boundry=CreateTrigger()
call TriggerRegisterLeaveRectSimple(udg_trg_Pirate_Ship_Boundry,udg_rct_PirateShip_Boundry)
call TriggerAddCondition(udg_trg_Pirate_Ship_Boundry,Condition(function Trig_Pirate_Ship_Boundry_Conditions))
call TriggerAddAction(udg_trg_Pirate_Ship_Boundry,function Trig_Pirate_Ship_Boundry_Actions)
endfunction
function Trig_Ship_Tele_Item_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0KM'))then
return false
endif
return true
endfunction
function Trig_Ship_Tele_Item_Func004001002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Ship_Tele_Item_Func004Func001Func002C takes nothing returns boolean
if((GetUnitTypeId(GetEnumUnit())=='hdes'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='hbsh'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='h07J'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='uubs'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='u01Q'))then
return true
endif
return false
endfunction
function Trig_Ship_Tele_Item_Func004Func001C takes nothing returns boolean
if(not(udg_MaxShipsInt<10))then
return false
endif
if(not Trig_Ship_Tele_Item_Func004Func001Func002C())then
return false
endif
return true
endfunction
function Trig_Ship_Tele_Item_Func004A takes nothing returns nothing
if(Trig_Ship_Tele_Item_Func004Func001C())then
call SetUnitPositionLoc(GetEnumUnit(),udg_AAAA_GP)
set udg_AAAA_GP2=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(udg_AAAA_GP2,"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_AAAA_GP2)
set udg_MaxShipsInt=(udg_MaxShipsInt+1)
else
endif
endfunction
function Trig_Ship_Tele_Item_Actions takes nothing returns nothing
set udg_MaxShipsInt=0
set udg_AAAA_GP=GetUnitLoc(GetTriggerUnit())
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsOfPlayerMatching(GetOwningPlayer(GetTriggerUnit()),Condition(function Trig_Ship_Tele_Item_Func004001002)),function Trig_Ship_Tele_Item_Func004A)
call RemoveLocation(udg_AAAA_GP)
endfunction
function InitTrig_Ship_Tele_Item takes nothing returns nothing
set udg_trg_Ship_Tele_Item=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Ship_Tele_Item,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(udg_trg_Ship_Tele_Item,Condition(function Trig_Ship_Tele_Item_Conditions))
call TriggerAddAction(udg_trg_Ship_Tele_Item,function Trig_Ship_Tele_Item_Actions)
endfunction
function Trig_Pirate_Tele_pt1_Conditions takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_unit_ncop_0348)==true))then
return false
endif
if(not(IsUnitAliveBJ(udg_unit_ncop_0349)==true))then
return false
endif
if(not(IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()),Neutral_Satyrs)==true))then
return false
endif
if(not(GetOwningPlayer(GetTriggerUnit())!=Neutral_Satyrs))then
return false
endif
if(not(GetOwningPlayer(GetTriggerUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(IsUnitAliveBJ(GetTriggerUnit())==true))then
return false
endif
if(not(udg_Bridge_Boolean[3]==false))then
return false
endif
return true
endfunction
function Trig_Pirate_Tele_pt1_Actions takes nothing returns nothing
set udg_Bridge_Boolean[3]=true
set udg_AAAA_GP=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(udg_AAAA_GP,"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_AAAA_GP)
set udg_AAAA_GP=GetRectCenter(udg_rct_PirateTele2)
call SetUnitPositionLocFacingBJ(GetTriggerUnit(),udg_AAAA_GP,GetUnitFacing(GetTriggerUnit()))
call AddSpecialEffectLocBJ(udg_AAAA_GP,"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_AAAA_GP)
call EnableTrigger(udg_trg_Pirate_Tele_Timer)
endfunction
function InitTrig_Pirate_Tele_pt1 takes nothing returns nothing
set udg_trg_Pirate_Tele_pt1=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_Pirate_Tele_pt1,udg_rct_PirateTele)
call TriggerAddCondition(udg_trg_Pirate_Tele_pt1,Condition(function Trig_Pirate_Tele_pt1_Conditions))
call TriggerAddAction(udg_trg_Pirate_Tele_pt1,function Trig_Pirate_Tele_pt1_Actions)
endfunction
function Trig_Pirate_Tele_Timer_Conditions takes nothing returns boolean
if(not(udg_Bridge_Boolean[3]==true))then
return false
endif
return true
endfunction
function Trig_Pirate_Tele_Timer_Actions takes nothing returns nothing
set udg_Bridge_Boolean[3]=false
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Pirate_Tele_Timer takes nothing returns nothing
set udg_trg_Pirate_Tele_Timer=CreateTrigger()
call DisableTrigger(udg_trg_Pirate_Tele_Timer)
call TriggerRegisterTimerEventPeriodic(udg_trg_Pirate_Tele_Timer,0.10)
call TriggerAddCondition(udg_trg_Pirate_Tele_Timer,Condition(function Trig_Pirate_Tele_Timer_Conditions))
call TriggerAddAction(udg_trg_Pirate_Tele_Timer,function Trig_Pirate_Tele_Timer_Actions)
endfunction
function Trig_Pirate_Tele_pt2_Conditions takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_unit_ncop_0348)==true))then
return false
endif
if(not(IsUnitAliveBJ(udg_unit_ncop_0349)==true))then
return false
endif
if(not(IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()),Neutral_Satyrs)==true))then
return false
endif
if(not(GetOwningPlayer(GetTriggerUnit())!=Neutral_Satyrs))then
return false
endif
if(not(GetOwningPlayer(GetTriggerUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(IsUnitAliveBJ(GetTriggerUnit())==true))then
return false
endif
if(not(udg_Bridge_Boolean[3]==false))then
return false
endif
return true
endfunction
function Trig_Pirate_Tele_pt2_Actions takes nothing returns nothing
set udg_Bridge_Boolean[3]=true
set udg_AAAA_GP=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(udg_AAAA_GP,"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_AAAA_GP)
set udg_AAAA_GP=GetRectCenter(udg_rct_PirateTele)
call SetUnitPositionLocFacingBJ(GetTriggerUnit(),udg_AAAA_GP,GetUnitFacing(GetTriggerUnit()))
call AddSpecialEffectLocBJ(udg_AAAA_GP,"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_AAAA_GP)
call EnableTrigger(udg_trg_Pirate_Tele_Timer)
endfunction
function InitTrig_Pirate_Tele_pt2 takes nothing returns nothing
set udg_trg_Pirate_Tele_pt2=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_Pirate_Tele_pt2,udg_rct_PirateTele2)
call TriggerAddCondition(udg_trg_Pirate_Tele_pt2,Condition(function Trig_Pirate_Tele_pt2_Conditions))
call TriggerAddAction(udg_trg_Pirate_Tele_pt2,function Trig_Pirate_Tele_pt2_Actions)
endfunction
function Trig_Pirate_Coin_Spell_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0HZ'))then
return false
endif
return true
endfunction
function Trig_Pirate_Coin_Spell_Actions takes nothing returns nothing
set udg_AAAA_GP=GetUnitLoc(GetTriggerUnit())
call UnitAddItem(GetTriggerUnit(),CreateItemLoc('gold',udg_AAAA_GP))
call RemoveLocation(udg_AAAA_GP)

endfunction
function InitTrig_Pirate_Coin_Spell takes nothing returns nothing
set udg_trg_Pirate_Coin_Spell=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Pirate_Coin_Spell,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Pirate_Coin_Spell,Condition(function Trig_Pirate_Coin_Spell_Conditions))
call TriggerAddAction(udg_trg_Pirate_Coin_Spell,function Trig_Pirate_Coin_Spell_Actions)
endfunction
function Trig_Create3rdTeam_Actions takes nothing returns nothing
set udg_PirateChance=6
if(udg_Extreme_Mode) then
    call CreateSatyrsXTreme()
elseif(udg_Hard_Mode) then
    call CreateSatyrsHard()
else
    call CreatePirates()
endif
endfunction
function InitTrig_Create3rdTeam takes nothing returns nothing
set udg_trg_Create3rdTeam=CreateTrigger()
call TriggerAddAction(udg_trg_Create3rdTeam,function Trig_Create3rdTeam_Actions)
endfunction
function Trig_Satyr_Research_upgrades_Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_Satyr_Barracks)==true))then
return false
endif
return true
endfunction
function Trig_Satyr_Research_upgrades_Actions takes nothing returns nothing
if(Trig_Satyr_Research_upgrades_Func001C())then
call IssueUpgradeOrderByIdBJ(udg_Satyr_Barracks,'R001')
else
endif
endfunction
function InitTrig_Satyr_Research_upgrades takes nothing returns nothing
set udg_trg_Satyr_Research_upgrades=CreateTrigger()
call DisableTrigger(udg_trg_Satyr_Research_upgrades)
call TriggerRegisterTimerEventPeriodic(udg_trg_Satyr_Research_upgrades,28.50)
call TriggerAddAction(udg_trg_Satyr_Research_upgrades,function Trig_Satyr_Research_upgrades_Actions)
endfunction
function Trig_Satyr_Spawn_Conditions takes nothing returns boolean
if(not(udg_FinalBattle_On==false))then
return false
endif
if(not(udg_Duel_On==false))then
return false
endif
return true
endfunction
function Trig_Satyr_Spawn_Func003C takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_Satyr_Barracks)==true))then
return false
endif
return true
endfunction
function Trig_Satyr_Spawn_Actions takes nothing returns nothing
if(Trig_Satyr_Spawn_Func003C())then
call CreateNUnitsAtLocBonuses(1,'n05X',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call SetUnitCreepGuard(GetLastCreatedUnit(),false)
call RemoveGuardPosition(GetLastCreatedUnit())
call NeutralIssueOrderRandomLocInRect(GetLastCreatedUnit(),"patrol",udg_rct_Entire_map_excluding_out_of_bounds)
else
endif
endfunction
function InitTrig_Satyr_Spawn takes nothing returns nothing
set udg_trg_Satyr_Spawn=CreateTrigger()
call DisableTrigger(udg_trg_Satyr_Spawn)
call TriggerRegisterTimerEventPeriodic(udg_trg_Satyr_Spawn,17.00)
call TriggerAddCondition(udg_trg_Satyr_Spawn,Condition(function Trig_Satyr_Spawn_Conditions))
call TriggerAddAction(udg_trg_Satyr_Spawn,function Trig_Satyr_Spawn_Actions)
endfunction
function Trig_Level_1_Conditions takes nothing returns boolean
return true
endfunction
function Trig_Level_1_Actions takes nothing returns nothing
call EnableTrigger(udg_trg_Pigs_lvl_1_spawn)
set udg_AAAA_GP=GetUnitLoc(udg_unit_h01G_0084)
call CreateNUnitsAtLocBonuses(1,'n05Y',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call NeutralIssuePointOrderSavedLoc(GetLastCreatedUnit(),"patrol",udg_AAAA_GP)
call CreateNUnitsAtLocBonuses(1,'n05Y',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call NeutralIssuePointOrderSavedLoc(GetLastCreatedUnit(),"patrol",udg_AAAA_GP)
call RemoveLocation(udg_AAAA_GP)
set udg_AAAA_GP2=GetUnitLoc(udg_unit_h01G_0215)
call CreateNUnitsAtLocBonuses(1,'n05Y',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call NeutralIssuePointOrderSavedLoc(GetLastCreatedUnit(),"patrol",udg_AAAA_GP2)
call CreateNUnitsAtLocBonuses(1,'n05Y',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call NeutralIssuePointOrderSavedLoc(GetLastCreatedUnit(),"patrol",udg_AAAA_GP2)
call RemoveLocation(udg_AAAA_GP2)
endfunction
function InitTrig_Level_1 takes nothing returns nothing
set udg_trg_Level_1=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Level_1,475.00)
call TriggerAddAction(udg_trg_Level_1,function Trig_Level_1_Actions)
endfunction
function Trig_Pigs_lvl_1_spawn_Conditions takes nothing returns boolean
if(not(udg_FinalBattle_On==false))then
return false
endif
if(not(udg_Duel_On==false))then
return false
endif
return true
endfunction
function Trig_Pigs_lvl_1_spawn_Func003C takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_Satyr_Barracks)==true))then
return false
endif
return true
endfunction
function Trig_Pigs_lvl_1_spawn_Actions takes nothing returns nothing
if(Trig_Pigs_lvl_1_spawn_Func003C())then
call CreateNUnitsAtLocBonuses(1,'n05Y',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call SetUnitCreepGuard(GetLastCreatedUnit(),false)
call RemoveGuardPosition(GetLastCreatedUnit())
call NeutralIssueOrderRandomLocInRect(GetLastCreatedUnit(),"patrol",udg_rct_Entire_map_excluding_out_of_bounds)
call CreateNUnitsAtLocBonuses(1,'n05Y',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call SetUnitCreepGuard(GetLastCreatedUnit(),false)
call RemoveGuardPosition(GetLastCreatedUnit())
call NeutralIssueOrderRandomLocInRect(GetLastCreatedUnit(),"patrol",udg_rct_Entire_map_excluding_out_of_bounds)
else
endif
endfunction
function InitTrig_Pigs_lvl_1_spawn takes nothing returns nothing
set udg_trg_Pigs_lvl_1_spawn=CreateTrigger()
call DisableTrigger(udg_trg_Pigs_lvl_1_spawn)
call TriggerRegisterTimerEventPeriodic(udg_trg_Pigs_lvl_1_spawn,71.00)
call TriggerAddCondition(udg_trg_Pigs_lvl_1_spawn,Condition(function Trig_Pigs_lvl_1_spawn_Conditions))
call TriggerAddAction(udg_trg_Pigs_lvl_1_spawn,function Trig_Pigs_lvl_1_spawn_Actions)
endfunction
function Trig_Level_2_Conditions takes nothing returns boolean
if(not(udg_Extreme_Mode==true))then
return false
endif
return true
endfunction
function Trig_Level_2_Actions takes nothing returns nothing
call DisableTrigger(udg_trg_Pigs_lvl_1_spawn)
call EnableTrigger(udg_trg_Pigs_lvl_2_spawn)
set udg_AAAA_GP=GetUnitLoc(udg_unit_h01G_0084)
call CreateNUnitsAtLocBonuses(1,'n05Y',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call NeutralIssuePointOrderSavedLoc(GetLastCreatedUnit(),"patrol",udg_AAAA_GP)
call CreateNUnitsAtLocBonuses(1,'n05Y',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call NeutralIssuePointOrderSavedLoc(GetLastCreatedUnit(),"patrol",udg_AAAA_GP)
call CreateNUnitsAtLocBonuses(1,'n05Z',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call NeutralIssuePointOrderSavedLoc(GetLastCreatedUnit(),"patrol",udg_AAAA_GP)
call RemoveLocation(udg_AAAA_GP)
set udg_AAAA_GP2=GetUnitLoc(udg_unit_h01G_0215)
call CreateNUnitsAtLocBonuses(1,'n05Y',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call NeutralIssuePointOrderSavedLoc(GetLastCreatedUnit(),"patrol",udg_AAAA_GP2)
call CreateNUnitsAtLocBonuses(1,'n05Y',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call NeutralIssuePointOrderSavedLoc(GetLastCreatedUnit(),"patrol",udg_AAAA_GP2)
call CreateNUnitsAtLocBonuses(1,'n05Z',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call NeutralIssuePointOrderSavedLoc(GetLastCreatedUnit(),"patrol",udg_AAAA_GP2)
call RemoveLocation(udg_AAAA_GP2)
endfunction
function InitTrig_Level_2 takes nothing returns nothing
set udg_trg_Level_2=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Level_2,750.00)
call TriggerAddAction(udg_trg_Level_2,function Trig_Level_2_Actions)
endfunction
function Trig_Pigs_lvl_2_spawn_Conditions takes nothing returns boolean
if(not(udg_FinalBattle_On==false))then
return false
endif
if(not(udg_Duel_On==false))then
return false
endif
return true
endfunction
function Trig_Pigs_lvl_2_spawn_Func003C takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_Satyr_Barracks)==true))then
return false
endif
return true
endfunction
function Trig_Pigs_lvl_2_spawn_Actions takes nothing returns nothing
if(Trig_Pigs_lvl_2_spawn_Func003C())then
call CreateNUnitsAtLocBonuses(1,'n05Y',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call SetUnitCreepGuard(GetLastCreatedUnit(),false)
call RemoveGuardPosition(GetLastCreatedUnit())
call NeutralIssueOrderRandomLocInRect(GetLastCreatedUnit(),"patrol",udg_rct_Entire_map_excluding_out_of_bounds)
call CreateNUnitsAtLocBonuses(1,'n05Y',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call SetUnitCreepGuard(GetLastCreatedUnit(),false)
call RemoveGuardPosition(GetLastCreatedUnit())
call NeutralIssueOrderRandomLocInRect(GetLastCreatedUnit(),"patrol",udg_rct_Entire_map_excluding_out_of_bounds)
call CreateNUnitsAtLocBonuses(1,'n05Z',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call SetUnitCreepGuard(GetLastCreatedUnit(),false)
call RemoveGuardPosition(GetLastCreatedUnit())
call NeutralIssueOrderRandomLocInRect(GetLastCreatedUnit(),"patrol",udg_rct_Entire_map_excluding_out_of_bounds)
else
endif
endfunction
function InitTrig_Pigs_lvl_2_spawn takes nothing returns nothing
set udg_trg_Pigs_lvl_2_spawn=CreateTrigger()
call DisableTrigger(udg_trg_Pigs_lvl_2_spawn)
call TriggerRegisterTimerEventPeriodic(udg_trg_Pigs_lvl_2_spawn,71.00)
call TriggerAddCondition(udg_trg_Pigs_lvl_2_spawn,Condition(function Trig_Pigs_lvl_2_spawn_Conditions))
call TriggerAddAction(udg_trg_Pigs_lvl_2_spawn,function Trig_Pigs_lvl_2_spawn_Actions)
endfunction
function Trig_Level_3_Conditions takes nothing returns boolean
if(not(udg_Extreme_Mode==true))then
return false
endif
return true
endfunction
function Trig_Level_3_Actions takes nothing returns nothing
//call PrintHidden("Trig_Level_3_Actions")
call EnableTrigger(udg_trg_Pigs_lvl_3_spawn)
set udg_AAAA_GP=GetUnitLoc(udg_unit_h01G_0084)
call CreateNUnitsAtLocBonuses(1,'n05Y',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call NeutralIssuePointOrderSavedLoc(GetLastCreatedUnit(),"patrol",udg_AAAA_GP)
call CreateNUnitsAtLocBonuses(1,'n05Y',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call NeutralIssuePointOrderSavedLoc(GetLastCreatedUnit(),"patrol",udg_AAAA_GP)
call CreateNUnitsAtLocBonuses(1,'n05Z',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call NeutralIssuePointOrderSavedLoc(GetLastCreatedUnit(),"patrol",udg_AAAA_GP)
call RemoveLocation(udg_AAAA_GP)
set udg_AAAA_GP2=GetUnitLoc(udg_unit_h01G_0215)
call CreateNUnitsAtLocBonuses(1,'n05Y',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call NeutralIssuePointOrderSavedLoc(GetLastCreatedUnit(),"patrol",udg_AAAA_GP2)
call CreateNUnitsAtLocBonuses(1,'n05Y',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call NeutralIssuePointOrderSavedLoc(GetLastCreatedUnit(),"patrol",udg_AAAA_GP2)
call CreateNUnitsAtLocBonuses(1,'n05Z',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call NeutralIssuePointOrderSavedLoc(GetLastCreatedUnit(),"patrol",udg_AAAA_GP2)
call RemoveLocation(udg_AAAA_GP2)
endfunction
function InitTrig_Level_3 takes nothing returns nothing
set udg_trg_Level_3=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Level_3,1300.00)
call TriggerAddAction(udg_trg_Level_3,function Trig_Level_3_Actions)
endfunction
function Trig_Level_3_Part_2_Conditions takes nothing returns boolean
if(not(udg_Extreme_Mode==true))then
return false
endif
return true
endfunction
function Trig_Level_3_Part_2_Actions takes nothing returns nothing
//call PrintHidden("Trig_Level_3_Part_2_Actions")
set udg_AAAA_GP=GetUnitLoc(udg_unit_h01G_0084)
call CreateNUnitsAtLocBonuses(1,'n060',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call NeutralIssuePointOrderSavedLoc(GetLastCreatedUnit(),"patrol",udg_AAAA_GP)
call RemoveLocation(udg_AAAA_GP)
set udg_AAAA_GP2=GetUnitLoc(udg_unit_h01G_0215)
call CreateNUnitsAtLocBonuses(1,'n060',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call NeutralIssuePointOrderSavedLoc(GetLastCreatedUnit(),"patrol",udg_AAAA_GP2)
call RemoveLocation(udg_AAAA_GP2)
endfunction
function InitTrig_Level_3_Part_2 takes nothing returns nothing
set udg_trg_Level_3_Part_2=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Level_3_Part_2,1310.00)
call TriggerAddAction(udg_trg_Level_3_Part_2,function Trig_Level_3_Part_2_Actions)
endfunction
function Trig_Pigs_lvl_3_spawn_Conditions takes nothing returns boolean
if(not(udg_FinalBattle_On==false))then
return false
endif
if(not(udg_Duel_On==false))then
return false
endif
return true
endfunction
function Trig_Pigs_lvl_3_spawn_Func003C takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_Satyr_Barracks)==true))then
return false
endif
return true
endfunction
function Trig_Pigs_lvl_3_spawn_Actions takes nothing returns nothing
if(Trig_Pigs_lvl_3_spawn_Func003C())then
call CreateNUnitsAtLocBonuses(1,'n060',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
call SetUnitCreepGuard(GetLastCreatedUnit(),false)
call RemoveGuardPosition(GetLastCreatedUnit())
call NeutralIssueOrderRandomLocInRect(GetLastCreatedUnit(),"patrol",udg_rct_Entire_map_excluding_out_of_bounds)
else
endif
endfunction
function InitTrig_Pigs_lvl_3_spawn takes nothing returns nothing
set udg_trg_Pigs_lvl_3_spawn=CreateTrigger()
call DisableTrigger(udg_trg_Pigs_lvl_3_spawn)
call TriggerRegisterTimerEventPeriodic(udg_trg_Pigs_lvl_3_spawn,198.00)
call TriggerAddCondition(udg_trg_Pigs_lvl_3_spawn,Condition(function Trig_Pigs_lvl_3_spawn_Conditions))
call TriggerAddAction(udg_trg_Pigs_lvl_3_spawn,function Trig_Pigs_lvl_3_spawn_Actions)
endfunction
function Trig_Set_chances_Actions takes nothing returns nothing
set udg_ABC_UpgradeChance[1]=GetRandomInt(1,2)
set udg_ABC_UpgradeChance[2]=GetRandomInt(1,2)
set udg_ABC_kiljaedenChance=GetRandomInt(1,4)
set udg_ABC_FireRainChance=GetRandomInt(1,4)
set udg_ABC_ChaosChance=GetRandomInt(1,3)
set udg_ABC_Creature_Chance=GetRandomInt(1,11)
endfunction
function InitTrig_Set_chances takes nothing returns nothing
set udg_trg_Set_chances=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Set_chances,4.69)
call TriggerAddAction(udg_trg_Set_chances,function Trig_Set_chances_Actions)
endfunction
function Trig_Chaos_Event_Func001C takes nothing returns boolean
if(not(udg_ABC_ChaosChance==2))then
return false
endif
return true
endfunction
function Trig_Chaos_Event_Actions takes nothing returns nothing
if(Trig_Chaos_Event_Func001C())then
call PlaySoundBJ(udg_snd_BristlebackWhat1)
call DisplayTimedTextToForce(GetPlayersAll(),7.50,"|cffffff00Raining Pigs!|r")
call EnableTrigger(udg_trg_Raining_Pigs)
else
endif
endfunction
function InitTrig_Chaos_Event takes nothing returns nothing
set udg_trg_Chaos_Event=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Chaos_Event,27.20)
call TriggerAddAction(udg_trg_Chaos_Event,function Trig_Chaos_Event_Actions)
endfunction
function Trig_Raining_Pigs_Func001C takes nothing returns boolean
if(not(udg_ABC_ChaosCounter<=25))then
return false
endif
return true
endfunction
function Trig_Raining_Pigs_Actions takes nothing returns nothing
if(Trig_Raining_Pigs_Func001C())then
set udg_General_Point=GetRandomLocInRect(udg_rct_Region_251)
call CreateNUnitsAtLocBonuses(1,'n06A',Player(PLAYER_NEUTRAL_PASSIVE),udg_General_Point,bj_UNIT_FACING)
call IssueImmediateOrderBJ(GetLastCreatedUnit(),"unravenform")
call UnitApplyTimedLifeBJ(60.00,'BTLF',GetLastCreatedUnit())
call RemoveLocation(udg_General_Point)
else
call DisableTrigger(GetTriggeringTrigger())
endif
set udg_ABC_ChaosCounter=(udg_ABC_ChaosCounter+1)
endfunction
function InitTrig_Raining_Pigs takes nothing returns nothing
set udg_trg_Raining_Pigs=CreateTrigger()
call DisableTrigger(udg_trg_Raining_Pigs)
call TriggerRegisterTimerEventPeriodic(udg_trg_Raining_Pigs,0.40)
call TriggerAddAction(udg_trg_Raining_Pigs,function Trig_Raining_Pigs_Actions)
endfunction
function Trig_Rain_of_Fire_Event_Func001C takes nothing returns boolean
if(not(udg_ABC_FireRainChance==2))then
return false
endif
return true
endfunction
function Trig_Rain_of_Fire_Event_Actions takes nothing returns nothing
if(Trig_Rain_of_Fire_Event_Func001C())then
call PlaySoundBJ(udg_snd_Hint)
call DisplayTimedTextToForce(GetPlayersAll(),7.50,"|cffffff00Rain of Fire!|r")
set udg_General_Point=GetRandomLocInRect(udg_rct_Region_251)
call CreateNUnitsAtLocBonuses(1,'h075',Player(PLAYER_NEUTRAL_PASSIVE),udg_General_Point,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(30.00,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"rainoffire",udg_General_Point)
call RemoveLocation(udg_General_Point)
set udg_General_Point=GetRandomLocInRect(udg_rct_Region_251)
call CreateNUnitsAtLocBonuses(1,'h075',Player(PLAYER_NEUTRAL_PASSIVE),udg_General_Point,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(30.00,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"rainoffire",udg_General_Point)
call RemoveLocation(udg_General_Point)
set udg_General_Point=GetRandomLocInRect(udg_rct_Region_251)
call CreateNUnitsAtLocBonuses(1,'h075',Player(PLAYER_NEUTRAL_PASSIVE),udg_General_Point,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(30.00,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"rainoffire",udg_General_Point)
call RemoveLocation(udg_General_Point)
else
endif
endfunction
function InitTrig_Rain_of_Fire_Event takes nothing returns nothing
set udg_trg_Rain_of_Fire_Event=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Rain_of_Fire_Event,50.00)
call TriggerAddAction(udg_trg_Rain_of_Fire_Event,function Trig_Rain_of_Fire_Event_Actions)
endfunction
function Trig_Creature_Event_Func001Func002A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Creature_Event_Func001C takes nothing returns boolean
if(not(udg_ABC_Creature_Chance==1))then
return false
endif
return true
endfunction
function Trig_Creature_Event_Func002Func002A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Creature_Event_Func002C takes nothing returns boolean
if(not(udg_ABC_Creature_Chance==2))then
return false
endif
return true
endfunction
function Trig_Creature_Event_Func003Func002A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Creature_Event_Func003C takes nothing returns boolean
if(not(udg_ABC_Creature_Chance==3))then
return false
endif
return true
endfunction
function Trig_Creature_Event_Func004C takes nothing returns boolean
if(not(udg_ABC_Creature_Chance==4 or udg_ABC_Creature_Chance==3))then
return false
endif
return true
endfunction
function Trig_Creature_Event_Func005Func002A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Creature_Event_Func005C takes nothing returns boolean
if(not(udg_ABC_Creature_Chance==5))then
return false
endif
return true
endfunction
function Trig_Creature_Event_Actions takes nothing returns nothing
if(Trig_Creature_Event_Func001C())then
call DisplayTimedTextToForce(GetPlayersAll(),7.50,"|cffffff00A creature approaches!|r")
call EnumDestructablesInRectAll(udg_rct_Region_248,function Trig_Creature_Event_Func001Func002A)
call CreateNUnitsAtLocBonuses(1,'n04I',Neutral_Satyrs,GetRectCenter(udg_rct_ABC_loc_4),bj_UNIT_FACING)
call NeutralIssueOrderRandomLocInRect(GetLastCreatedUnit(),"patrol",udg_rct_Entire_map_excluding_out_of_bounds)
set udg_ABC_Creature=GetLastCreatedUnit()
call CreateNUnitsAtLocBonuses(1,'h05O',Neutral_Satyrs,GetUnitLoc(GetLastCreatedUnit()),bj_UNIT_FACING)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"bloodlust",udg_ABC_Creature)
else
endif
if(Trig_Creature_Event_Func002C())then
call DisplayTimedTextToForce(GetPlayersAll(),7.50,"|cffffff00A creature approaches!|r")
call EnumDestructablesInRectAll(udg_rct_Region_249,function Trig_Creature_Event_Func002Func002A)
call CreateNUnitsAtLocBonuses(1,'n04I',Neutral_Satyrs,GetRectCenter(udg_rct_ABC_loc_5),bj_UNIT_FACING)
call NeutralIssueOrderRandomLocInRect(GetLastCreatedUnit(),"patrol",udg_rct_Entire_map_excluding_out_of_bounds)
set udg_ABC_Creature=GetLastCreatedUnit()
call CreateNUnitsAtLocBonuses(1,'h05O',Neutral_Satyrs,GetUnitLoc(GetLastCreatedUnit()),bj_UNIT_FACING)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"bloodlust",udg_ABC_Creature)
else
endif
if(Trig_Creature_Event_Func004C())then
call DisplayTimedTextToForce(GetPlayersAll(),7.50,"|cffffff00A creature approaches!|r")
call CreateNUnitsAtLocBonuses(1,'nhar',Neutral_Satyrs,GetRectCenter(udg_rct_ABC_loc_1),bj_UNIT_FACING)
call NeutralIssueOrderRandomLocInRect(GetLastCreatedUnit(),"patrol",udg_rct_Entire_map_excluding_out_of_bounds)
else
endif
if(Trig_Creature_Event_Func005C())then
call DisplayTimedTextToForce(GetPlayersAll(),7.50,"|cffffff00A creature approaches!|r")
call EnumDestructablesInRectAll(udg_rct_Region_252,function Trig_Creature_Event_Func005Func002A)
call CreateNUnitsAtLocBonuses(1,'n04K',Neutral_Satyrs,GetRectCenter(udg_rct_ABC_loc_3),bj_UNIT_FACING)
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"selfdestruct",GetRandomLocInRect(udg_rct_Region_253))
else
endif
endfunction
function InitTrig_Creature_Event takes nothing returns nothing
set udg_trg_Creature_Event=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Creature_Event,54.00)
call TriggerAddAction(udg_trg_Creature_Event,function Trig_Creature_Event_Actions)
endfunction
function Trig_reset_trees_Conditions takes nothing returns boolean
if(not(GetTriggerUnit()==udg_ABC_Creature))then
return false
endif
return true
endfunction
function Trig_reset_trees_Func001A takes nothing returns nothing
call DestructableRestoreLife(GetEnumDestructable(),GetDestructableMaxLife(GetEnumDestructable()),true)
endfunction
function Trig_reset_trees_Actions takes nothing returns nothing
call EnumDestructablesInRectAll(udg_rct_Region_248,function Trig_reset_trees_Func001A)
endfunction
function InitTrig_reset_trees takes nothing returns nothing
set udg_trg_reset_trees=CreateTrigger()
call TriggerRegisterLeaveRectSimple(udg_trg_reset_trees,udg_rct_Region_248)
call TriggerAddCondition(udg_trg_reset_trees,Condition(function Trig_reset_trees_Conditions))
call TriggerAddAction(udg_trg_reset_trees,function Trig_reset_trees_Actions)
endfunction
function Trig_reset_trees_Copy_Conditions takes nothing returns boolean
if(not(GetTriggerUnit()==udg_ABC_Creature))then
return false
endif
return true
endfunction
function Trig_reset_trees_Copy_Func001A takes nothing returns nothing
call DestructableRestoreLife(GetEnumDestructable(),GetDestructableMaxLife(GetEnumDestructable()),true)
endfunction
function GeneralTargetFilter takes unit u returns boolean
if(GetUnitAbilityLevel(u,'ACC7')>0) then
return false
endif
if(GetUnitAbilityLevel(u,'Aloc')>0) then 
return false
endif
return true
endfunction
function GeneralTargetFilterEnum takes nothing returns boolean
return GeneralTargetFilter(GetEnumUnit())
endfunction
function GeneralTargetFilterFilter takes nothing returns boolean
return GeneralTargetFilter(GetFilterUnit())
endfunction
function GeneralTargetFilterObs takes unit u returns boolean
    if(not GeneralTargetFilter(u)) then
        return false
    endif
    if(GetUnitTypeId(u)=='n020') then
        return false
    endif
    return true
endfunction
function GeneralTargetFilterExcludeObs takes nothing returns boolean
    return GeneralTargetFilterObs(GetFilterUnit())
endfunction
function GetUnitsInRectMatchingFiltered takes rect r returns group
    return GetUnitsInRectMatching(r,Condition(function GeneralTargetFilterFilter))
endfunction
function GetUnitsInRectMatchingFilteredExcludeObservers takes rect r returns group
    return GetUnitsInRectMatching(r,Condition(function GeneralTargetFilterExcludeObs))
endfunction
function Trig_reset_trees_Copy_Actions takes nothing returns nothing
call EnumDestructablesInRectAll(udg_rct_Region_249,function Trig_reset_trees_Copy_Func001A)
endfunction
function InitTrig_reset_trees_Copy takes nothing returns nothing
set udg_trg_reset_trees_Copy=CreateTrigger()
call TriggerRegisterLeaveRectSimple(udg_trg_reset_trees_Copy,udg_rct_Region_249)
call TriggerAddCondition(udg_trg_reset_trees_Copy,Condition(function Trig_reset_trees_Copy_Conditions))
call TriggerAddAction(udg_trg_reset_trees_Copy,function Trig_reset_trees_Copy_Actions)
endfunction
function Trig_reset_trees_Copy_Copy_Conditions takes nothing returns boolean
if(not(GetTriggerUnit()==udg_ABC_Creature))then
return false
endif
return true
endfunction
function Trig_reset_trees_Copy_Copy_Func001A takes nothing returns nothing
call DestructableRestoreLife(GetEnumDestructable(),GetDestructableMaxLife(GetEnumDestructable()),true)
endfunction
function Trig_reset_trees_Copy_Copy_Actions takes nothing returns nothing
call EnumDestructablesInRectAll(udg_rct_Region_250,function Trig_reset_trees_Copy_Copy_Func001A)
endfunction
function InitTrig_reset_trees_Copy_Copy takes nothing returns nothing
set udg_trg_reset_trees_Copy_Copy=CreateTrigger()
call TriggerRegisterLeaveRectSimple(udg_trg_reset_trees_Copy_Copy,udg_rct_Region_250)
call TriggerAddCondition(udg_trg_reset_trees_Copy_Copy,Condition(function Trig_reset_trees_Copy_Copy_Conditions))
call TriggerAddAction(udg_trg_reset_trees_Copy_Copy,function Trig_reset_trees_Copy_Copy_Actions)
endfunction
function Trig_reset_trees_Copy_Copy_Copy_Conditions takes nothing returns boolean
if(not(GetTriggerUnit()==udg_ABC_Creature))then
return false
endif
return true
endfunction
function Trig_reset_trees_Copy_Copy_Copy_Func001A takes nothing returns nothing
call DestructableRestoreLife(GetEnumDestructable(),GetDestructableMaxLife(GetEnumDestructable()),true)
endfunction
function Trig_reset_trees_Copy_Copy_Copy_Actions takes nothing returns nothing
call EnumDestructablesInRectAll(udg_rct_Region_252,function Trig_reset_trees_Copy_Copy_Copy_Func001A)
endfunction
function InitTrig_reset_trees_Copy_Copy_Copy takes nothing returns nothing
set udg_trg_reset_trees_Copy_Copy_Copy=CreateTrigger()
call TriggerRegisterLeaveRectSimple(udg_trg_reset_trees_Copy_Copy_Copy,udg_rct_Region_252)
call TriggerAddCondition(udg_trg_reset_trees_Copy_Copy_Copy,Condition(function Trig_reset_trees_Copy_Copy_Copy_Conditions))
call TriggerAddAction(udg_trg_reset_trees_Copy_Copy_Copy,function Trig_reset_trees_Copy_Copy_Copy_Actions)
endfunction
function Trig_kiljaeden_event_Conditions takes nothing returns boolean
if(not(udg_ABC_kiljaedenChance==3))then
return false
endif
return true
endfunction
function Trig_kiljaeden_event_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),7.50,"|cffffff00kil'jaeden has appeared!|r")
call CreateNUnitsAtLocBonuses(1,'Nkjx',Neutral_Satyrs,GetRectCenter(udg_rct_Zombie_Spawn),bj_UNIT_FACING)
set udg_AAA_FireGuy=GetLastCreatedUnit()
call UnitAddItemByIdSwapped('pman',udg_AAA_FireGuy)
call EnableTrigger(udg_trg_AAA_Fire_Guy_FireBolt_Copy)
call EnableTrigger(udg_trg_AAA_Fire_Guy_Teleport_Copy)
call EnableTrigger(udg_trg_AAA_Fire_Guy_Bloodlust_Copy)
call EnableTrigger(udg_trg_AAA_Timer_FireGuy_Dies_Copy)
call StartTimerBJ(udg_AAA_Timer[3],false,85.00)
set udg_AAA_Timer[3]=GetLastCreatedTimerBJ()
endfunction
function InitTrig_kiljaeden_event takes nothing returns nothing
set udg_trg_kiljaeden_event=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_kiljaeden_event,43.33)
call TriggerAddCondition(udg_trg_kiljaeden_event,Condition(function Trig_kiljaeden_event_Conditions))
call TriggerAddAction(udg_trg_kiljaeden_event,function Trig_kiljaeden_event_Actions)
endfunction
function Trig_kiljaeden_event_ends_Actions takes nothing returns nothing
call DisableTrigger(udg_trg_AAA_Fire_Guy_Bloodlust_Copy)
call DisableTrigger(udg_trg_AAA_Fire_Guy_FireBolt_Copy)
call DisableTrigger(udg_trg_AAA_Fire_Guy_Teleport_Copy)
call PauseTimerBJ(true,udg_AAA_Timer[3])
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(udg_trg_AAA_Timer_FireGuy_Dies_Copy)
endfunction
function InitTrig_kiljaeden_event_ends takes nothing returns nothing
set udg_trg_kiljaeden_event_ends=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(udg_trg_kiljaeden_event_ends,udg_AAA_Timer[3])
call TriggerAddAction(udg_trg_kiljaeden_event_ends,function Trig_kiljaeden_event_ends_Actions)
endfunction
function Trig_AAA_Timer_FireGuy_Dies_Copy_Conditions takes nothing returns boolean
if(not(GetTriggerUnit()==udg_AAA_FireGuy))then
return false
endif
return true
endfunction
function Trig_AAA_Timer_FireGuy_Dies_Copy_Actions takes nothing returns nothing
call PlaySoundBJ(udg_snd_GoodJob)
call KillSoundWhenDoneBJ(GetLastPlayedSound())
call DisplayTimedTextToForce(GetPlayersAll(),6.66,(udg_AAA_Player_Colors[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]+" has killed Kil'jaeden"))
call UnitAddItemByIdSwapped('I027',GetKillingUnitBJ())
call DisableTrigger(udg_trg_AAA_Fire_Guy_Bloodlust_Copy)
call DisableTrigger(udg_trg_AAA_Fire_Guy_FireBolt_Copy)
call DisableTrigger(udg_trg_AAA_Fire_Guy_Teleport_Copy)
call PauseTimerBJ(true,udg_AAA_Timer[3])
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_AAA_Timer_FireGuy_Dies_Copy takes nothing returns nothing
set udg_trg_AAA_Timer_FireGuy_Dies_Copy=CreateTrigger()
call DisableTrigger(udg_trg_AAA_Timer_FireGuy_Dies_Copy)
call TriggerRegisterAnyUnitEventBJ(udg_trg_AAA_Timer_FireGuy_Dies_Copy,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_AAA_Timer_FireGuy_Dies_Copy,Condition(function Trig_AAA_Timer_FireGuy_Dies_Copy_Conditions))
call TriggerAddAction(udg_trg_AAA_Timer_FireGuy_Dies_Copy,function Trig_AAA_Timer_FireGuy_Dies_Copy_Actions)
endfunction
function Trig_AAA_Fire_Guy_Teleport_Copy_Conditions takes nothing returns boolean
if(not(GetUnitStateSwap(UNIT_STATE_MANA,udg_AAA_FireGuy)>5.00))then
return false
endif
return true
endfunction
function Trig_AAA_Fire_Guy_Teleport_Copy_Func003Func001C takes nothing returns boolean
if(not(udg_AAA_TeleportInteger==1))then
return false
endif
return true
endfunction
function Trig_AAA_Fire_Guy_Teleport_Copy_Func003Func002C takes nothing returns boolean
if(not(udg_AAA_TeleportInteger==2))then
return false
endif
return true
endfunction
function Trig_AAA_Fire_Guy_Teleport_Copy_Func003Func003C takes nothing returns boolean
if(not(udg_AAA_TeleportInteger==3))then
return false
endif
return true
endfunction
function Trig_AAA_Fire_Guy_Teleport_Copy_Func003Func004C takes nothing returns boolean
if(not(udg_AAA_TeleportInteger==4))then
return false
endif
return true
endfunction
function Trig_AAA_Fire_Guy_Teleport_Copy_Func003C takes nothing returns boolean
if(not(udg_AAA_FireGuyCastInterval==1))then
return false
endif
return true
endfunction
function Trig_AAA_Fire_Guy_Teleport_Copy_Actions takes nothing returns nothing
set udg_AAA_TeleportInteger=GetRandomInt(1,4)
if(Trig_AAA_Fire_Guy_Teleport_Copy_Func003C())then
if(Trig_AAA_Fire_Guy_Teleport_Copy_Func003Func001C())then
call SetUnitPositionLocFacingLocBJ(udg_AAA_FireGuy,GetRectCenter(udg_rct_Region_101),GetRectCenter(udg_rct_Zombie_Spawn))
call IssueImmediateOrderBJ(udg_AAA_FireGuy,"stomp")
call KillDestructable(gg_dest_LTlt_0002)
call KillDestructable(gg_dest_LTlt_0001)
else
endif
if(Trig_AAA_Fire_Guy_Teleport_Copy_Func003Func002C())then
call SetUnitPositionLocFacingLocBJ(udg_AAA_FireGuy,GetRectCenter(udg_rct_Final_Battle_undead_spawn),GetRectCenter(udg_rct_Zombie_Spawn))
call IssueImmediateOrderBJ(udg_AAA_FireGuy,"stomp")
call KillDestructable(gg_dest_LTlt_0085)
call KillDestructable(gg_dest_LTlt_0086)
else
endif
if(Trig_AAA_Fire_Guy_Teleport_Copy_Func003Func003C())then
call SetUnitPositionLocFacingLocBJ(udg_AAA_FireGuy,GetRectCenter(udg_rct_Region_100),GetRectCenter(udg_rct_Zombie_Spawn))
call IssueImmediateOrderBJ(udg_AAA_FireGuy,"stomp")
call KillDestructable(gg_dest_LTlt_0017)
else
endif
if(Trig_AAA_Fire_Guy_Teleport_Copy_Func003Func004C())then
call SetUnitPositionLocFacingLocBJ(udg_AAA_FireGuy,GetRectCenter(udg_rct_Final_Battle_human_spawn),GetRectCenter(udg_rct_Zombie_Spawn))
call IssueImmediateOrderBJ(udg_AAA_FireGuy,"stomp")
call KillDestructable(gg_dest_LTlt_0009)
call KillDestructable(gg_dest_LTlt_0008)
else
endif
else
endif
endfunction
function InitTrig_AAA_Fire_Guy_Teleport_Copy takes nothing returns nothing
set udg_trg_AAA_Fire_Guy_Teleport_Copy=CreateTrigger()
call DisableTrigger(udg_trg_AAA_Fire_Guy_Teleport_Copy)
call TriggerRegisterTimerEventPeriodic(udg_trg_AAA_Fire_Guy_Teleport_Copy,2.25)
call TriggerAddCondition(udg_trg_AAA_Fire_Guy_Teleport_Copy,Condition(function Trig_AAA_Fire_Guy_Teleport_Copy_Conditions))
call TriggerAddAction(udg_trg_AAA_Fire_Guy_Teleport_Copy,function Trig_AAA_Fire_Guy_Teleport_Copy_Actions)
endfunction
function Trig_AAA_Fire_Guy_Bloodlust_Copy_Conditions takes nothing returns boolean
if(not(GetUnitStateSwap(UNIT_STATE_MANA,udg_AAA_FireGuy)<5.00))then
return false
endif
return true
endfunction
function Trig_AAA_Fire_Guy_Bloodlust_Copy_Func001C takes nothing returns boolean
return true
endfunction
function Trig_AAA_Fire_Guy_Bloodlust_Copy_Func006C takes nothing returns boolean
if(not(udg_AAA_FireGuy_ManaPotChance==1))then
return false
endif
if(not(udg_AAA_ManaPotBoolean==true))then
return false
endif
return true
endfunction
function Trig_AAA_Fire_Guy_Bloodlust_Copy_Actions takes nothing returns nothing
if((true))then
call IssueImmediateOrderBJ(udg_AAA_FireGuy,"stomp")
else
endif
call CreateNUnitsAtLocBonuses(1,'h00Z',GetOwningPlayer(udg_AAA_FireGuy),GetUnitLoc(udg_AAA_FireGuy),bj_UNIT_FACING)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"bloodlust",udg_AAA_FireGuy)
call RemoveUnit(GetLastCreatedUnit())
set udg_AAA_FireGuy_ManaPotChance=GetRandomInt(1,2)
if(Trig_AAA_Fire_Guy_Bloodlust_Copy_Func006C())then
call UnitUseItem(udg_AAA_FireGuy,GetItemOfTypeFromUnitBJ(udg_AAA_FireGuy,'pman'))
else
endif
set udg_AAA_ManaPotBoolean=true
endfunction
function InitTrig_AAA_Fire_Guy_Bloodlust_Copy takes nothing returns nothing
set udg_trg_AAA_Fire_Guy_Bloodlust_Copy=CreateTrigger()
call DisableTrigger(udg_trg_AAA_Fire_Guy_Bloodlust_Copy)
call TriggerRegisterTimerEventPeriodic(udg_trg_AAA_Fire_Guy_Bloodlust_Copy,8.00)
call TriggerAddCondition(udg_trg_AAA_Fire_Guy_Bloodlust_Copy,Condition(function Trig_AAA_Fire_Guy_Bloodlust_Copy_Conditions))
call TriggerAddAction(udg_trg_AAA_Fire_Guy_Bloodlust_Copy,function Trig_AAA_Fire_Guy_Bloodlust_Copy_Actions)
endfunction
function Trig_AAA_Fire_Guy_FireBolt_Copy_Conditions takes nothing returns boolean
if(not(GetUnitStateSwap(UNIT_STATE_MANA,udg_AAA_FireGuy)>5.00))then
return false
endif
return true
endfunction
function Trig_AAA_Fire_Guy_FireBolt_Copy_Func003C takes nothing returns boolean
if(not(udg_AAA_FireGuyCastInterval==1))then
return false
endif
return true
endfunction
function Trig_AAA_Fire_Guy_FireBolt_Copy_Actions takes nothing returns nothing
set udg_AAA_FireGuyCastInterval=GetRandomInt(1,5)
if(Trig_AAA_Fire_Guy_FireBolt_Copy_Func003C())then
set udg_AAA_FireGuyCastPoint=GetRandomLocInRect(udg_rct_The_ring_of_trees)
call IssuePointOrderLocBJ(udg_AAA_FireGuy,"blink",udg_AAA_FireGuyCastPoint)
call RemoveLocation(udg_AAA_FireGuyCastPoint)
else
endif
endfunction
function InitTrig_AAA_Fire_Guy_FireBolt_Copy takes nothing returns nothing
set udg_trg_AAA_Fire_Guy_FireBolt_Copy=CreateTrigger()
call DisableTrigger(udg_trg_AAA_Fire_Guy_FireBolt_Copy)
call TriggerRegisterTimerEventPeriodic(udg_trg_AAA_Fire_Guy_FireBolt_Copy,0.50)
call TriggerAddCondition(udg_trg_AAA_Fire_Guy_FireBolt_Copy,Condition(function Trig_AAA_Fire_Guy_FireBolt_Copy_Conditions))
call TriggerAddAction(udg_trg_AAA_Fire_Guy_FireBolt_Copy,function Trig_AAA_Fire_Guy_FireBolt_Copy_Actions)
endfunction
function Trig_Give_upgrade_to_player_Func002Func001002001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)
endfunction
function Trig_Give_upgrade_to_player_Func002Func001002001002002 takes nothing returns boolean
return(GetUnitUserData(GetFilterUnit())==666)
endfunction
function Trig_Give_upgrade_to_player_Func002Func001002001002 takes nothing returns boolean
return GetBooleanOr((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true),(GetUnitUserData(GetFilterUnit())==666))
endfunction
function Trig_Give_upgrade_to_player_Func002C takes nothing returns boolean
if(not(udg_ABC_UpgradeChance[1]==1))then
return false
endif
if(not(udg_Neutral_Alliance_Chance==1))then
return false
endif
return true
endfunction
function Trig_Give_upgrade_to_player_Func003Func001002001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)
endfunction
function Trig_Give_upgrade_to_player_Func003Func001002001002002 takes nothing returns boolean
return(GetUnitUserData(GetFilterUnit())==666)
endfunction
function Trig_Give_upgrade_to_player_Func003Func001002001002 takes nothing returns boolean
return GetBooleanOr((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true),(GetUnitUserData(GetFilterUnit())==666))
endfunction
function Trig_Give_upgrade_to_player_Func003C takes nothing returns boolean
if(not(udg_ABC_UpgradeChance[2]==1))then
return false
endif
if(not(udg_Neutral_Alliance_Chance==2))then
return false
endif
return true
endfunction
function Trig_Give_upgrade_to_player_Actions takes nothing returns nothing
set udg_ABC_Receivingupgradeplayer=ForcePickRandomPlayer(udg_Humans)
if(Trig_Give_upgrade_to_player_Func002C())then
call UnitAddItemByIdSwapped('I036',GroupPickRandomUnit(GetUnitsOfPlayerMatching(udg_ABC_Receivingupgradeplayer,Condition(function Trig_Give_upgrade_to_player_Func002Func001002001002))))
call DisplayTimedTextToForce(GetPlayersAll(),6.00,(udg_AAA_Player_Colors[GetConvertedPlayerId(udg_ABC_Receivingupgradeplayer)]+" has received an Ice Claw upgrade!"))
else
endif
if(Trig_Give_upgrade_to_player_Func003C())then
call UnitAddItemByIdSwapped('I035',GroupPickRandomUnit(GetUnitsOfPlayerMatching(udg_ABC_Receivingupgradeplayer,Condition(function Trig_Give_upgrade_to_player_Func003Func001002001002))))
call DisplayTimedTextToForce(GetPlayersAll(),6.00,(udg_AAA_Player_Colors[GetConvertedPlayerId(udg_ABC_Receivingupgradeplayer)]+" has received a Seaweed upgrade!"))
else
endif
endfunction
function InitTrig_Give_upgrade_to_player takes nothing returns nothing
set udg_trg_Give_upgrade_to_player=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Give_upgrade_to_player,765.00)
call TriggerAddAction(udg_trg_Give_upgrade_to_player,function Trig_Give_upgrade_to_player_Actions)
endfunction
function Trig_seaweed_upgrade_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I035'))then
return false
endif
return true
endfunction
function Trig_seaweed_upgrade_Func007Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetEnumUnit())!='h00X'))then
return false
endif
if(GetTriggerUnit()==GetEnumUnit())then
return false
endif
return true
endfunction
function Trig_seaweed_upgrade_Func007A takes nothing returns nothing
if(Trig_seaweed_upgrade_Func007Func001C())then
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function Trig_seaweed_upgrade_Actions takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I035'))
call ChangeUnit2(GetTriggerUnit(),'N04G')
endfunction
function InitTrig_seaweed_upgrade takes nothing returns nothing
set udg_trg_seaweed_upgrade=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_seaweed_upgrade,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(udg_trg_seaweed_upgrade,Condition(function Trig_seaweed_upgrade_Conditions))
call TriggerAddAction(udg_trg_seaweed_upgrade,function Trig_seaweed_upgrade_Actions)
endfunction
function Trig_iceclaw_upgrade_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I036'))then
return false
endif
return true
endfunction
function Trig_iceclaw_upgrade_Func007Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetEnumUnit())!='h00X'))then
return false
endif
if(GetEnumUnit()==GetTriggerUnit())then
return false
endif
return true
endfunction
function Trig_iceclaw_upgrade_Func007A takes nothing returns nothing
if(Trig_iceclaw_upgrade_Func007Func001C())then
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function Trig_iceclaw_upgrade_Actions takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I036'))
call ChangeUnit2(GetTriggerUnit(),'N04D')
endfunction
function InitTrig_iceclaw_upgrade takes nothing returns nothing
set udg_trg_iceclaw_upgrade=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_iceclaw_upgrade,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(udg_trg_iceclaw_upgrade,Condition(function Trig_iceclaw_upgrade_Conditions))
call TriggerAddAction(udg_trg_iceclaw_upgrade,function Trig_iceclaw_upgrade_Actions)
endfunction
function Trig_Evil_Spawn_Timer_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
return true
endfunction
function Trig_Evil_Spawn_Timer_Actions takes nothing returns nothing
call StartTimerBJ(udg_CountdownTimer,false,9.00)
set udg_CountdownTimer=GetLastCreatedTimerBJ()
call CreateTimerDialogBJ(udg_CountdownTimer,"|cff995500Evil Spawns:|r")
set udg_CountdownTimerWindow=GetLastCreatedTimerDialogBJ()
endfunction
function InitTrig_Evil_Spawn_Timer takes nothing returns nothing
set udg_trg_Evil_Spawn_Timer=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Evil_Spawn_Timer,1.00)
call TriggerAddCondition(udg_trg_Evil_Spawn_Timer,Condition(function Trig_Evil_Spawn_Timer_Conditions))
call TriggerAddAction(udg_trg_Evil_Spawn_Timer,function Trig_Evil_Spawn_Timer_Actions)
endfunction
function Trig_Removing_Evil_Spawn_Timer_Actions takes nothing returns nothing
call PauseTimerBJ(true,udg_CountdownTimer)
call DestroyTimerDialogBJ(udg_CountdownTimerWindow)
endfunction
function InitTrig_Removing_Evil_Spawn_Timer takes nothing returns nothing
set udg_trg_Removing_Evil_Spawn_Timer=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Removing_Evil_Spawn_Timer,10.00)
call TriggerAddAction(udg_trg_Removing_Evil_Spawn_Timer,function Trig_Removing_Evil_Spawn_Timer_Actions)
endfunction
function Trig_Spawn_Zombies_Gray_Conditions takes nothing returns boolean
if(not(GetPlayerSlotState(Player(8))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_Spawn_Zombies_Gray_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'nzom',Player(8),GetRectCenter(udg_rct_Zombie_Spawn),bj_UNIT_FACING)
endfunction
function InitTrig_Spawn_Zombies_Gray takes nothing returns nothing
set udg_trg_Spawn_Zombies_Gray=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Spawn_Zombies_Gray,10.00)
call TriggerAddCondition(udg_trg_Spawn_Zombies_Gray,Condition(function Trig_Spawn_Zombies_Gray_Conditions))
call TriggerAddAction(udg_trg_Spawn_Zombies_Gray,function Trig_Spawn_Zombies_Gray_Actions)
endfunction
function Trig_Spawn_Zombies_Light_Blue_Conditions takes nothing returns boolean
if(not(GetPlayerSlotState(Player(9))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_Spawn_Zombies_Light_Blue_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'nzom',Player(9),GetRectCenter(udg_rct_Zombie_Spawn),bj_UNIT_FACING)
endfunction
function InitTrig_Spawn_Zombies_Light_Blue takes nothing returns nothing
set udg_trg_Spawn_Zombies_Light_Blue=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Spawn_Zombies_Light_Blue,10.00)
call TriggerAddCondition(udg_trg_Spawn_Zombies_Light_Blue,Condition(function Trig_Spawn_Zombies_Light_Blue_Conditions))
call TriggerAddAction(udg_trg_Spawn_Zombies_Light_Blue,function Trig_Spawn_Zombies_Light_Blue_Actions)
endfunction
function Trig_Spawn_Zombies_Dark_Green_Conditions takes nothing returns boolean
if(not(GetPlayerSlotState(Player(10))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_Spawn_Zombies_Dark_Green_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'nzom',Player(10),GetRectCenter(udg_rct_Zombie_Spawn),bj_UNIT_FACING)
endfunction
function InitTrig_Spawn_Zombies_Dark_Green takes nothing returns nothing
set udg_trg_Spawn_Zombies_Dark_Green=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Spawn_Zombies_Dark_Green,10.00)
call TriggerAddCondition(udg_trg_Spawn_Zombies_Dark_Green,Condition(function Trig_Spawn_Zombies_Dark_Green_Conditions))
call TriggerAddAction(udg_trg_Spawn_Zombies_Dark_Green,function Trig_Spawn_Zombies_Dark_Green_Actions)
endfunction
function Trig_Spawn_Zombies_Brown_Conditions takes nothing returns boolean
if(not(GetPlayerSlotState(Player(11))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_Spawn_Zombies_Brown_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'nzom',Player(11),GetRectCenter(udg_rct_Zombie_Spawn),bj_UNIT_FACING)
endfunction
function InitTrig_Spawn_Zombies_Brown takes nothing returns nothing
set udg_trg_Spawn_Zombies_Brown=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Spawn_Zombies_Brown,10.00)
call TriggerAddCondition(udg_trg_Spawn_Zombies_Brown,Condition(function Trig_Spawn_Zombies_Brown_Conditions))
call TriggerAddAction(udg_trg_Spawn_Zombies_Brown,function Trig_Spawn_Zombies_Brown_Actions)
endfunction
function Trig_unbug_Func002C takes nothing returns boolean
if((CountPlayersInForceBJ(udg_Evil)==0))then
return true
endif
return false
endfunction
function Trig_unbug_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not Trig_unbug_Func002C())then
return false
endif
return true
endfunction
function Trig_unbug_Func003Func001Func001C takes nothing returns boolean
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)==false))then
return false
endif
return true
endfunction
function Trig_unbug_Func003Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetEnumUnit())=='nzom'))then
return false
endif
return true
endfunction
function Trig_unbug_Func003A takes nothing returns nothing
if(Trig_unbug_Func003Func001C())then
if(Trig_unbug_Func003Func001Func001C())then
call ForceAddPlayerSimple(GetOwningPlayer(GetEnumUnit()),udg_Evil)
else
call DoNothing()
endif
else
call DoNothing()
endif
endfunction
function Trig_unbug_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRectAll(udg_rct_Zombie_Spawn),function Trig_unbug_Func003A)
endfunction
function InitTrig_unbug takes nothing returns nothing
set udg_trg_unbug=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_unbug,10.05)
call TriggerAddCondition(udg_trg_unbug,Condition(function Trig_unbug_Conditions))
call TriggerAddAction(udg_trg_unbug,function Trig_unbug_Actions)
endfunction
function Trig_players_5_gold_Func001A takes nothing returns nothing
call AdjustPlayerStateBJ(5,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endfunction
function Trig_players_5_gold_Func002A takes nothing returns nothing
call AdjustPlayerStateBJ(5,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endfunction
function Trig_players_5_gold_Actions takes nothing returns nothing
call ForForce(udg_Humans,function Trig_players_5_gold_Func001A)
call ForForce(udg_Evil,function Trig_players_5_gold_Func002A)
endfunction
function InitTrig_players_5_gold takes nothing returns nothing
set udg_trg_players_5_gold=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_players_5_gold,10.11)
call TriggerAddAction(udg_trg_players_5_gold,function Trig_players_5_gold_Actions)
endfunction
function Trig_Secret_Hero_2_Actions takes nothing returns nothing
call EnableTrigger(udg_trg_Secret_Hero_3)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Secret_Hero_2 takes nothing returns nothing
set udg_trg_Secret_Hero_2=CreateTrigger()
call DisableTrigger(udg_trg_Secret_Hero_2)
call TriggerRegisterPlayerKeyEventBJ(udg_trg_Secret_Hero_2,Player(6),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_RIGHT)
call TriggerAddAction(udg_trg_Secret_Hero_2,function Trig_Secret_Hero_2_Actions)
endfunction
function Trig_Rocks_Remove_Timer_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
return true
endfunction
function Trig_Rocks_Remove_Timer_Actions takes nothing returns nothing
call PlaySoundBJ(udg_snd_Hint)
call StartTimerBJ(udg_CountdownTimer_Copy_2,false,35.00)
set udg_CountdownTimer_Copy_2=GetLastCreatedTimerBJ()
call CreateTimerDialogBJ(udg_CountdownTimer_Copy_2,"Rocks Removed:")
set udg_CountdownTimerWindow_Copy_2=GetLastCreatedTimerDialogBJ()
endfunction
function InitTrig_Rocks_Remove_Timer takes nothing returns nothing
set udg_trg_Rocks_Remove_Timer=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Rocks_Remove_Timer,10.00)
call TriggerAddCondition(udg_trg_Rocks_Remove_Timer,Condition(function Trig_Rocks_Remove_Timer_Conditions))
call TriggerAddAction(udg_trg_Rocks_Remove_Timer,function Trig_Rocks_Remove_Timer_Actions)
endfunction
function Trig_Removing_Rocks_and_timer_Func003A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Removing_Rocks_and_timer_Func004A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Removing_Rocks_and_timer_Func005A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Removing_Rocks_and_timer_Func006A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Removing_Rocks_and_timer_Actions takes nothing returns nothing
call PauseTimerBJ(true,udg_CountdownTimer_Copy_2)
call DestroyTimerDialogBJ(udg_CountdownTimerWindow_Copy_2)
call EnumDestructablesInRectAll(udg_rct_Rocks_middle,function Trig_Removing_Rocks_and_timer_Func003A)
call EnumDestructablesInRectAll(udg_rct_Rocks_midtop,function Trig_Removing_Rocks_and_timer_Func004A)
call EnumDestructablesInRectAll(udg_rct_Rocks_Top,function Trig_Removing_Rocks_and_timer_Func005A)
call EnumDestructablesInRectAll(udg_rct_Rocks_bottom,function Trig_Removing_Rocks_and_timer_Func006A)
endfunction
function InitTrig_Removing_Rocks_and_timer takes nothing returns nothing
set udg_trg_Removing_Rocks_and_timer=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Removing_Rocks_and_timer,45.00)
call TriggerAddAction(udg_trg_Removing_Rocks_and_timer,function Trig_Removing_Rocks_and_timer_Actions)
endfunction
function Trig_Tree_Remove_Timer_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
return true
endfunction
function Trig_Tree_Remove_Timer_Actions takes nothing returns nothing
call PlaySoundBJ(udg_snd_Hint)
call StartTimerBJ(udg_CountdownTimer_Copy_3,false,60.00)
set udg_CountdownTimer_Copy_3=GetLastCreatedTimerBJ()
call CreateTimerDialogBJ(udg_CountdownTimer_Copy_3,"Trees destroyed")
set udg_CountdownTimerWindow_Copy_3=GetLastCreatedTimerDialogBJ()
endfunction
function InitTrig_Tree_Remove_Timer takes nothing returns nothing
set udg_trg_Tree_Remove_Timer=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Tree_Remove_Timer,60.00)
call TriggerAddCondition(udg_trg_Tree_Remove_Timer,Condition(function Trig_Tree_Remove_Timer_Conditions))
call TriggerAddAction(udg_trg_Tree_Remove_Timer,function Trig_Tree_Remove_Timer_Actions)
endfunction
function Trig_Removing_Trees_and_timer_Func003Func001C takes nothing returns boolean
if(not(GetDestructableTypeId(GetEnumDestructable())!='B008'))then
return false
endif
return true
endfunction
function Trig_Removing_Trees_and_timer_Func003A takes nothing returns nothing
if(Trig_Removing_Trees_and_timer_Func003Func001C())then
call KillDestructable(GetEnumDestructable())
else
endif
endfunction
function Trig_Removing_Trees_and_timer_Func004Func007C takes nothing returns boolean
if((udg_Neutral_Alliance_Chance==1))then
return true
endif
if((udg_Neutral_Alliance_Chance==2))then
return true
endif
return false
endfunction
function Trig_Removing_Trees_and_timer_Func004C takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not Trig_Removing_Trees_and_timer_Func004Func007C())then
return false
endif
return true
endfunction
function Trig_Removing_Trees_and_timer_Actions takes nothing returns nothing
call PauseTimerBJ(true,udg_CountdownTimer_Copy_3)
call DestroyTimerDialogBJ(udg_CountdownTimerWindow_Copy_3)
call EnumDestructablesInRectAll(udg_rct_The_ring_of_trees,function Trig_Removing_Trees_and_timer_Func003A)
call EnumDestructablesInRectAll(gg_rct_Rocks_Mid_Left,function Trig_Removing_Trees_and_timer_Func003A)
if(Trig_Removing_Trees_and_timer_Func004C())then
call EnableTrigger(udg_trg_Naga_Spawns)
call EnableTrigger(udg_trg_Gnoll_Spawn)
call EnableTrigger(udg_trg_Ice_Spawn)
call EnableTrigger(udg_trg_Pirate_Spawn)
call EnableTrigger(udg_trg_Research_upgrades)
else
endif
endfunction
function InitTrig_Removing_Trees_and_timer takes nothing returns nothing
set udg_trg_Removing_Trees_and_timer=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Removing_Trees_and_timer,120.00)
call TriggerAddAction(udg_trg_Removing_Trees_and_timer,function Trig_Removing_Trees_and_timer_Actions)
endfunction
function Trig_Crates_Timer_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(udg_nnMode==false))then
return false
endif
return true
endfunction
function Trig_Crates_Timer_Actions takes nothing returns nothing
call PlaySoundBJ(udg_snd_Hint)
call StartTimerBJ(udg_CountdownTimer_Copy_3,false,175.00)
set udg_CountdownTimer_Copy_3=GetLastCreatedTimerBJ()
call CreateTimerDialogBJ(udg_CountdownTimer_Copy_3,"Gates destroyed")
set udg_CountdownTimerWindow_Copy_3=GetLastCreatedTimerDialogBJ()
endfunction
function InitTrig_Crates_Timer takes nothing returns nothing
set udg_trg_Crates_Timer=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Crates_Timer,125.00)
call TriggerAddCondition(udg_trg_Crates_Timer,Condition(function Trig_Crates_Timer_Conditions))
call TriggerAddAction(udg_trg_Crates_Timer,function Trig_Crates_Timer_Actions)
endfunction
function Trig_Removing_Outer_Rocks_Conditions takes nothing returns boolean
if(not(udg_nnMode==false))then
return false
endif
return true
endfunction
function Trig_Removing_Outer_Rocks_Func002Func001C takes nothing returns boolean
if(not(GetDestructableTypeId(GetEnumDestructable())=='B008'))then
return false
endif
if(not(IsDestructableAliveBJ(GetEnumDestructable())==true))then
return false
endif
return true
endfunction
function Trig_Removing_Outer_Rocks_Func002A takes nothing returns nothing
if(Trig_Removing_Outer_Rocks_Func002Func001C())then
call KillDestructable(GetEnumDestructable())
else
endif
endfunction
function Trig_Removing_Outer_Rocks_Actions takes nothing returns nothing
call EnumDestructablesInRectAll(udg_rct_Rocks_Outer,function Trig_Removing_Outer_Rocks_Func002A)
endfunction
function InitTrig_Removing_Outer_Rocks takes nothing returns nothing
set udg_trg_Removing_Outer_Rocks=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Removing_Outer_Rocks,175.00)
call TriggerAddCondition(udg_trg_Removing_Outer_Rocks,Condition(function Trig_Removing_Outer_Rocks_Conditions))
call TriggerAddAction(udg_trg_Removing_Outer_Rocks,function Trig_Removing_Outer_Rocks_Actions)
endfunction
function Trig_Removing_Crates_Conditions takes nothing returns boolean
if(not(udg_nnMode==false))then
return false
endif
return true
endfunction
function Trig_Removing_Crates_Func001C takes nothing returns boolean
if(not(udg_nnMode==false))then
return false
endif
return true
endfunction
function Trig_Removing_Crates_Func003Func001C takes nothing returns boolean
if(not(GetDestructableTypeId(GetEnumDestructable())=='B007'))then
return false
endif
if(not(IsDestructableAliveBJ(GetEnumDestructable())==true))then
return false
endif
return true
endfunction
function Trig_Removing_Crates_Func003A takes nothing returns nothing
if(Trig_Removing_Crates_Func003Func001C())then
call KillDestructable(GetEnumDestructable())
else
endif
endfunction
function Trig_Removing_Crates_Func004Func001C takes nothing returns boolean
if(not(GetDestructableTypeId(GetEnumDestructable())=='B007'))then
return false
endif
if(not(IsDestructableAliveBJ(GetEnumDestructable())==true))then
return false
endif
return true
endfunction
function Trig_Removing_Crates_Func004A takes nothing returns nothing
if(Trig_Removing_Crates_Func004Func001C())then
call KillDestructable(GetEnumDestructable())
else
endif
endfunction
function Trig_Removing_Crates_Func005C takes nothing returns boolean
if(not(IsDestructableAliveBJ(gg_dest_ATg1_0915)==true))then
return false
endif
return true
endfunction
function Trig_Removing_Crates_Func006C takes nothing returns boolean
if(not(IsDestructableAliveBJ(gg_dest_ATg3_1010)==true))then
return false
endif
return true
endfunction
function Trig_Removing_Crates_Func007C takes nothing returns boolean
if(not(IsDestructableAliveBJ(gg_dest_LTg1_0913)==true))then
return false
endif
return true
endfunction
function Trig_Removing_Crates_Func008C takes nothing returns boolean
if(not(IsDestructableAliveBJ(gg_dest_ATg1_0502)==true))then
return false
endif
return true
endfunction
function Trig_Removing_Crates_Actions takes nothing returns nothing
if(Trig_Removing_Crates_Func001C())then
call PauseTimerBJ(true,udg_CountdownTimer_Copy_3)
call DestroyTimerDialogBJ(udg_CountdownTimerWindow_Copy_3)
else
endif
call EnumDestructablesInRectAll(udg_rct_crates1,function Trig_Removing_Crates_Func003A)
call EnumDestructablesInRectAll(udg_rct_crates2,function Trig_Removing_Crates_Func004A)
if(Trig_Removing_Crates_Func005C())then
call KillDestructable(gg_dest_ATg1_0915)
else
endif
if(Trig_Removing_Crates_Func006C())then
call KillDestructable(gg_dest_ATg3_1010)
else
endif
if(Trig_Removing_Crates_Func007C())then
call KillDestructable(gg_dest_LTg1_0913)
else
endif
if(Trig_Removing_Crates_Func008C())then
call KillDestructable(gg_dest_ATg1_0502)
else
endif
endfunction
function InitTrig_Removing_Crates takes nothing returns nothing
set udg_trg_Removing_Crates=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Removing_Crates,300.00)
call TriggerAddCondition(udg_trg_Removing_Crates,Condition(function Trig_Removing_Crates_Conditions))
call TriggerAddAction(udg_trg_Removing_Crates,function Trig_Removing_Crates_Actions)
endfunction
function Trig_jump_boundry_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())!='n042'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h00X'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h016'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h00J'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h00Z'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h01F'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='n01G'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='n03J'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='n00U'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='n00T'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h02Q'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h02R'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u005'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u002'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u003'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='e00C'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u00Z'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h04Q'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h04A'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h054'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h04P'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='e012'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h05H'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h05I'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h03E'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h05J'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h05K'))then
return false
endif
return true
endfunction
function Trig_jump_boundry_Actions takes nothing returns nothing
call RemoveUnit(GetTriggerUnit())
endfunction
function InitTrig_jump_boundry takes nothing returns nothing
set udg_trg_jump_boundry=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_jump_boundry,udg_rct_Region_155)
call TriggerRegisterEnterRectSimple(udg_trg_jump_boundry,udg_rct_Region_156)
call TriggerAddCondition(udg_trg_jump_boundry,Condition(function Trig_jump_boundry_Conditions))
call TriggerAddAction(udg_trg_jump_boundry,function Trig_jump_boundry_Actions)
endfunction
function Trig_Duel_Timer_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
return true
endfunction
function Trig_Duel_Timer_Actions takes nothing returns nothing
call StartTimerBJ(udg_duel_timer,false,599.00)
set udg_duel_timer=GetLastCreatedTimerBJ()
call CreateTimerDialogBJ(udg_duel_timer,"Team Battle In")
set udg_duel_timer_window=GetLastCreatedTimerDialogBJ()
call TimerDialogSetTitleColorBJ(udg_duel_timer_window,0.00,100.00,0.00,0)
call TimerDialogSetTimeColorBJ(udg_duel_timer_window,0.00,100.00,0.00,0)
endfunction
function InitTrig_Duel_Timer takes nothing returns nothing
set udg_trg_Duel_Timer=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Duel_Timer,301.00)
call TriggerAddCondition(udg_trg_Duel_Timer,Condition(function Trig_Duel_Timer_Conditions))
call TriggerAddAction(udg_trg_Duel_Timer,function Trig_Duel_Timer_Actions)
endfunction
function Trig_Duel_Timer_Copy_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
return true
endfunction
function Trig_Duel_Timer_Copy_Actions takes nothing returns nothing
call TimerDialogSetTitleColorBJ(udg_duel_timer_window,100,0.00,0.00,0)
call TimerDialogSetTimeColorBJ(udg_duel_timer_window,100,0.00,0.00,0)
endfunction
function InitTrig_Duel_Timer_Copy takes nothing returns nothing
set udg_trg_Duel_Timer_Copy=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Duel_Timer_Copy,771.00)
call TriggerAddCondition(udg_trg_Duel_Timer_Copy,Condition(function Trig_Duel_Timer_Copy_Conditions))
call TriggerAddAction(udg_trg_Duel_Timer_Copy,function Trig_Duel_Timer_Copy_Actions)
endfunction
function Trig_Duel_Timer_Copy_Copy_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
return true
endfunction
function Trig_Duel_Timer_Copy_Copy_Actions takes nothing returns nothing
call PauseTimerBJ(true,udg_duel_timer)
call DestroyTimerDialogBJ(udg_duel_timer_window)
endfunction
function InitTrig_Duel_Timer_Copy_Copy takes nothing returns nothing
set udg_trg_Duel_Timer_Copy_Copy=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Duel_Timer_Copy_Copy,911.00)
call TriggerAddCondition(udg_trg_Duel_Timer_Copy_Copy,Condition(function Trig_Duel_Timer_Copy_Copy_Conditions))
call TriggerAddAction(udg_trg_Duel_Timer_Copy_Copy,function Trig_Duel_Timer_Copy_Copy_Actions)
endfunction
function Trig_Set_which_duel_Actions takes nothing returns nothing
set udg_WHICH_DUEL=GetRandomInt(1,2)
endfunction
function InitTrig_Set_which_duel takes nothing returns nothing
set udg_trg_Set_which_duel=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Set_which_duel,899.00)
call TriggerAddAction(udg_trg_Set_which_duel,function Trig_Set_which_duel_Actions)
endfunction
function Trig_Main_Map_Out_Of_Bounds_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())!='n01G'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='n00U'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='n00T'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h02Q'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h02R'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u005'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='n03J'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u002'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h04Q'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h04A'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u003'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='e00C'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u00Z'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h054'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h04P'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='e012'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h05H'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h05I'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h03E'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h05J'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h05K'))then
return false
endif
return true
endfunction
function Trig_Main_Map_Out_Of_Bounds_Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnteringUnit()),"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
call SetUnitPositionLoc(GetEnteringUnit(),GetRectCenter(udg_rct_Duel_area))
call SmartCameraPanBJModified(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnteringUnit()),"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
endfunction
function InitTrig_Main_Map_Out_Of_Bounds takes nothing returns nothing
set udg_trg_Main_Map_Out_Of_Bounds=CreateTrigger()
call TriggerAddCondition(udg_trg_Main_Map_Out_Of_Bounds,Condition(function Trig_Main_Map_Out_Of_Bounds_Conditions))
call TriggerAddAction(udg_trg_Main_Map_Out_Of_Bounds,function Trig_Main_Map_Out_Of_Bounds_Actions)
endfunction
function Trig_Event_area_out_of_bounds_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())!='n01G'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='n00U'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='n00T'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h02Q'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h02R'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u005'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u002'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='n03J'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u003'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h04Q'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h04A'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='e00C'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u00Z'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h054'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h04P'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='e012'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h05H'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h05I'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h03E'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h05J'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h05K'))then
return false
endif
return true
endfunction
function Trig_Event_area_out_of_bounds_Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnteringUnit()),"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
call SetUnitPositionLoc(GetEnteringUnit(),GetRectCenter(udg_rct_Duel_area))
call SmartCameraPanBJModified(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnteringUnit()),"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
endfunction
function InitTrig_Event_area_out_of_bounds takes nothing returns nothing
set udg_trg_Event_area_out_of_bounds=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_Event_area_out_of_bounds,udg_rct_Jump_Barieer_3)
call TriggerAddCondition(udg_trg_Event_area_out_of_bounds,Condition(function Trig_Event_area_out_of_bounds_Conditions))
call TriggerAddAction(udg_trg_Event_area_out_of_bounds,function Trig_Event_area_out_of_bounds_Actions)
endfunction
function Trig_Duel_Warning_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
return true
endfunction
function Trig_Duel_Warning_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),20.00,"|cffff0000Team match!! Humans VS Undead in 20 seconds!|r")
endfunction
function InitTrig_Duel_Warning takes nothing returns nothing
set udg_trg_Duel_Warning=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Duel_Warning,880.00)
call TriggerAddCondition(udg_trg_Duel_Warning,Condition(function Trig_Duel_Warning_Conditions))
call TriggerAddAction(udg_trg_Duel_Warning,function Trig_Duel_Warning_Actions)
endfunction
function Trig_Duel_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(udg_WHICH_DUEL==1))then
return false
endif
return true
endfunction
function Trig_Duel_Func007Func001C takes nothing returns boolean
if(not(GetOwningPlayer(GetEnumUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
return true
endfunction
function Trig_Duel_Func007A takes nothing returns nothing
local location l
local integer tmp_int
if(Trig_Duel_Func007Func001C())then
call IssueTargetOrder(general_tp_dispatcher, "innerfire", GetEnumUnit())
set tmp_int=GetRandomInt(0,3)
if(tmp_int==0)then
set l=GetRectCenter(udg_rct_Top_Left)
elseif(tmp_int==1)then
set l=GetRectCenter(udg_rct_Top_Right)
elseif(tmp_int==2)then
set l=GetRectCenter(udg_rct_Bottom_Left)
else
set l=GetRectCenter(udg_rct_Bottom_Right)
endif
call SetUnitPositionLoc(GetEnumUnit(),l)
call RemoveLocation(l)
set l = null
else
endif
endfunction
function Trig_Duel_Func014A takes nothing returns nothing
if(IsUnitInvulnerable(GetEnumUnit()))then
call GroupAddUnit(InvulUnits,GetEnumUnit())
else
call SetUnitInvulnerable(GetEnumUnit(),true)
endif
endfunction
function Trig_Duel_Actions takes nothing returns nothing
call ExecuteFunc("All_Morphs_return")
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(udg_rct_Dead_teleport_area),function Trig_Duel_Func007A)
call CheckTriggers()
set udg_Duel_Boolean=true
call EnableTrigger(udg_trg_DARK_TEAM)
call EnableTrigger(udg_trg_LIGHT_TEAM)
call PauseUnitsAllEx(true)
//set bj_wantDestroyGroup=true
//call ForGroupBJ(GetUnitsInRectAll(udg_rct_WHOLE_MAP_NOT_DUEL),function Trig_Duel_Func014A)
call DisplayTimedTextToForce(GetPlayersAll(),15.00,"All humans VS all undead")
call EndThematicMusicBJ()
call PlayThematicMusicBJ("Sound\\Music\\mp3Music\\PursuitTheme.mp3")
endfunction
function InitTrig_Duel takes nothing returns nothing
set udg_trg_Duel=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Duel,900.00)
call TriggerAddCondition(udg_trg_Duel,Condition(function Trig_Duel_Conditions))
call TriggerAddAction(udg_trg_Duel,function Trig_Duel_Actions)
endfunction
function Trig_Duel_Copy_2_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(udg_WHICH_DUEL==1))then
return false
endif
return true
endfunction
function Trig_Duel_Copy_2_Func010A takes nothing returns nothing
call SmartCameraPanBJModified(GetEnumPlayer(),GetRectCenter(udg_Region1),0)
endfunction
function Trig_Duel_Copy_2_Func011A takes nothing returns nothing
call SmartCameraPanBJModified(GetEnumPlayer(),GetRectCenter(udg_Region2),0)
endfunction
function Trig_Duel_Copy_2_Func013Func001Func003001001 takes nothing returns boolean
return(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)==true)
endfunction
function Trig_Duel_Copy_2_Func013Func001Func003001002 takes nothing returns boolean
return(IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Duel_Copy_2_Func013Func001Func003001 takes nothing returns boolean
return GetBooleanAnd((IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)==true),(IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))
endfunction
function Trig_Duel_Copy_2_Func013Func001C takes nothing returns boolean
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false))then
return false
endif
if(not(IsUnitIllusionBJ(GetEnumUnit())==false))then
return false
endif
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
return true
endfunction
function Trig_Duel_Copy_2_Func013A takes nothing returns nothing
if(Trig_Duel_Copy_2_Func013Func001C())then
set udg_AAAA_GP=GetRandomLocInRect(udg_Region1)
if((GetBooleanAnd((IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)==true),(IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false)))and(IsUnitAliveBJ(GetEnumUnit())))then
call CreateNUnitsAtLocBonuses(1,GetUnitTypeId(GetEnumUnit()),GetOwningPlayer(GetEnumUnit()),udg_AAAA_GP,bj_UNIT_FACING)
call SetHeroXP(bj_lastCreatedUnit,GetHeroXP(GetEnumUnit()),true)
else
call DoNothing()
endif
call RemoveLocation(udg_AAAA_GP)
else
call DoNothing()
endif
endfunction
function Trig_Duel_Copy_2_Func015Func001C takes nothing returns boolean
if(not(IsUnitAlly(GetEnumUnit(),Neutral_Bottom)==true))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Humans)==false))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)==false))then
return false
endif
if(not(IsUnitIllusionBJ(GetEnumUnit())==false))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false))then
return false
endif
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
if(not(IsUnitIdType(GetUnitTypeId(GetEnumUnit()),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if(not(GetOwningPlayer(GetEnumUnit())!=Neutral_Bottom))then
return false
endif
if(not(GetOwningPlayer(GetEnumUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(GetOwningPlayer(GetEnumUnit())!=Neutral_Satyrs))then
return false
endif
if(not(GetOwningPlayer(GetEnumUnit())!=Neutral_Satyrs))then
return false
endif
return true
endfunction
function Trig_Duel_Copy_2_Func015A takes nothing returns nothing
if(Trig_Duel_Copy_2_Func015Func001C())then
call CreateNUnitsAtLocBonuses(1,GetUnitTypeId(GetEnumUnit()),GetOwningPlayer(GetEnumUnit()),GetRandomLocInRect(udg_rct_Creep_duel_spawn),bj_UNIT_FACING)
else
call DoNothing()
endif
endfunction
function Trig_Duel_Copy_2_Func016Func001C takes nothing returns boolean
if(not(IsPlayerInForce(GetEnumPlayer(),udg_Humans)==false))then
return false
endif
if(not(IsPlayerInForce(GetEnumPlayer(),udg_Evil)==false))then
return false
endif
return true
endfunction
function Trig_Duel_Copy_2_Func016A takes nothing returns nothing
if(Trig_Duel_Copy_2_Func016Func001C())then
call SmartCameraPanBJModified(GetEnumPlayer(),GetRectCenter(udg_rct_Creep_duel_spawn),0)
else
endif
endfunction
function Trig_Duel_Copy_2_Func018Func001C takes nothing returns boolean
if(not(IsUnitAlly(GetEnumUnit(),Neutral_Satyrs)==true))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Humans)==false))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)==false))then
return false
endif
if(not(IsUnitIllusionBJ(GetEnumUnit())==false))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false))then
return false
endif
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
if(not(IsUnitIdType(GetUnitTypeId(GetEnumUnit()),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if(not(GetOwningPlayer(GetEnumUnit())!=Neutral_Bottom))then
return false
endif
if(not(GetOwningPlayer(GetEnumUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(GetOwningPlayer(GetEnumUnit())!=Neutral_Nagas))then
return false
endif
if(not(GetOwningPlayer(GetEnumUnit())!=Neutral_Satyrs))then
return false
endif
return true
endfunction
function Trig_Duel_Copy_2_Func018A takes nothing returns nothing
if(Trig_Duel_Copy_2_Func018Func001C())then
call CreateNUnitsAtLocBonuses(1,GetUnitTypeId(GetEnumUnit()),GetOwningPlayer(GetEnumUnit()),GetRandomLocInRect(udg_rct_Naga_duel_spawn_area),bj_UNIT_FACING)
else
call DoNothing()
endif
endfunction
function Trig_Duel_Copy_2_Func019Func001C takes nothing returns boolean
if(not(IsPlayerInForce(GetEnumPlayer(),udg_Humans)==false))then
return false
endif
if(not(IsPlayerInForce(GetEnumPlayer(),udg_Evil)==false))then
return false
endif
return true
endfunction
function Trig_Duel_Copy_2_Func019A takes nothing returns nothing
if(Trig_Duel_Copy_2_Func019Func001C())then
call SmartCameraPanBJModified(GetEnumPlayer(),GetRectCenter(udg_rct_Naga_duel_spawn_area),0)
else
endif
endfunction
function Trig_Duel_Copy_2_Func021Func001Func002C takes nothing returns boolean
if((IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='etrp'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='etol'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='eaow'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00L'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00O'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00N'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00U'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00P'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00Q'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00R'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00S'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00M'))then
return true
endif
return false
endfunction
function Trig_Duel_Copy_2_Func021Func001Func004001001 takes nothing returns boolean
return(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Humans)==true)
endfunction
function Trig_Duel_Copy_2_Func021Func001Func004001002 takes nothing returns boolean
return(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false)
endfunction
function Trig_Duel_Copy_2_Func021Func001Func004001 takes nothing returns boolean
return GetBooleanAnd((IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Humans)==true),(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false))
endfunction
function Trig_Duel_Copy_2_Func021Func001Func005C takes nothing returns boolean
if(not(GetUnitTypeId(GetEnumUnit())=='H073'))then
return false
endif
return true
endfunction
function Trig_Duel_Copy_2_Func021Func001C takes nothing returns boolean
if(not Trig_Duel_Copy_2_Func021Func001Func002C())then
return false
endif
if(not(IsUnitIllusionBJ(GetEnumUnit())==false))then
return false
endif
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
return true
endfunction
function Trig_Duel_Copy_2_Func021A takes nothing returns nothing
if(Trig_Duel_Copy_2_Func021Func001C())then
set udg_AAAA_GP=GetRandomLocInRect(udg_Region2)
if((GetBooleanAnd((IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Humans)==true),(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false)))and(IsUnitAliveBJ(GetEnumUnit())))then
call CreateNUnitsAtLocBonuses(1,GetUnitTypeId(GetEnumUnit()),GetOwningPlayer(GetEnumUnit()),udg_AAAA_GP,bj_UNIT_FACING)
call SetHeroXP(bj_lastCreatedUnit,GetHeroXP(GetEnumUnit()),true)
if(Trig_Duel_Copy_2_Func021Func001Func005C())then
call UnitAddItemByIdSwapped('I03N',GetLastCreatedUnit())
else
endif
else
call DoNothing()
endif
call RemoveLocation(udg_AAAA_GP)
else
call DoNothing()
endif
endfunction
function Trig_Duel_Copy_2_Func023Func001001 takes nothing returns boolean
return(IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true)
endfunction
function Trig_Duel_Copy_2_Func023A takes nothing returns nothing
if((IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true))then
call AddHeroXPSwapped(12500,GetEnumUnit(),false)
else
call DoNothing()
endif
endfunction
function Trig_Duel_Copy_2_Func024C takes nothing returns boolean
return true
endfunction
function Trig_Duel_Copy_2_Actions takes nothing returns nothing
set udg_Region1=udg_rct_Undead_duel_spawn_area
set udg_Region2=udg_rct_Human_duel_spawn_area
set udg_Region5=udg_rct_Entire_map_excluding_out_of_bounds
set udg_PG1=udg_Evil
set udg_PG2=udg_Humans
set udg_Point1=GetRectCenter(udg_rct_Humans_lose_zone)
set udg_Point2=GetRectCenter(udg_rct_Undead_Lose_Zone)
call ForForce(udg_PG1,function Trig_Duel_Copy_2_Func010A)
call ForForce(udg_PG2,function Trig_Duel_Copy_2_Func011A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatchingFilteredExcludeObservers(GetEntireMapRect()),function Trig_Duel_Copy_2_Func013A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatchingFilteredExcludeObservers(GetEntireMapRect()),function Trig_Duel_Copy_2_Func015A)
call ForForce(GetPlayersAllies(Neutral_Bottom),function Trig_Duel_Copy_2_Func016A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatchingFilteredExcludeObservers(GetEntireMapRect()),function Trig_Duel_Copy_2_Func018A)
call ForForce(GetPlayersAllies(Neutral_Satyrs),function Trig_Duel_Copy_2_Func019A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatchingFilteredExcludeObservers(GetEntireMapRect()),function Trig_Duel_Copy_2_Func021A)

if((true))then
call MultiboardDisplayBJ(false,udg_LIVES_MULTIBOARD)
call CreateMultiboardBJ(2,2,"Team Battle")
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),1,1,true,true)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),1,2,true,true)
call MultiboardSetItemIconBJ(GetLastCreatedMultiboard(),1,1,"ReplaceableTextures\\CommandButtons\\BTNFootman.blp")
call MultiboardSetItemIconBJ(GetLastCreatedMultiboard(),1,2,"ReplaceableTextures\\CommandButtons\\BTNAbomination.blp")
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,1,"Humans")
call MultiboardSetItemWidthBJ(GetLastCreatedMultiboard(),1,1,8.00)
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,2,"Undead")
call MultiboardSetItemWidthBJ(GetLastCreatedMultiboard(),1,2,8.00)
call MultiboardSetItemColorBJ(GetLastCreatedMultiboard(),1,1,0.00,100.00,0.00,0)
call MultiboardSetItemColorBJ(GetLastCreatedMultiboard(),2,1,0.00,100.00,0.00,0)
call MultiboardSetItemColorBJ(GetLastCreatedMultiboard(),1,2,100.00,0.00,0.00,0)
call MultiboardSetItemColorBJ(GetLastCreatedMultiboard(),2,2,100.00,0.00,0.00,0)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),2,2,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),2,1,true,false)
call MultiboardMinimizeBJ(false,GetLastCreatedMultiboard())
call DisableTrigger(udg_trg_simple_bounds_system)
else
endif
call EnableTrigger(udg_trg_Duel_condition_v2)
endfunction
function InitTrig_Duel_Copy_2 takes nothing returns nothing
set udg_trg_Duel_Copy_2=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Duel_Copy_2,905.00)
call TriggerAddCondition(udg_trg_Duel_Copy_2,Condition(function Trig_Duel_Copy_2_Conditions))
call TriggerAddAction(udg_trg_Duel_Copy_2,function Trig_Duel_Copy_2_Actions)
endfunction
function Trig_Duel_Copy_3_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
return true
endfunction
function Trig_Duel_Copy_3_Actions takes nothing returns nothing
call DisableTrigger(udg_trg_LIGHT_TEAM)
call DisableTrigger(udg_trg_DARK_TEAM)
call DisableTrigger(udg_trg_Human_Dies)
call DisableTrigger(udg_trg_Skele_Spell)
call DisableTrigger(udg_trg_Skele_Spell_Wraith)
endfunction
function InitTrig_Duel_Copy_3 takes nothing returns nothing
set udg_trg_Duel_Copy_3=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Duel_Copy_3,906.00)
call TriggerAddCondition(udg_trg_Duel_Copy_3,Condition(function Trig_Duel_Copy_3_Conditions))
call TriggerAddAction(udg_trg_Duel_Copy_3,function Trig_Duel_Copy_3_Actions)
endfunction
function Trig_Duel_Copy_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
return true
endfunction
function Trig_Duel_Copy_Func003Func002A takes nothing returns nothing
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Satyrs,bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Neutral_Satyrs,GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
endfunction
function Trig_Duel_Copy_Func003C takes nothing returns boolean
if(not(udg_DUEL_NEUTRAL==false))then
return false
endif
if(not(udg_Neutral_Alliance_Chance==1))then
return false
endif
return true
endfunction
function Trig_Duel_Copy_Func004Func002A takes nothing returns nothing
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Satyrs,bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Neutral_Satyrs,GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
endfunction
function Trig_Duel_Copy_Func004C takes nothing returns boolean
if(not(udg_DUEL_NEUTRAL==false))then
return false
endif
if(not(udg_Neutral_Alliance_Chance==2))then
return false
endif
return true
endfunction
function Trig_Duel_Copy_Func005C takes nothing returns boolean
if(not(udg_DUEL_NEUTRAL==false))then
return false
endif
return true
endfunction
function Trig_Duel_Copy_Actions takes nothing returns nothing
    //call PrintHidden("Trig_Duel_Copy_Actions")
call EnableTrigger(udg_trg_Send_in_the_neutrals)
if(Trig_Duel_Copy_Func003C())then
call ForForce(udg_Evil,function Trig_Duel_Copy_Func003Func002A)
else
endif
if(Trig_Duel_Copy_Func004C())then
call ForForce(udg_Humans,function Trig_Duel_Copy_Func004Func002A)
else
endif
if(Trig_Duel_Copy_Func005C())then
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cff00ffffSince this event is taking too long, creeps are coming to help end it!|r")
else
endif
endfunction
function InitTrig_Duel_Copy takes nothing returns nothing
set udg_trg_Duel_Copy=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Duel_Copy,1105.50)
call TriggerAddCondition(udg_trg_Duel_Copy,Condition(function Trig_Duel_Copy_Conditions))
call TriggerAddAction(udg_trg_Duel_Copy,function Trig_Duel_Copy_Actions)
endfunction
function Trig_Send_in_the_neutrals_Conditions takes nothing returns boolean
if(not(udg_DUEL_NEUTRAL==false))then
return false
endif
return true
endfunction
function Trig_Send_in_the_neutrals_Func001C takes nothing returns boolean
if(not(udg_WHICH_DUEL==1))then
return false
endif
return true
endfunction
function Trig_Send_in_the_neutrals_Func002C takes nothing returns boolean
if(not(udg_WHICH_DUEL==2))then
return false
endif
return true
endfunction
function Trig_Send_in_the_neutrals_Actions takes nothing returns nothing
if(Trig_Send_in_the_neutrals_Func001C())then
set udg_AAAA_GP=GetRandomLocInRect(udg_rct_Duel_area)
call CreateNUnitsAtLocBonuses(1,'ngsp',Neutral_Satyrs,udg_AAAA_GP,bj_UNIT_FACING)
call RemoveLocation(udg_AAAA_GP)
set udg_AAAA_GP=GetRandomLocInRect(udg_rct_Duel_area)
call CreateNUnitsAtLocBonuses(1,'ngrd',Neutral_Satyrs,udg_AAAA_GP,bj_UNIT_FACING)
call RemoveLocation(udg_AAAA_GP)
else
endif
if(Trig_Send_in_the_neutrals_Func002C())then
set udg_AAAA_GP=GetRandomLocInRect(udg_rct_Top_right_forest_minigame)
call CreateNUnitsAtLocBonuses(1,'ngsp',Neutral_Satyrs,udg_AAAA_GP,bj_UNIT_FACING)
call RemoveLocation(udg_AAAA_GP)
set udg_AAAA_GP=GetRandomLocInRect(udg_rct_Top_right_forest_minigame)
call CreateNUnitsAtLocBonuses(1,'ngrd',Neutral_Satyrs,udg_AAAA_GP,bj_UNIT_FACING)
call RemoveLocation(udg_AAAA_GP)
else
endif
endfunction
function InitTrig_Send_in_the_neutrals takes nothing returns nothing
set udg_trg_Send_in_the_neutrals=CreateTrigger()
call DisableTrigger(udg_trg_Send_in_the_neutrals)
call TriggerRegisterTimerEventPeriodic(udg_trg_Send_in_the_neutrals,0.79)
call TriggerAddCondition(udg_trg_Send_in_the_neutrals,Condition(function Trig_Send_in_the_neutrals_Conditions))
call TriggerAddAction(udg_trg_Send_in_the_neutrals,function Trig_Send_in_the_neutrals_Actions)
endfunction
function Trig_LIGHT_TEAM_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetTriggerUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='n01G'))then
return false
endif
return true
endfunction
function Trig_LIGHT_TEAM_Actions takes nothing returns nothing
call ForceAddPlayerSimple(GetOwningPlayer(GetEnteringUnit()),udg_human_team)
endfunction
function InitTrig_LIGHT_TEAM takes nothing returns nothing
set udg_trg_LIGHT_TEAM=CreateTrigger()
call DisableTrigger(udg_trg_LIGHT_TEAM)
call TriggerRegisterEnterRectSimple(udg_trg_LIGHT_TEAM,udg_rct_Light_Count_Region)
call TriggerAddCondition(udg_trg_LIGHT_TEAM,Condition(function Trig_LIGHT_TEAM_Conditions))
call TriggerAddAction(udg_trg_LIGHT_TEAM,function Trig_LIGHT_TEAM_Actions)
endfunction
function Trig_DARK_TEAM_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetTriggerUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='n01G'))then
return false
endif
return true
endfunction
function Trig_DARK_TEAM_Actions takes nothing returns nothing
call ForceAddPlayerSimple(GetOwningPlayer(GetEnteringUnit()),udg_undead_team)
endfunction
function InitTrig_DARK_TEAM takes nothing returns nothing
set udg_trg_DARK_TEAM=CreateTrigger()
call DisableTrigger(udg_trg_DARK_TEAM)
call TriggerRegisterEnterRectSimple(udg_trg_DARK_TEAM,udg_rct_Undead_duel_spawn_area)
call TriggerAddCondition(udg_trg_DARK_TEAM,Condition(function Trig_DARK_TEAM_Conditions))
call TriggerAddAction(udg_trg_DARK_TEAM,function Trig_DARK_TEAM_Actions)
endfunction
function Trig_Duel_condition_v2_Conditions takes nothing returns boolean
if(not(udg_Duel_Boolean==true))then
return false
endif
return true
endfunction
function Trig_Duel_condition_v2_Func002Func002Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_human_team)==true))then
return false
endif
return true
endfunction
function Trig_Duel_condition_v2_Func002Func002A takes nothing returns nothing
if(Trig_Duel_condition_v2_Func002Func002Func001C())then
call GroupAddUnitSimple(GetEnumUnit(),udg_human_unit_group)
else
call DoNothing()
endif
endfunction
function Trig_Duel_condition_v2_Func002Func003C takes nothing returns boolean
return true
endfunction
function Trig_Duel_condition_v2_Func002Func004Func004A takes nothing returns nothing
call AdjustPlayerStateBJ(100,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endfunction
function Trig_Duel_condition_v2_Func002Func004Func005A takes nothing returns nothing
call AdjustPlayerStateBJ(50,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endfunction
function Trig_Duel_condition_v2_Func002Func004Func009A takes nothing returns nothing
call GroupRemoveUnitSimple(GetEnumUnit(),udg_human_unit_group)
endfunction
function Trig_Duel_condition_v2_Func002Func004C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_human_unit_group)==0))then
return false
endif
return true
endfunction
function Trig_Duel_condition_v2_Func002C takes nothing returns boolean
return true
endfunction
function Trig_Duel_condition_v2_Func003Func002Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_undead_team)==true))then
return false
endif
return true
endfunction
function Trig_Duel_condition_v2_Func003Func002A takes nothing returns nothing
if(Trig_Duel_condition_v2_Func003Func002Func001C())then
call GroupAddUnitSimple(GetEnumUnit(),udg_undead_unit_group)
else
call DoNothing()
endif
endfunction
function Trig_Duel_condition_v2_Func003Func003C takes nothing returns boolean
return true
endfunction
function Trig_Duel_condition_v2_Func003Func004Func004A takes nothing returns nothing
call AdjustPlayerStateBJ(50,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endfunction
function Trig_Duel_condition_v2_Func003Func004Func005A takes nothing returns nothing
call AdjustPlayerStateBJ(100,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endfunction
function Trig_Duel_condition_v2_Func003Func004Func009A takes nothing returns nothing
call GroupRemoveUnitSimple(GetEnumUnit(),udg_undead_unit_group)
endfunction
function Trig_Duel_condition_v2_Func003Func004C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_undead_unit_group)==0))then
return false
endif
return true
endfunction
function Trig_Duel_condition_v2_Func003C takes nothing returns boolean
return true
endfunction
function Trig_Duel_condition_v2_Actions takes nothing returns nothing
if((true))then
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(udg_rct_Duel_area),function Trig_Duel_condition_v2_Func002Func002A)
if((true))then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,1,I2S(CountUnitsInGroup(udg_human_unit_group)))
else
endif
if(Trig_Duel_condition_v2_Func002Func004C())then
call DisplayTimedTextToForce(GetPlayersAll(),30,"The Undead have won the match! +100 gold for undead players")
set udg_DUEL_NEUTRAL=true
call DisableTrigger(udg_trg_Send_in_the_neutrals)
call ForForce(udg_PG1,function Trig_Duel_condition_v2_Func002Func004Func004A)
call ForForce(udg_PG2,function Trig_Duel_condition_v2_Func002Func004Func005A)
call PlanFunctionExecution("ResumeGameDuel",2)
call DisableTrigger(GetTriggeringTrigger())
else
call ForGroupBJ(udg_human_unit_group,function Trig_Duel_condition_v2_Func002Func004Func009A)
endif
else
call DoNothing()
endif
if((true))then
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(udg_rct_Duel_area),function Trig_Duel_condition_v2_Func003Func002A)
if((true))then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,2,I2S(CountUnitsInGroup(udg_undead_unit_group)))
else
endif
if(Trig_Duel_condition_v2_Func003Func004C())then
call DisplayTimedTextToForce(GetPlayersAll(),30,"The Humans have won the match! +100 gold for human players")
set udg_DUEL_NEUTRAL=true
call DisableTrigger(udg_trg_Send_in_the_neutrals)
call ForForce(udg_PG1,function Trig_Duel_condition_v2_Func003Func004Func004A)
call ForForce(udg_PG2,function Trig_Duel_condition_v2_Func003Func004Func005A)
call PlanFunctionExecution("ResumeGameDuel",2)
call DisableTrigger(GetTriggeringTrigger())
else
call ForGroupBJ(udg_undead_unit_group,function Trig_Duel_condition_v2_Func003Func004Func009A)
endif
else
call DoNothing()
endif
endfunction
function InitTrig_Duel_condition_v2 takes nothing returns nothing
set udg_trg_Duel_condition_v2=CreateTrigger()
call DisableTrigger(udg_trg_Duel_condition_v2)
call TriggerRegisterTimerEventPeriodic(udg_trg_Duel_condition_v2,2.51)
call TriggerAddCondition(udg_trg_Duel_condition_v2,Condition(function Trig_Duel_condition_v2_Conditions))
call TriggerAddAction(udg_trg_Duel_condition_v2,function Trig_Duel_condition_v2_Actions)
endfunction
function DisableSimpleBorderSystemTimed takes nothing returns nothing
    call DestroyTimer(GetExpiredTimer())
    call DisableTrigger(udg_trg_simple_bounds_system)
endfunction
function ResumeGameDuel takes nothing returns nothing
call TriggerExecute(udg_trg_Game_resume)
call EnableTrigger(udg_trg_simple_bounds_system)
endfunction
function Trig_Game_resume_Func003Func001A takes nothing returns nothing
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Satyrs,bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Neutral_Satyrs,GetEnumPlayer(),bj_ALLIANCE_ALLIED)
endfunction
function Trig_Game_resume_Func003C takes nothing returns boolean
if(not(udg_Neutral_Alliance_Chance==1))then
return false
endif
return true
endfunction
function Trig_Game_resume_Func004Func001A takes nothing returns nothing
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Satyrs,bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Neutral_Satyrs,GetEnumPlayer(),bj_ALLIANCE_ALLIED)
endfunction
function Trig_Game_resume_Func004C takes nothing returns boolean
if(not(udg_Neutral_Alliance_Chance==2))then
return false
endif
return true
endfunction
function Trig_Game_resume_Func006Func001C takes nothing returns boolean
if(not(GetOwningPlayer(GetEnumUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
return true
endfunction
function Trig_Game_resume_Func006A takes nothing returns nothing
if(Trig_Game_resume_Func006Func001C())then
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function Trig_Game_resume_Func008Func001C takes nothing returns boolean
if(not(GetOwningPlayer(GetEnumUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
return true
endfunction
function Trig_Game_resume_Func008A takes nothing returns nothing
if(Trig_Game_resume_Func008Func001C())then
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function Trig_Game_resume_Func011A takes nothing returns nothing
if(IsUnitInGroup(GetEnumUnit(),InvulUnits))then
call GroupRemoveUnit(InvulUnits,GetEnumUnit())
else
call SetUnitInvulnerable(GetEnumUnit(),false)
endif
endfunction
function Trig_Game_resume_Func012C takes nothing returns boolean
return true
endfunction
function Trig_Game_resume_Actions takes nothing returns nothing
set udg_Duel_Boolean=false
call PauseUnitsAllEx(false)
// if(Trig_Game_resume_Func003C())then
// call ForForce(udg_Evil,function Trig_Game_resume_Func003Func001A)
// else
// endif
// if(Trig_Game_resume_Func004C())then
// call ForForce(udg_Humans,function Trig_Game_resume_Func004Func001A)
// else
// endif
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(udg_rct_Duel_area),function Trig_Game_resume_Func006A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(udg_rct_Top_right_forest_minigame),function Trig_Game_resume_Func008A)
call DisplayTimedTextToForce(GetPlayersAll(),30,"Game resumed!")
// set bj_wantDestroyGroup=true
// call ForGroupBJ(GetUnitsInRectAll(udg_rct_WHOLE_MAP_NOT_DUEL),function Trig_Game_resume_Func011A)
if((true))then
call DestroyMultiboardBJ(GetLastCreatedMultiboard())
call MultiboardDisplayBJ(true,udg_LIVES_MULTIBOARD)
else
endif
call RemoveLocation(udg_Point1)
call RemoveLocation(udg_Point2)
call DisableTrigger(udg_trg_Duel)
call EnableTrigger(udg_trg_Skele_Spell)
call EnableTrigger(udg_trg_Skele_Spell_Wraith)
call EnableTrigger(udg_trg_Human_Dies)
call RestoreTriggers()
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Game_resume takes nothing returns nothing
set udg_trg_Game_resume=CreateTrigger()
call TriggerAddAction(udg_trg_Game_resume,function Trig_Game_resume_Actions)
endfunction
function Trig_Duel_in_forest_area_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(udg_WHICH_DUEL==2))then
return false
endif
return true
endfunction
function Trig_Duel_in_forest_area_Func007Func001C takes nothing returns boolean
if(not(GetOwningPlayer(GetEnumUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
return true
endfunction
function Trig_Duel_in_forest_area_Func007A takes nothing returns nothing

local location l
local integer tmp_int
call IssueTargetOrder(general_tp_dispatcher, "innerfire", GetEnumUnit())
if(Trig_Duel_in_forest_area_Func007Func001C())then
set tmp_int=GetRandomInt(0,3)
if(tmp_int==0)then
set l=GetRectCenter(udg_rct_Top_Left)
elseif(tmp_int==1)then
set l=GetRectCenter(udg_rct_Top_Right)
elseif(tmp_int==2)then
set l=GetRectCenter(udg_rct_Bottom_Left)
else
set l=GetRectCenter(udg_rct_Bottom_Right)
endif
call SetUnitPositionLoc(GetEnumUnit(),l)
call RemoveLocation(l)
set l = null
else
endif
endfunction
function Trig_Duel_in_forest_area_Func015A takes nothing returns nothing
if(IsUnitInvulnerable(GetEnumUnit()))then
call GroupAddUnit(InvulUnits,GetEnumUnit())
else
call SetUnitInvulnerable(GetEnumUnit(),true)
endif
endfunction
function ReturnUnitsToMainArea takes nothing returns nothing
    call ForGroupBJ(GetUnitsInRectAll(udg_rct_Dead_teleport_area),function Trig_Duel_in_forest_area_Func007A)
endfunction
function Trig_Duel_in_forest_area_Actions takes nothing returns nothing
call ReturnUnitsToMainArea()
call ExecuteFunc("All_Morphs_return")
call CheckTriggers()
set udg_Duel_Boolean=true
set udg_General_Index=1
loop
exitwhen udg_General_Index>41
set udg_AAAA_GP=GetRandomLocInRect(udg_rct_Random_tree_spawn_area)
call CreateDestructableLoc('LTlt',udg_AAAA_GP,GetRandomDirectionDeg(),1,0)
call RemoveLocation(udg_AAAA_GP)
set udg_General_Index=udg_General_Index+1
endloop
call EnableTrigger(udg_trg_DARK_TEAM_Copy)
call EnableTrigger(udg_trg_LIGHT_TEAM_Copy)
call PauseUnitsAllEx(true)
//set bj_wantDestroyGroup=true
//call ForGroupBJ(GetUnitsInRectAll(udg_rct_WHOLE_MAP_NOT_DUEL),function Trig_Duel_in_forest_area_Func015A)
call DisplayTimedTextToForce(GetPlayersAll(),15.00,"All humans VS all undead |cffadff2fFOREST|r")
call EndThematicMusicBJ()
call PlayThematicMusicBJ("Sound\\Music\\mp3Music\\PursuitTheme.mp3")
endfunction
function InitTrig_Duel_in_forest_area takes nothing returns nothing
set udg_trg_Duel_in_forest_area=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Duel_in_forest_area,900.00)
call TriggerAddCondition(udg_trg_Duel_in_forest_area,Condition(function Trig_Duel_in_forest_area_Conditions))
call TriggerAddAction(udg_trg_Duel_in_forest_area,function Trig_Duel_in_forest_area_Actions)
endfunction
function Trig_Duel_in_forest_area_Copy_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(udg_WHICH_DUEL==2))then
return false
endif
return true
endfunction
function Trig_Duel_in_forest_area_Copy_Func010A takes nothing returns nothing
call SmartCameraPanBJModified(GetEnumPlayer(),GetRectCenter(udg_rct_undead_spawn_area_foest),0)
endfunction
function Trig_Duel_in_forest_area_Copy_Func011A takes nothing returns nothing
call SmartCameraPanBJModified(GetEnumPlayer(),GetRectCenter(udg_rct_human_spawn_area),0)
endfunction
function Trig_Duel_in_forest_area_Copy_Func013Func001Func003001001 takes nothing returns boolean
return(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)==true)
endfunction
function Trig_Duel_in_forest_area_Copy_Func013Func001Func003001002 takes nothing returns boolean
return(IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Duel_in_forest_area_Copy_Func013Func001Func003001 takes nothing returns boolean
return GetBooleanAnd((IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)==true),(IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))
endfunction
function Trig_Duel_in_forest_area_Copy_Func013Func001C takes nothing returns boolean
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false))then
return false
endif
if(not(IsUnitIllusionBJ(GetEnumUnit())==false))then
return false
endif
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
return true
endfunction
function Trig_Duel_in_forest_area_Copy_Func013A takes nothing returns nothing
if(Trig_Duel_in_forest_area_Copy_Func013Func001C())then
set udg_AAAA_GP=GetRandomLocInRect(udg_rct_undead_spawn_area_foest)
if((GetBooleanAnd((IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)==true),(IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false)))and(IsUnitAliveBJ(GetEnumUnit())))then
call CreateNUnitsAtLocBonuses(1,GetUnitTypeId(GetEnumUnit()),GetOwningPlayer(GetEnumUnit()),udg_AAAA_GP,bj_UNIT_FACING)
call SetHeroXP(bj_lastCreatedUnit,GetHeroXP(GetEnumUnit()),false)
else
call DoNothing()
endif
call RemoveLocation(udg_AAAA_GP)
else
call DoNothing()
endif
endfunction
function Trig_Duel_in_forest_area_Copy_Func015Func001C takes nothing returns boolean
if(not(IsUnitAlly(GetEnumUnit(),Neutral_Bottom)==true))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Humans)==false))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)==false))then
return false
endif
if(not(IsUnitIllusionBJ(GetEnumUnit())==false))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false))then
return false
endif
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
if(not(IsUnitIdType(GetUnitTypeId(GetEnumUnit()),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if(not(GetOwningPlayer(GetEnumUnit())!=Neutral_Bottom))then
return false
endif
if(not(GetOwningPlayer(GetEnumUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(GetOwningPlayer(GetEnumUnit())!=Neutral_Nagas))then
return false
endif
if(not(GetOwningPlayer(GetEnumUnit())!=Neutral_Satyrs))then
return false
endif
return true
endfunction
function Trig_Duel_in_forest_area_Copy_Func015A takes nothing returns nothing
if(Trig_Duel_in_forest_area_Copy_Func015Func001C())then
call CreateNUnitsAtLocBonuses(1,GetUnitTypeId(GetEnumUnit()),GetOwningPlayer(GetEnumUnit()),GetRandomLocInRect(udg_rct_Region_110),bj_UNIT_FACING)
else
call DoNothing()
endif
endfunction
function Trig_Duel_in_forest_area_Copy_Func016Func001C takes nothing returns boolean
if(not(IsPlayerInForce(GetEnumPlayer(),udg_Humans)==false))then
return false
endif
if(not(IsPlayerInForce(GetEnumPlayer(),udg_Evil)==false))then
return false
endif
return true
endfunction
function Trig_Duel_in_forest_area_Copy_Func016A takes nothing returns nothing
if(Trig_Duel_in_forest_area_Copy_Func016Func001C())then
call SmartCameraPanBJModified(GetEnumPlayer(),GetRectCenter(udg_rct_Region_110),0)
else
endif
endfunction
function Trig_Duel_in_forest_area_Copy_Func018Func001C takes nothing returns boolean
if(not(IsUnitAlly(GetEnumUnit(),Neutral_Satyrs)==true))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Humans)==false))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)==false))then
return false
endif
if(not(IsUnitIllusionBJ(GetEnumUnit())==false))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false))then
return false
endif
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
if(not(IsUnitIdType(GetUnitTypeId(GetEnumUnit()),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if(not(GetOwningPlayer(GetEnumUnit())!=Neutral_Bottom))then
return false
endif
if(not(GetOwningPlayer(GetEnumUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(GetOwningPlayer(GetEnumUnit())!=Neutral_Nagas))then
return false
endif
if(not(GetOwningPlayer(GetEnumUnit())!=Neutral_Satyrs))then
return false
endif
return true
endfunction
function Trig_Duel_in_forest_area_Copy_Func018A takes nothing returns nothing
if(Trig_Duel_in_forest_area_Copy_Func018Func001C())then
call CreateNUnitsAtLocBonuses(1,GetUnitTypeId(GetEnumUnit()),GetOwningPlayer(GetEnumUnit()),GetRandomLocInRect(udg_rct_Region_111),bj_UNIT_FACING)
else
call DoNothing()
endif
endfunction
function Trig_Duel_in_forest_area_Copy_Func019Func001C takes nothing returns boolean
if(not(IsPlayerInForce(GetEnumPlayer(),udg_Humans)==false))then
return false
endif
if(not(IsPlayerInForce(GetEnumPlayer(),udg_Evil)==false))then
return false
endif
return true
endfunction
function Trig_Duel_in_forest_area_Copy_Func019A takes nothing returns nothing
if(Trig_Duel_in_forest_area_Copy_Func019Func001C())then
call SmartCameraPanBJModified(GetEnumPlayer(),GetRectCenter(udg_rct_Region_111),0)
else
endif
endfunction
function Trig_Duel_in_forest_area_Copy_Func021Func001Func002C takes nothing returns boolean
if((IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='etrp'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='etol'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='eaow'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00L'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00O'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00N'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00U'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00P'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00Q'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00R'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00S'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00M'))then
return true
endif
return false
endfunction
function Trig_Duel_in_forest_area_Copy_Func021Func001Func004001001 takes nothing returns boolean
return(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Humans)==true)
endfunction
function Trig_Duel_in_forest_area_Copy_Func021Func001Func004001002 takes nothing returns boolean
return(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false)
endfunction
function Trig_Duel_in_forest_area_Copy_Func021Func001Func004001 takes nothing returns boolean
return GetBooleanAnd((IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Humans)==true),(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false))
endfunction
function Trig_Duel_in_forest_area_Copy_Func021Func001Func005C takes nothing returns boolean
if(not(GetUnitTypeId(GetEnumUnit())=='H073'))then
return false
endif
return true
endfunction
function Trig_Duel_in_forest_area_Copy_Func021Func001C takes nothing returns boolean
if(not Trig_Duel_in_forest_area_Copy_Func021Func001Func002C())then
return false
endif
if(not(IsUnitIllusionBJ(GetEnumUnit())==false))then
return false
endif
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
return true
endfunction
function Trig_Duel_in_forest_area_Copy_Func021A takes nothing returns nothing
if(Trig_Duel_in_forest_area_Copy_Func021Func001C())then
set udg_AAAA_GP=GetRandomLocInRect(udg_rct_human_spawn_area)
if((GetBooleanAnd((IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Humans)==true),(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false)))and(IsUnitAliveBJ(GetEnumUnit())))then
call CreateNUnitsAtLocBonuses(1,GetUnitTypeId(GetEnumUnit()),GetOwningPlayer(GetEnumUnit()),udg_AAAA_GP,bj_UNIT_FACING)
call SetHeroXP(bj_lastCreatedUnit,GetHeroXP(GetEnumUnit()),true)
if(Trig_Duel_in_forest_area_Copy_Func021Func001Func005C())then
call UnitAddItemByIdSwapped('I03N',GetLastCreatedUnit())
else
endif
else
call DoNothing()
endif
call RemoveLocation(udg_AAAA_GP)
else
call DoNothing()
endif
endfunction
function Trig_Duel_in_forest_area_Copy_Func023Func001001 takes nothing returns boolean
return(IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true)
endfunction
function Trig_Duel_in_forest_area_Copy_Func023A takes nothing returns nothing
if((IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true))then
else
call DoNothing()
endif
endfunction
function Trig_Duel_in_forest_area_Copy_Func024C takes nothing returns boolean
return true
endfunction
function Trig_Duel_in_forest_area_Copy_Actions takes nothing returns nothing
set udg_Region1=udg_rct_Undead_duel_spawn_area
set udg_Region2=udg_rct_Human_duel_spawn_area
set udg_Region5=udg_rct_Entire_map_excluding_out_of_bounds
set udg_PG1=udg_Evil
set udg_PG2=udg_Humans
set udg_Point1=GetRectCenter(udg_rct_Humans_lose_zone)
set udg_Point2=GetRectCenter(udg_rct_Undead_Lose_Zone)
call ForForce(udg_PG1,function Trig_Duel_in_forest_area_Copy_Func010A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatchingFilteredExcludeObservers(GetEntireMapRect()),function Trig_Duel_in_forest_area_Copy_Func013A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatchingFilteredExcludeObservers(GetEntireMapRect()),function Trig_Duel_in_forest_area_Copy_Func015A)
call ForForce(GetPlayersAllies(Neutral_Bottom),function Trig_Duel_in_forest_area_Copy_Func016A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatchingFilteredExcludeObservers(GetEntireMapRect()),function Trig_Duel_in_forest_area_Copy_Func018A)
call ForForce(GetPlayersAllies(Neutral_Satyrs),function Trig_Duel_in_forest_area_Copy_Func019A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatchingFilteredExcludeObservers(GetEntireMapRect()),function Trig_Duel_in_forest_area_Copy_Func021A)
if((true))then
call MultiboardDisplayBJ(false,udg_LIVES_MULTIBOARD)
call CreateMultiboardBJ(2,2,"Team Battle")
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),1,1,true,true)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),1,2,true,true)
call MultiboardSetItemIconBJ(GetLastCreatedMultiboard(),1,1,"ReplaceableTextures\\CommandButtons\\BTNFootman.blp")
call MultiboardSetItemIconBJ(GetLastCreatedMultiboard(),1,2,"ReplaceableTextures\\CommandButtons\\BTNAbomination.blp")
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,1,"Humans")
call MultiboardSetItemWidthBJ(GetLastCreatedMultiboard(),1,1,8.00)
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,2,"Undead")
call MultiboardSetItemWidthBJ(GetLastCreatedMultiboard(),1,2,8.00)
call MultiboardSetItemColorBJ(GetLastCreatedMultiboard(),1,1,0.00,100.00,0.00,0)
call MultiboardSetItemColorBJ(GetLastCreatedMultiboard(),2,1,0.00,100.00,0.00,0)
call MultiboardSetItemColorBJ(GetLastCreatedMultiboard(),1,2,100.00,0.00,0.00,0)
call MultiboardSetItemColorBJ(GetLastCreatedMultiboard(),2,2,100.00,0.00,0.00,0)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),2,2,true,false)
call MultiboardSetItemStyleBJ(GetLastCreatedMultiboard(),2,1,true,false)
call MultiboardMinimizeBJ(false,GetLastCreatedMultiboard())
call DisableTrigger(udg_trg_simple_bounds_system)
else
endif
call EnableTrigger(udg_trg_Duel_condition_v2_Copy)
endfunction
function InitTrig_Duel_in_forest_area_Copy takes nothing returns nothing
set udg_trg_Duel_in_forest_area_Copy=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Duel_in_forest_area_Copy,905.00)
call TriggerAddCondition(udg_trg_Duel_in_forest_area_Copy,Condition(function Trig_Duel_in_forest_area_Copy_Conditions))
call TriggerAddAction(udg_trg_Duel_in_forest_area_Copy,function Trig_Duel_in_forest_area_Copy_Actions)
endfunction
function Trig_Duel_in_forest_area_Copy_Copy_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(udg_WHICH_DUEL==2))then
return false
endif
return true
endfunction
function Trig_Duel_in_forest_area_Copy_Copy_Actions takes nothing returns nothing
call DisableTrigger(udg_trg_LIGHT_TEAM_Copy)
call DisableTrigger(udg_trg_DARK_TEAM_Copy)
call DisableTrigger(udg_trg_Human_Dies)
call DisableTrigger(udg_trg_Skele_Spell)
call DisableTrigger(udg_trg_Skele_Spell_Wraith)
endfunction
function InitTrig_Duel_in_forest_area_Copy_Copy takes nothing returns nothing
set udg_trg_Duel_in_forest_area_Copy_Copy=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Duel_in_forest_area_Copy_Copy,906.10)
call TriggerAddCondition(udg_trg_Duel_in_forest_area_Copy_Copy,Condition(function Trig_Duel_in_forest_area_Copy_Copy_Conditions))
call TriggerAddAction(udg_trg_Duel_in_forest_area_Copy_Copy,function Trig_Duel_in_forest_area_Copy_Copy_Actions)
endfunction
function Trig_LIGHT_TEAM_Copy_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetTriggerUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='n01G'))then
return false
endif
return true
endfunction
function Trig_LIGHT_TEAM_Copy_Actions takes nothing returns nothing
call ForceAddPlayerSimple(GetOwningPlayer(GetEnteringUnit()),udg_human_team)
endfunction
function InitTrig_LIGHT_TEAM_Copy takes nothing returns nothing
set udg_trg_LIGHT_TEAM_Copy=CreateTrigger()
call DisableTrigger(udg_trg_LIGHT_TEAM_Copy)
call TriggerRegisterEnterRectSimple(udg_trg_LIGHT_TEAM_Copy,udg_rct_light_count_2)
call TriggerAddCondition(udg_trg_LIGHT_TEAM_Copy,Condition(function Trig_LIGHT_TEAM_Copy_Conditions))
call TriggerAddAction(udg_trg_LIGHT_TEAM_Copy,function Trig_LIGHT_TEAM_Copy_Actions)
endfunction
function Trig_DARK_TEAM_Copy_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetTriggerUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='n01G'))then
return false
endif
return true
endfunction
function Trig_DARK_TEAM_Copy_Actions takes nothing returns nothing
call ForceAddPlayerSimple(GetOwningPlayer(GetEnteringUnit()),udg_undead_team)
endfunction
function InitTrig_DARK_TEAM_Copy takes nothing returns nothing
set udg_trg_DARK_TEAM_Copy=CreateTrigger()
call DisableTrigger(udg_trg_DARK_TEAM_Copy)
call TriggerRegisterEnterRectSimple(udg_trg_DARK_TEAM_Copy,udg_rct_dark_count_2)
call TriggerAddCondition(udg_trg_DARK_TEAM_Copy,Condition(function Trig_DARK_TEAM_Copy_Conditions))
call TriggerAddAction(udg_trg_DARK_TEAM_Copy,function Trig_DARK_TEAM_Copy_Actions)
endfunction
function Trig_Duel_condition_v2_Copy_Conditions takes nothing returns boolean
if(not(udg_Duel_Boolean==true))then
return false
endif
return true
endfunction
function Trig_Duel_condition_v2_Copy_Func002Func002Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_human_team)==true))then
return false
endif
return true
endfunction
function Trig_Duel_condition_v2_Copy_Func002Func002A takes nothing returns nothing
if(Trig_Duel_condition_v2_Copy_Func002Func002Func001C())then
call GroupAddUnitSimple(GetEnumUnit(),udg_human_unit_group)
else
call DoNothing()
endif
endfunction
function Trig_Duel_condition_v2_Copy_Func002Func003C takes nothing returns boolean
return true
endfunction
function Trig_Duel_condition_v2_Copy_Func002Func004Func004A takes nothing returns nothing
call AdjustPlayerStateBJ(100,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endfunction
function Trig_Duel_condition_v2_Copy_Func002Func004Func005A takes nothing returns nothing
call AdjustPlayerStateBJ(50,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endfunction
function Trig_Duel_condition_v2_Copy_Func002Func004Func009A takes nothing returns nothing
call GroupRemoveUnitSimple(GetEnumUnit(),udg_human_unit_group)
endfunction
function Trig_Duel_condition_v2_Copy_Func002Func004C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_human_unit_group)==0))then
return false
endif
return true
endfunction
function Trig_Duel_condition_v2_Copy_Func002C takes nothing returns boolean
return true
endfunction
function Trig_Duel_condition_v2_Copy_Func003Func002Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_undead_team)==true))then
return false
endif
return true
endfunction
function Trig_Duel_condition_v2_Copy_Func003Func002A takes nothing returns nothing
if(Trig_Duel_condition_v2_Copy_Func003Func002Func001C())then
call GroupAddUnitSimple(GetEnumUnit(),udg_undead_unit_group)
else
call DoNothing()
endif
endfunction
function Trig_Duel_condition_v2_Copy_Func003Func003C takes nothing returns boolean
return true
endfunction
function Trig_Duel_condition_v2_Copy_Func003Func004Func004A takes nothing returns nothing
call AdjustPlayerStateBJ(50,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endfunction
function Trig_Duel_condition_v2_Copy_Func003Func004Func005A takes nothing returns nothing
call AdjustPlayerStateBJ(100,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endfunction
function Trig_Duel_condition_v2_Copy_Func003Func004Func009A takes nothing returns nothing
call GroupRemoveUnitSimple(GetEnumUnit(),udg_undead_unit_group)
endfunction
function Trig_Duel_condition_v2_Copy_Func003Func004C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_undead_unit_group)==0))then
return false
endif
return true
endfunction
function Trig_Duel_condition_v2_Copy_Func003C takes nothing returns boolean
return true
endfunction
function Trig_Duel_condition_v2_Copy_Actions takes nothing returns nothing
if((true))then
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(udg_rct_Top_right_forest_minigame),function Trig_Duel_condition_v2_Copy_Func002Func002A)
if((true))then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,1,I2S(CountUnitsInGroup(udg_human_unit_group)))
else
endif
if(Trig_Duel_condition_v2_Copy_Func002Func004C())then
call DisplayTimedTextToForce(GetPlayersAll(),30,"The Undead have won the match! +100 gold for undead players")
set udg_DUEL_NEUTRAL=true
call DisableTrigger(udg_trg_Send_in_the_neutrals)
call ForForce(udg_PG1,function Trig_Duel_condition_v2_Copy_Func002Func004Func004A)
call ForForce(udg_PG2,function Trig_Duel_condition_v2_Copy_Func002Func004Func005A)
call PlanFunctionExecution("ResumeGameDuel",2)
call DisableTrigger(GetTriggeringTrigger())
else
call ForGroupBJ(udg_human_unit_group,function Trig_Duel_condition_v2_Copy_Func002Func004Func009A)
endif
else
call DoNothing()
endif
if((true))then
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(udg_rct_Top_right_forest_minigame),function Trig_Duel_condition_v2_Copy_Func003Func002A)
if((true))then
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,2,I2S(CountUnitsInGroup(udg_undead_unit_group)))
else
endif
if(Trig_Duel_condition_v2_Copy_Func003Func004C())then
call DisplayTimedTextToForce(GetPlayersAll(),30,"The Humans have won the match! +100 gold for human players")
set udg_DUEL_NEUTRAL=true
call DisableTrigger(udg_trg_Send_in_the_neutrals)
call ForForce(udg_PG1,function Trig_Duel_condition_v2_Copy_Func003Func004Func004A)
call ForForce(udg_PG2,function Trig_Duel_condition_v2_Copy_Func003Func004Func005A)
call PlanFunctionExecution("ResumeGameDuel",2)
call DisableTrigger(GetTriggeringTrigger())
else
call ForGroupBJ(udg_undead_unit_group,function Trig_Duel_condition_v2_Copy_Func003Func004Func009A)
endif
else
call DoNothing()
endif
endfunction
function InitTrig_Duel_condition_v2_Copy takes nothing returns nothing
set udg_trg_Duel_condition_v2_Copy=CreateTrigger()
call DisableTrigger(udg_trg_Duel_condition_v2_Copy)
call TriggerRegisterTimerEventPeriodic(udg_trg_Duel_condition_v2_Copy,2.51)
call TriggerAddCondition(udg_trg_Duel_condition_v2_Copy,Condition(function Trig_Duel_condition_v2_Copy_Conditions))
call TriggerAddAction(udg_trg_Duel_condition_v2_Copy,function Trig_Duel_condition_v2_Copy_Actions)
endfunction
function Trig_Lives_Conditions takes nothing returns boolean
if(not(GetPlayerColor(GetTriggerPlayer())==PLAYER_COLOR_RED))then
return false
endif
return true
endfunction
function Trig_Lives_Func003Func001A takes nothing returns nothing
call AddLivesP(GetEnumPlayer(),2)
endfunction
function Trig_Lives_Func003Func002A takes nothing returns nothing
call AddLivesP(GetEnumPlayer(),1)
endfunction
function Trig_Lives_Func003C takes nothing returns boolean
if(not(udg_SETTINGS_CHOICE2_YES==true))then
return false
endif
return true
endfunction
function Trig_Lives_Func004Func001C takes nothing returns boolean
if((udg_SETTINGS_CHOICE1_YES==true))then
return true
endif
if((udg_SETTINGS_CHOICE3_YES==true))then
return true
endif
return false
endfunction
function Trig_Lives_Func004Func002A takes nothing returns nothing
call AddLivesP(GetEnumPlayer(),4)
endfunction
function Trig_Lives_Func004Func003A takes nothing returns nothing
call AddLivesP(GetEnumPlayer(),2)
endfunction
function Trig_Lives_Func004C takes nothing returns boolean
if(not Trig_Lives_Func004Func001C())then
return false
endif
return true
endfunction
function Trig_Lives_Func028C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(0))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_Lives_Func029C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(1))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_Lives_Func030C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(2))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_Lives_Func031C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(3))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_Lives_Func032C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(4))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_Lives_Func033C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(5))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_Lives_Func034C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(6))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_Lives_Func035C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(7))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_Lives_Func036C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(8))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_Lives_Func037C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(9))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_Lives_Func038C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(10))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_Lives_Func039C takes nothing returns boolean
if(not(GetPlayerSlotState(Player(11))==PLAYER_SLOT_STATE_PLAYING))then
return false
endif
return true
endfunction
function Trig_Lives_Actions takes nothing returns nothing
local integer playercnt_t = 0
call DisableTrigger(GetTriggeringTrigger())
set udg_EM_MODE=true
if(Trig_Lives_Func003C())then
call ForForce(udg_Humans,function Trig_Lives_Func003Func001A)
call ForForce(udg_Evil,function Trig_Lives_Func003Func002A)
else
endif
if(Trig_Lives_Func004C())then
call ForForce(udg_Humans,function Trig_Lives_Func004Func002A)
call ForForce(udg_Evil,function Trig_Lives_Func004Func003A)
else
endif
call CreateTextTagLocBJ("Move into blue flames to teleport",GetRectCenter(udg_rct_Region_102),0,7.00,100,0.00,0.00,0)
call CreateTextTagLocBJ("Top Left",GetRectCenter(udg_rct_Top_Left),0,10,100,0.00,0.00,0)
call CreateTextTagLocBJ("Top Right",GetRectCenter(udg_rct_Top_Right),0,10,100,0.00,0.00,0)
call CreateTextTagLocBJ("Bottom Left",GetRectCenter(udg_rct_Bottom_Left),0,10,100,0.00,0.00,0)
call CreateTextTagLocBJ("Bottom Right",GetRectCenter(udg_rct_Bottom_Right),0,10,100,0.00,0.00,0)
call CreateMultiboardBJ(3,13,"Lives")
set udg_LIVES_MULTIBOARD=GetLastCreatedMultiboard()

set bj_forLoopAIndex=0
set bj_forLoopAIndexEnd=11
set playercnt_t= 0
loop 
    exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
    if(GetPlayerSlotState(Player(bj_forLoopAIndex))!=PLAYER_SLOT_STATE_EMPTY) then
        set playercnt_t = playercnt_t + 1
    endif
    set bj_forLoopAIndex = bj_forLoopAIndex + 1
endloop
call MultiboardSetRowCount(udg_LIVES_MULTIBOARD,playercnt_t+2)
set bj_forLoopAIndex=0
set bj_forLoopAIndexEnd=11
set playercnt_t = 0
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(GetPlayerSlotState(Player(bj_forLoopAIndex))!=PLAYER_SLOT_STATE_EMPTY) then
    call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),2,(GetForLoopIndexA()+1),udg_AAA_Player_Colors[GetForLoopIndexA()])
    if(not (GetPlayerSlotState(Player(playercnt_t))==PLAYER_SLOT_STATE_PLAYING))then
        call MultiboardSetItemIconBJ(udg_LIVES_MULTIBOARD,1,playercnt_t+2,"ReplaceableTextures\\CommandButtons\\BTNPig.blp")
    endif

    set playercnt_t = playercnt_t + 1
endif
set bj_forLoopAIndex = bj_forLoopAIndex + 1
endloop
call EnableTrigger(udg_trg_Multiboard)
endfunction
function InitTrig_Lives takes nothing returns nothing
set udg_trg_Lives=CreateTrigger()
call DisableTrigger(udg_trg_Lives)
call TriggerRegisterPlayerChatEvent(udg_trg_Lives,Player(0),"-em",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Lives,Player(1),"-em",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Lives,Player(2),"-em",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Lives,Player(3),"-em",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Lives,Player(4),"-em",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Lives,Player(5),"-em",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Lives,Player(6),"-em",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Lives,Player(7),"-em",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Lives,Player(8),"-em",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Lives,Player(9),"-em",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Lives,Player(10),"-em",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Lives,Player(11),"-em",true)
call TriggerAddCondition(udg_trg_Lives,Condition(function Trig_Lives_Conditions))
call TriggerAddAction(udg_trg_Lives,function Trig_Lives_Actions)
endfunction
function Trig_FinalBattle_Run_Func005C takes nothing returns boolean
if((udg_SETTINGS_CHOICE2_YES==true))then
return true
endif
if((udg_SETTINGS_CHOICE3_YES==true))then
return true
endif
return false
endfunction
function Trig_FinalBattle_Run_Conditions takes nothing returns boolean
if(not(udg_Neutral_Alliance_Chance==0))then
return false
endif
if(not Trig_FinalBattle_Run_Func005C())then
return false
endif
return true
endfunction
function Trig_FinalBattle_Run_Func012A takes nothing returns nothing
call SmartCameraPanBJModified(GetEnumPlayer(),GetRectCenter(udg_rct_FB_Human_Spawn),0)
endfunction
function Trig_FinalBattle_Run_Func013A takes nothing returns nothing
call SmartCameraPanBJModified(GetEnumPlayer(),GetRectCenter(udg_rct_FB_Undead_Spawn),0)
endfunction
function Trig_FinalBattle_Run_Func015Func001Func005C takes nothing returns boolean
if((IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='etrp'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='etol'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='eaow'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00L'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00O'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00N'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00U'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00P'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00Q'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00R'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00S'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00M'))then
return true
endif
return false
endfunction
function Trig_FinalBattle_Run_Filter_Humans takes nothing returns boolean
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Humans)==true))then
return false
endif
if(not Trig_FinalBattle_Run_Func015Func001Func005C())then
return false
endif
return true
endfunction
function Trig_FinalBattle_Run_Fulter_Undeads takes nothing returns boolean
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)==true))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
return true
endfunction
function Trig_FinalBattle_Run_Fulter_Undead_Allies takes nothing returns boolean
    if(not IsPlayerAlly(GetOwningPlayer(GetEnumUnit()),ForcePickRandomPlayer(udg_Evil)))then
    return false
    endif
    if(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)) then
        return false
    endif
    if(GetPlayerId(GetOwningPlayer(GetEnumUnit()))==15) then
        return false
    endif
    if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
    return false
    endif
    return true
endfunction
function Trig_FinalBattle_Run_Fulter_Human_Allies takes nothing returns boolean
    if(not IsPlayerAlly(GetOwningPlayer(GetEnumUnit()),ForcePickRandomPlayer(udg_Humans)))then
    return false
    endif
    if(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Humans)) then
        return false
    endif
    if(GetPlayerId(GetOwningPlayer(GetEnumUnit()))==15) then
        return false
    endif
    if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
    return false
    endif
    return true
endfunction
function Trig_FinalBattle_Run_Func015Func003C takes nothing returns boolean
if(not(IsPlayerAlly(GetOwningPlayer(GetEnumUnit()),Neutral_Bottom)==true))then
return false
endif
if(not(GetOwningPlayer(GetEnumUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(GetOwningPlayer(GetEnumUnit())!=Neutral_Satyrs))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Humans)==false))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)==false))then
return false
endif
return true
endfunction
function Trig_FinalBattle_Run_Func015Func004C takes nothing returns boolean
if(not(IsPlayerAlly(GetOwningPlayer(GetEnumUnit()),Neutral_Satyrs)==true))then
return false
endif
if(not(GetOwningPlayer(GetEnumUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(GetOwningPlayer(GetEnumUnit())!=Neutral_Satyrs))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Humans)==false))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)==false))then
return false
endif
return true
endfunction
function Trig_FinalBattle_Run_Func015Func006Func001C takes nothing returns boolean
if((IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='etrp'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='etol'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='eaow'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00L'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00O'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00N'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00U'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00P'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00Q'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00R'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00S'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00M'))then
return false
endif
return true
endfunction
function Final_Battle_Building_Interaction takes nothing returns nothing
if(Trig_FinalBattle_Run_Func015Func006Func001C())then
if(GetPlayerId(GetOwningPlayer(GetEnumUnit()))<11) then
call PauseUnit(GetEnumUnit(),true)
endif
else
endif
endfunction
function Trig_FinalBattle_Run_MoveUnits takes nothing returns nothing
local location loc = null
if(Trig_FinalBattle_Run_Filter_Humans())then
set loc=GetRandomLocInRect(udg_rct_FB_Human_Spawn)
call GroupRemoveUnit(ControlledGroups[CONTROL_ID_MAIN_MAP],GetEnumUnit())
call GroupRemoveUnit(GetneralControlledFroup,GetEnumUnit())
call SetUnitPositionLoc(GetEnumUnit(),loc)
call RemoveLocation(loc)
elseif(Trig_FinalBattle_Run_Fulter_Undeads())then
set loc=GetRandomLocInRect(udg_rct_FB_Undead_Spawn)
call GroupRemoveUnit(ControlledGroups[CONTROL_ID_MAIN_MAP],GetEnumUnit())
call GroupRemoveUnit(GetneralControlledFroup,GetEnumUnit())
call SetUnitPositionLoc(GetEnumUnit(),loc)
call RemoveLocation(loc)
elseif(Trig_FinalBattle_Run_Fulter_Undead_Allies()) then
    set loc=GetRandomLocInRect(udg_rct_FB_Neutral_Spawn_Undead_Side)
    call SetUnitPositionLoc(GetEnumUnit(),loc)
    call GroupRemoveUnit(ControlledGroups[CONTROL_ID_MAIN_MAP],GetEnumUnit())
call GroupRemoveUnit(GetneralControlledFroup,GetEnumUnit())
call IssueTargetDestructableOrder(GetEnumUnit(),"attack",gg_dest_LTg3_4382)
call RemoveLocation(loc)
elseif(Trig_FinalBattle_Run_Fulter_Human_Allies()) then
    set loc=GetRandomLocInRect(udg_rct_FB_Neutral_Spawn_Human_Side)
    call SetUnitPositionLoc(GetEnumUnit(),loc)
    call GroupRemoveUnit(ControlledGroups[CONTROL_ID_MAIN_MAP],GetEnumUnit())
call GroupRemoveUnit(GetneralControlledFroup,GetEnumUnit())
call IssueTargetDestructableOrder(GetEnumUnit(),"attack",gg_dest_LTg3_4382)
call RemoveLocation(loc)
endif
endfunction
function Trig_FinalBattle_Run_Func016C takes nothing returns boolean
if(not(IsDestructableDeadBJ(gg_dest_LTg3_4382)==true))then
return false
endif
return true
endfunction
function Final_Battke_Run_1 takes nothing returns nothing
    call DestroyTimer(GetExpiredTimer())
    call DisableTrigger(InitTrigger[CONTROL_ID_MAIN_MAP])
    call EnableFinalBattle()
    call PauseTimerBJ(true,udg_CountdownTimer_Copy)
    call DestroyTimerDialogBJ(udg_CountdownTimerWindow_Copy)
    call EndThematicMusicBJ()
    call StopMusicBJ(false)
    call PlayMusicBJ(udg_snd_PH1)
    call FogEnableOff()
    call FogMaskEnableOff()
    call ForForce(udg_Humans,function Trig_FinalBattle_Run_Func012A)
    call ForForce(udg_Evil,function Trig_FinalBattle_Run_Func013A)
    set bj_wantDestroyGroup=true
    call ForGroupBJ(GetUnitsInRectMatchingFiltered(GetPlayableMapRect()),function Trig_FinalBattle_Run_MoveUnits)
    call ForGroupBJ(GetUnitsInRectAll(udg_rct_WHOLE_MAP_NOT_DUEL),function Final_Battle_Building_Interaction)
    call DestructableRestoreLife(gg_dest_LTg3_4382,GetDestructableMaxLife(gg_dest_LTg3_4382),true)
    //call DisableTrigger(udg_trg_Dead_area_bot_left)
    //call DisableTrigger(udg_trg_Dead_area_bot_right)
    //call DisableTrigger(udg_trg_Dead_area_top_left)
    //call DisableTrigger(udg_trg_Dead_area_top_right_Copy)
    //call EnableTrigger(udg_trg_stop_tele_FB)
    call DisableTrigger(GetTriggeringTrigger())
    call EnableTrigger(InitTrigger[CONTROL_ID_MAIN_MAP])
endfunction
function Final_Battle_Run takes nothing returns nothing
    call ReturnUnitsToMainArea()
    call TimerStart(CreateTimer(),0.01,false,function Final_Battke_Run_1)
endfunction
function InitTrig_FinalBattle_Run takes nothing returns nothing
set udg_trg_Lives_Cop=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Lives_Cop,1740.00)
call TriggerAddCondition(udg_trg_Lives_Cop,Condition(function Trig_FinalBattle_Run_Conditions))
call TriggerAddAction(udg_trg_Lives_Cop,function Final_Battle_Run)
endfunction
function Trig_FinalBattle_Run_neut_alliance_1a_Func001C takes nothing returns boolean
if((udg_Neutral_Alliance_Chance==1))then
return true
endif
if((udg_Neutral_Alliance_Chance==2))then
return true
endif
return false
endfunction
function Trig_FinalBattle_Run_neut_alliance_1a_Func006C takes nothing returns boolean
if((udg_SETTINGS_CHOICE2_YES==true))then
return true
endif
if((udg_SETTINGS_CHOICE3_YES==true))then
return true
endif
return false
endfunction
function Trig_FinalBattle_Run_neut_alliance_1a_Conditions takes nothing returns boolean
if(not Trig_FinalBattle_Run_neut_alliance_1a_Func001C())then
return false
endif
if(not Trig_FinalBattle_Run_neut_alliance_1a_Func006C())then
return false
endif
return true
endfunction
function Trig_FinalBattle_Run_neut_alliance_1a_Func012A takes nothing returns nothing
call SmartCameraPanBJModified(GetEnumPlayer(),GetRectCenter(udg_rct_FB_Human_Spawn),0)
endfunction
function Trig_FinalBattle_Run_neut_alliance_1a_Func013A takes nothing returns nothing
call SmartCameraPanBJModified(GetEnumPlayer(),GetRectCenter(udg_rct_FB_Undead_Spawn),0)
endfunction
function Trig_FinalBattle_Run_neut_alliance_1a_Func015Func001Func003C takes nothing returns boolean
if((IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='etrp'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='etol'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='eaow'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00L'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00O'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00N'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00U'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00P'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00Q'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00R'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00S'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00M'))then
return true
endif
return false
endfunction
function Trig_FinalBattle_Run_neut_alliance_1a_Func015Func001C takes nothing returns boolean
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Humans)==true))then
return false
endif
if(not Trig_FinalBattle_Run_neut_alliance_1a_Func015Func001Func003C())then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false))then
return false
endif
return true
endfunction
function Trig_FinalBattle_Run_neut_alliance_1a_Func015A takes nothing returns nothing
if(Trig_FinalBattle_Run_neut_alliance_1a_Func015Func001C())then
call SetUnitPositionLoc(GetEnumUnit(),GetRandomLocInRect(udg_rct_FB_Human_Spawn))
else
endif
endfunction
function Trig_FinalBattle_Run_neut_alliance_1a_Func017Func001C takes nothing returns boolean
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)==true))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false))then
return false
endif
return true
endfunction
function Trig_FinalBattle_Run_neut_alliance_1a_Func017A takes nothing returns nothing
if(Trig_FinalBattle_Run_neut_alliance_1a_Func017Func001C())then
call SetUnitPositionLoc(GetEnumUnit(),GetRandomLocInRect(udg_rct_FB_Undead_Spawn))
else
endif
endfunction
function Trig_FinalBattle_Run_neut_alliance_1a_Func019Func001C takes nothing returns boolean
if(not(GetOwningPlayer(GetEnumUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(IsPlayerAlly(GetOwningPlayer(GetEnumUnit()),ForcePickRandomPlayer(udg_Humans))==true))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Humans)==false))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)==false))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false))then
return false
endif
return true
endfunction
function Trig_FinalBattle_Run_neut_alliance_1a_Func019A takes nothing returns nothing
if(Trig_FinalBattle_Run_neut_alliance_1a_Func019Func001C())then
call SetUnitPositionLoc(GetEnumUnit(),GetRandomLocInRect(udg_rct_FB_Neutral_Spawn_Human_Side))
else
endif
endfunction
function Trig_FinalBattle_Run_neut_alliance_1a_Func021Func001C takes nothing returns boolean
if(not(GetOwningPlayer(GetEnumUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(IsPlayerAlly(GetOwningPlayer(GetEnumUnit()),ForcePickRandomPlayer(udg_Evil))==true))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Humans)==false))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)==false))then
return false
endif
return true
endfunction
function Trig_FinalBattle_Run_neut_alliance_1a_Func021A takes nothing returns nothing
if(Trig_FinalBattle_Run_neut_alliance_1a_Func021Func001C())then
call SetUnitPositionLoc(GetEnumUnit(),GetRandomLocInRect(udg_rct_FB_Neutral_Spawn_Undead_Side))
else
endif
endfunction
function Trig_FinalBattle_Run_neut_alliance_1a_Func023Func001Func001C takes nothing returns boolean
if((GetOwningPlayer(GetEnumUnit())==Neutral_Satyrs))then
return true
endif
if((GetOwningPlayer(GetEnumUnit())==Neutral_Bottom))then
return true
endif
if((GetOwningPlayer(GetEnumUnit())==Neutral_Satyrs))then
return true
endif
return false
endfunction
function Trig_FinalBattle_Run_neut_alliance_1a_Func023Func001C takes nothing returns boolean
if(not Trig_FinalBattle_Run_neut_alliance_1a_Func023Func001Func001C())then
return false
endif
return true
endfunction
function Trig_FinalBattle_Run_neut_alliance_1a_Func023A takes nothing returns nothing
if(Trig_FinalBattle_Run_neut_alliance_1a_Func023Func001C())then
call GroupAddUnitSimple(GetEnumUnit(),udg_FB_Neutral_Group[1])
call IssueTargetDestructableOrder(GetEnumUnit(),"attack",gg_dest_LTg3_4382)
else
endif
endfunction
function Trig_FinalBattle_Run_neut_alliance_1a_Func025Func001Func001C takes nothing returns boolean
if((GetOwningPlayer(GetEnumUnit())==Neutral_Satyrs))then
return true
endif
if((GetOwningPlayer(GetEnumUnit())==Neutral_Bottom))then
return true
endif
if((GetOwningPlayer(GetEnumUnit())==Neutral_Satyrs))then
return true
endif
return false
endfunction
function Trig_FinalBattle_Run_neut_alliance_1a_Func025Func001C takes nothing returns boolean
if(not Trig_FinalBattle_Run_neut_alliance_1a_Func025Func001Func001C())then
return false
endif
return true
endfunction
function Trig_FinalBattle_Run_neut_alliance_1a_Func025A takes nothing returns nothing
if(Trig_FinalBattle_Run_neut_alliance_1a_Func025Func001C())then
call GroupAddUnitSimple(GetEnumUnit(),udg_FB_Neutral_Group[2])
call IssueTargetDestructableOrder(GetEnumUnit(),"attack",gg_dest_LTg3_4382)
else
endif
endfunction
function Trig_FinalBattle_Run_neut_alliance_1a_Func027Func001C takes nothing returns boolean
if((IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='etrp'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='etol'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='eaow'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00L'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00O'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00N'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00U'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00P'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00Q'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00R'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00S'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00M'))then
return false
endif
return true
endfunction
function Trig_FinalBattle_Run_neut_alliance_1a_Func027A takes nothing returns nothing
if(Trig_FinalBattle_Run_neut_alliance_1a_Func027Func001C())then
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function Trig_FinalBattle_Run_neut_alliance_1a_Func028C takes nothing returns boolean
if(not(IsDestructableDeadBJ(gg_dest_LTg3_4382)==true))then
return false
endif
return true
endfunction
function Final_Battle_Run_Neut_alliance takes nothing returns nothing
    set bj_wantDestroyGroup=true
    call ForGroupBJ(GetUnitsInRectMatchingFiltered(GetPlayableMapRect()),function Trig_FinalBattle_Run_neut_alliance_1a_Func015A)
    set bj_wantDestroyGroup=true
    call ForGroupBJ(GetUnitsInRectMatchingFiltered(GetPlayableMapRect()),function Trig_FinalBattle_Run_neut_alliance_1a_Func017A)
    set bj_wantDestroyGroup=true
    call ForGroupBJ(GetUnitsInRectMatchingFiltered(GetPlayableMapRect()),function Trig_FinalBattle_Run_neut_alliance_1a_Func019A)
    set bj_wantDestroyGroup=true
    call ForGroupBJ(GetUnitsInRectMatchingFiltered(GetPlayableMapRect()),function Trig_FinalBattle_Run_neut_alliance_1a_Func021A)
    set bj_wantDestroyGroup=true
    call ForGroupBJ(GetUnitsInRectAll(udg_rct_FB_Neutral_Spawn_Undead_Side),function Trig_FinalBattle_Run_neut_alliance_1a_Func023A)
    set bj_wantDestroyGroup=true
    call ForGroupBJ(GetUnitsInRectAll(udg_rct_FB_Neutral_Spawn_Human_Side),function Trig_FinalBattle_Run_neut_alliance_1a_Func025A)
    set bj_wantDestroyGroup=true
    call ForGroupBJ(GetUnitsInRectAll(udg_rct_WHOLE_MAP_NOT_DUEL),function Trig_FinalBattle_Run_neut_alliance_1a_Func027A)
endfunction
function Trig_FinalBattle_Run_neut_alliance_1a_Actions takes nothing returns nothing
call EnableFinalBattle()
call PauseTimerBJ(true,udg_CountdownTimer_Copy)
call DestroyTimerDialogBJ(udg_CountdownTimerWindow_Copy)
call EndThematicMusicBJ()
call StopMusicBJ(false)
call PlayMusicBJ(udg_snd_PH1)
call FogEnableOff()
call FogMaskEnableOff()
call ForForce(udg_Humans,function Trig_FinalBattle_Run_neut_alliance_1a_Func012A)
call ForForce(udg_Evil,function Trig_FinalBattle_Run_neut_alliance_1a_Func013A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatchingFiltered(GetPlayableMapRect()),function Trig_FinalBattle_Run_neut_alliance_1a_Func015A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatchingFiltered(GetPlayableMapRect()),function Trig_FinalBattle_Run_neut_alliance_1a_Func017A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatchingFiltered(GetPlayableMapRect()),function Trig_FinalBattle_Run_neut_alliance_1a_Func019A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatchingFiltered(GetPlayableMapRect()),function Trig_FinalBattle_Run_neut_alliance_1a_Func021A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(udg_rct_FB_Neutral_Spawn_Undead_Side),function Trig_FinalBattle_Run_neut_alliance_1a_Func023A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(udg_rct_FB_Neutral_Spawn_Human_Side),function Trig_FinalBattle_Run_neut_alliance_1a_Func025A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(udg_rct_WHOLE_MAP_NOT_DUEL),function Trig_FinalBattle_Run_neut_alliance_1a_Func027A)
if(Trig_FinalBattle_Run_neut_alliance_1a_Func028C())then
call DestructableRestoreLife(gg_dest_LTg3_4382,GetDestructableMaxLife(gg_dest_LTg3_4382),true)
else
endif
call DisableTrigger(udg_trg_Dead_area_bot_left)
call DisableTrigger(udg_trg_Dead_area_bot_right)
call DisableTrigger(udg_trg_Dead_area_top_left)
call DisableTrigger(udg_trg_Dead_area_top_right_Copy)
call EnableTrigger(udg_trg_stop_tele_FB)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_FinalBattle_Run_neut_alliance_1a takes nothing returns nothing
set udg_trg_Lives_Cop_neut_alliance_1a=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Lives_Cop_neut_alliance_1a,1740.00)
call TriggerAddCondition(udg_trg_Lives_Cop_neut_alliance_1a,Condition(function Trig_FinalBattle_Run_neut_alliance_1a_Conditions))
call TriggerAddAction(udg_trg_Lives_Cop_neut_alliance_1a,function Final_Battle_Run)
//call TriggerAddAction(udg_trg_Lives_Cop_neut_alliance_1a,function Final_Battle_Run_Neut_alliance)
endfunction
function Trig_initiate_send_in_neuts_Conditions takes nothing returns boolean
if(not(udg_SETTINGS_CHOICE2_YES==true))then
return false
endif
return true
endfunction
function Trig_initiate_send_in_neuts_Func001A takes nothing returns nothing
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Satyrs,bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Bottom,bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Neutral_Satyrs,GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Neutral_Bottom,GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
endfunction
function Trig_initiate_send_in_neuts_Func002A takes nothing returns nothing
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Satyrs,bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Bottom,bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Neutral_Satyrs,GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Neutral_Bottom,GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
endfunction
function Trig_initiate_send_in_neuts_Actions takes nothing returns nothing
call ForForce(udg_Humans,function Trig_initiate_send_in_neuts_Func001A)
call ForForce(udg_Evil,function Trig_initiate_send_in_neuts_Func002A)
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cff00ffffSince this event is taking too long, creeps are coming to help end it!|r")
call EnableTrigger(udg_trg_Send_in_the_neutrals_2)
call UpdateSharedVisionAll()
endfunction
function InitTrig_initiate_send_in_neuts takes nothing returns nothing
set udg_trg_initiate_send_in_neuts=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_initiate_send_in_neuts,2140.00)
call TriggerAddCondition(udg_trg_initiate_send_in_neuts,Condition(function Trig_initiate_send_in_neuts_Conditions))
call TriggerAddAction(udg_trg_initiate_send_in_neuts,function Trig_initiate_send_in_neuts_Actions)
endfunction
function Trig_FinalBattle_Runy_Copy_Conditions takes nothing returns boolean
if(not(udg_Neutral_Alliance_Chance==0))then
return false
endif
if(not(udg_SETTINGS_CHOICE1_YES==true))then
return false
endif
return true
endfunction
function Trig_FinalBattle_Runy_Copy_Func011A takes nothing returns nothing
call SmartCameraPanBJModified(GetEnumPlayer(),GetRectCenter(udg_rct_FB_Human_Spawn),0)
endfunction
function Trig_FinalBattle_Runy_Copy_Func012A takes nothing returns nothing
call SmartCameraPanBJModified(GetEnumPlayer(),GetRectCenter(udg_rct_FB_Undead_Spawn),0)
endfunction
function Trig_FinalBattle_Runy_Copy_Func014Func001Func003C takes nothing returns boolean
if((IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='etrp'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='etol'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='eaow'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00L'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00O'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00N'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00U'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00P'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00Q'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00R'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00S'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00M'))then
return true
endif
return false
endfunction
function Trig_FinalBattle_Runy_Copy_Func014Func001C takes nothing returns boolean
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Humans)==true))then
return false
endif
if(not Trig_FinalBattle_Runy_Copy_Func014Func001Func003C())then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false))then
return false
endif
return true
endfunction
function Trig_FinalBattle_Runy_Copy_Func014Func002C takes nothing returns boolean
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)==true))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false))then
return false
endif
return true
endfunction
function Trig_FinalBattle_Runy_Copy_Func014Func003C takes nothing returns boolean
if(not(IsPlayerAlly(GetOwningPlayer(GetEnumUnit()),Neutral_Bottom)==true))then
return false
endif
if(not(GetOwningPlayer(GetEnumUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Humans)==false))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)==false))then
return false
endif
return true
endfunction
function Trig_FinalBattle_Runy_Copy_Func014Func004C takes nothing returns boolean
if(not(IsPlayerAlly(GetOwningPlayer(GetEnumUnit()),Neutral_Satyrs)==true))then
return false
endif
if(not(GetOwningPlayer(GetEnumUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Humans)==false))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)==false))then
return false
endif
return true
endfunction
function Trig_FinalBattle_Runy_Copy_Func014Func006Func001C takes nothing returns boolean
if((IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='etrp'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='etol'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='eaow'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00L'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00O'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00N'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00U'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00P'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00Q'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00R'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00S'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00M'))then
return false
endif
return true
endfunction
function Trig_FinalBattle_Runy_Copy_Func014Func006A takes nothing returns nothing
if(Trig_FinalBattle_Runy_Copy_Func014Func006Func001C())then
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function Trig_FinalBattle_Runy_Copy_Func014A takes nothing returns nothing
if(Trig_FinalBattle_Runy_Copy_Func014Func001C())then
call SetUnitPositionLoc(GetEnumUnit(),GetRandomLocInRect(udg_rct_FB_Human_Spawn))
else
endif
if(Trig_FinalBattle_Runy_Copy_Func014Func002C())then
call SetUnitPositionLoc(GetEnumUnit(),GetRandomLocInRect(udg_rct_FB_Undead_Spawn))
else
endif
if(Trig_FinalBattle_Runy_Copy_Func014Func003C())then
call SetUnitPositionLoc(GetEnumUnit(),GetRandomLocInRect(udg_rct_FB_Neutral_Spawn_Undead_Side))
else
endif
if(Trig_FinalBattle_Runy_Copy_Func014Func004C())then
call SetUnitPositionLoc(GetEnumUnit(),GetRandomLocInRect(udg_rct_FB_Neutral_Spawn_Human_Side))
else
endif
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(udg_rct_WHOLE_MAP_NOT_DUEL),function Trig_FinalBattle_Runy_Copy_Func014Func006A)
endfunction
function Trig_FinalBattle_Runy_Copy_Func015C takes nothing returns boolean
if(not(IsDestructableDeadBJ(gg_dest_LTg3_4382)==true))then
return false
endif
return true
endfunction
function Trig_FinalBattle_Runy_Copy_Actions takes nothing returns nothing
    //call PrintHidden("Trig_FinalBattle_Runy_Copy_Actions")
call EnableFinalBattle()
call PauseTimerBJ(true,udg_CountdownTimer_Copy)
call DestroyTimerDialogBJ(udg_CountdownTimerWindow_Copy)
call EndThematicMusicBJ()
call StopMusicBJ(false)
call PlayMusicBJ(udg_snd_PH1)
call FogEnableOff()
call FogMaskEnableOff()
call ForForce(udg_Humans,function Trig_FinalBattle_Runy_Copy_Func011A)
call ForForce(udg_Evil,function Trig_FinalBattle_Runy_Copy_Func012A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatchingFiltered(GetPlayableMapRect()),function Trig_FinalBattle_Runy_Copy_Func014A)
if(Trig_FinalBattle_Runy_Copy_Func015C())then
call DestructableRestoreLife(gg_dest_LTg3_4382,GetDestructableMaxLife(gg_dest_LTg3_4382),true)
else
endif
call DisableTrigger(udg_trg_Dead_area_bot_left)
call DisableTrigger(udg_trg_Dead_area_bot_right)
call DisableTrigger(udg_trg_Dead_area_top_left)
call DisableTrigger(udg_trg_Dead_area_top_right_Copy)
call EnableTrigger(udg_trg_stop_tele_FB)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_FinalBattle_Runy_Copy takes nothing returns nothing
set udg_trg_Lives_Copy_Copy=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Lives_Copy_Copy,2460.00)
call TriggerAddCondition(udg_trg_Lives_Copy_Copy,Condition(function Trig_FinalBattle_Runy_Copy_Conditions))
call TriggerAddAction(udg_trg_Lives_Copy_Copy,function Final_Battle_Run)
endfunction
function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func001C takes nothing returns boolean
if((udg_Neutral_Alliance_Chance==1))then
return true
endif
if((udg_Neutral_Alliance_Chance==2))then
return true
endif
return false
endfunction
function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Conditions takes nothing returns boolean
if(not Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func001C())then
return false
endif
if(not(udg_SETTINGS_CHOICE1_YES==true))then
return false
endif
return true
endfunction
function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func011A takes nothing returns nothing
call SmartCameraPanBJModified(GetEnumPlayer(),GetRectCenter(udg_rct_FB_Human_Spawn),0)
endfunction
function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func012A takes nothing returns nothing
call SmartCameraPanBJModified(GetEnumPlayer(),GetRectCenter(udg_rct_FB_Undead_Spawn),0)
endfunction
function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func014Func001Func003C takes nothing returns boolean
if((IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='etrp'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='etol'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='eaow'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00L'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00O'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00N'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00U'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00P'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00Q'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00R'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00S'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='e00M'))then
return true
endif
return false
endfunction
function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func014Func001C takes nothing returns boolean
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Humans)==true))then
return false
endif
if(not Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func014Func001Func003C())then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false))then
return false
endif
return true
endfunction
function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func014A takes nothing returns nothing
if(Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func014Func001C())then
call SetUnitPositionLoc(GetEnumUnit(),GetRandomLocInRect(udg_rct_FB_Human_Spawn))
else
endif
endfunction
function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func016Func001C takes nothing returns boolean
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)==true))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false))then
return false
endif
return true
endfunction
function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func016A takes nothing returns nothing
if(Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func016Func001C())then
call SetUnitPositionLoc(GetEnumUnit(),GetRandomLocInRect(udg_rct_FB_Undead_Spawn))
else
endif
endfunction
function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func018Func001C takes nothing returns boolean
if(not(GetOwningPlayer(GetEnumUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(IsPlayerAlly(GetOwningPlayer(GetEnumUnit()),ForcePickRandomPlayer(udg_Humans))==true))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Humans)==false))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)==false))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false))then
return false
endif
return true
endfunction
function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func018A takes nothing returns nothing
if(Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func018Func001C())then
call SetUnitPositionLoc(GetEnumUnit(),GetRandomLocInRect(udg_rct_FB_Neutral_Spawn_Human_Side))
else
endif
endfunction
function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func020Func001C takes nothing returns boolean
if(not(GetOwningPlayer(GetEnumUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(IsPlayerAlly(GetOwningPlayer(GetEnumUnit()),ForcePickRandomPlayer(udg_Evil))==true))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Humans)==false))then
return false
endif
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)==false))then
return false
endif
return true
endfunction
function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func020A takes nothing returns nothing
if(Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func020Func001C())then
call SetUnitPositionLoc(GetEnumUnit(),GetRandomLocInRect(udg_rct_FB_Neutral_Spawn_Undead_Side))
else
endif
endfunction
function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func022Func001Func001C takes nothing returns boolean
if((GetOwningPlayer(GetEnumUnit())==Neutral_Satyrs))then
return true
endif
if((GetOwningPlayer(GetEnumUnit())==Neutral_Bottom))then
return true
endif
if((GetOwningPlayer(GetEnumUnit())==Neutral_Satyrs))then
return true
endif
return false
endfunction
function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func022Func001C takes nothing returns boolean
if(not Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func022Func001Func001C())then
return false
endif
return true
endfunction
function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func022A takes nothing returns nothing
if(Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func022Func001C())then
call GroupAddUnitSimple(GetEnumUnit(),udg_FB_Neutral_Group[1])
call IssueTargetDestructableOrder(GetEnumUnit(),"attack",gg_dest_LTg3_4382)
else
endif
endfunction
function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func024Func001Func001C takes nothing returns boolean
if((GetOwningPlayer(GetEnumUnit())==Neutral_Satyrs))then
return true
endif
if((GetOwningPlayer(GetEnumUnit())==Neutral_Bottom))then
return true
endif
if((GetOwningPlayer(GetEnumUnit())==Neutral_Satyrs))then
return true
endif
return false
endfunction
function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func024Func001C takes nothing returns boolean
if(not Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func024Func001Func001C())then
return false
endif
return true
endfunction
function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func024A takes nothing returns nothing
if(Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func024Func001C())then
call GroupAddUnitSimple(GetEnumUnit(),udg_FB_Neutral_Group[2])
call IssueTargetDestructableOrder(GetEnumUnit(),"attack",gg_dest_LTg3_4382)
else
endif
endfunction
function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func026Func001C takes nothing returns boolean
if((IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='etrp'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='etol'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='eaow'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00L'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00O'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00N'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00U'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00P'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00Q'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00R'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00S'))then
return false
endif
if((GetUnitTypeId(GetEnumUnit())=='e00M'))then
return false
endif
return true
endfunction
function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func026A takes nothing returns nothing
if(Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func026Func001C())then
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func027C takes nothing returns boolean
if(not(IsDestructableDeadBJ(gg_dest_LTg3_4382)==true))then
return false
endif
return true
endfunction
function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Actions takes nothing returns nothing
call EnableFinalBattle()
call PauseTimerBJ(true,udg_CountdownTimer_Copy)
call DestroyTimerDialogBJ(udg_CountdownTimerWindow_Copy)
call EndThematicMusicBJ()
call StopMusicBJ(false)
call PlayMusicBJ(udg_snd_PH1)
call FogEnableOff()
call FogMaskEnableOff()
call ForForce(udg_Humans,function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func011A)
call ForForce(udg_Evil,function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func012A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatchingFiltered(GetPlayableMapRect()),function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func014A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatchingFiltered(GetPlayableMapRect()),function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func016A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatchingFiltered(GetPlayableMapRect()),function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func018A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectMatchingFiltered(GetPlayableMapRect()),function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func020A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(udg_rct_FB_Neutral_Spawn_Undead_Side),function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func022A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(udg_rct_FB_Neutral_Spawn_Human_Side),function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func024A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(udg_rct_WHOLE_MAP_NOT_DUEL),function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func026A)
if(Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Func027C())then
call DestructableRestoreLife(gg_dest_LTg3_4382,GetDestructableMaxLife(gg_dest_LTg3_4382),true)
else
endif
call DisableTrigger(udg_trg_Dead_area_bot_left)
call DisableTrigger(udg_trg_Dead_area_bot_right)
call DisableTrigger(udg_trg_Dead_area_top_left)
call DisableTrigger(udg_trg_Dead_area_top_right_Copy)
call EnableTrigger(udg_trg_stop_tele_FB)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_FinalBattle_Runy_Copy_neut_alliance_1a takes nothing returns nothing
set udg_trg_Lives_Copy_Copy_neut_alliance_1a=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Lives_Copy_Copy_neut_alliance_1a,2460.00)
call TriggerAddCondition(udg_trg_Lives_Copy_Copy_neut_alliance_1a,Condition(function Trig_FinalBattle_Runy_Copy_neut_alliance_1a_Conditions))
call TriggerAddAction(udg_trg_Lives_Copy_Copy_neut_alliance_1a,function Final_Battle_Run)
//call TriggerAddAction(udg_trg_Lives_Copy_Copy_neut_alliance_1a,function Final_Battle_Run_Neut_alliance)
endfunction
function Trig_initiate_send_in_neutrals_Conditions takes nothing returns boolean
if(not(udg_SETTINGS_CHOICE2_YES==true))then
return false
endif
return true
endfunction
function Trig_initiate_send_in_neutrals_Func001A takes nothing returns nothing
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Satyrs,bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Bottom,bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Neutral_Satyrs,GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Neutral_Bottom,GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
endfunction
function Trig_initiate_send_in_neutrals_Func002A takes nothing returns nothing
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Satyrs,bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Bottom,bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Neutral_Satyrs,GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Neutral_Bottom,GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
endfunction
function Trig_initiate_send_in_neutrals_Actions takes nothing returns nothing
call ForForce(udg_Humans,function Trig_initiate_send_in_neutrals_Func001A)
call ForForce(udg_Evil,function Trig_initiate_send_in_neutrals_Func002A)
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cff00ffffSince this event is taking too long, creeps are coming to help end it!|r")
call EnableTrigger(udg_trg_Send_in_the_neutrals_2)
endfunction
function InitTrig_initiate_send_in_neutrals takes nothing returns nothing
set udg_trg_initiate_send_in_neutrals=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_initiate_send_in_neutrals,2860.00)
call TriggerAddCondition(udg_trg_initiate_send_in_neutrals,Condition(function Trig_initiate_send_in_neutrals_Conditions))
call TriggerAddAction(udg_trg_initiate_send_in_neutrals,function Trig_initiate_send_in_neutrals_Actions)
endfunction
function Trig_Gate_destroyed_Func003C takes nothing returns boolean
if((udg_Neutral_Alliance_Chance==1))then
return true
endif
if((udg_Neutral_Alliance_Chance==2))then
return true
endif
return false
endfunction
function Trig_Gate_destroyed_Conditions takes nothing returns boolean
if(not Trig_Gate_destroyed_Func003C())then
return false
endif
return true
endfunction
function Trig_Gate_destroyed_Func001A takes nothing returns nothing
call NeutralIssueOrderRandomLocInRect(GetLastCreatedUnit(),"patrol",udg_rct_FB_Human_Side)

endfunction
function Trig_Gate_destroyed_Func002A takes nothing returns nothing
call NeutralIssueOrderRandomLocInRect(GetLastCreatedUnit(),"patrol",udg_rct_FB_Undead_Side)
endfunction
function Trig_Gate_destroyed_Actions takes nothing returns nothing
call ForGroupBJ(udg_FB_Neutral_Group[1],function Trig_Gate_destroyed_Func001A)
call ForGroupBJ(udg_FB_Neutral_Group[2],function Trig_Gate_destroyed_Func002A)
endfunction
function InitTrig_Gate_destroyed takes nothing returns nothing
set udg_trg_Gate_destroyed=CreateTrigger()
call TriggerRegisterDeathEvent(udg_trg_Gate_destroyed,gg_dest_LTg3_4382)
call TriggerAddCondition(udg_trg_Gate_destroyed,Condition(function Trig_Gate_destroyed_Conditions))
call TriggerAddAction(udg_trg_Gate_destroyed,function Trig_Gate_destroyed_Actions)
endfunction
function Trig_Send_in_the_neutrals_2_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'ngsp',Neutral_Satyrs,GetRandomLocInRect(udg_rct_FB_Whole_Area),bj_UNIT_FACING)
call CreateNUnitsAtLocBonuses(1,'ngrd',Neutral_Satyrs,GetRandomLocInRect(udg_rct_FB_Whole_Area),bj_UNIT_FACING)
endfunction
function InitTrig_Send_in_the_neutrals_2 takes nothing returns nothing
set udg_trg_Send_in_the_neutrals_2=CreateTrigger()
call DisableTrigger(udg_trg_Send_in_the_neutrals_2)
call TriggerRegisterTimerEventPeriodic(udg_trg_Send_in_the_neutrals_2,4.00)
call TriggerAddAction(udg_trg_Send_in_the_neutrals_2,function Trig_Send_in_the_neutrals_2_Actions)
endfunction
function Trig_Final_Battle_Timer_Conditions takes nothing returns boolean
if(not(udg_EM_MODE==true))then
return false
endif
if(not(udg_SETTINGS_CHOICE2_YES==true))then
return false
endif
return true
endfunction
function Trig_Final_Battle_Timer_Actions takes nothing returns nothing
    //call PrintHidden("Trig_Final_Battle_Timer_Actions")
call StartTimerBJ(udg_CountdownTimer_Copy,false,540.00)
set udg_CountdownTimer_Copy=GetLastCreatedTimerBJ()
call CreateTimerDialogBJ(udg_CountdownTimer_Copy,"Final Battle")
set udg_CountdownTimerWindow_Copy=GetLastCreatedTimerDialogBJ()
call TimerDialogSetTitleColorBJ(GetLastCreatedTimerDialogBJ(),0.00,100.00,0.00,0)
call TimerDialogSetTimeColorBJ(GetLastCreatedTimerDialogBJ(),0.00,100.00,0.00,0)
endfunction
function InitTrig_Final_Battle_Timer takes nothing returns nothing
set udg_trg_Final_Battle_Timer=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Final_Battle_Timer,1260.00)
call TriggerAddCondition(udg_trg_Final_Battle_Timer,Condition(function Trig_Final_Battle_Timer_Conditions))
call TriggerAddAction(udg_trg_Final_Battle_Timer,function Trig_Final_Battle_Timer_Actions)
endfunction
function Trig_Final_Battle_Timer_Copy_Conditions takes nothing returns boolean
if(not(udg_EM_MODE==true))then
return false
endif
if(not(udg_SETTINGS_CHOICE1_YES==true))then
return false
endif
return true
endfunction
function Trig_Final_Battle_Timer_Copy_Actions takes nothing returns nothing
call StartTimerBJ(udg_CountdownTimer_Copy,false,540.00)
set udg_CountdownTimer_Copy=GetLastCreatedTimerBJ()
call CreateTimerDialogBJ(udg_CountdownTimer_Copy,"Final Battle")
set udg_CountdownTimerWindow_Copy=GetLastCreatedTimerDialogBJ()
call TimerDialogSetTitleColorBJ(GetLastCreatedTimerDialogBJ(),0.00,100.00,0.00,0)
call TimerDialogSetTimeColorBJ(GetLastCreatedTimerDialogBJ(),0.00,100.00,0.00,0)
endfunction
function InitTrig_Final_Battle_Timer_Copy takes nothing returns nothing
set udg_trg_Final_Battle_Timer_Copy=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Final_Battle_Timer_Copy,1920.00)
call TriggerAddCondition(udg_trg_Final_Battle_Timer_Copy,Condition(function Trig_Final_Battle_Timer_Copy_Conditions))
call TriggerAddAction(udg_trg_Final_Battle_Timer_Copy,function Trig_Final_Battle_Timer_Copy_Actions)
endfunction
function Trig_Multiboard_Conditions takes nothing returns boolean
if(not(udg_EM_MODE==true))then
return false
endif
return true
endfunction
function Trig_Multiboard_Actions takes nothing returns nothing
local integer playercnt_t = 0
set bj_forLoopAIndex=0
set bj_forLoopAIndexEnd=11
set playercnt_t= 0
loop 
    exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
    if(GetPlayerSlotState(Player(bj_forLoopAIndex))!=PLAYER_SLOT_STATE_EMPTY) then
        set playercnt_t = playercnt_t + 1
    endif
    set bj_forLoopAIndex = bj_forLoopAIndex + 1
endloop
call MultiboardSetRowCount(udg_LIVES_MULTIBOARD,playercnt_t+1)
call MultiboardSetTitleTextColorBJ(udg_LIVES_MULTIBOARD,0.00,100.00,0.00,0)
call MultiboardSetItemStyleBJ(udg_LIVES_MULTIBOARD,1,0,false,true)
call MultiboardSetItemStyleBJ(udg_LIVES_MULTIBOARD,2,0,true,false)
call MultiboardSetItemStyleBJ(udg_LIVES_MULTIBOARD,3,0,true,false)
call MultiboardSetItemStyleBJ(udg_LIVES_MULTIBOARD,1,1,false,false)
call MultiboardSetItemValueBJ(udg_LIVES_MULTIBOARD,2,1,"Player")
call MultiboardSetItemValueBJ(udg_LIVES_MULTIBOARD,3,1,"Lives")
call MultiboardSetItemWidthBJ(udg_LIVES_MULTIBOARD,1,0,4.00)
call MultiboardSetItemWidthBJ(udg_LIVES_MULTIBOARD,2,0,10.50)
call MultiboardSetItemWidthBJ(udg_LIVES_MULTIBOARD,3,0,4.00)
call MultiboardSetItemColorBJ(udg_LIVES_MULTIBOARD,2,0,100,80,20,0)
call MultiboardSetItemColorBJ(udg_LIVES_MULTIBOARD,3,0,0.00,100.00,0.00,0)
call MultiboardSetItemColorBJ(udg_LIVES_MULTIBOARD,0,1,100.00,100.00,100.00,0)
set bj_forLoopAIndex=0
set bj_forLoopAIndexEnd=11
set playercnt_t = 0
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(GetPlayerSlotState(Player(bj_forLoopAIndex))!=PLAYER_SLOT_STATE_EMPTY) then
    call MultiboardSetItemValueBJ(udg_LIVES_MULTIBOARD,2,playercnt_t+2,udg_AAA_Player_Colors[bj_forLoopAIndex+1])
    if(not (GetPlayerSlotState(Player(bj_forLoopAIndex))==PLAYER_SLOT_STATE_PLAYING))then
        call MultiboardSetItemIconBJ(udg_LIVES_MULTIBOARD,1,playercnt_t+2,"ReplaceableTextures\\CommandButtons\\BTNAcorn.blp")
    else
        if(IsPlayerInForce(Player(bj_forLoopAIndex),udg_Humans)) then
            call MultiboardSetItemIconBJ(udg_LIVES_MULTIBOARD,1,playercnt_t+2,"ReplaceableTextures\\CommandButtons\\BTNFootman.blp")
        else
        if(IsPlayerInForce(Player(bj_forLoopAIndex),udg_Evil)) then
            call MultiboardSetItemIconBJ(udg_LIVES_MULTIBOARD,1,playercnt_t+2,"ReplaceableTextures\\CommandButtons\\BTNAbomination.blp")
        else
            call MultiboardSetItemIconBJ(udg_LIVES_MULTIBOARD,1,playercnt_t+2,"ReplaceableTextures\\CommandButtons\\BTNPig.blp")
        endif
        endif
    endif
    call MultiboardSetItemValueBJ(udg_LIVES_MULTIBOARD,3,2+playercnt_t,I2S(lives[bj_forLoopAIndex]))


    set playercnt_t = playercnt_t + 1
endif
set bj_forLoopAIndex = bj_forLoopAIndex + 1
endloop
endfunction
function InitTrig_Multiboard takes nothing returns nothing
set udg_trg_Multiboard=CreateTrigger()
call DisableTrigger(udg_trg_Multiboard)
call TriggerRegisterTimerEventPeriodic(udg_trg_Multiboard,4.00)
call TriggerAddCondition(udg_trg_Multiboard,Condition(function Trig_Multiboard_Conditions))
call TriggerAddAction(udg_trg_Multiboard,function Trig_Multiboard_Actions)
endfunction
function Trig_Dead_area_top_left_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())!='n01G'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='n00U'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='n00T'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h02Q'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h02R'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u005'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u002'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u003'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='e00C'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u00Z'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h04Q'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h04A'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h054'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h04P'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='e012'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h05H'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h05I'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h03E'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h05J'))then
return false
endif
if(not(GetOwningPlayer(GetTriggerUnit())!=Neutral_Satyrs))then
return false
endif
if(not(GetOwningPlayer(GetTriggerUnit())!=Neutral_Bottom))then
return false
endif
if(not(GetOwningPlayer(GetTriggerUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
return true
endfunction

function BuffUnitThatEntersTpZone takes nothing returns nothing
    call AddSpecialEffectLocBJ(GetUnitLoc(GetEnteringUnit()),"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
    if(GetUnitTypeId(GetEnteringUnit())=='nvlk' or GetUnitTypeId(GetEnteringUnit())=='n03I') then
        call PlanUnitTargetOrder(general_tp_respawn_bufferex, GetEnteringUnit(), "innerfire", 0.01)
    else
        call PlanUnitTargetOrder(general_tp_respawn_buffer, GetEnteringUnit(), "innerfire", 0.01)
    endif
    call GroupAddUnit(TeleportedUnits,GetEnteringUnit())
    call PlanUnitRemovalFromGroup(GetEnteringUnit(),TeleportedUnits,0.001)
endfunction
function Trig_Dead_area_top_left_Actions takes nothing returns nothing
    call BuffUnitThatEntersTpZone()
call GroupRemoveUnit(GetneralControlledFroup,GetTriggerUnit())    
call GroupRemoveUnit(ControlledGroups[CONTROL_ID_RESURRECT],GetTriggerUnit()) 
call DisableTrigger(InitTrigger[CONTROL_ID_RESURRECT])   
call SetUnitPositionLoc(GetEnteringUnit(),GetRandomLocInRect(udg_rct_Trees_top_left))
call SmartCameraPanBJModified(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnteringUnit()),"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
call EnableTrigger(InitTrigger[CONTROL_ID_RESURRECT])
endfunction
function InitTrig_Dead_area_top_left takes nothing returns nothing
set udg_trg_Dead_area_top_left=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_Dead_area_top_left,udg_rct_Top_Left)
call TriggerAddCondition(udg_trg_Dead_area_top_left,Condition(function Trig_Dead_area_top_left_Conditions))
call TriggerAddAction(udg_trg_Dead_area_top_left,function Trig_Dead_area_top_left_Actions)
endfunction
function Trig_Dead_area_bot_left_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())!='n01G'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='n00U'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='n00T'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h02Q'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h02R'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u005'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u002'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u003'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='e00C'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u00Z'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h04Q'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h04A'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h054'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h04P'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='e012'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h05H'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h05I'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h03E'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h05J'))then
return false
endif
if(not(GetOwningPlayer(GetTriggerUnit())!=Neutral_Satyrs))then
return false
endif
if(not(GetOwningPlayer(GetTriggerUnit())!=Neutral_Bottom))then
return false
endif
if(not(GetOwningPlayer(GetTriggerUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
return true
endfunction
function Trig_Dead_area_bot_left_Actions takes nothing returns nothing
call BuffUnitThatEntersTpZone()
call GroupRemoveUnit(GetneralControlledFroup,GetTriggerUnit())    
call GroupRemoveUnit(ControlledGroups[CONTROL_ID_RESURRECT],GetTriggerUnit()) 
call DisableTrigger(InitTrigger[CONTROL_ID_RESURRECT])   
call SetUnitPositionLoc(GetEnteringUnit(),GetRandomLocInRect(udg_rct_bottom_left))
call SmartCameraPanBJModified(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnteringUnit()),"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
call EnableTrigger(InitTrigger[CONTROL_ID_RESURRECT])
endfunction
function InitTrig_Dead_area_bot_left takes nothing returns nothing
set udg_trg_Dead_area_bot_left=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_Dead_area_bot_left,udg_rct_Bottom_Left)
call TriggerAddCondition(udg_trg_Dead_area_bot_left,Condition(function Trig_Dead_area_bot_left_Conditions))
call TriggerAddAction(udg_trg_Dead_area_bot_left,function Trig_Dead_area_bot_left_Actions)
endfunction
function Trig_Dead_area_bot_right_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())!='n01G'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='n00U'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='n00T'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h02Q'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h02R'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u005'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u002'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u003'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='e00C'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u00Z'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h04Q'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h04A'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h054'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h04P'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='e012'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h05H'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h05I'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h03E'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h05J'))then
return false
endif
if(not(GetOwningPlayer(GetTriggerUnit())!=Neutral_Satyrs))then
return false
endif
if(not(GetOwningPlayer(GetTriggerUnit())!=Neutral_Bottom))then
return false
endif
if(not(GetOwningPlayer(GetTriggerUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
return true
endfunction
function Trig_Dead_area_bot_right_Actions takes nothing returns nothing
    call BuffUnitThatEntersTpZone()
    call GroupRemoveUnit(GetneralControlledFroup,GetTriggerUnit())    
    call GroupRemoveUnit(ControlledGroups[CONTROL_ID_RESURRECT],GetTriggerUnit()) 
    call DisableTrigger(InitTrigger[CONTROL_ID_RESURRECT])   
call SetUnitPositionLoc(GetEnteringUnit(),GetRandomLocInRect(udg_rct_Bot_right))
call SmartCameraPanBJModified(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnteringUnit()),"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
    call EnableTrigger(InitTrigger[CONTROL_ID_RESURRECT])
endfunction
function InitTrig_Dead_area_bot_right takes nothing returns nothing
set udg_trg_Dead_area_bot_right=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_Dead_area_bot_right,udg_rct_Bottom_Right)
call TriggerAddCondition(udg_trg_Dead_area_bot_right,Condition(function Trig_Dead_area_bot_right_Conditions))
call TriggerAddAction(udg_trg_Dead_area_bot_right,function Trig_Dead_area_bot_right_Actions)
endfunction
function Trig_Dead_area_top_right_Copy_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())!='n01G'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='n00U'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='n00T'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h02Q'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h02R'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u005'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u002'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u003'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='e00C'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h04Q'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h04A'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h054'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h04P'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='e012'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h05H'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h05I'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h03E'))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='h05J'))then
return false
endif
if(not(GetOwningPlayer(GetTriggerUnit())!=Neutral_Satyrs))then
return false
endif
if(not(GetOwningPlayer(GetTriggerUnit())!=Neutral_Bottom))then
return false
endif
if(not(GetOwningPlayer(GetTriggerUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())!='u00Z'))then
return false
endif
return true
endfunction
function Trig_Dead_area_top_right_Copy_Actions takes nothing returns nothing
call BuffUnitThatEntersTpZone()
call GroupRemoveUnit(GetneralControlledFroup,GetTriggerUnit())    
call GroupRemoveUnit(ControlledGroups[CONTROL_ID_RESURRECT],GetTriggerUnit()) 
call DisableTrigger(InitTrigger[CONTROL_ID_RESURRECT])   
call SetUnitPositionLoc(GetEnteringUnit(),GetRandomLocInRect(udg_rct_Trees_Right))
call SmartCameraPanBJModified(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnteringUnit()),"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
call EnableTrigger(InitTrigger[CONTROL_ID_RESURRECT])
endfunction
function InitTrig_Dead_area_top_right_Copy takes nothing returns nothing
set udg_trg_Dead_area_top_right_Copy=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_Dead_area_top_right_Copy,udg_rct_Top_Right)
call TriggerAddCondition(udg_trg_Dead_area_top_right_Copy,Condition(function Trig_Dead_area_top_right_Copy_Conditions))
call TriggerAddAction(udg_trg_Dead_area_top_right_Copy,function Trig_Dead_area_top_right_Copy_Actions)
endfunction
function Trig_stop_tele_FB_Func002C takes nothing returns boolean
if((GetSpellAbilityId()=='AImt'))then
return true
endif
if((GetSpellAbilityId()=='A0D6'))then
return true
endif
return false
endfunction
function Trig_stop_tele_FB_Conditions takes nothing returns boolean
if(not Trig_stop_tele_FB_Func002C())then
return false
endif
return true
endfunction
function Trig_stop_tele_FB_Actions takes nothing returns nothing
call IssueImmediateOrderBJ(GetTriggerUnit(),"stop")
endfunction
function InitTrig_stop_tele_FB takes nothing returns nothing
set udg_trg_stop_tele_FB=CreateTrigger()
call DisableTrigger(udg_trg_stop_tele_FB)
call TriggerRegisterAnyUnitEventBJ(udg_trg_stop_tele_FB,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(udg_trg_stop_tele_FB,Condition(function Trig_stop_tele_FB_Conditions))
call TriggerAddAction(udg_trg_stop_tele_FB,function Trig_stop_tele_FB_Actions)
endfunction
function Trig_coins_Func003C takes nothing returns boolean
if(not(udg_Topleft_integer_chance2==15))then
return false
endif
return true
endfunction
function Trig_coins_Actions takes nothing returns nothing
set udg_Topleft_integer_chance2=GetRandomInt(1,20)
set udg_Coin_Point=GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds)
if(Trig_coins_Func003C())then
set udg_Coin_Point=GetRandomLocInRect(udg_rct_Entire_map_excluding_outa_bounds_2)
call CreateItemLoc('gold',udg_Coin_Point)
call RemoveLocation(udg_Coin_Point)
set udg_Coin_Point=GetRandomLocInRect(udg_rct_Entire_map_excluding_outa_bounds_2)
call CreateRandomRune(GetLocationX(udg_Coin_Point),GetLocationY(udg_Coin_Point))
else
set udg_Coin_Point=GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds)
call CreateItemLoc('gold',udg_Coin_Point)
call RemoveLocation(udg_Coin_Point)
set udg_Coin_Point=GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds)
call CreateRandomRune(GetLocationX(udg_Coin_Point),GetLocationY(udg_Coin_Point))
endif
call RemoveLocation(udg_Coin_Point)
endfunction
function InitTrig_coins takes nothing returns nothing
set udg_trg_coins=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(udg_trg_coins,40.00)
call TriggerAddAction(udg_trg_coins,function Trig_coins_Actions)
endfunction
function Trig_Spawn_Golden_Chickens_Actions takes nothing returns nothing
call CreateNUnitsAtLoc(1,'n010',Player(PLAYER_NEUTRAL_PASSIVE),GetRandomLocInRect(udg_rct_The_ring_of_trees),bj_UNIT_FACING)
endfunction
function InitTrig_Spawn_Golden_Chickens takes nothing returns nothing
set udg_trg_Spawn_Golden_Chickens=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(udg_trg_Spawn_Golden_Chickens,190.00)
call TriggerAddAction(udg_trg_Spawn_Golden_Chickens,function Trig_Spawn_Golden_Chickens_Actions)
endfunction
function Trig_Golden_Chicken_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='n010'))then
return false
endif
if(IsUnitIllusionBJ(GetDyingUnit()))then
return false
endif
return true
endfunction
function Trig_Golden_Chicken_Actions takes nothing returns nothing
call Bounty(GetOwningPlayer(GetKillingUnitBJ()),50,GetUnitX(GetDyingUnit()),GetUnitY(GetDyingUnit()))
endfunction
function InitTrig_Golden_Chicken takes nothing returns nothing
set udg_trg_Golden_Chicken=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Golden_Chicken,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Golden_Chicken,Condition(function Trig_Golden_Chicken_Conditions))
call TriggerAddAction(udg_trg_Golden_Chicken,function Trig_Golden_Chicken_Actions)
endfunction
function Trig_Enable_Bunny_Spawn_Actions takes nothing returns nothing
call EnableTrigger(udg_trg_Spawn_Bunnies)
endfunction
function InitTrig_Enable_Bunny_Spawn takes nothing returns nothing
set udg_trg_Enable_Bunny_Spawn=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Enable_Bunny_Spawn,300.00)
call TriggerAddAction(udg_trg_Enable_Bunny_Spawn,function Trig_Enable_Bunny_Spawn_Actions)
endfunction
function Trig_Spawn_Bunnies_Actions takes nothing returns nothing
set udg_Rabbit_Point=GetRandomLocInRect(udg_rct_The_ring_of_trees)
call CreateNUnitsAtLoc(1,'necr',Player(PLAYER_NEUTRAL_PASSIVE),udg_Rabbit_Point,bj_UNIT_FACING)
call RemoveLocation(udg_Rabbit_Point)
endfunction
function InitTrig_Spawn_Bunnies takes nothing returns nothing
set udg_trg_Spawn_Bunnies=CreateTrigger()
call DisableTrigger(udg_trg_Spawn_Bunnies)
call TriggerRegisterTimerEventPeriodic(udg_trg_Spawn_Bunnies,11.00)
call TriggerAddAction(udg_trg_Spawn_Bunnies,function Trig_Spawn_Bunnies_Actions)
endfunction
function Trig_Spawn_furbolgs_p_Actions takes nothing returns nothing
set udg_Rabbit_Point=GetRandomLocInRect(udg_rct_The_ring_of_trees)
call CreateNUnitsAtLocBonuses(1,'nfrl',Neutral_Satyrs,udg_Rabbit_Point,bj_UNIT_FACING)
call RemoveLocation(udg_Rabbit_Point)
endfunction
function InitTrig_Spawn_furbolgs_p takes nothing returns nothing
set udg_trg_Spawn_furbolgs_p=CreateTrigger()
call DisableTrigger(udg_trg_Spawn_furbolgs_p)
call TriggerRegisterTimerEventPeriodic(udg_trg_Spawn_furbolgs_p,65.00)
call TriggerAddAction(udg_trg_Spawn_furbolgs_p,function Trig_Spawn_furbolgs_p_Actions)
endfunction
function Trig_Spawn_Special_Bunny_Func002C takes nothing returns boolean
if(not(udg_Topleft_integer_chance2==15))then
return false
endif
return true
endfunction
function Trig_Spawn_Special_Bunny_Actions takes nothing returns nothing
set udg_Topleft_integer_chance2=GetRandomInt(1,18)
if(Trig_Spawn_Special_Bunny_Func002C())then
set udg_Rabbit_Point=GetRandomLocInRect(udg_rct_Entire_map_excluding_outa_bounds_2)
call CreateNUnitsAtLocBonuses(1,'necr',Player(PLAYER_NEUTRAL_PASSIVE),udg_Rabbit_Point,bj_UNIT_FACING)
call SetUnitVertexColorBJ(GetLastCreatedUnit(),66.00,25.00,100,0)
else
set udg_Rabbit_Point=GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds)
call CreateNUnitsAtLocBonuses(1,'necr',Player(PLAYER_NEUTRAL_PASSIVE),udg_Rabbit_Point,bj_UNIT_FACING)
call SetUnitVertexColorBJ(GetLastCreatedUnit(),66.00,25.00,100,0)
endif
call RemoveLocation(udg_Rabbit_Point)
endfunction
function InitTrig_Spawn_Special_Bunny takes nothing returns nothing
set udg_trg_Spawn_Special_Bunny=CreateTrigger()
call DisableTrigger(udg_trg_Spawn_Special_Bunny)
call TriggerRegisterTimerEventPeriodic(udg_trg_Spawn_Special_Bunny,60.01)
call TriggerAddAction(udg_trg_Spawn_Special_Bunny,function Trig_Spawn_Special_Bunny_Actions)
endfunction
function Trig_Bunnies_stop_and_exp_on_Actions takes nothing returns nothing
    //call PrintHidden("Trig_Bunnies_stop_and_exp_on_Actions")
call PlaySoundBJ(udg_snd_Hint)
call KillSoundWhenDoneBJ(GetLastPlayedSound())
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffffa500Bunnies have stopped spawning and auto exp has been turned on|r")
call DisableTrigger(udg_trg_Spawn_Bunnies)
call EnableTrigger(udg_trg_Spawn_furbolgs_p)
call EnableTrigger(udg_trg_auto_exp)
endfunction
function InitTrig_Bunnies_stop_and_exp_on takes nothing returns nothing
set udg_trg_Bunnies_stop_and_exp_on=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Bunnies_stop_and_exp_on,1170.00)
call TriggerAddAction(udg_trg_Bunnies_stop_and_exp_on,function Trig_Bunnies_stop_and_exp_on_Actions)
endfunction
function Trig_auto_exp_Func001001002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_auto_exp_Func001001002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)
endfunction
function Trig_auto_exp_Func001001002002002 takes nothing returns boolean
return(IsUnitIllusionBJ(GetFilterUnit())==false)
endfunction
function Trig_auto_exp_Func001001002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true),(IsUnitIllusionBJ(GetFilterUnit())==false))
endfunction
function Trig_auto_exp_Func001001002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true),(IsUnitIllusionBJ(GetFilterUnit())==false))))
endfunction
function Trig_auto_exp_Func001A takes nothing returns nothing
call AddHeroXPSwapped(500,GetEnumUnit(),true)
endfunction
function Trig_auto_exp_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRectMatching(GetEntireMapRect(),Condition(function Trig_auto_exp_Func001001002)),function Trig_auto_exp_Func001A)
endfunction
function InitTrig_auto_exp takes nothing returns nothing
set udg_trg_auto_exp=CreateTrigger()
call DisableTrigger(udg_trg_auto_exp)
call TriggerRegisterTimerEventPeriodic(udg_trg_auto_exp,40.00)
call TriggerAddAction(udg_trg_auto_exp,function Trig_auto_exp_Actions)
endfunction
function Trig_Secret_Hero_3_Actions takes nothing returns nothing
call EnableTrigger(udg_trg_Secret_Hero_4)
call EnableTrigger(udg_trg_Secret_Hero_5)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Secret_Hero_3 takes nothing returns nothing
set udg_trg_Secret_Hero_3=CreateTrigger()
call DisableTrigger(udg_trg_Secret_Hero_3)
call TriggerRegisterPlayerKeyEventBJ(udg_trg_Secret_Hero_3,Player(6),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_DOWN)
call TriggerAddAction(udg_trg_Secret_Hero_3,function Trig_Secret_Hero_3_Actions)
endfunction
function Trig_Spawn_Giant_Rabbit_Actions takes nothing returns nothing
set udg_Rabbit_Point=GetRandomLocInRect(udg_rct_The_ring_of_trees)
call CreateNUnitsAtLoc(1,'n02G',Player(PLAYER_NEUTRAL_PASSIVE),udg_Rabbit_Point,bj_UNIT_FACING)
call RemoveLocation(udg_Rabbit_Point)
endfunction
function InitTrig_Spawn_Giant_Rabbit takes nothing returns nothing
set udg_trg_Spawn_Giant_Rabbit=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(udg_trg_Spawn_Giant_Rabbit,700.00)
call TriggerAddAction(udg_trg_Spawn_Giant_Rabbit,function Trig_Spawn_Giant_Rabbit_Actions)
endfunction
function Trig_Bunny_Exp_Func003C takes nothing returns boolean
if((GetUnitTypeId(GetDyingUnit())=='necr'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='n037'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nfrl'))then
return true
endif
return false
endfunction
function Trig_Bunny_Exp_Conditions takes nothing returns boolean
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)==true))then
return false
endif
if(not Trig_Bunny_Exp_Func003C())then
return false
endif
return true
endfunction
function Trig_Bunny_Exp_Actions takes nothing returns nothing
call AddHeroXPSwapped(500,GetKillingUnitBJ(),true)
endfunction
function InitTrig_Bunny_Exp takes nothing returns nothing
set udg_trg_Bunny_Exp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Bunny_Exp,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Bunny_Exp,Condition(function Trig_Bunny_Exp_Conditions))
call TriggerAddAction(udg_trg_Bunny_Exp,function Trig_Bunny_Exp_Actions)
endfunction
function Trig_Giant_Bunny_Exp_Conditions takes nothing returns boolean
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)==true))then
return false
endif
if(IsUnitIllusionBJ(GetDyingUnit()))then
return false
endif
if(not(GetUnitTypeId(GetDyingUnit())=='n02G'))then
return false
endif
return true
endfunction
function Trig_Giant_Bunny_Exp_Actions takes nothing returns nothing
call AddHeroXPSwapped(2400,GetKillingUnitBJ(),true)
endfunction
function InitTrig_Giant_Bunny_Exp takes nothing returns nothing
set udg_trg_Giant_Bunny_Exp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Giant_Bunny_Exp,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Giant_Bunny_Exp,Condition(function Trig_Giant_Bunny_Exp_Conditions))
call TriggerAddAction(udg_trg_Giant_Bunny_Exp,function Trig_Giant_Bunny_Exp_Actions)
endfunction
function Trig_Bunny_Tome_Drop_Func003C takes nothing returns boolean
if((GetUnitTypeId(GetDyingUnit())=='necr'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='n037'))then
return true
endif
if((GetUnitTypeId(GetDyingUnit())=='nfrl'))then
return true
endif
return false
endfunction
function Trig_Bunny_Tome_Drop_Conditions takes nothing returns boolean
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)==false))then
return false
endif
if(not Trig_Bunny_Tome_Drop_Func003C())then
return false
endif
return true
endfunction
function Trig_Bunny_Tome_Drop_Actions takes nothing returns nothing
call CreateItemLoc('manh',GetUnitLoc(GetDyingUnit()))
endfunction
function InitTrig_Bunny_Tome_Drop takes nothing returns nothing
set udg_trg_Bunny_Tome_Drop=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Bunny_Tome_Drop,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Bunny_Tome_Drop,Condition(function Trig_Bunny_Tome_Drop_Conditions))
call TriggerAddAction(udg_trg_Bunny_Tome_Drop,function Trig_Bunny_Tome_Drop_Actions)
endfunction
function Trig_Giant_Bunny_Tome_Drop_Conditions takes nothing returns boolean
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)==false))then
return false
endif
if(IsUnitIllusionBJ(GetDyingUnit()))then
return false
endif
if(not(GetUnitTypeId(GetDyingUnit())=='n02G'))then
return false
endif
return true
endfunction
function Trig_Giant_Bunny_Tome_Drop_Actions takes nothing returns nothing
call CreateItemLoc('I020',GetUnitLoc(GetDyingUnit()))
endfunction

function InitTrig_Giant_Bunny_Tome_Drop takes nothing returns nothing
set udg_trg_Giant_Bunny_Tome_Drop=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Giant_Bunny_Tome_Drop,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Giant_Bunny_Tome_Drop,Condition(function Trig_Giant_Bunny_Tome_Drop_Conditions))
call TriggerAddAction(udg_trg_Giant_Bunny_Tome_Drop,function Trig_Giant_Bunny_Tome_Drop_Actions)
endfunction
function Trig_raccoon_smoner_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03R')==true))then
return false
endif
return true
endfunction
function Trig_raccoon_smoner_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03R')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03P')==true))then
return false
endif
return true
endfunction
function Trig_raccoon_smoner_Actions takes nothing returns nothing
if(Trig_raccoon_smoner_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03P'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03R'))
call UnitAddItemByIdSwapped('I03Q',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_raccoon_smoner takes nothing returns nothing
set udg_trg_raccoon_smoner=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_raccoon_smoner,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_raccoon_smoner,Condition(function Trig_raccoon_smoner_Conditions))
call TriggerAddAction(udg_trg_raccoon_smoner,function Trig_raccoon_smoner_Actions)
endfunction
function Trig_pig_smoner_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03X')==true))then
return false
endif
return true
endfunction
function Trig_pig_smoner_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03X')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03Y')==true))then
return false
endif
return true
endfunction
function Trig_pig_smoner_Actions takes nothing returns nothing
if(Trig_pig_smoner_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03X'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03Y'))
call UnitAddItemByIdSwapped('I03W',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_pig_smoner takes nothing returns nothing
set udg_trg_pig_smoner=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_pig_smoner,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_pig_smoner,Condition(function Trig_pig_smoner_Conditions))
call TriggerAddAction(udg_trg_pig_smoner,function Trig_pig_smoner_Actions)
endfunction
function Trig_boots_tele_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'stel')==true))then
return false
endif
return true
endfunction
function Trig_boots_tele_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'stel')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00K')==true))then
return false
endif
return true
endfunction
function Trig_boots_tele_Func002C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'stel')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02G')==true))then
return false
endif
return true
endfunction
function Trig_boots_tele_Func003C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'stel')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00Y')==true))then
return false
endif
return true
endfunction
function Trig_boots_tele_Actions takes nothing returns nothing
if(Trig_boots_tele_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00K'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'stel'))
call UnitAddItemByIdSwapped('I039',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
if(Trig_boots_tele_Func002C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02G'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'stel'))
call UnitAddItemByIdSwapped('I03B',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
if(Trig_boots_tele_Func003C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00Y'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'stel'))
call UnitAddItemByIdSwapped('I03A',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_boots_tele takes nothing returns nothing
set udg_trg_boots_tele=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_boots_tele,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_boots_tele,Condition(function Trig_boots_tele_Conditions))
call TriggerAddAction(udg_trg_boots_tele,function Trig_boots_tele_Actions)
endfunction
function Trig_Venom_Orb_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I02V'))then
return false
endif
return true
endfunction
function Trig_Venom_Orb_Func001Func001C takes nothing returns boolean
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),udg_venomorb_int))=='I02V'))then
return false
endif
return true
endfunction
function Trig_Venom_Orb_Func002C takes nothing returns boolean
if(not(udg_OrbVenomItemAmount==2))then
return false
endif
return true
endfunction
function Trig_Venom_Orb_Actions takes nothing returns nothing
set udg_venomorb_int=1
loop
exitwhen udg_venomorb_int>6
if(Trig_Venom_Orb_Func001Func001C())then
set udg_OrbVenomItemAmount=(udg_OrbVenomItemAmount+1)
else
endif
set udg_venomorb_int=udg_venomorb_int+1
endloop
if(Trig_Venom_Orb_Func002C())then
call UnitRemoveItemSwapped(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I02V'),GetManipulatingUnit())
call RemoveItem(GetLastRemovedItem())
call UnitRemoveItemSwapped(GetItemOfTypeFromUnitBJ(GetManipulatingUnit(),'I02V'),GetManipulatingUnit())
call RemoveItem(GetLastRemovedItem())
call UnitAddItemByIdSwapped('I031',GetManipulatingUnit())
set udg_OrbVenomItemAmount=0
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
set udg_OrbVenomItemAmount=0
endif
endfunction
function InitTrig_Venom_Orb takes nothing returns nothing
set udg_trg_Venom_Orb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Venom_Orb,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Venom_Orb,Condition(function Trig_Venom_Orb_Conditions))
call TriggerAddAction(udg_trg_Venom_Orb,function Trig_Venom_Orb_Actions)
endfunction
function Trig_venom_orb_3_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I031')==true))then
return false
endif
return true
endfunction
function Trig_venom_orb_3_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I031')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02V')==true))then
return false
endif
return true
endfunction
function Trig_venom_orb_3_Actions takes nothing returns nothing
if(Trig_venom_orb_3_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02V'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I031'))
call UnitAddItemByIdSwapped('I02X',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_venom_orb_3 takes nothing returns nothing
set udg_trg_venom_orb_3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_venom_orb_3,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_venom_orb_3,Condition(function Trig_venom_orb_3_Conditions))
call TriggerAddAction(udg_trg_venom_orb_3,function Trig_venom_orb_3_Actions)
endfunction
function Trig_venom_orb_4_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02X')==true))then
return false
endif
return true
endfunction
function Trig_venom_orb_4_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02X')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02V')==true))then
return false
endif
return true
endfunction
function Trig_venom_orb_4_Actions takes nothing returns nothing
if(Trig_venom_orb_4_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02V'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02X'))
call UnitAddItemByIdSwapped('I02Y',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_venom_orb_4 takes nothing returns nothing
set udg_trg_venom_orb_4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_venom_orb_4,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_venom_orb_4,Condition(function Trig_venom_orb_4_Conditions))
call TriggerAddAction(udg_trg_venom_orb_4,function Trig_venom_orb_4_Actions)
endfunction
function Trig_venom_orb_5_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02Y')==true))then
return false
endif
return true
endfunction
function Trig_venom_orb_5_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02Y')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02V')==true))then
return false
endif
return true
endfunction
function Trig_venom_orb_5_Actions takes nothing returns nothing
if(Trig_venom_orb_5_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02V'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02Y'))
call UnitAddItemByIdSwapped('I02Z',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_venom_orb_5 takes nothing returns nothing
set udg_trg_venom_orb_5=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_venom_orb_5,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_venom_orb_5,Condition(function Trig_venom_orb_5_Conditions))
call TriggerAddAction(udg_trg_venom_orb_5,function Trig_venom_orb_5_Actions)
endfunction
function Trig_venom_orb_6_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02Z')==true))then
return false
endif
return true
endfunction
function Trig_venom_orb_6_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02Z')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02V')==true))then
return false
endif
return true
endfunction
function Trig_venom_orb_6_Actions takes nothing returns nothing
if(Trig_venom_orb_6_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02V'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02Z'))
call UnitAddItemByIdSwapped('I030',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_venom_orb_6 takes nothing returns nothing
set udg_trg_venom_orb_6=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_venom_orb_6,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_venom_orb_6,Condition(function Trig_venom_orb_6_Conditions))
call TriggerAddAction(udg_trg_venom_orb_6,function Trig_venom_orb_6_Actions)
endfunction
function Trig_venom_orb_7_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I030')==true))then
return false
endif
return true
endfunction
function Trig_venom_orb_7_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I030')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02V')==true))then
return false
endif
return true
endfunction
function Trig_venom_orb_7_Actions takes nothing returns nothing
if(Trig_venom_orb_7_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02V'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I030'))
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl")
call UnitAddItemByIdSwapped('I02W',GetTriggerUnit())
else
call DoNothing()
endif
endfunction
function InitTrig_venom_orb_7 takes nothing returns nothing
set udg_trg_venom_orb_7=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_venom_orb_7,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_venom_orb_7,Condition(function Trig_venom_orb_7_Conditions))
call TriggerAddAction(udg_trg_venom_orb_7,function Trig_venom_orb_7_Actions)
endfunction
function Trig_Steel_Sword_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I009')==true))then
return false
endif
return true
endfunction
function Trig_Steel_Sword_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I008')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I009')==true))then
return false
endif
return true
endfunction
function Trig_Steel_Sword_Actions takes nothing returns nothing
if(Trig_Steel_Sword_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I008'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I009'))
call UnitAddItemByIdSwapped('I00H',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_Steel_Sword takes nothing returns nothing
set udg_trg_Steel_Sword=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Steel_Sword,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Steel_Sword,Condition(function Trig_Steel_Sword_Conditions))
call TriggerAddAction(udg_trg_Steel_Sword,function Trig_Steel_Sword_Actions)
endfunction
function Trig_Mith_Sword_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00E')==true))then
return false
endif
return true
endfunction
function Trig_Mith_Sword_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00E')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00H')==true))then
return false
endif
return true
endfunction
function Trig_Mith_Sword_Actions takes nothing returns nothing
if(Trig_Mith_Sword_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00H'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00E'))
call UnitAddItemByIdSwapped('I00A',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_Mith_Sword takes nothing returns nothing
set udg_trg_Mith_Sword=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Mith_Sword,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Mith_Sword,Condition(function Trig_Mith_Sword_Conditions))
call TriggerAddAction(udg_trg_Mith_Sword,function Trig_Mith_Sword_Actions)
endfunction
function Trig_Moon_Spear_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I016')==true))then
return false
endif
return true
endfunction
function Trig_Moon_Spear_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I016')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00A')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'belv')==true))then
return false
endif
return true
endfunction
function Trig_Moon_Spear_Actions takes nothing returns nothing
if(Trig_Moon_Spear_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00A'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'belv'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I016'))
call UnitAddItemByIdSwapped('I015',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_Moon_Spear takes nothing returns nothing
set udg_trg_Moon_Spear=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Moon_Spear,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Moon_Spear,Condition(function Trig_Moon_Spear_Conditions))
call TriggerAddAction(udg_trg_Moon_Spear,function Trig_Moon_Spear_Actions)
endfunction
function Trig_Advanced_Moon_armor_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I012')==true))then
return false
endif
return true
endfunction
function Trig_Advanced_Moon_armor_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I007')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'bgst')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I012')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'rlif')==true))then
return false
endif
return true
endfunction
function Trig_Advanced_Moon_armor_Actions takes nothing returns nothing
if(Trig_Advanced_Moon_armor_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'bgst'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'rlif'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I012'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I007'))
call UnitAddItemByIdSwapped('I010',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_Advanced_Moon_armor takes nothing returns nothing
set udg_trg_Advanced_Moon_armor=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Advanced_Moon_armor,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Advanced_Moon_armor,Condition(function Trig_Advanced_Moon_armor_Conditions))
call TriggerAddAction(udg_trg_Advanced_Moon_armor,function Trig_Advanced_Moon_armor_Actions)
endfunction
function Trig_Crown_Of_Kings_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I014')==true))then
return false
endif
return true
endfunction
function Trig_Crown_Of_Kings_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I014')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'bgst')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'belv')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'ciri')==true))then
return false
endif
return true
endfunction
function Trig_Crown_Of_Kings_Actions takes nothing returns nothing
if(Trig_Crown_Of_Kings_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'bgst'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'ciri'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I014'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'belv'))
call UnitAddItemByIdSwapped('I013',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_Crown_Of_Kings takes nothing returns nothing
set udg_trg_Crown_Of_Kings=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Crown_Of_Kings,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Crown_Of_Kings,Condition(function Trig_Crown_Of_Kings_Conditions))
call TriggerAddAction(udg_trg_Crown_Of_Kings,function Trig_Crown_Of_Kings_Actions)
endfunction
function Trig_Treads_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00Z')==true))then
return false
endif
return true
endfunction
function Trig_Treads_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00Z')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I000')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'gcel')==true))then
return false
endif
return true
endfunction
function Trig_Treads_Actions takes nothing returns nothing
if(Trig_Treads_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00Z'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'gcel'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I000'))
call UnitAddItemByIdSwapped('I00Y',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_Treads takes nothing returns nothing
set udg_trg_Treads=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Treads,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Treads,Condition(function Trig_Treads_Conditions))
call TriggerAddAction(udg_trg_Treads,function Trig_Treads_Actions)
endfunction
function Trig_Reinforced_Leather_armor_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00G')==true))then
return false
endif
return true
endfunction
function Trig_Reinforced_Leather_armor_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00G')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I004')==true))then
return false
endif
return true
endfunction
function Trig_Reinforced_Leather_armor_Actions takes nothing returns nothing
if(Trig_Reinforced_Leather_armor_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I004'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00G'))
call UnitAddItemByIdSwapped('I005',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_Reinforced_Leather_armor takes nothing returns nothing
set udg_trg_Reinforced_Leather_armor=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Reinforced_Leather_armor,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Reinforced_Leather_armor,Condition(function Trig_Reinforced_Leather_armor_Conditions))
call TriggerAddAction(udg_trg_Reinforced_Leather_armor,function Trig_Reinforced_Leather_armor_Actions)
endfunction
function Trig_Dragonhide_armor_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00C')==true))then
return false
endif
return true
endfunction
function Trig_Dragonhide_armor_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00C')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I005')==true))then
return false
endif
return true
endfunction
function Trig_Dragonhide_armor_Actions takes nothing returns nothing
if(Trig_Dragonhide_armor_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I005'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00C'))
call UnitAddItemByIdSwapped('I006',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_Dragonhide_armor takes nothing returns nothing
set udg_trg_Dragonhide_armor=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Dragonhide_armor,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Dragonhide_armor,Condition(function Trig_Dragonhide_armor_Conditions))
call TriggerAddAction(udg_trg_Dragonhide_armor,function Trig_Dragonhide_armor_Actions)
endfunction
function Trig_Moon_Armor_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00F')==true))then
return false
endif
return true
endfunction
function Trig_Moon_Armor_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00F')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I006')==true))then
return false
endif
return true
endfunction
function Trig_Moon_Armor_Actions takes nothing returns nothing
if(Trig_Moon_Armor_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00F'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I006'))
call UnitAddItemByIdSwapped('I007',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_Moon_Armor takes nothing returns nothing
set udg_trg_Moon_Armor=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Moon_Armor,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Moon_Armor,Condition(function Trig_Moon_Armor_Conditions))
call TriggerAddAction(udg_trg_Moon_Armor,function Trig_Moon_Armor_Actions)
endfunction
function Trig_Boots_of_Super_Speed_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00J')==true))then
return false
endif
return true
endfunction
function Trig_Boots_of_Super_Speed_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00J')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'bspd')==true))then
return false
endif
return true
endfunction
function Trig_Boots_of_Super_Speed_Actions takes nothing returns nothing
if(Trig_Boots_of_Super_Speed_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'bspd'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00J'))
call UnitAddItemByIdSwapped('I000',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_Boots_of_Super_Speed takes nothing returns nothing
set udg_trg_Boots_of_Super_Speed=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Boots_of_Super_Speed,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Boots_of_Super_Speed,Condition(function Trig_Boots_of_Super_Speed_Conditions))
call TriggerAddAction(udg_trg_Boots_of_Super_Speed,function Trig_Boots_of_Super_Speed_Actions)
endfunction
function Trig_Boots_of_Ultra_Speed_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00L')==true))then
return false
endif
return true
endfunction
function Trig_Boots_of_Ultra_Speed_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00L')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I000')==true))then
return false
endif
return true
endfunction
function Trig_Boots_of_Ultra_Speed_Actions takes nothing returns nothing
if(Trig_Boots_of_Ultra_Speed_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I000'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00L'))
call UnitAddItemByIdSwapped('I00K',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_Boots_of_Ultra_Speed takes nothing returns nothing
set udg_trg_Boots_of_Ultra_Speed=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Boots_of_Ultra_Speed,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Boots_of_Ultra_Speed,Condition(function Trig_Boots_of_Ultra_Speed_Conditions))
call TriggerAddAction(udg_trg_Boots_of_Ultra_Speed,function Trig_Boots_of_Ultra_Speed_Actions)
endfunction
function Trig_Chitinous_Blade_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01S')==true))then
return false
endif
return true
endfunction
function Trig_Chitinous_Blade_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01S')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01O')==true))then
return false
endif
return true
endfunction
function Trig_Chitinous_Blade_Actions takes nothing returns nothing
if(Trig_Chitinous_Blade_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01S'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01O'))
call UnitAddItemByIdSwapped('I01H',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_Chitinous_Blade takes nothing returns nothing
set udg_trg_Chitinous_Blade=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Chitinous_Blade,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Chitinous_Blade,Condition(function Trig_Chitinous_Blade_Conditions))
call TriggerAddAction(udg_trg_Chitinous_Blade,function Trig_Chitinous_Blade_Actions)
endfunction
function Trig_Adv_Mechanical_Armor_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I048')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I045')==true))then
return false
endif
return true
endfunction
function Trig_Adv_Mechanical_Armor_Actions takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I048'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I045'))
call UnitAddItemByIdSwapped('I047',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function InitTrig_Adv_Mechanical_Armor takes nothing returns nothing
local trigger Crafitem=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Crafitem,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(Crafitem,Condition(function Trig_Adv_Mechanical_Armor_Conditions))
call TriggerAddAction(Crafitem,function Trig_Adv_Mechanical_Armor_Actions)
endfunction
function Trig_Adv_Mechanical_Weapon_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I043')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I040')==true))then
return false
endif
return true
endfunction
function Trig_Adv_Mechanical_Weapon_Actions takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I043'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I040'))
call UnitAddItemByIdSwapped('I041',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function InitTrig_Adv_Mechanical_Weapon takes nothing returns nothing
local trigger Crafitem=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Crafitem,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(Crafitem,Condition(function Trig_Adv_Mechanical_Weapon_Conditions))
call TriggerAddAction(Crafitem,function Trig_Adv_Mechanical_Weapon_Actions)
endfunction
function Trig_Final_Mechanical_Weapon_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I041')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I044')==true))then
return false
endif
return true
endfunction
function Trig_Final_Mechanical_Weapon_Actions takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I041'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I044'))
call UnitAddItemByIdSwapped('I042',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function InitTrig_Final_Mechanical_Weapon takes nothing returns nothing
local trigger Crafitem=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Crafitem,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(Crafitem,Condition(function Trig_Final_Mechanical_Weapon_Conditions))
call TriggerAddAction(Crafitem,function Trig_Final_Mechanical_Weapon_Actions)
endfunction
function Trig_Final_Mechanical_Armor_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I049')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I047')==true))then
return false
endif
return true
endfunction
function Trig_Final_Mechanical_Armor_Actions takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I049'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I047'))
call UnitAddItemByIdSwapped('I046',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function InitTrig_Final_Mechanical_Armor takes nothing returns nothing
local trigger Crafitem=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Crafitem,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(Crafitem,Condition(function Trig_Final_Mechanical_Armor_Conditions))
call TriggerAddAction(Crafitem,function Trig_Final_Mechanical_Armor_Actions)
endfunction
function Trig_Razor_Blade_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01T')==true))then
return false
endif
return true
endfunction
function Trig_Razor_Blade_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01T')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01H')==true))then
return false
endif
return true
endfunction
function Trig_Razor_Blade_Actions takes nothing returns nothing
if(Trig_Razor_Blade_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01H'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01T'))
call UnitAddItemByIdSwapped('I01Q',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_Razor_Blade takes nothing returns nothing
set udg_trg_Razor_Blade=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Razor_Blade,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Razor_Blade,Condition(function Trig_Razor_Blade_Conditions))
call TriggerAddAction(udg_trg_Razor_Blade,function Trig_Razor_Blade_Actions)
endfunction
function Trig_Chitinous_Scales_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01U')==true))then
return false
endif
return true
endfunction
function Trig_Chitinous_Scales_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01U')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01P')==true))then
return false
endif
return true
endfunction
function Trig_Chitinous_Scales_Actions takes nothing returns nothing
if(Trig_Chitinous_Scales_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01P'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01U'))
call UnitAddItemByIdSwapped('I01I',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_Chitinous_Scales takes nothing returns nothing
set udg_trg_Chitinous_Scales=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Chitinous_Scales,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Chitinous_Scales,Condition(function Trig_Chitinous_Scales_Conditions))
call TriggerAddAction(udg_trg_Chitinous_Scales,function Trig_Chitinous_Scales_Actions)
endfunction
function Trig_Razor_Scales_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01V')==true))then
return false
endif
return true
endfunction
function Trig_Razor_Scales_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01V')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01I')==true))then
return false
endif
return true
endfunction
function Trig_Razor_Scales_Actions takes nothing returns nothing
if(Trig_Razor_Scales_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01V'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01I'))
call UnitAddItemByIdSwapped('I01R',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_Razor_Scales takes nothing returns nothing
set udg_trg_Razor_Scales=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Razor_Scales,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Razor_Scales,Condition(function Trig_Razor_Scales_Conditions))
call TriggerAddAction(udg_trg_Razor_Scales,function Trig_Razor_Scales_Actions)
endfunction
function Trig_Ring_of_Health_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01X')==true))then
return false
endif
return true
endfunction
function Trig_Ring_of_Health_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I01X')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'rlif')==true))then
return false
endif
return true
endfunction
function Trig_Ring_of_Health_Actions takes nothing returns nothing
if(Trig_Ring_of_Health_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01X'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'rlif'))
call UnitAddItemByIdSwapped('I01W',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_Ring_of_Health takes nothing returns nothing
set udg_trg_Ring_of_Health=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Ring_of_Health,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Ring_of_Health,Condition(function Trig_Ring_of_Health_Conditions))
call TriggerAddAction(udg_trg_Ring_of_Health,function Trig_Ring_of_Health_Actions)
endfunction
function Trig_Ring_of_int_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02H')==true))then
return false
endif
return true
endfunction
function Trig_Ring_of_int_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02H')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02E')==true))then
return false
endif
return true
endfunction
function Trig_Ring_of_int_Actions takes nothing returns nothing
if(Trig_Ring_of_int_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02E'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02H'))
call UnitAddItemByIdSwapped('I02F',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_Ring_of_int takes nothing returns nothing
set udg_trg_Ring_of_int=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Ring_of_int,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Ring_of_int,Condition(function Trig_Ring_of_int_Conditions))
call TriggerAddAction(udg_trg_Ring_of_int,function Trig_Ring_of_int_Actions)
endfunction
function Trig_Webs_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02P')==true))then
return false
endif
return true
endfunction
function Trig_Webs_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02P')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I024')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I015')==true))then
return false
endif
return true
endfunction
function Trig_Webs_Actions takes nothing returns nothing
if(Trig_Webs_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02P'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I024'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I015'))
call UnitAddItemByIdSwapped('I02O',GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DoNothing()
endif
endfunction
function InitTrig_Webs takes nothing returns nothing
set udg_trg_Webs=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Webs,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Webs,Condition(function Trig_Webs_Conditions))
call TriggerAddAction(udg_trg_Webs,function Trig_Webs_Actions)
endfunction
function Trig_baneful_force_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I038')==true))then
return false
endif
return true
endfunction
function Trig_baneful_force_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I038')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I010')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I015')==true))then
return false
endif
return true
endfunction
function Trig_baneful_force_Actions takes nothing returns nothing
if(Trig_baneful_force_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I038'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I010'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I015'))
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I037',GetTriggerUnit())
else
call DoNothing()
endif
endfunction
function InitTrig_baneful_force takes nothing returns nothing
set udg_trg_baneful_force=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_baneful_force,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_baneful_force,Condition(function Trig_baneful_force_Conditions))
call TriggerAddAction(udg_trg_baneful_force,function Trig_baneful_force_Actions)
endfunction
function Trig_Cloack_of_Flames_2_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02T')==true))then
return false
endif
return true
endfunction
function Trig_Cloack_of_Flames_2_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02T')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'clfm')==true))then
return false
endif
return true
endfunction
function Trig_Cloack_of_Flames_2_Actions takes nothing returns nothing
if(Trig_Cloack_of_Flames_2_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02T'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'clfm'))
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I02R',GetTriggerUnit())
else
call DoNothing()
endif
endfunction
function InitTrig_Cloack_of_Flames_2 takes nothing returns nothing
set udg_trg_Cloack_of_Flames_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Cloack_of_Flames_2,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Cloack_of_Flames_2,Condition(function Trig_Cloack_of_Flames_2_Conditions))
call TriggerAddAction(udg_trg_Cloack_of_Flames_2,function Trig_Cloack_of_Flames_2_Actions)
endfunction
function Trig_Cloack_of_Flames_3_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02U')==true))then
return false
endif
return true
endfunction
function Trig_Cloack_of_Flames_3_Func002C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02U')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02R')==true))then
return false
endif
return true
endfunction
function Trig_Cloack_of_Flames_3_Actions takes nothing returns nothing
if(Trig_Cloack_of_Flames_3_Func002C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02R'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02U'))
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I02S',GetTriggerUnit())
else
call DoNothing()
endif
endfunction
function InitTrig_Cloack_of_Flames_3 takes nothing returns nothing
set udg_trg_Cloack_of_Flames_3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Cloack_of_Flames_3,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Cloack_of_Flames_3,Condition(function Trig_Cloack_of_Flames_3_Conditions))
call TriggerAddAction(udg_trg_Cloack_of_Flames_3,function Trig_Cloack_of_Flames_3_Actions)
endfunction
function Trig_ult_robe_magi_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I034')==true))then
return false
endif
return true
endfunction
function Trig_ult_robe_magi_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I034')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02F')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'ciri')==true))then
return false
endif
return true
endfunction
function Trig_ult_robe_magi_Actions takes nothing returns nothing
if(Trig_ult_robe_magi_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02F'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I034'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'ciri'))
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I033',GetTriggerUnit())
else
call DoNothing()
endif
endfunction
function InitTrig_ult_robe_magi takes nothing returns nothing
set udg_trg_ult_robe_magi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_ult_robe_magi,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_ult_robe_magi,Condition(function Trig_ult_robe_magi_Conditions))
call TriggerAddAction(udg_trg_ult_robe_magi,function Trig_ult_robe_magi_Actions)
endfunction
function Trig_Moon_Claws_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03C')==true))then
return false
endif
return true
endfunction
function Trig_Moon_Claws_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03C')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I015')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03D')==true))then
return false
endif
return true
endfunction
function Trig_Moon_Claws_Actions takes nothing returns nothing
if(Trig_Moon_Claws_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03C'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I015'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03D'))
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I03E',GetTriggerUnit())
else
call DoNothing()
endif
endfunction
function InitTrig_Moon_Claws takes nothing returns nothing
set udg_trg_Moon_Claws=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Moon_Claws,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Moon_Claws,Condition(function Trig_Moon_Claws_Conditions))
call TriggerAddAction(udg_trg_Moon_Claws,function Trig_Moon_Claws_Actions)
endfunction
function Trig_Totem_of_Speed_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03H')==true))then
return false
endif
return true
endfunction
function Trig_Totem_of_Speed_Func001C takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03H')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03F')==true))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'belv')==true))then
return false
endif
return true
endfunction
function Trig_Totem_of_Speed_Actions takes nothing returns nothing
if(Trig_Totem_of_Speed_Func001C())then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03F'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'belv'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03H'))
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Items\\ResourceItems\\ResourceEffectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitAddItemByIdSwapped('I03G',GetTriggerUnit())
else
call DoNothing()
endif
endfunction
function InitTrig_Totem_of_Speed takes nothing returns nothing
set udg_trg_Totem_of_Speed=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Totem_of_Speed,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Totem_of_Speed,Condition(function Trig_Totem_of_Speed_Conditions))
call TriggerAddAction(udg_trg_Totem_of_Speed,function Trig_Totem_of_Speed_Actions)
endfunction
function HolyBirds___SETUP_DURATION takes nothing returns nothing
set udg_HolyBirds___DURATION[1]=7.5
set udg_HolyBirds___DURATION[2]=10.0
set udg_HolyBirds___DURATION[3]=12.5
endfunction
function HolyBirds___SETUP_DAMAGE takes nothing returns nothing
set udg_HolyBirds___DAMAGE[1]=40.0
set udg_HolyBirds___DAMAGE[2]=80.0
set udg_HolyBirds___DAMAGE[3]=120.0
endfunction
function HolyBirds___SETUP_HEAL takes nothing returns nothing
set udg_HolyBirds___HEAL[1]=30
set udg_HolyBirds___HEAL[2]=60
set udg_HolyBirds___HEAL[3]=90
endfunction
function s__HolyBirds___spelldata_create takes unit caster returns integer
local integer this=s__HolyBirds___spelldata__allocate()
local integer i=0
local real pos=(GetUnitFacing(caster)+360/ HolyBirds___MISSILES+90)*bj_DEGTORAD
set udg_s__HolyBirds___spelldata_caster[this]=caster
set udg_s__HolyBirds___spelldata_lvl[this]=GetUnitAbilityLevel(udg_s__HolyBirds___spelldata_caster[this],HolyBirds___SPELL_ID)
set udg_s__HolyBirds___spelldata_t[this]=(NewTimerEx(0))
loop
set udg_s___HolyBirds___spelldata_missile[udg_s__HolyBirds___spelldata_missile[this]+i]=s__xefx_create(GetUnitX(udg_s__HolyBirds___spelldata_caster[this])+HolyBirds___MISSILE_DISTANCE*Cos(pos),GetUnitY(udg_s__HolyBirds___spelldata_caster[this])+HolyBirds___MISSILE_DISTANCE*Sin(pos),pos+bj_PI/ 2)
call s__xefx__set_fxpath(udg_s___HolyBirds___spelldata_missile[udg_s__HolyBirds___spelldata_missile[this]+i],HolyBirds___MISSILE_MODEL)
call s__xefx__set_scale(udg_s___HolyBirds___spelldata_missile[udg_s__HolyBirds___spelldata_missile[this]+i],HolyBirds___MISSILE_SIZE)
call SetUnitFlyHeight(udg_s__xefx_dummy[(udg_s___HolyBirds___spelldata_missile[udg_s__HolyBirds___spelldata_missile[this]+i])],((HolyBirds___MISSILE_HEIGH)*1.0),0)
call s__xefx_recolor(udg_s___HolyBirds___spelldata_missile[udg_s__HolyBirds___spelldata_missile[this]+i],HolyBirds___MISSILE_RED,HolyBirds___MISSILE_GREEN,HolyBirds___MISSILE_BLUE,HolyBirds___MISSILE_ALPHA)
set pos=pos+(2*bj_PI/ HolyBirds___MISSILES)
set udg_s___HolyBirds___spelldata_targets[udg_s__HolyBirds___spelldata_targets[this]+i]=NewGroup()
set i=i+1
exitwhen i>=HolyBirds___MISSILES
endloop
call SaveInteger(udg_TimerUtils__ht,0,GetHandleId((udg_s__HolyBirds___spelldata_t[this])),(this))
call TimerStart(udg_s__HolyBirds___spelldata_t[this],XE_ANIMATION_PERIOD,true,function sc__HolyBirds___spelldata_periodic)
return this
endfunction
function s__HolyBirds___spelldata_onDestroy takes integer this returns nothing
local integer i=0
call UnitRemoveAbility(udg_s__HolyBirds___spelldata_caster[this],HolyBirds___BUFF_ID)
loop
call s__xefx_deallocate(udg_s___HolyBirds___spelldata_missile[udg_s__HolyBirds___spelldata_missile[this]+i])
call ReleaseGroup(udg_s___HolyBirds___spelldata_targets[udg_s__HolyBirds___spelldata_targets[this]+i])
set i=i+1
exitwhen i>=HolyBirds___MISSILES
endloop
endfunction
function s__HolyBirds___spelldata_deallocate takes integer this returns nothing
if this==null then
return
elseif(udg_si__HolyBirds___spelldata_V[this]!=-1)then
return
endif
call s__HolyBirds___spelldata_onDestroy(this)
set udg_si__HolyBirds___spelldata_V[this]=udg_si__HolyBirds___spelldata_F
set udg_si__HolyBirds___spelldata_F=this
endfunction
function s__HolyBirds___spelldata_FilterFunc takes nothing returns boolean
return GetWidgetLife(GetFilterUnit())>0.405 and GetUnitAbilityLevel(GetFilterUnit(),'Amim')<=0 and not IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)and not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)and not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)
endfunction
function s__HolyBirds___spelldata_DamageHeal takes integer this,unit u returns nothing
if IsUnitAlly(u,GetOwningPlayer(udg_s__HolyBirds___spelldata_caster[this]))and u!=udg_s__HolyBirds___spelldata_caster[this]then
call DestroyEffect(AddSpecialEffectTarget(HolyBirds___HEAL_EFFECT,u,HolyBirds___HEAL_EFFECT_ATTACH))
call SetWidgetLife(u,GetWidgetLife(u)+udg_HolyBirds___HEAL[udg_s__HolyBirds___spelldata_lvl[this]])
call DestroyEffect(AddSpecialEffectTarget(HolyBirds___CASTER_HEAL_EFFECT,udg_s__HolyBirds___spelldata_caster[this],HolyBirds___C_H_EFFECT_ATTACH))
call SetWidgetLife(udg_s__HolyBirds___spelldata_caster[this],GetWidgetLife(udg_s__HolyBirds___spelldata_caster[this])+udg_HolyBirds___HEAL[udg_s__HolyBirds___spelldata_lvl[this]]*HolyBirds___CASTER_HEAL_PERCENT)
elseif IsUnitEnemy(u,GetOwningPlayer(udg_s__HolyBirds___spelldata_caster[this]))then
call DestroyEffect(AddSpecialEffectTarget(HolyBirds___DAMAGE_EFFECT,u,HolyBirds___DMG_EFFECT_ATTACH))
call s__xedamage_damageTarget(udg_s__HolyBirds___spelldata_dmg,udg_s__HolyBirds___spelldata_caster[this],u,udg_HolyBirds___DAMAGE[udg_s__HolyBirds___spelldata_lvl[this]])
endif
endfunction
function s__HolyBirds___spelldata_periodic takes nothing returns nothing
local integer this=((LoadInteger(udg_TimerUtils__ht,0,GetHandleId((GetExpiredTimer())))))
local integer i=0
local unit u=null
set udg_s__HolyBirds___spelldata_duration[this]=udg_s__HolyBirds___spelldata_duration[this]+XE_ANIMATION_PERIOD
loop
exitwhen i>=HolyBirds___MISSILES
call SetUnitFacing(udg_s__xefx_dummy[(udg_s___HolyBirds___spelldata_missile[udg_s__HolyBirds___spelldata_missile[this]+i])],(((GetUnitFacing(udg_s__xefx_dummy[(udg_s___HolyBirds___spelldata_missile[udg_s__HolyBirds___spelldata_missile[this]+i])])*bj_DEGTORAD)+(HolyBirds___MISSILE_SPEED*XE_ANIMATION_PERIOD*XE_ANIMATION_PERIOD))*1.0)*bj_RADTODEG)
call SetUnitX(udg_s__xefx_dummy[(udg_s___HolyBirds___spelldata_missile[udg_s__HolyBirds___spelldata_missile[this]+i])],((GetUnitX(udg_s__HolyBirds___spelldata_caster[this])+HolyBirds___MISSILE_DISTANCE*Cos((GetUnitFacing(udg_s__xefx_dummy[(udg_s___HolyBirds___spelldata_missile[udg_s__HolyBirds___spelldata_missile[this]+i])])*bj_DEGTORAD)-bj_PI/ 2))*1.0))
call SetUnitY(udg_s__xefx_dummy[(udg_s___HolyBirds___spelldata_missile[udg_s__HolyBirds___spelldata_missile[this]+i])],((GetUnitY(udg_s__HolyBirds___spelldata_caster[this])+HolyBirds___MISSILE_DISTANCE*Sin((GetUnitFacing(udg_s__xefx_dummy[(udg_s___HolyBirds___spelldata_missile[udg_s__HolyBirds___spelldata_missile[this]+i])])*bj_DEGTORAD)-bj_PI/ 2))*1.0))
call GroupEnumUnitsInRange(udg_s__HolyBirds___spelldata_group,(GetUnitX(udg_s__xefx_dummy[(udg_s___HolyBirds___spelldata_missile[udg_s__HolyBirds___spelldata_missile[this]+i])])),(GetUnitY(udg_s__xefx_dummy[(udg_s___HolyBirds___spelldata_missile[udg_s__HolyBirds___spelldata_missile[this]+i])])),HolyBirds___AOE,udg_s__HolyBirds___spelldata_filter)
loop
set u=FirstOfGroup(udg_s__HolyBirds___spelldata_group)
exitwhen u==null
if not IsUnitInGroup(u,udg_s___HolyBirds___spelldata_targets[udg_s__HolyBirds___spelldata_targets[this]+i])then
call GroupAddUnit(udg_s___HolyBirds___spelldata_targets[udg_s__HolyBirds___spelldata_targets[this]+i],u)
call s__HolyBirds___spelldata_DamageHeal(this,u)
endif
call GroupRemoveUnit(udg_s__HolyBirds___spelldata_group,u)
endloop
set i=i+1
endloop
if udg_s__HolyBirds___spelldata_duration[this]>=udg_HolyBirds___DURATION[udg_s__HolyBirds___spelldata_lvl[this]]or GetUnitAbilityLevel(udg_s__HolyBirds___spelldata_caster[this],HolyBirds___BUFF_ID)<=0 or GetWidgetLife(udg_s__HolyBirds___spelldata_caster[this])<=0.405 then
call s__HolyBirds___spelldata_deallocate(this)
call ReleaseTimer(GetExpiredTimer())
endif
endfunction
function s__HolyBirds___spelldata_register takes nothing returns boolean
local unit u=GetTriggerUnit()
if GetSpellAbilityId()==HolyBirds___SPELL_ID and GetUnitAbilityLevel(u,HolyBirds___BUFF_ID)<=0 then
call s__HolyBirds___spelldata_create(u)
set u=null
return true
endif
return false
endfunction
function s__HolyBirds___spelldata_onInit takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(t,Condition(function s__HolyBirds___spelldata_register))
call HolyBirds___SETUP_DURATION()
call HolyBirds___SETUP_DAMAGE()
call HolyBirds___SETUP_HEAL()
set udg_s__HolyBirds___spelldata_dmg=s__xedamage__allocate()
set udg_s__HolyBirds___spelldata_group=NewGroup()
set udg_s__HolyBirds___spelldata_filter=Condition(function s__HolyBirds___spelldata_FilterFunc)
call UnitAddAbility(udg_xepreload___dum,(HolyBirds___SPELL_ID))
set t=null
endfunction
function Trig_Builder_Lumber_Income_Every_Seccond_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffEvents==false))then
return false
endif
return true
endfunction
function Trig_Builder_Lumber_Income_Every_Seccond_Func002002 takes nothing returns nothing
call AdjustPlayerStateBJ(1,GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
endfunction
function Trig_Builder_Lumber_Income_Every_Seccond_Actions takes nothing returns nothing
call ForForce(udg_Humans,function Trig_Builder_Lumber_Income_Every_Seccond_Func002002)
endfunction
function InitTrig_Builder_Lumber_Income_Every_Seccond takes nothing returns nothing
set udg_trg_Builder_Lumber_Income_Every_Seccond=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(udg_trg_Builder_Lumber_Income_Every_Seccond,1.00)
call TriggerAddCondition(udg_trg_Builder_Lumber_Income_Every_Seccond,Condition(function Trig_Builder_Lumber_Income_Every_Seccond_Conditions))
call TriggerAddAction(udg_trg_Builder_Lumber_Income_Every_Seccond,function Trig_Builder_Lumber_Income_Every_Seccond_Actions)
endfunction
function Trig_Builder_Lumber_Income_Every_Five_Secconds_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffEvents==false))then
return false
endif
return true
endfunction
function Trig_Builder_Lumber_Income_Every_Five_Secconds_Func002001002 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())=='h009')
endfunction
function Trig_Builder_Lumber_Income_Every_Five_Secconds_Func002A takes nothing returns nothing
call AdjustPlayerStateBJ(5,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_LUMBER)
endfunction
function Trig_Builder_Lumber_Income_Every_Five_Secconds_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRectMatching(GetPlayableMapRect(),Condition(function Trig_Builder_Lumber_Income_Every_Five_Secconds_Func002001002)),function Trig_Builder_Lumber_Income_Every_Five_Secconds_Func002A)
endfunction
function InitTrig_Builder_Lumber_Income_Every_Five_Secconds takes nothing returns nothing
set udg_trg_Builder_Lumber_Income_Every_Five_Secconds=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(udg_trg_Builder_Lumber_Income_Every_Five_Secconds,5.00)
call TriggerAddCondition(udg_trg_Builder_Lumber_Income_Every_Five_Secconds,Condition(function Trig_Builder_Lumber_Income_Every_Five_Secconds_Conditions))
call TriggerAddAction(udg_trg_Builder_Lumber_Income_Every_Five_Secconds,function Trig_Builder_Lumber_Income_Every_Five_Secconds_Actions)
endfunction
function Trig_Undead_Gold_Income_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffEvents==false))then
return false
endif
return true
endfunction
function Trig_Undead_Gold_Income_Func002Func001001 takes nothing returns boolean
return(GetPlayerSlotState(GetEnumPlayer())==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_Undead_Gold_Income_Func002A takes nothing returns nothing
call SetPlayerStateBJ(GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)+1))
endfunction
function Trig_Undead_Gold_Income_Actions takes nothing returns nothing
call ForForce(udg_Evil,function Trig_Undead_Gold_Income_Func002A)
endfunction
function InitTrig_Undead_Gold_Income takes nothing returns nothing
set udg_trg_Undead_Gold_Income=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(udg_trg_Undead_Gold_Income,4.60)
call TriggerAddCondition(udg_trg_Undead_Gold_Income,Condition(function Trig_Undead_Gold_Income_Conditions))
call TriggerAddAction(udg_trg_Undead_Gold_Income,function Trig_Undead_Gold_Income_Actions)
endfunction
function Trig_Movement_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffEvents==false))then
return false
endif
return true
endfunction
function Trig_Movement_Actions takes nothing returns nothing
call IssuePointOrderLocBJ(udg_unit_nzep_0261,"move",GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds))
endfunction
function InitTrig_Movement takes nothing returns nothing
set udg_trg_Movement=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(udg_trg_Movement,8.00)
call TriggerAddCondition(udg_trg_Movement,Condition(function Trig_Movement_Conditions))
call TriggerAddAction(udg_trg_Movement,function Trig_Movement_Actions)
endfunction
function Trig_Drop_Dust_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffEvents==false))then
return false
endif
return true
endfunction
function Trig_Drop_Dust_Actions takes nothing returns nothing
call CreateItemLoc('dust',GetUnitLoc(udg_unit_nzep_0261))
call AddSpecialEffectLocBJ(GetItemLoc(GetLastCreatedItem()),"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function InitTrig_Drop_Dust takes nothing returns nothing
set udg_trg_Drop_Dust=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(udg_trg_Drop_Dust,30.00)
call TriggerAddCondition(udg_trg_Drop_Dust,Condition(function Trig_Drop_Dust_Conditions))
call TriggerAddAction(udg_trg_Drop_Dust,function Trig_Drop_Dust_Actions)
endfunction
function Trig_Spawn_Mana_Pool_Or_Middel_Shop_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
return true
endfunction
function Trig_Spawn_Mana_Pool_Or_Middel_Shop_Actions takes nothing returns nothing
call PlaySoundBJ(udg_snd_Hint)
call DisplayTimedTextToForce(GetPlayersAll(),20.00,"Fountain of Mana spawned!
")
call CreateNUnitsAtLocBonuses(1,'nmoo',Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(udg_rct_Zombie_Spawn),bj_UNIT_FACING)
endfunction
function InitTrig_Spawn_Mana_Pool_Or_Middel_Shop takes nothing returns nothing
set udg_trg_Spawn_Mana_Pool_Or_Middel_Shop=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Spawn_Mana_Pool_Or_Middel_Shop,150.00)
call TriggerAddCondition(udg_trg_Spawn_Mana_Pool_Or_Middel_Shop,Condition(function Trig_Spawn_Mana_Pool_Or_Middel_Shop_Conditions))
call TriggerAddAction(udg_trg_Spawn_Mana_Pool_Or_Middel_Shop,function Trig_Spawn_Mana_Pool_Or_Middel_Shop_Actions)
endfunction
function Trig_Activate_A_Random_Event_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
return true
endfunction
function Trig_Activate_A_Random_Event_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'h016',Player(PLAYER_NEUTRAL_PASSIVE),GetRandomLocInRect(udg_rct_Random_event),bj_UNIT_FACING)
call RemoveUnit(GetLastCreatedUnit())
endfunction
function InitTrig_Activate_A_Random_Event takes nothing returns nothing
set udg_trg_Activate_A_Random_Event=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(udg_trg_Activate_A_Random_Event,200.00)
call TriggerAddCondition(udg_trg_Activate_A_Random_Event,Condition(function Trig_Activate_A_Random_Event_Conditions))
call TriggerAddAction(udg_trg_Activate_A_Random_Event,function Trig_Activate_A_Random_Event_Actions)
endfunction
function Trig_Dangerous_Water_Event_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(GetUnitTypeId(GetEnteringUnit())=='h016'))then
return false
endif
return true
endfunction
function Trig_Dangerous_Water_Event_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff0000Angry Fish are coming to the lakes in 10 seconds!!|r")
call CreateNUnitsAtLocBonuses(1,'e010',Neutral_Satyrs,GetRectCenter(udg_rct_Bottom_Right_Snow),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(10.00,'BTLF',GetLastCreatedUnit())
endfunction
function InitTrig_Dangerous_Water_Event takes nothing returns nothing
set udg_trg_Dangerous_Water_Event=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_Dangerous_Water_Event,udg_rct_Dangerous_water_event)
call TriggerAddCondition(udg_trg_Dangerous_Water_Event,Condition(function Trig_Dangerous_Water_Event_Conditions))
call TriggerAddAction(udg_trg_Dangerous_Water_Event,function Trig_Dangerous_Water_Event_Actions)
endfunction
function Trig_Dangerous_Water_Event_2_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())=='e010'))then
return false
endif
return true
endfunction
function Trig_Dangerous_Water_Event_2_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'n008',Neutral_Satyrs,GetRectCenter(udg_rct_Bottom_of_water),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(25.00,'BTLF',GetLastCreatedUnit())
endfunction
function InitTrig_Dangerous_Water_Event_2 takes nothing returns nothing
set udg_trg_Dangerous_Water_Event_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Dangerous_Water_Event_2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Dangerous_Water_Event_2,Condition(function Trig_Dangerous_Water_Event_2_Conditions))
call TriggerAddAction(udg_trg_Dangerous_Water_Event_2,function Trig_Dangerous_Water_Event_2_Actions)
endfunction
function Trig_Creeps_invade_1_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(GetUnitTypeId(GetEnteringUnit())=='h016'))then
return false
endif
return true
endfunction
function Trig_Creeps_invade_1_Func004001 takes nothing returns boolean
return(IsDestructableAliveBJ(gg_dest_ATg1_0915)==true)
endfunction
function Trig_Creeps_invade_1_Actions takes nothing returns nothing
call PlaySoundBJ(udg_snd_MurlocYesAttack1)
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff0000Creeps are invading!!|r")
if((IsDestructableAliveBJ(gg_dest_ATg1_0915)==true))then
call ModifyGateBJ(bj_GATEOPERATION_OPEN,gg_dest_ATg1_0915)
else
call DoNothing()
endif
set udg_General_Index=1
loop
exitwhen udg_General_Index>14
set udg_AAAA_GP=GetRectCenter(udg_rct_naga_creep_event_area)
set udg_AAAA_GP2=GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds)
call CreateNUnitsAtLocBonuses(1,'n079',Neutral_Satyrs,udg_AAAA_GP,bj_UNIT_FACING)
call SetUnitCreepGuard(GetLastCreatedUnit(),false)
call RemoveGuardPosition(GetLastCreatedUnit())
call NeutralIssuePointOrderSavedLoc(GetLastCreatedUnit(),"patrol",udg_AAAA_GP2)
call RemoveLocation(udg_AAAA_GP)
call RemoveLocation(udg_AAAA_GP2)
set udg_General_Index=udg_General_Index+1
endloop
endfunction
function InitTrig_Creeps_invade_1 takes nothing returns nothing
set udg_trg_Creeps_invade_1=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_Creeps_invade_1,udg_rct_Creeps_invade_1)
call TriggerAddCondition(udg_trg_Creeps_invade_1,Condition(function Trig_Creeps_invade_1_Conditions))
call TriggerAddAction(udg_trg_Creeps_invade_1,function Trig_Creeps_invade_1_Actions)
endfunction
function Trig_Massive_Rabbit_Event_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(GetUnitTypeId(GetEnteringUnit())=='h016'))then
return false
endif
return true
endfunction
function Trig_Massive_Rabbit_Event_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff0000Rabbits have just spawned everywhere!!!|r")
set udg_General_Index=1
loop
exitwhen udg_General_Index>20
set udg_AAAA_GP=GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds)
call CreateNUnitsAtLoc(1,'necr',Player(PLAYER_NEUTRAL_PASSIVE),udg_AAAA_GP,bj_UNIT_FACING)
call RemoveLocation(udg_AAAA_GP)
set udg_General_Index=udg_General_Index+1
endloop
set udg_AAAA_GP=GetRandomLocInRect(udg_rct_Bottom_Moonlight)
call CreateNUnitsAtLocBonuses(1,'e00Y',Player(PLAYER_NEUTRAL_PASSIVE),udg_AAAA_GP,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(90.00,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocBonuses(1,'e00Z',Player(PLAYER_NEUTRAL_PASSIVE),udg_AAAA_GP,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(120.00,'BTLF',GetLastCreatedUnit())
call RemoveLocation(udg_AAAA_GP)
endfunction
function InitTrig_Massive_Rabbit_Event takes nothing returns nothing
set udg_trg_Massive_Rabbit_Event=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_Massive_Rabbit_Event,udg_rct_Rabbit_spawn_event)
call TriggerAddCondition(udg_trg_Massive_Rabbit_Event,Condition(function Trig_Massive_Rabbit_Event_Conditions))
call TriggerAddAction(udg_trg_Massive_Rabbit_Event,function Trig_Massive_Rabbit_Event_Actions)
endfunction
function Trig_Massive_Rabbit_Event_Copy_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())=='e00Y'))then
return false
endif
return true
endfunction
function Trig_Massive_Rabbit_Event_Copy_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff0000A golden chicken has just spawned somewhere!!|r")
set udg_AAAA_GP=GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds)
call CreateNUnitsAtLoc(1,'n010',Player(PLAYER_NEUTRAL_PASSIVE),udg_AAAA_GP,bj_UNIT_FACING)
call RemoveLocation(udg_AAAA_GP)
endfunction
function InitTrig_Massive_Rabbit_Event_Copy takes nothing returns nothing
set udg_trg_Massive_Rabbit_Event_Copy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Massive_Rabbit_Event_Copy,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Massive_Rabbit_Event_Copy,Condition(function Trig_Massive_Rabbit_Event_Copy_Conditions))
call TriggerAddAction(udg_trg_Massive_Rabbit_Event_Copy,function Trig_Massive_Rabbit_Event_Copy_Actions)
endfunction
function Trig_Massive_Rabbit_Event_Copy_Copy_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())=='e00Z'))then
return false
endif
return true
endfunction
function Trig_Massive_Rabbit_Event_Copy_Copy_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff0000Coins have just spawned everywhere!|r")
set udg_General_Index=1
loop
exitwhen udg_General_Index>15
set udg_AAAA_GP=GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds)
call CreateItemLoc('gold',udg_AAAA_GP)
call RemoveLocation(udg_AAAA_GP)
set udg_General_Index=udg_General_Index+1
endloop
endfunction
function InitTrig_Massive_Rabbit_Event_Copy_Copy takes nothing returns nothing
set udg_trg_Massive_Rabbit_Event_Copy_Copy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Massive_Rabbit_Event_Copy_Copy,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Massive_Rabbit_Event_Copy_Copy,Condition(function Trig_Massive_Rabbit_Event_Copy_Copy_Conditions))
call TriggerAddAction(udg_trg_Massive_Rabbit_Event_Copy_Copy,function Trig_Massive_Rabbit_Event_Copy_Copy_Actions)
endfunction
function Trig_Boot_Drop_Event_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(GetUnitTypeId(GetEnteringUnit())=='h016'))then
return false
endif
return true
endfunction
function Trig_Boot_Drop_Event_Func003C takes nothing returns boolean
if(not(udg_Item_Drop_Event_Chance==1))then
return false
endif
return true
endfunction
function Trig_Boot_Drop_Event_Func004C takes nothing returns boolean
if(not(udg_Item_Drop_Event_Chance==2))then
return false
endif
return true
endfunction
function Trig_Boot_Drop_Event_Func005C takes nothing returns boolean
if(not(udg_Item_Drop_Event_Chance==3))then
return false
endif
return true
endfunction
function Trig_Boot_Drop_Event_Func006C takes nothing returns boolean
if(not(udg_Item_Drop_Event_Chance==4))then
return false
endif
return true
endfunction
function Trig_Boot_Drop_Event_Func007Func001C takes nothing returns boolean
if((udg_Item_Drop_Event_Chance==5))then
return true
endif
if((udg_Item_Drop_Event_Chance==6))then
return true
endif
if((udg_Item_Drop_Event_Chance==7))then
return true
endif
if((udg_Item_Drop_Event_Chance==8))then
return true
endif
if((udg_Item_Drop_Event_Chance==9))then
return true
endif
return false
endfunction
function Trig_Boot_Drop_Event_Func007C takes nothing returns boolean
if(not Trig_Boot_Drop_Event_Func007Func001C())then
return false
endif
return true
endfunction
function Trig_Boot_Drop_Event_Func008Func001C takes nothing returns boolean
if((udg_Item_Drop_Event_Chance==10))then
return true
endif
return false
endfunction
function Trig_Boot_Drop_Event_Func008C takes nothing returns boolean
if(not Trig_Boot_Drop_Event_Func008Func001C())then
return false
endif
return true
endfunction
function Trig_Boot_Drop_Event_Actions takes nothing returns nothing
set udg_Item_Drop_Event_Chance=GetRandomInt(1,10)
if(Trig_Boot_Drop_Event_Func003C())then
call CreateItemLoc('bspd',GetUnitLoc(udg_unit_nzep_0261))
call AddSpecialEffectLocBJ(GetItemLoc(GetLastCreatedItem()),"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff0000The zepplin has just dropped boots of speed!!|r")
else
endif
if(Trig_Boot_Drop_Event_Func004C())then
call CreateItemLoc('shas',GetUnitLoc(udg_unit_nzep_0261))
call AddSpecialEffectLocBJ(GetItemLoc(GetLastCreatedItem()),"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff0000The zepplin has just dropped a scroll of speed!!|r")
else
endif
if(Trig_Boot_Drop_Event_Func005C())then
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff0000The zepplin has just dropped a staff of negation!!|r")
call CreateItemLoc('sneg',GetUnitLoc(udg_unit_nzep_0261))
call AddSpecialEffectLocBJ(GetItemLoc(GetLastCreatedItem()),"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
endif
if(Trig_Boot_Drop_Event_Func006C())then
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff0000The zepplin has just dropped a staff of teleportation!!|r")
call CreateItemLoc('stel',GetUnitLoc(udg_unit_nzep_0261))
call AddSpecialEffectLocBJ(GetItemLoc(GetLastCreatedItem()),"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
endif
if(Trig_Boot_Drop_Event_Func007C())then
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff0000The zepplin has just dropped a rabbit lure!|r")
call CreateItemLoc('I027',GetUnitLoc(udg_unit_nzep_0261))
call AddSpecialEffectLocBJ(GetItemLoc(GetLastCreatedItem()),"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
endif
if(Trig_Boot_Drop_Event_Func008C())then
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff0000The zepplin has just dropped a goblin summoner!|r")
call CreateItemLoc('I02D',GetUnitLoc(udg_unit_nzep_0261))
call AddSpecialEffectLocBJ(GetItemLoc(GetLastCreatedItem()),"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
endif
endfunction
function InitTrig_Boot_Drop_Event takes nothing returns nothing
set udg_trg_Boot_Drop_Event=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_Boot_Drop_Event,udg_rct_Boot_drop_event)
call TriggerAddCondition(udg_trg_Boot_Drop_Event,Condition(function Trig_Boot_Drop_Event_Conditions))
call TriggerAddAction(udg_trg_Boot_Drop_Event,function Trig_Boot_Drop_Event_Actions)
endfunction
function Trig_Evil_Vision_Event_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(GetUnitTypeId(GetEnteringUnit())=='h016'))then
return false
endif
return true
endfunction
function Trig_Evil_Vision_Event_Actions takes nothing returns nothing
set udg_AAAA_GP=GetRectCenter(udg_rct_Zombie_Spawn)
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff0000The evil team has gained full vision of the entire map for 30 seconds!!|r")
call CreateNUnitsAtLocBonuses(1,'h00Z',ForcePickRandomPlayer(udg_Evil),udg_AAAA_GP,bj_UNIT_FACING)
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"farsight",udg_AAAA_GP)
call RemoveUnit(GetLastCreatedUnit())
call RemoveLocation(udg_AAAA_GP)
endfunction
function InitTrig_Evil_Vision_Event takes nothing returns nothing
endfunction
function Trig_Slow_Event_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(GetUnitTypeId(GetEnteringUnit())=='h016'))then
return false
endif
return true
endfunction
function Trig_Slow_Event_Actions takes nothing returns nothing
set udg_AAAA_GP=GetRectCenter(udg_rct_Zombie_Spawn)
call PlaySoundBJ(udg_snd_SlowTarget)
call CreateNUnitsAtLocBonuses(1,'h014',ForcePickRandomPlayer(udg_Evil),udg_AAAA_GP,bj_UNIT_FACING)
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff0000All Units that are not evil will be slowed for 30 seconds!|r")
call RemoveLocation(udg_AAAA_GP)
endfunction
function InitTrig_Slow_Event takes nothing returns nothing
call TriggerRegisterEnterRectSimple(udg_trg_Slow_Event,udg_rct_Slow_Event)
call TriggerAddCondition(udg_trg_Slow_Event,Condition(function Trig_Slow_Event_Conditions))
endfunction
function Trig_New_random_events_Conditions takes nothing returns boolean
if(not(udg_Duel_On==false))then
return false
endif
if(not(udg_Duel_Boolean==false))then
return false
endif
if(not(udg_FinalBattle_On==false))then
return false
endif
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
return true
endfunction
function Trig_New_random_events_Func002C takes nothing returns boolean
if(not(udg_AAAA_RandomEventChance==2))then
return false
endif
return true
endfunction
function Trig_New_random_events_Func003Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_unit_npng_0034)==true))then
return false
endif
return true
endfunction
function Trig_New_random_events_Func003C takes nothing returns boolean
if(not(udg_AAAA_RandomEventChance==3))then
return false
endif
return true
endfunction
function Trig_New_random_events_Func004C takes nothing returns boolean
if(not(udg_AAAA_RandomEventChance==4))then
return false
endif
return true
endfunction
function Trig_New_random_events_Func005C takes nothing returns boolean
if(not(udg_AAAA_RandomEventChance==5))then
return false
endif
return true
endfunction
function Trig_New_random_events_Func006Func005A takes nothing returns nothing
call NeutralIssuePointOrderSavedLoc(GetEnumUnit(),"patrol",GetRectCenter(udg_rct_Zombie_Spawn))
endfunction
function Trig_New_random_events_Func006C takes nothing returns boolean
if(not(udg_AAAA_RandomEventChance==6))then
return false
endif
return true
endfunction
function Trig_New_random_events_Func007C takes nothing returns boolean
if(not(udg_AAAA_RandomEventChance==8))then
return false
endif
return true
endfunction
function Trig_New_random_events_Actions takes nothing returns nothing
set udg_AAAA_RandomEventChance=GetRandomInt(1,12)
if(Trig_New_random_events_Func002C())then
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff00ffA group of bandits has appeared in the village|r")
set udg_AAAA_GP=GetRectCenter(udg_rct_Random_Events_Bandit_Spawn)
call CreateNUnitsAtLocBonuses(10,'n05K',Neutral_Satyrs,udg_AAAA_GP,bj_UNIT_FACING)
call PlaySoundBJ(udg_snd_BanditDeath1)
call KillSoundWhenDoneBJ(GetLastPlayedSound())
call RemoveLocation(udg_AAAA_GP)
else
endif
if(Trig_New_random_events_Func003C())then
if(Trig_New_random_events_Func003Func001C())then
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff00ffA penguin has become angry!!|r")
call ReplaceUnitBJ(udg_unit_npng_0034,'n05L',bj_UNIT_STATE_METHOD_RELATIVE)
set udg_AAAA_ANGRY_PENGU=GetLastReplacedUnitBJ()
call SetUnitOwner(udg_AAAA_ANGRY_PENGU,Neutral_Satyrs,true)
set udg_AAAA_GP=GetRectCenter(udg_rct_human_tower_2)
call IssuePointOrderLocBJ(udg_AAAA_ANGRY_PENGU,"move",udg_AAAA_GP)
call RemoveLocation(udg_AAAA_GP)
call EnableTrigger(udg_trg_Penguin_Movement)
call PlaySoundBJ(udg_snd_GoodJob)
call KillSoundWhenDoneBJ(GetLastPlayedSound())
else
endif
else
endif
if(Trig_New_random_events_Func004C())then
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff00ffA group of angry turtles are moving to a different lake|r")
set udg_AAAA_TurtleRestPoint=GetRectCenter(udg_rct_center_lake)
call EnableTrigger(udg_trg_reef_ele_Spawn)
call EnableTrigger(udg_trg_Tortle_Spawn)
call PlaySoundBJ(udg_snd_GoodJob)
call KillSoundWhenDoneBJ(GetLastPlayedSound())
else
endif
if(Trig_New_random_events_Func005C())then
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff00ffA group of Harpy Rogues has arrived|r")
set udg_AAAA_GP=GetRectCenter(udg_rct_Region_160)
call CreateNUnitsAtLocBonuses(3,'nhrr',Neutral_Satyrs,udg_AAAA_GP,bj_UNIT_FACING)
call RemoveLocation(udg_AAAA_GP)
call PlaySoundBJ(udg_snd_GoodJob)
call KillSoundWhenDoneBJ(GetLastPlayedSound())
else
endif
if(Trig_New_random_events_Func006C())then
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff00ffA group of satyrs are invading!|r")
set udg_AAAA_GP=GetRectCenter(udg_rct_Region_161)
call CreateNUnitsAtLocBonuses(6,'nsty',Neutral_Satyrs,udg_AAAA_GP,bj_UNIT_FACING)
call CreateNUnitsAtLocBonuses(1,'nsth',Neutral_Satyrs,udg_AAAA_GP,bj_UNIT_FACING)
call ForGroupBJ(GetUnitsInRectAll(udg_rct_Region_161),function Trig_New_random_events_Func006Func005A)
call RemoveLocation(udg_AAAA_GP)
call PlaySoundBJ(udg_snd_GoodJob)
call KillSoundWhenDoneBJ(GetLastPlayedSound())
else
endif
if(Trig_New_random_events_Func007C())then
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff00ffA Furious JungleStalker has spawned near the middle!!|r")
set udg_AAAA_GP=GetRectCenter(udg_rct_Region_162)
call CreateNUnitsAtLocBonuses(1,'n05O',Neutral_Satyrs,udg_AAAA_GP,bj_UNIT_FACING)
call NeutralIssueOrderRandomLocInRect(GetLastCreatedUnit(),"patrol",udg_rct_Entire_map_excluding_out_of_bounds)
call PlaySoundBJ(udg_snd_GoodJob)
call KillSoundWhenDoneBJ(GetLastPlayedSound())
else
endif
endfunction
function InitTrig_New_random_events takes nothing returns nothing
set udg_trg_New_random_events=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(udg_trg_New_random_events,250.00)
call TriggerAddCondition(udg_trg_New_random_events,Condition(function Trig_New_random_events_Conditions))
call TriggerAddAction(udg_trg_New_random_events,function Trig_New_random_events_Actions)
endfunction
function Trig_Penguin_Movement_Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_AAAA_ANGRY_PENGU)==true))then
return false
endif
return true
endfunction
function Trig_Penguin_Movement_Actions takes nothing returns nothing
if(Trig_Penguin_Movement_Func001C())then
set udg_AAAA_GP=GetRandomLocInRect(udg_rct_WHOLE_MAP_NOT_DUEL)
call IssuePointOrderLocBJ(udg_AAAA_ANGRY_PENGU,"move",udg_AAAA_GP)
call RemoveLocation(udg_AAAA_GP)
else
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function InitTrig_Penguin_Movement takes nothing returns nothing
set udg_trg_Penguin_Movement=CreateTrigger()
call DisableTrigger(udg_trg_Penguin_Movement)
call TriggerRegisterTimerEventPeriodic(udg_trg_Penguin_Movement,12.50)
call TriggerAddAction(udg_trg_Penguin_Movement,function Trig_Penguin_Movement_Actions)
endfunction
function Trig_Tortle_Spawn_Func008C takes nothing returns boolean
if(not(udg_AAAA_TurtleEventCount>=10))then
return false
endif
return true
endfunction
function Trig_Tortle_Spawn_Actions takes nothing returns nothing
set udg_AAAA_GP=GetRandomLocInRect(udg_rct_Top_left_Lake)
set udg_AAAA_TurtleEventCount=(udg_AAAA_TurtleEventCount+1)
call CreateNUnitsAtLocBonuses(1,'n05M',Neutral_Satyrs,udg_AAAA_GP,bj_UNIT_FACING)
call SetUnitCreepGuard(GetLastCreatedUnit(),false)
call RemoveGuardPosition(GetLastCreatedUnit())
call AddSpecialEffectLocBJ(udg_AAAA_GP,"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call NeutralIssuePointOrderSavedLoc(GetLastCreatedUnit(),"patrol",udg_AAAA_TurtleRestPoint)
call RemoveLocation(udg_AAAA_GP)
if(Trig_Tortle_Spawn_Func008C())then
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(udg_trg_reef_ele_Spawn)
set udg_AAAA_TurtleEventCount=0
else
endif
endfunction
function InitTrig_Tortle_Spawn takes nothing returns nothing
set udg_trg_Tortle_Spawn=CreateTrigger()
call DisableTrigger(udg_trg_Tortle_Spawn)
call TriggerRegisterTimerEventPeriodic(udg_trg_Tortle_Spawn,4.00)
call TriggerAddAction(udg_trg_Tortle_Spawn,function Trig_Tortle_Spawn_Actions)
endfunction
function Trig_reef_ele_Spawn_Actions takes nothing returns nothing
set udg_AAAA_GP=GetRandomLocInRect(udg_rct_Top_left_Lake)
call CreateNUnitsAtLocBonuses(1,'n05N',Neutral_Satyrs,udg_AAAA_GP,bj_UNIT_FACING)
call SetUnitCreepGuard(GetLastCreatedUnit(),false)
call RemoveGuardPosition(GetLastCreatedUnit())
call AddSpecialEffectLocBJ(udg_AAAA_GP,"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call NeutralIssuePointOrderSavedLoc(GetLastCreatedUnit(),"patrol",udg_AAAA_TurtleRestPoint)
call RemoveLocation(udg_AAAA_GP)
endfunction
function InitTrig_reef_ele_Spawn takes nothing returns nothing
set udg_trg_reef_ele_Spawn=CreateTrigger()
call DisableTrigger(udg_trg_reef_ele_Spawn)
call TriggerRegisterTimerEventPeriodic(udg_trg_reef_ele_Spawn,7.33)
call TriggerAddAction(udg_trg_reef_ele_Spawn,function Trig_reef_ele_Spawn_Actions)
endfunction
function Trig_Reach_rest_point_Func001C takes nothing returns boolean
if((GetUnitTypeId(GetTriggerUnit())=='n05N'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='n05M'))then
return true
endif
return false
endfunction
function Trig_Reach_rest_point_Conditions takes nothing returns boolean
if(not Trig_Reach_rest_point_Func001C())then
return false
endif
return true
endfunction
function Trig_Reach_rest_point_Actions takes nothing returns nothing
call RemoveUnit(GetTriggerUnit())
endfunction
function InitTrig_Reach_rest_point takes nothing returns nothing
set udg_trg_Reach_rest_point=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_Reach_rest_point,udg_rct_center_lake)
call TriggerAddCondition(udg_trg_Reach_rest_point,Condition(function Trig_Reach_rest_point_Conditions))
call TriggerAddAction(udg_trg_Reach_rest_point,function Trig_Reach_rest_point_Actions)
endfunction
function Trig_Turn_on_events_2_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
return true
endfunction
function Trig_Turn_on_events_2_Actions takes nothing returns nothing
    //call PrintHidden("Trig_Turn_on_events_2_Actions")
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cff7777aaMore random events coming!!|r")
call EnableTrigger(udg_trg_Activate_A_Random_Event_Copy)
endfunction
function InitTrig_Turn_on_events_2 takes nothing returns nothing
set udg_trg_Turn_on_events_2=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Turn_on_events_2,1000.00)
call TriggerAddCondition(udg_trg_Turn_on_events_2,Condition(function Trig_Turn_on_events_2_Conditions))
call TriggerAddAction(udg_trg_Turn_on_events_2,function Trig_Turn_on_events_2_Actions)
endfunction
function Trig_Activate_A_Random_Event_Copy_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
return true
endfunction
function Trig_Activate_A_Random_Event_Copy_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'h016',Player(PLAYER_NEUTRAL_PASSIVE),GetRandomLocInRect(udg_rct_Event_area_2),bj_UNIT_FACING)
call RemoveUnit(GetLastCreatedUnit())
endfunction
function InitTrig_Activate_A_Random_Event_Copy takes nothing returns nothing
set udg_trg_Activate_A_Random_Event_Copy=CreateTrigger()
call DisableTrigger(udg_trg_Activate_A_Random_Event_Copy)
call TriggerRegisterTimerEventPeriodic(udg_trg_Activate_A_Random_Event_Copy,233.33)
call TriggerAddCondition(udg_trg_Activate_A_Random_Event_Copy,Condition(function Trig_Activate_A_Random_Event_Copy_Conditions))
call TriggerAddAction(udg_trg_Activate_A_Random_Event_Copy,function Trig_Activate_A_Random_Event_Copy_Actions)
endfunction
function Trig_Mutate_critter_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(GetUnitTypeId(GetEnteringUnit())=='h016'))then
return false
endif
return true
endfunction
function Trig_Mutate_critter_Func006Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetEnumUnit())=='necr'))then
return false
endif
return true
endfunction
function Trig_Mutate_critter_Func006A takes nothing returns nothing
if(Trig_Mutate_critter_Func006Func001C())then
call ReplaceUnitBJ(GetEnumUnit(),'nfrl',bj_UNIT_STATE_METHOD_MAXIMUM)
else
call DoNothing()
endif
endfunction
function Trig_Mutate_critter_Func008Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetEnumUnit())=='nfrl'))then
return false
endif
if(GetPlayerId(GetOwningPlayer(GetEnumUnit()))<12) then
return false

endif
return true
endfunction
function Trig_Mutate_critter_Func008A takes nothing returns nothing
if(Trig_Mutate_critter_Func008Func001C())then
call SetUnitOwner(GetEnumUnit(),Neutral_Satyrs,true)
else
call DoNothing()
endif
endfunction
function Trig_Mutate_critter_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cff7777aaThe rabbits have evolved into furbolgs!|r")
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(udg_rct_Entire_map_excluding_out_of_bounds),function Trig_Mutate_critter_Func006A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(udg_rct_Entire_map_excluding_out_of_bounds),function Trig_Mutate_critter_Func008A)
endfunction
function InitTrig_Mutate_critter takes nothing returns nothing
set udg_trg_Mutate_critter=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_Mutate_critter,udg_rct_Mutate_critter_event)
call TriggerAddCondition(udg_trg_Mutate_critter,Condition(function Trig_Mutate_critter_Conditions))
call TriggerAddAction(udg_trg_Mutate_critter,function Trig_Mutate_critter_Actions)
endfunction
function Trig_Creep_attack_event_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(GetUnitTypeId(GetEnteringUnit())=='h016'))then
return false
endif
return true
endfunction
function Trig_Creep_attack_event_Func003001 takes nothing returns boolean
return(IsDestructableAliveBJ(gg_dest_ATg1_0502)==true)
endfunction
function Trig_Creep_attack_event_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cff7777aaCreeps are invading!!|r")
if((IsDestructableAliveBJ(gg_dest_ATg1_0502)==true))then
call ModifyGateBJ(bj_GATEOPERATION_OPEN,gg_dest_ATg1_0502)
else
call DoNothing()
endif
set udg_General_Index=1
loop
exitwhen udg_General_Index>14
call CreateNUnitsAtLocBonuses(1,'n077',Neutral_Bottom,udg_AAAA_GP,bj_UNIT_FACING)
call SetUnitCreepGuard(GetLastCreatedUnit(),false)
call RemoveGuardPosition(GetLastCreatedUnit())
call NeutralIssueOrderRandomLocInRect(GetLastCreatedUnit(),"patrol",udg_rct_Entire_map_excluding_out_of_bounds)
set udg_General_Index=udg_General_Index+1
endloop
set udg_AAAA_GP=GetRectCenter(udg_rct_ice_creep_event)
call CreateNUnitsAtLocBonuses(1,'n078',Neutral_Bottom,udg_AAAA_GP,bj_UNIT_FACING)
call SetUnitCreepGuard(GetLastCreatedUnit(),false)
call RemoveGuardPosition(GetLastCreatedUnit())
call NeutralIssueOrderRandomLocInRect(GetLastCreatedUnit(),"patrol",udg_rct_Entire_map_excluding_out_of_bounds)
call RemoveLocation(udg_AAAA_GP)
set udg_AAAA_GP=GetRectCenter(udg_rct_ice_creep_event)
call CreateNUnitsAtLocBonuses(1,'nqb4',Neutral_Bottom,udg_AAAA_GP,bj_UNIT_FACING)
call NeutralIssueOrderRandomLocInRect(GetLastCreatedUnit(),"patrol",udg_rct_Entire_map_excluding_out_of_bounds)
call RemoveLocation(udg_AAAA_GP)
endfunction
function InitTrig_Creep_attack_event takes nothing returns nothing
set udg_trg_Creep_attack_event=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_Creep_attack_event,udg_rct_Creeps_attack_event)
call TriggerAddCondition(udg_trg_Creep_attack_event,Condition(function Trig_Creep_attack_event_Conditions))
call TriggerAddAction(udg_trg_Creep_attack_event,function Trig_Creep_attack_event_Actions)
endfunction
function Trig_Boot_drop_event_2_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(GetUnitTypeId(GetEnteringUnit())=='h016'))then
return false
endif
return true
endfunction
function Trig_Boot_drop_event_2_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cff7777aaThe Zepplin has dropped boots of super speed!!|r")
call CreateItemLoc('I000',GetUnitLoc(udg_unit_nzep_0261))
call AddSpecialEffectLocBJ(GetItemLoc(GetLastCreatedItem()),"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function InitTrig_Boot_drop_event_2 takes nothing returns nothing
set udg_trg_Boot_drop_event_2=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_Boot_drop_event_2,udg_rct_Boot_drop_2_event)
call TriggerAddCondition(udg_trg_Boot_drop_event_2,Condition(function Trig_Boot_drop_event_2_Conditions))
call TriggerAddAction(udg_trg_Boot_drop_event_2,function Trig_Boot_drop_event_2_Actions)
endfunction
function Activate_Team_Wins takes nothing returns nothing
    call ExecuteFunc("InitTrig_Team_1_Win")
    call ExecuteFunc("InitTrig_Team_2_Win")
    call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_Team_1_Win_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(CountPlayersInForceBJ(udg_Evil)==0))then
return false
endif
return true
endfunction
function Trig_Team_1_Win_Func001Func001C takes nothing returns boolean
if(not(udg_FightEachotherBool==false))then
return false
endif
return true
endfunction
function Trig_Team_1_Win_Func001C takes nothing returns boolean
if(not(udg_FinalBattle_On==true))then
return false
endif
return true
endfunction
function Trig_Team_1_Win_Func006Func002A takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(0),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(1),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(2),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(3),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(4),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(5),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(6),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(7),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(8),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(9),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(10),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(11),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Neutral_Nagas,GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Neutral_Satyrs,GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Neutral_Satyrs,GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(15),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call UpdateSharedVisionWithPlayer(GetEnumPlayer())
endfunction
function Trig_Team_1_Win_Func006C takes nothing returns boolean
if(not(udg_FinalBattle_On==true))then
return false
endif
return true
endfunction
function UnallyAll takes nothing returns nothing
local integer j=0
local integer i=0
loop
set j=0
loop
if(i!=j)then
call SetPlayerAllianceStateBJ(Player(i),Player(j),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(j),Player(i),bj_ALLIANCE_UNALLIED)
endif
set j=j+1
exitwhen j>14
endloop
set i=i+1
exitwhen i>14
endloop
call UpdateSharedVisionAll()
endfunction
function UnallyAllPlayers takes nothing returns nothing
local integer j=0
local integer i=0
loop
set j=0
loop
if(i!=j)then
call SetPlayerAllianceStateBJ(Player(i),Player(j),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(j),Player(i),bj_ALLIANCE_UNALLIED)
endif
set j=j+1
exitwhen j>11
endloop
set i=i+1
exitwhen i>11
endloop
endfunction
function Trig_Team_1_Win_Actions takes nothing returns nothing
set udg_FightEachotherBool=true
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"The Human Team Has won!")
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"HUMANS WILL FACE EACHOTHER IN 10 SECONDS!!")
call UnallyAll()
call DisableTrigger(udg_trg_Final_Battle_Timer)
call DisableTrigger(udg_trg_Final_Battle_Timer_Copy)
call DisableTrigger(udg_trg_Duel)
call DisableTrigger(udg_trg_Duel_Copy)
call DisableTrigger(udg_trg_Duel_Copy_2)
call DisableTrigger(udg_trg_Duel_Copy_3)
call DisableTrigger(udg_trg_Duel_in_forest_area)
call DisableTrigger(udg_trg_Duel_in_forest_area_Copy_Copy)
call DisableTrigger(udg_trg_Duel_in_forest_area_Copy)
call DisableTrigger(udg_trg_Duel_Timer)
call DisableTrigger(udg_trg_Duel_Timer_Copy)
call DisableTrigger(udg_trg_Duel_Timer_Copy_Copy)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(udg_trg_Team_1_Win)
call DisableTrigger(udg_trg_Team_2_Win)
endfunction
function InitTrig_Team_1_Win takes nothing returns nothing
set udg_trg_Team_1_Win=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(udg_trg_Team_1_Win,15.00)
call TriggerAddCondition(udg_trg_Team_1_Win,Condition(function Trig_Team_1_Win_Conditions))
call TriggerAddAction(udg_trg_Team_1_Win,function Trig_Team_1_Win_Actions)
endfunction
function Trig_Team_2_Win_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(CountPlayersInForceBJ(udg_Humans)==0))then
return false
endif
return true
endfunction
function Trig_Team_2_Win_Func001Func001C takes nothing returns boolean
if(not(udg_FightEachotherBool==false))then
return false
endif
return true
endfunction
function Trig_Team_2_Win_Func001C takes nothing returns boolean
if(not(udg_FinalBattle_On==true))then
return false
endif
return true
endfunction
function Trig_Team_2_Win_Func004Func002A takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(0),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(1),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(2),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(3),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(4),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(5),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(6),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(7),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(8),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(9),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(10),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Player(11),GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
call UpdateSharedVisionWithPlayer(GetEnumPlayer())
endfunction
function Trig_Team_2_Win_Func004C takes nothing returns boolean
if(not(udg_FinalBattle_On==true))then
return false
endif
return true
endfunction
function Trig_Team_2_Win_Actions takes nothing returns nothing
set udg_FightEachotherBool=true
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"The Evil Team Has won!")
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"EVIL WILL FACE EACHOTHER IN 10 SECONDS!!")
call UnallyAll()
call DisableTrigger(udg_trg_Final_Battle_Timer)
call DisableTrigger(udg_trg_Final_Battle_Timer_Copy)
call DisableTrigger(udg_trg_Duel)
call DisableTrigger(udg_trg_Duel_Copy)
call DisableTrigger(udg_trg_Duel_Copy_2)
call DisableTrigger(udg_trg_Duel_Copy_3)
call DisableTrigger(udg_trg_Duel_in_forest_area)
call DisableTrigger(udg_trg_Duel_in_forest_area_Copy_Copy)
call DisableTrigger(udg_trg_Duel_in_forest_area_Copy)
call DisableTrigger(udg_trg_Duel_Timer)
call DisableTrigger(udg_trg_Duel_Timer_Copy)
call DisableTrigger(udg_trg_Duel_Timer_Copy_Copy)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(udg_trg_Team_1_Win)
call DisableTrigger(udg_trg_Team_2_Win)
endfunction
function InitTrig_Team_2_Win takes nothing returns nothing
set udg_trg_Team_2_Win=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(udg_trg_Team_2_Win,15.00)
call TriggerAddCondition(udg_trg_Team_2_Win,Condition(function Trig_Team_2_Win_Conditions))
call TriggerAddAction(udg_trg_Team_2_Win,function Trig_Team_2_Win_Actions)
endfunction
function Trig_neutral_revive_Func006C takes nothing returns boolean
if((IsPlayerAlly(GetOwningPlayer(GetDyingUnit()),Neutral_Bottom)==true))then
return true
endif
if((IsPlayerAlly(GetOwningPlayer(GetDyingUnit()),Neutral_Satyrs)==true))then
return true
endif
if((IsPlayerAlly(GetOwningPlayer(GetDyingUnit()),Neutral_Satyrs)==true))then
return true
endif
return false
endfunction
function Trig_neutral_revive_Conditions takes nothing returns boolean
if(not(GetOwningPlayer(GetDyingUnit())!=Neutral_Satyrs))then
return false
endif
if(not(GetOwningPlayer(GetDyingUnit())!=Neutral_Satyrs))then
return false
endif
if(not(GetOwningPlayer(GetDyingUnit())!=Neutral_Bottom))then
return false
endif
if(not(GetOwningPlayer(GetDyingUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(udg_AAA_TurnOffEvents==false))then
return false
endif
return true
endfunction
function Trig_neutral_revive_Func007Func004001001002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_neutral_revive_Func007C takes nothing returns boolean
local group g=GetUnitsOfPlayerMatching(GetOwningPlayer(GetDyingUnit()),Condition(function Trig_neutral_revive_Func007Func004001001002))
if(not(CountUnitsInGroup(g)==0))then
set g=null
return false
endif
set g=null
return true
endfunction
function Trig_neutral_revive_Actions_Timed takes nothing returns nothing
if(Trig_neutral_revive_Func007C())then
call CreateNUnitsAtLocBonuses(1,'n020',GetOwningPlayer(GetDyingUnit()),GetRectCenter(udg_rct_The_ring_of_trees),bj_UNIT_FACING)
call SmartCameraPanBJModified(GetOwningPlayer(GetDyingUnit()),GetRectCenter(udg_rct_The_ring_of_trees),0)
endif
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_neutral_revive_Actions takes nothing returns nothing
if(Trig_neutral_revive_Func007C())then
call TimerStart(CreateTimer(),0.01,false,function Trig_neutral_revive_Actions_Timed)
endif
endfunction
function InitTrig_neutral_revive takes nothing returns nothing
set udg_trg_neutral_revive=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_neutral_revive,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_neutral_revive,Condition(function Trig_neutral_revive_Conditions))
call TriggerAddAction(udg_trg_neutral_revive,function Trig_neutral_revive_Actions)
endfunction
function Trig_gnoll_creep_camp_Func002A takes nothing returns nothing
call SetUnitOwner(GetEnumUnit(),Neutral_Bottom,false)
endfunction
function Trig_gnoll_creep_camp_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRectAll(udg_rct_Gnoll_Camp),function Trig_gnoll_creep_camp_Func002A)
endfunction
function InitTrig_gnoll_creep_camp takes nothing returns nothing
set udg_trg_gnoll_creep_camp=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_gnoll_creep_camp,0.01)
call TriggerAddAction(udg_trg_gnoll_creep_camp,function Trig_gnoll_creep_camp_Actions)
endfunction
function Trig_gnoll_houses_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'n016',Neutral_Bottom,GetUnitLoc(GetDyingUnit()),bj_UNIT_FACING)
endfunction
function InitTrig_gnoll_houses takes nothing returns nothing
set udg_trg_gnoll_houses=CreateTrigger()
call TriggerRegisterUnitEvent(udg_trg_gnoll_houses,udg_unit_nten_0048,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(udg_trg_gnoll_houses,udg_unit_ntn2_0046,EVENT_UNIT_DEATH)
call TriggerAddAction(udg_trg_gnoll_houses,function Trig_gnoll_houses_Actions)
endfunction
function Trig_Ice_creep_camp_Func002A takes nothing returns nothing
call SetUnitOwner(GetEnumUnit(),Neutral_Bottom,false)
endfunction
function Trig_Ice_creep_camp_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRectAll(udg_rct_Ice_Creep_Camp),function Trig_Ice_creep_camp_Func002A)
endfunction
function InitTrig_Ice_creep_camp takes nothing returns nothing
set udg_trg_Ice_creep_camp=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Ice_creep_camp,0.01)
call TriggerAddAction(udg_trg_Ice_creep_camp,function Trig_Ice_creep_camp_Actions)
endfunction
function Trig_drop_ultimate_upgrade_item_Actions takes nothing returns nothing
call DisplayTimedTextToForce(GetPlayersAll(),10.00,"|cffff0000The zepplin has just dropped ultimate upgrade!!|r")
call CreateItemLoc('I00N',GetUnitLoc(udg_unit_nzep_0261))
call AddSpecialEffectLocBJ(GetItemLoc(GetLastCreatedItem()),"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function InitTrig_drop_ultimate_upgrade_item takes nothing returns nothing
set udg_trg_drop_ultimate_upgrade_item=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(udg_trg_drop_ultimate_upgrade_item,806.66)
call TriggerAddAction(udg_trg_drop_ultimate_upgrade_item,function Trig_drop_ultimate_upgrade_item_Actions)
endfunction
function Trig_UltimateUpgrade_item_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I00N'))then
return false
endif
return true
endfunction
function UltimateUpgrade takes unit u,integer uid returns unit
set u=ChangeUnit2(u,uid)
if(GetLocalPlayer()==GetOwningPlayer(u))then
call SelectUnitSingle(u)
return u
endif
call RemoveItem(GetManipulatedItem())
return u
endfunction
function GandalfEffect takes nothing returns nothing
    local unit u = UltimateUpgradingUnit
    call DisplayTextToPlayer(GetOwningPlayer(u),0,0,"|cffff0000Death is but the next great adventure|r")
    call AddLives(GetPlayerId(GetOwningPlayer(u)),1)
    set u = null
endfunction
function IceGolemEffect takes nothing returns nothing
    local unit u = UltimateUpgradingUnit
    call CreateNUnitsAtLocBonuses(1,'n01M',GetOwningPlayer(u),GetUnitLoc(u),bj_UNIT_FACING)
    call CreateNUnitsAtLocBonuses(1,'n01J',GetOwningPlayer(u),GetUnitLoc(u),bj_UNIT_FACING)
    call CreateNUnitsAtLocBonuses(1,'n01L',GetOwningPlayer(u),GetUnitLoc(u),bj_UNIT_FACING)
    call CreateNUnitsAtLocBonuses(1,'n01K',GetOwningPlayer(u),GetUnitLoc(u),bj_UNIT_FACING)
    set u = null
endfunction
function TaurenEffect takes nothing returns nothing
    local unit u = UltimateUpgradingUnit
    call CreateNUnitsAtLocBonuses(1,'ospw',GetOwningPlayer(u),GetUnitLoc(u),bj_UNIT_FACING)
    call CreateNUnitsAtLocBonuses(1,'ospw',GetOwningPlayer(u),GetUnitLoc(u),bj_UNIT_FACING)
    set u = null
endfunction
function UltimateUpgrade_Actions takes unit u returns unit
    local integer id
    local string func = null
    if(IsUnitInGroup(u,morphs))then
    return null
    endif
    set id = GetUltimateUpgradeId(GetUnitTypeId(u),not udg_NO_FLYING_UNITS)
    if(id!=0) then
        set u = UltimateUpgrade(u,id)
        set func = GetUltimateUpgradeSideEffectFromId(GetUnitTypeId(u),not udg_NO_FLYING_UNITS)
        set UltimateUpgradingUnit = u
        //call BJDebugMsg(func)
        if(func!=null) then
            call ExecuteFunc(func)
        endif
        
    endif
    set UltimateUpgradingUnit = u
return UltimateUpgradingUnit
endfunction
function Trig_UltimateUpgrade_item_Actions takes nothing returns nothing
    if(UltimateUpgrade_Actions(GetTriggerUnit())!=null) then
        call RemoveItem(GetManipulatedItem())
    endif
endfunction

function InitTrig_UltimateUpgrade_item takes nothing returns nothing
set udg_trg_the_ultimate_upgrade_item=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_the_ultimate_upgrade_item,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_the_ultimate_upgrade_item,Condition(function Trig_UltimateUpgrade_item_Conditions))
call TriggerAddAction(udg_trg_the_ultimate_upgrade_item,function Trig_UltimateUpgrade_item_Actions)
endfunction


function Trig_UltimateUpgrade_unit_Conditions takes nothing returns boolean
    if(not(GetUnitTypeId(GetSoldUnit())=='h080'))then
    return false
    endif
    return true
endfunction 
function Trig_UltimateUpgrade_unit_Actions takes nothing returns nothing
    call UltimateUpgrade_Actions(GetBuyingUnit())
    call RemoveUnit(GetSoldUnit())

endfunction

function InitTrig_UltimateUpgrade_unit takes nothing returns nothing
set udg_trg_the_ultimate_upgrade_unit=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_the_ultimate_upgrade_unit,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(udg_trg_the_ultimate_upgrade_unit,Condition(function Trig_UltimateUpgrade_unit_Conditions))
call TriggerAddAction(udg_trg_the_ultimate_upgrade_unit,function Trig_UltimateUpgrade_unit_Actions)
endfunction

function Trig_Disable_Marine_Flying_Conditions takes nothing returns boolean
if(not(udg_NO_FLYING_UNITS==true))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())=='Z00E'))then
return false
endif
return true
endfunction
function Trig_Disable_undead_flying_Func001C takes nothing returns boolean
if((GetUnitTypeId(GetTriggerUnit())=='ugar'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='ufro'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='u023'))then
return true
endif
return false
endfunction
function Trig_Disable_undead_flying_Conditions takes nothing returns boolean
if(not Trig_Disable_undead_flying_Func001C())then
return false
endif
if(not(udg_NO_FLYING_UNITS==true))then
return false
endif
return true
endfunction
function Trig_Disable_undead_flying_Actions takes nothing returns nothing
call RemoveUnit(GetTriggerUnit())
endfunction
function InitTrig_Disable_undead_flying takes nothing returns nothing
set udg_trg_Disable_undead_flying=CreateTrigger()
call DisableTrigger(udg_trg_Disable_undead_flying)
call TriggerRegisterEnterRectSimple(udg_trg_Disable_undead_flying,GetEntireMapRect())
call TriggerAddCondition(udg_trg_Disable_undead_flying,Condition(function Trig_Disable_undead_flying_Conditions))
call TriggerAddAction(udg_trg_Disable_undead_flying,function Trig_Disable_undead_flying_Actions)
endfunction
function Trig_remove_ultimate_upgrade_item_Func002A takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetEnumUnit(),'I00N'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetEnumUnit(),'I00X'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetEnumUnit(),'I00Q'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetEnumUnit(),'I00S'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetEnumUnit(),'I00V'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetEnumUnit(),'I00R'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetEnumUnit(),'I00T'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetEnumUnit(),'I00O'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetEnumUnit(),'I00U'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetEnumUnit(),'I00W'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetEnumUnit(),'I00M'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetEnumUnit(),'I00P'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetEnumUnit(),'I026'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetEnumUnit(),'I02C'))
endfunction
function Trig_remove_ultimate_upgrade_item_Actions takes nothing returns nothing
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsOfPlayerAll(GetTriggerPlayer()),function Trig_remove_ultimate_upgrade_item_Func002A)
endfunction
function InitTrig_remove_ultimate_upgrade_item takes nothing returns nothing
set udg_trg_remove_ultimate_upgrade_item=CreateTrigger()
call TriggerRegisterPlayerChatEvent(udg_trg_remove_ultimate_upgrade_item,Player(0),"-remove",true)
call TriggerRegisterPlayerChatEvent(udg_trg_remove_ultimate_upgrade_item,Player(1),"-remove",true)
call TriggerRegisterPlayerChatEvent(udg_trg_remove_ultimate_upgrade_item,Player(2),"-remove",true)
call TriggerRegisterPlayerChatEvent(udg_trg_remove_ultimate_upgrade_item,Player(3),"-remove",true)
call TriggerRegisterPlayerChatEvent(udg_trg_remove_ultimate_upgrade_item,Player(4),"-remove",true)
call TriggerRegisterPlayerChatEvent(udg_trg_remove_ultimate_upgrade_item,Player(5),"-remove",true)
call TriggerRegisterPlayerChatEvent(udg_trg_remove_ultimate_upgrade_item,Player(6),"-remove",true)
call TriggerRegisterPlayerChatEvent(udg_trg_remove_ultimate_upgrade_item,Player(7),"-remove",true)
call TriggerRegisterPlayerChatEvent(udg_trg_remove_ultimate_upgrade_item,Player(8),"-remove",true)
call TriggerRegisterPlayerChatEvent(udg_trg_remove_ultimate_upgrade_item,Player(9),"-remove",true)
call TriggerRegisterPlayerChatEvent(udg_trg_remove_ultimate_upgrade_item,Player(10),"-remove",true)
call TriggerRegisterPlayerChatEvent(udg_trg_remove_ultimate_upgrade_item,Player(11),"-remove",true)
call TriggerAddAction(udg_trg_remove_ultimate_upgrade_item,function Trig_remove_ultimate_upgrade_item_Actions)
endfunction
function Trig_settings_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())=='U00J'))then
return false
endif
return true
endfunction
function Trig_settings_Actions takes nothing returns nothing
call EnableTrigger(udg_trg_Blight_Walk)
call EnableTrigger(udg_trg_Blight_skeletons)
call ForceAddPlayerSimple(GetOwningPlayer(GetTriggerUnit()),udg_Nazgul_Rider_Players)
endfunction
function InitTrig_settings takes nothing returns nothing
set udg_trg_settings=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_settings,udg_rct_WHOLE_MAP_NOT_DUEL)
call TriggerAddCondition(udg_trg_settings,Condition(function Trig_settings_Conditions))
call TriggerAddAction(udg_trg_settings,function Trig_settings_Actions)
endfunction
function Trig_settings_remove_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(GetUnitTypeId(GetDyingUnit())=='U00J'))then
return false
endif
if(not(RectContainsUnit(udg_rct_WHOLE_MAP_NOT_DUEL,GetDyingUnit())==true))then
return false
endif
return true
endfunction
function Trig_settings_remove_Func003C takes nothing returns boolean
if(not(CountPlayersInForceBJ(udg_Nazgul_Rider_Players)==0))then
return false
endif
return true
endfunction
function Trig_settings_remove_Actions takes nothing returns nothing
call ForceRemovePlayerSimple(GetOwningPlayer(GetDyingUnit()),udg_Nazgul_Rider_Players)
if(Trig_settings_remove_Func003C())then
call DisableTrigger(udg_trg_Blight_Walk)
call DisableTrigger(udg_trg_Blight_skeletons)
else
call DoNothing()
endif
endfunction
function InitTrig_settings_remove takes nothing returns nothing
set udg_trg_settings_remove=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_settings_remove,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_settings_remove,Condition(function Trig_settings_remove_Conditions))
call TriggerAddAction(udg_trg_settings_remove,function Trig_settings_remove_Actions)
endfunction
function Trig_Blight_Walk_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
return true
endfunction
function Trig_Blight_Walk_Func003Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetEnumUnit())=='U00J'))then
return false
endif
return true
endfunction
function Trig_Blight_Walk_Func003A takes nothing returns nothing
if(Trig_Blight_Walk_Func003Func001C())then
call SetBlightRadiusLocBJ(true,GetOwningPlayer(GetEnumUnit()),GetUnitLoc(GetEnumUnit()),250.00)
call SetBlightRadiusLocBJ(false,GetOwningPlayer(GetEnumUnit()),GetUnitLoc(udg_unit_nzep_0261),400.00)
else
call DoNothing()
endif
endfunction
function Trig_Blight_Walk_Actions takes nothing returns nothing
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(GetEntireMapRect()),function Trig_Blight_Walk_Func003A)
endfunction
function InitTrig_Blight_Walk takes nothing returns nothing
set udg_trg_Blight_Walk=CreateTrigger()
call DisableTrigger(udg_trg_Blight_Walk)
call TriggerRegisterTimerEventPeriodic(udg_trg_Blight_Walk,1.00)
call TriggerAddCondition(udg_trg_Blight_Walk,Condition(function Trig_Blight_Walk_Conditions))
call TriggerAddAction(udg_trg_Blight_Walk,function Trig_Blight_Walk_Actions)
endfunction
function Trig_Blight_skeletons_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
return true
endfunction
function Trig_Blight_skeletons_Func003Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetEnumUnit())=='u00K'))then
return false
endif
return true
endfunction
function Trig_Blight_skeletons_Func003A takes nothing returns nothing
if(Trig_Blight_skeletons_Func003Func001C())then
call KillUnit(GetEnumUnit())
else
call DoNothing()
endif
endfunction
function Trig_Blight_skeletons_Func005Func001C takes nothing returns boolean
if(not(IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),udg_Evil)==false))then
return false
endif
if(not(GetOwningPlayer(GetEnumUnit())!=Player(PLAYER_NEUTRAL_PASSIVE)))then
return false
endif
if(not(IsPointBlightedBJ(GetUnitLoc(GetEnumUnit()))==true))then
return false
endif
if(not(GetUnitTypeId(GetEnumUnit())!='u00K'))then
return false
endif
if(not(GetUnitTypeId(GetEnumUnit())!='ngrd'))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==false))then
return false
endif
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
return true
endfunction
function Trig_Blight_skeletons_Func005A takes nothing returns nothing
if(Trig_Blight_skeletons_Func005Func001C())then
set udg_Nazgul_Point=GetUnitLoc(GetEnumUnit())
call CreateNUnitsAtLocBonuses(1,'u00K',ForcePickRandomPlayer(udg_Nazgul_Rider_Players),udg_Nazgul_Point,bj_UNIT_FACING)
call AddSpecialEffectLocBJ(GetUnitLoc(GetLastCreatedUnit()),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_Nazgul_Point)
else
call DoNothing()
endif
endfunction
function Trig_Blight_skeletons_Actions takes nothing returns nothing
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(GetEntireMapRect()),function Trig_Blight_skeletons_Func003A)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(GetEntireMapRect()),function Trig_Blight_skeletons_Func005A)
endfunction
function InitTrig_Blight_skeletons takes nothing returns nothing
set udg_trg_Blight_skeletons=CreateTrigger()
call DisableTrigger(udg_trg_Blight_skeletons)
call TriggerRegisterTimerEventPeriodic(udg_trg_Blight_skeletons,10.00)
call TriggerAddCondition(udg_trg_Blight_skeletons,Condition(function Trig_Blight_skeletons_Conditions))
call TriggerAddAction(udg_trg_Blight_skeletons,function Trig_Blight_skeletons_Actions)
endfunction
function Trig_turn_on_Actions takes nothing returns nothing
call EnableTrigger(udg_trg_building_summons)
endfunction
function InitTrig_turn_on takes nothing returns nothing
set udg_trg_turn_on=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_turn_on,750.00)
call TriggerAddAction(udg_trg_turn_on,function Trig_turn_on_Actions)
endfunction
function Trig_building_summons_Func002Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
if(not(GetUnitTypeId(GetEnumUnit())=='nctl'))then
return false
endif
return true
endfunction
function Trig_building_summons_Func002A takes nothing returns nothing
if(Trig_building_summons_Func002Func001C())then
call CreateNUnitsAtLocBonuses(1,'n00Z',GetOwningPlayer(GetEnumUnit()),GetUnitLoc(GetEnumUnit()),bj_UNIT_FACING)
else
call DoNothing()
endif
endfunction
function Trig_building_summons_Actions takes nothing returns nothing
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(GetEntireMapRect()),function Trig_building_summons_Func002A)
endfunction
function InitTrig_building_summons takes nothing returns nothing
set udg_trg_building_summons=CreateTrigger()
call DisableTrigger(udg_trg_building_summons)
call TriggerRegisterTimerEventPeriodic(udg_trg_building_summons,20.00)
call TriggerAddAction(udg_trg_building_summons,function Trig_building_summons_Actions)
endfunction
function Trig_Attack_Order_Spell_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0FA'))then
return false
endif
return true
endfunction
function Trig_Attack_Order_Spell_Func004001003001 takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_Attack_Order_Spell_Func004001003002 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())==Neutral_Satyrs)
endfunction
function Trig_Attack_Order_Spell_Func004001003 takes nothing returns boolean
return GetBooleanAnd((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true),(GetOwningPlayer(GetFilterUnit())==Neutral_Satyrs))
endfunction
function Trig_Attack_Order_Spell_Func004A takes nothing returns nothing
call IssuePointOrderLocBJ(GetEnumUnit(),"attack",udg_AAAA_GP)
endfunction
function Trig_Attack_Order_Spell_Actions takes nothing returns nothing
set udg_AAAA_GP=GetSpellTargetLoc()
set udg_AAAA_GP2=GetUnitLoc(GetTriggerUnit())
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocMatching(500.00,udg_AAAA_GP2,Condition(function Trig_Attack_Order_Spell_Func004001003)),function Trig_Attack_Order_Spell_Func004A)
call RemoveLocation(udg_AAAA_GP)
call RemoveLocation(udg_AAAA_GP2)
endfunction
function InitTrig_Attack_Order_Spell takes nothing returns nothing
set udg_trg_Attack_Order_Spell=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Attack_Order_Spell,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Attack_Order_Spell,Condition(function Trig_Attack_Order_Spell_Conditions))
call TriggerAddAction(udg_trg_Attack_Order_Spell,function Trig_Attack_Order_Spell_Actions)
endfunction
function Trig_Upgrade_Mercenary_Creeps_Func001C takes nothing returns boolean
if((GetSpellAbilityId()=='A0F4'))then
return true
endif
if((GetSpellAbilityId()=='A0F6'))then
return true
endif
if((GetSpellAbilityId()=='A0IR'))then
return true
endif
return false
endfunction
function Trig_Upgrade_Mercenary_Creeps_Conditions takes nothing returns boolean
if(not Trig_Upgrade_Mercenary_Creeps_Func001C())then
return false
endif
return true
endfunction
function Trig_Upgrade_Mercenary_Creeps_Func007C takes nothing returns boolean
if(not(GetUnitTypeId(GetSpellTargetUnit())=='nbld'))then
return false
endif
return true
endfunction
function Trig_Upgrade_Mercenary_Creeps_Func008C takes nothing returns boolean
if(not(GetUnitTypeId(GetSpellTargetUnit())=='nano'))then
return false
endif
return true
endfunction
function Trig_Upgrade_Mercenary_Creeps_Func009C takes nothing returns boolean
if(not(GetUnitTypeId(GetSpellTargetUnit())=='nsbm'))then
return false
endif
return true
endfunction
function Trig_Upgrade_Mercenary_Creeps_Func010C takes nothing returns boolean
if(not(GetUnitTypeId(GetSpellTargetUnit())=='ndtw'))then
return false
endif
return true
endfunction
function Trig_Upgrade_Mercenary_Creeps_Func011C takes nothing returns boolean
if(not(GetUnitTypeId(GetSpellTargetUnit())=='ndth'))then
return false
endif
return true
endfunction
function Trig_Upgrade_Mercenary_Creeps_Func012C takes nothing returns boolean
if(not(GetUnitTypeId(GetSpellTargetUnit())=='ncnk'))then
return false
endif
return true
endfunction
function Trig_Upgrade_Mercenary_Creeps_Func013C takes nothing returns boolean
if(not(GetUnitTypeId(GetSpellTargetUnit())=='ngrd'))then
return false
endif
return true
endfunction
function Trig_Upgrade_Mercenary_Creeps_Actions takes nothing returns nothing
set udg_AAAA_GP=GetUnitLoc(GetSpellTargetUnit())
call AddSpecialEffectLocBJ(udg_AAAA_GP,"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_AAAA_GP)
if(Trig_Upgrade_Mercenary_Creeps_Func007C())then
call ReplaceUnitBJ(GetSpellTargetUnit(),'n04S',bj_UNIT_STATE_METHOD_RELATIVE)
else
endif
if(Trig_Upgrade_Mercenary_Creeps_Func008C())then
call ReplaceUnitBJ(GetSpellTargetUnit(),'n04T',bj_UNIT_STATE_METHOD_RELATIVE)
else
endif
if(Trig_Upgrade_Mercenary_Creeps_Func009C())then
call ReplaceUnitBJ(GetSpellTargetUnit(),'n04U',bj_UNIT_STATE_METHOD_RELATIVE)
else
endif
if(Trig_Upgrade_Mercenary_Creeps_Func010C())then
call ReplaceUnitBJ(GetSpellTargetUnit(),'n04V',bj_UNIT_STATE_METHOD_RELATIVE)
else
endif
if(Trig_Upgrade_Mercenary_Creeps_Func011C())then
call ReplaceUnitBJ(GetSpellTargetUnit(),'n04X',bj_UNIT_STATE_METHOD_RELATIVE)
else
endif
if(Trig_Upgrade_Mercenary_Creeps_Func012C())then
call ReplaceUnitBJ(GetSpellTargetUnit(),'n04W',bj_UNIT_STATE_METHOD_RELATIVE)
else
endif
if(Trig_Upgrade_Mercenary_Creeps_Func013C())then
call ReplaceUnitBJ(GetSpellTargetUnit(),'n04Y',bj_UNIT_STATE_METHOD_RELATIVE)
else
endif
endfunction
function InitTrig_Upgrade_Mercenary_Creeps takes nothing returns nothing
set udg_trg_Upgrade_Mercenary_Creeps=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Upgrade_Mercenary_Creeps,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Upgrade_Mercenary_Creeps,Condition(function Trig_Upgrade_Mercenary_Creeps_Conditions))
call TriggerAddAction(udg_trg_Upgrade_Mercenary_Creeps,function Trig_Upgrade_Mercenary_Creeps_Actions)
endfunction
function Trig_only_if_allied_to_naga_Conditions takes nothing returns boolean
if(not(udg_Neutral_Alliance_Chance!=1))then
return false
endif
if(not(udg_PirateChance!=7))then
return false
endif
if(not(udg_PirateChance!=8))then
return false
endif
if(not(GetUnitTypeId(GetSoldUnit())=='nsra'))then
return false
endif
return true
endfunction
function Trig_only_if_allied_to_naga_Actions takes nothing returns nothing
call ReplaceUnitBJ(GetSoldUnit(),'u00I',bj_UNIT_STATE_METHOD_RELATIVE)
endfunction
function InitTrig_only_if_allied_to_naga takes nothing returns nothing
set udg_trg_only_if_allied_to_naga=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_only_if_allied_to_naga,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(udg_trg_only_if_allied_to_naga,Condition(function Trig_only_if_allied_to_naga_Conditions))
call TriggerAddAction(udg_trg_only_if_allied_to_naga,function Trig_only_if_allied_to_naga_Actions)
endfunction
function Trig_Murgul_Slave_Partner_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetSellingUnit())=='nsrn'))then
return false
endif
return true
endfunction
function Trig_Murgul_Slave_Partner_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'nmpe',GetOwningPlayer(GetSellingUnit()),GetUnitLoc(GetSellingUnit()),bj_UNIT_FACING)
endfunction
function InitTrig_Murgul_Slave_Partner takes nothing returns nothing
set udg_trg_Murgul_Slave_Partner=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Murgul_Slave_Partner,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(udg_trg_Murgul_Slave_Partner,Condition(function Trig_Murgul_Slave_Partner_Conditions))
call TriggerAddAction(udg_trg_Murgul_Slave_Partner,function Trig_Murgul_Slave_Partner_Actions)
endfunction
function Trig_Upgrade_Undead_Builder_Func001C takes nothing returns boolean
if((GetSpellAbilityId()=='A0F4'))then
return true
endif
return false
endfunction
function Trig_Upgrade_Undead_Builder_Conditions takes nothing returns boolean
if(not Trig_Upgrade_Undead_Builder_Func001C())then
return false
endif
return true
endfunction
function Trig_Upgrade_Undead_Builder_Func007C takes nothing returns boolean
if(not(GetUnitTypeId(GetSpellTargetUnit())=='n039'))then
return false
endif
return true
endfunction
function Trig_Upgrade_Undead_Builder_Actions takes nothing returns nothing
set udg_AAAA_GP=GetUnitLoc(GetSpellTargetUnit())
call AddSpecialEffectLocBJ(udg_AAAA_GP,"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_AAAA_GP)
if(Trig_Upgrade_Undead_Builder_Func007C())then
call ReplaceUnitBJ(GetSpellTargetUnit(),'n04Z',bj_UNIT_STATE_METHOD_RELATIVE)
else
endif
endfunction
function InitTrig_Upgrade_Undead_Builder takes nothing returns nothing
set udg_trg_Upgrade_Undead_Builder=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Upgrade_Undead_Builder,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Upgrade_Undead_Builder,Condition(function Trig_Upgrade_Undead_Builder_Conditions))
call TriggerAddAction(udg_trg_Upgrade_Undead_Builder,function Trig_Upgrade_Undead_Builder_Actions)
endfunction
function Trig_Upgrade_Naga_with_items_Func001C takes nothing returns boolean
if((GetSpellAbilityId()=='A0F4'))then
return true
endif
return false
endfunction
function Trig_Upgrade_Naga_with_items_Func002C takes nothing returns boolean
if((GetUnitTypeId(GetSpellTargetUnit())=='n073'))then
return true
endif
if((GetUnitTypeId(GetSpellTargetUnit())=='n07A'))then
return true
endif
if((GetUnitTypeId(GetSpellTargetUnit())=='nnrg'))then
return true
endif
if((GetUnitTypeId(GetSpellTargetUnit())=='nhyc'))then
return true
endif
if((GetUnitTypeId(GetSpellTargetUnit())=='nsc3'))then
return true
endif
if((GetUnitTypeId(GetSpellTargetUnit())=='nlkl'))then
return true
endif
return false
endfunction
function Trig_Upgrade_Naga_with_items_Conditions takes nothing returns boolean
if(not Trig_Upgrade_Naga_with_items_Func001C())then
return false
endif
if(not Trig_Upgrade_Naga_with_items_Func002C())then
return false
endif
return true
endfunction
function Trig_Upgrade_Naga_with_items_Func008C takes nothing returns boolean
if(not(GetUnitTypeId(GetSpellTargetUnit())=='n073'))then
return false
endif
return true
endfunction
function Trig_Upgrade_Naga_with_items_Func009C takes nothing returns boolean
if(not(GetUnitTypeId(GetSpellTargetUnit())=='nnrg'))then
return false
endif
return true
endfunction
function Trig_Upgrade_Naga_with_items_Func010C takes nothing returns boolean
if(not(GetUnitTypeId(GetSpellTargetUnit())=='n07A'))then
return false
endif
return true
endfunction
function Trig_Upgrade_Naga_with_items_Func011C takes nothing returns boolean
if(not(GetUnitTypeId(GetSpellTargetUnit())=='nhyc'))then
return false
endif
return true
endfunction
function Trig_Upgrade_Naga_with_items_Func012C takes nothing returns boolean
if(not(GetUnitTypeId(GetSpellTargetUnit())=='nsc3'))then
return false
endif
return true
endfunction
function Trig_Upgrade_Naga_with_items_Func013C takes nothing returns boolean
if(not(GetUnitTypeId(GetSpellTargetUnit())=='nlkl'))then
return false
endif
return true
endfunction
function Trig_Upgrade_Naga_with_items_Actions takes nothing returns nothing
set udg_AAAA_GP=GetUnitLoc(GetSpellTargetUnit())
call AddSpecialEffectLocBJ(udg_AAAA_GP,"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_AAAA_GP)
if(Trig_Upgrade_Naga_with_items_Func008C())then
call ReplaceUnitBJ(GetSpellTargetUnit(),'nnrg',bj_UNIT_STATE_METHOD_RELATIVE)
else
endif
if(Trig_Upgrade_Naga_with_items_Func009C())then
call ReplaceUnitBJ(GetSpellTargetUnit(),'n011',bj_UNIT_STATE_METHOD_RELATIVE)
else
endif
if(Trig_Upgrade_Naga_with_items_Func010C())then
call ReplaceUnitBJ(GetSpellTargetUnit(),'nhyc',bj_UNIT_STATE_METHOD_RELATIVE)
else
endif
if(Trig_Upgrade_Naga_with_items_Func011C())then
call ReplaceUnitBJ(GetSpellTargetUnit(),'n012',bj_UNIT_STATE_METHOD_RELATIVE)
else
endif
if(Trig_Upgrade_Naga_with_items_Func012C())then
call ReplaceUnitBJ(GetSpellTargetUnit(),'n05B',bj_UNIT_STATE_METHOD_RELATIVE)
else
endif
if(Trig_Upgrade_Naga_with_items_Func013C())then
call ReplaceUnitBJ(GetSpellTargetUnit(),'n05C',bj_UNIT_STATE_METHOD_RELATIVE)
else
endif
endfunction
function InitTrig_Upgrade_Naga_with_items takes nothing returns nothing
set udg_trg_Upgrade_Naga_with_items=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Upgrade_Naga_with_items,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Upgrade_Naga_with_items,Condition(function Trig_Upgrade_Naga_with_items_Conditions))
call TriggerAddAction(udg_trg_Upgrade_Naga_with_items,function Trig_Upgrade_Naga_with_items_Actions)
endfunction
function Trig_Upgrade_Naga_without_items_Func001C takes nothing returns boolean
if((GetSpellAbilityId()=='A0F4'))then
return true
endif
return false
endfunction
function Trig_Upgrade_Naga_without_items_Conditions takes nothing returns boolean
if(not Trig_Upgrade_Naga_without_items_Func001C())then
return false
endif
return true
endfunction
function Trig_Upgrade_Naga_without_items_Func007C takes nothing returns boolean
if(not(GetUnitTypeId(GetSpellTargetUnit())=='nmpe'))then
return false
endif
return true
endfunction
function Trig_Upgrade_Naga_without_items_Func008C takes nothing returns boolean
if(not(GetUnitTypeId(GetSpellTargetUnit())=='n057'))then
return false
endif
return true
endfunction
function Trig_Upgrade_Naga_without_items_Func009C takes nothing returns boolean
if(not(GetUnitTypeId(GetSpellTargetUnit())=='n025'))then
return false
endif
return true
endfunction
function Trig_Upgrade_Naga_without_items_Func010C takes nothing returns boolean
if(not(GetUnitTypeId(GetSpellTargetUnit())=='nwgs'))then
return false
endif
return true
endfunction
function Trig_Upgrade_Naga_without_items_Func011C takes nothing returns boolean
if(not(GetUnitTypeId(GetSpellTargetUnit())=='nmrv'))then
return false
endif
return true
endfunction
function Trig_Upgrade_Naga_without_items_Func012C takes nothing returns boolean
if(not(GetUnitTypeId(GetSpellTargetUnit())=='nmrr'))then
return false
endif
return true
endfunction
function Trig_Upgrade_Naga_without_items_Func013C takes nothing returns boolean
if(not(GetUnitTypeId(GetSpellTargetUnit())=='nmfs'))then
return false
endif
return true
endfunction
function Trig_Upgrade_Naga_without_items_Func014C takes nothing returns boolean
if(not(GetUnitTypeId(GetSpellTargetUnit())=='nmmu'))then
return false
endif
return true
endfunction
function Trig_Upgrade_Naga_without_items_Actions takes nothing returns nothing
set udg_AAAA_GP=GetUnitLoc(GetSpellTargetUnit())
call AddSpecialEffectLocBJ(udg_AAAA_GP,"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_AAAA_GP)
if(Trig_Upgrade_Naga_without_items_Func007C())then
call ReplaceUnitBJ(GetSpellTargetUnit(),'n059',bj_UNIT_STATE_METHOD_RELATIVE)
else
endif
if(Trig_Upgrade_Naga_without_items_Func008C())then
call ReplaceUnitBJ(GetSpellTargetUnit(),'n058',bj_UNIT_STATE_METHOD_RELATIVE)
else
endif
if(Trig_Upgrade_Naga_without_items_Func009C())then
call ReplaceUnitBJ(GetSpellTargetUnit(),'nnsu',bj_UNIT_STATE_METHOD_RELATIVE)
else
endif
if(Trig_Upgrade_Naga_without_items_Func010C())then
call ReplaceUnitBJ(GetSpellTargetUnit(),'n05A',bj_UNIT_STATE_METHOD_RELATIVE)
else
endif
if(Trig_Upgrade_Naga_without_items_Func011C())then
call ReplaceUnitBJ(GetSpellTargetUnit(),'nmrr',bj_UNIT_STATE_METHOD_RELATIVE)
else
endif
if(Trig_Upgrade_Naga_without_items_Func012C())then
call ReplaceUnitBJ(GetSpellTargetUnit(),'nmfs',bj_UNIT_STATE_METHOD_RELATIVE)
else
endif
if(Trig_Upgrade_Naga_without_items_Func013C())then
call ReplaceUnitBJ(GetSpellTargetUnit(),'nmmu',bj_UNIT_STATE_METHOD_RELATIVE)
else
endif
if(Trig_Upgrade_Naga_without_items_Func014C())then
call ReplaceUnitBJ(GetSpellTargetUnit(),'nmrm',bj_UNIT_STATE_METHOD_RELATIVE)
else
endif
endfunction
function InitTrig_Upgrade_Naga_without_items takes nothing returns nothing
set udg_trg_Upgrade_Naga_without_items=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Upgrade_Naga_without_items,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Upgrade_Naga_without_items,Condition(function Trig_Upgrade_Naga_without_items_Conditions))
call TriggerAddAction(udg_trg_Upgrade_Naga_without_items,function Trig_Upgrade_Naga_without_items_Actions)
endfunction
function Trig_Upgrade_Undead_Builder_T_Func001C takes nothing returns boolean
if((GetSpellAbilityId()=='A0F6'))then
return true
endif
return false
endfunction
function Trig_Upgrade_Undead_Builder_T_Conditions takes nothing returns boolean
if(not Trig_Upgrade_Undead_Builder_T_Func001C())then
return false
endif
return true
endfunction
function Trig_Upgrade_Undead_Builder_T_Func007C takes nothing returns boolean
if(not(GetUnitTypeId(GetSpellTargetUnit())=='ubdd'))then
return false
endif
return true
endfunction
function Trig_Upgrade_Undead_Builder_T_Actions takes nothing returns nothing
set udg_AAAA_GP=GetUnitLoc(GetSpellTargetUnit())
call AddSpecialEffectLocBJ(udg_AAAA_GP,"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_AAAA_GP)
if(Trig_Upgrade_Undead_Builder_T_Func007C())then
call ReplaceUnitBJ(GetSpellTargetUnit(),'u023',bj_UNIT_STATE_METHOD_RELATIVE)
else
endif
endfunction
function InitTrig_Upgrade_Undead_Builder_T takes nothing returns nothing
set udg_trg_Upgrade_Undead_Builder_T=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Upgrade_Undead_Builder_T,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Upgrade_Undead_Builder_T,Condition(function Trig_Upgrade_Undead_Builder_T_Conditions))
call TriggerAddAction(udg_trg_Upgrade_Undead_Builder_T,function Trig_Upgrade_Undead_Builder_T_Actions)
endfunction
function Trig_Tuskarr_Commander_Actions takes nothing returns nothing
endfunction
function InitTrig_Tuskarr_Commander takes nothing returns nothing
set udg_trg_Tuskarr_Commander=CreateTrigger()
call TriggerAddAction(udg_trg_Tuskarr_Commander,function Trig_Tuskarr_Commander_Actions)
endfunction
function Trig_Spawn_Boss_and_set_variable_Func003C takes nothing returns boolean
if(not(GetUnitTypeId(udg_BOSS_UNIT)=='n02L'))then
return false
endif
return true
endfunction
function Trig_Spawn_Boss_and_set_variable_Actions takes nothing returns nothing
set udg_BOSS_UNIT = CreateUnitBonuses(Neutral_Satyrs,udg_BossType[GetRandomInt(1,2)],4029,-533,0)
call NeutralIssueOrderRandomLocInRect(udg_BOSS_UNIT,"patrol",udg_rct_Entire_map_excluding_out_of_bounds)
endfunction
function InitTrig_Spawn_Boss_and_set_variable takes nothing returns nothing
set udg_trg_Spawn_Boss_and_set_variable=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Spawn_Boss_and_set_variable,1111.11)
call TriggerRegisterTimerEventSingle(udg_trg_Spawn_Boss_and_set_variable,666.11)
call TriggerRegisterTimerEventSingle(udg_trg_Spawn_Boss_and_set_variable,1675.11)
call TriggerRegisterTimerEventSingle(udg_trg_Spawn_Boss_and_set_variable,2255.11)
call TriggerAddAction(udg_trg_Spawn_Boss_and_set_variable,function Trig_Spawn_Boss_and_set_variable_Actions)
endfunction
function Trig_Boss_Drop_Func002C takes nothing returns boolean
if(GetUnitAbilityLevel(GetDyingUnit(),'ACC6')>0)then
return true
endif
return false
endfunction
function Trig_Boss_Drop_Conditions takes nothing returns boolean
if(not Trig_Boss_Drop_Func002C())then
return false
endif
if(not(IsUnitIllusionBJ(GetDyingUnit())==false))then
return false
endif
return true
endfunction
function Trig_Boss_Drop_Actions takes nothing returns nothing
call CreateItemLoc(udg_Boss_Drops[GetRandomInt(1,8)],GetUnitLoc(GetDyingUnit()))
endfunction
function InitTrig_Boss_Drop takes nothing returns nothing
set udg_trg_Boss_Drop=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Boss_Drop,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Boss_Drop,Condition(function Trig_Boss_Drop_Conditions))
call TriggerAddAction(udg_trg_Boss_Drop,function Trig_Boss_Drop_Actions)
endfunction
function Trig_Sand_Slam_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0K4'))then
return false
endif
return true
endfunction
function Trig_Sand_Slam_Func003002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Sand_Slam_Func003002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)
endfunction
function Trig_Sand_Slam_Func003002003002002001 takes nothing returns boolean
return(IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true)
endfunction
function Trig_Sand_Slam_Func003002003002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Sand_Slam_Func003002003002002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)
endfunction
function Trig_Sand_Slam_Func003002003002002002002002 takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Sand_Slam_Func003002003002002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))
endfunction
function Trig_Sand_Slam_Func003002003002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))
endfunction
function Trig_Sand_Slam_Func003002003002002 takes nothing returns boolean
return GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))
endfunction
function Trig_Sand_Slam_Func003002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))))
endfunction
function Trig_Sand_Slam_Func003002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))))))
endfunction
function Trig_Sand_Slam_Func004A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Antidesync_temp_unit,GetEnumUnit(),100.00,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call CreateNUnitsAtLocBonuses(1,'e018',GetOwningPlayer(udg_Antidesync_temp_unit),udg_TempPoint,bj_UNIT_FACING)
call UnitAddAbilityBJ('A0JW',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0JW',GetLastCreatedUnit(),3)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"slow",GetEnumUnit())
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
endfunction
function Trig_Sand_Slam_Func007001003 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_Sand_Slam_Func007Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
return true
endfunction
function Trig_Sand_Slam_Func007A takes nothing returns nothing
if(Trig_Sand_Slam_Func007Func001C())then
set udg_General_Point2=GetUnitLoc(GetEnumUnit())
call CreateNUnitsAtLocBonuses(1,'h07G',GetOwningPlayer(GetTriggerUnit()),udg_General_Point2,bj_UNIT_FACING)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"soulburn",GetEnumUnit())
call AddSpecialEffectLocBJ(udg_General_Point2,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitApplyTimedLifeBJ(3.00,'BTLF',GetLastCreatedUnit())
call RemoveLocation(udg_General_Point2)
else
endif
endfunction
function Trig_Sand_Slam_Actions takes nothing returns nothing
set udg_Antidesync_temp_unit=GetTriggerUnit()
set udg_TempPoint=GetUnitLoc(udg_Antidesync_temp_unit)
set udg_TempGroup=GetUnitsInRangeOfLocMatching(450.00,udg_TempPoint,Condition(function Trig_Sand_Slam_Func003002003))
call ForGroupBJ(udg_TempGroup,function Trig_Sand_Slam_Func004A)
set udg_General_Point=GetUnitLoc(GetTriggerUnit())
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocMatching(850.00,udg_General_Point,Condition(function Trig_Sand_Slam_Func007001003)),function Trig_Sand_Slam_Func007A)
call RemoveLocation(udg_General_Point)
call RemoveLocation(udg_TempPoint)
call DestroyGroup(udg_TempGroup)
endfunction
function InitTrig_Sand_Slam takes nothing returns nothing
set udg_trg_Sand_Slam=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Sand_Slam,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Sand_Slam,Condition(function Trig_Sand_Slam_Conditions))
call TriggerAddAction(udg_trg_Sand_Slam,function Trig_Sand_Slam_Actions)
endfunction
function Trig_Desert_Ant_Cast_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0JG'))then
return false
endif
return true
endfunction
function Trig_Desert_Ant_Cast_Func002C takes nothing returns boolean
if(not(udg_TDA_Integer[1]==0))then
return false
endif
return true
endfunction
function Trig_Desert_Ant_Cast_Func007C takes nothing returns boolean
if(not(GetUnitAbilityLevelSwapped('A0JG',udg_TDA_Caster[udg_TDA_Integer[2]])==1))then
return false
endif
return true
endfunction
function Trig_Desert_Ant_Cast_Actions takes nothing returns nothing
if(Trig_Desert_Ant_Cast_Func002C())then
call EnableTrigger(udg_trg_Desert_Ant_Core)
else
endif
set udg_TDA_Integer[1]=(udg_TDA_Integer[1]+1)
set udg_TDA_Integer[2]=(udg_TDA_Integer[2]+1)
set udg_TDA_Caster[udg_TDA_Integer[2]]=GetTriggerUnit()
if(Trig_Desert_Ant_Cast_Func007C())then
set udg_TDA_DamagePerSpike[udg_TDA_Integer[2]]=28.00
set udg_TDA_Interval[udg_TDA_Integer[2]]=2.00
set udg_TDA_NumberOfSpikesPerInterval2[udg_TDA_Integer[2]]=25
set udg_TDA_ImpaleDotDmg[udg_TDA_Integer[2]]=5.00
set udg_TDA_ImpaleDotDuration[udg_TDA_Integer[2]]=10.00
set udg_TDA_Duration[udg_TDA_Integer[2]]=20.00
set udg_TDA_TargetPoint[udg_TDA_Integer[2]]=GetSpellTargetLoc()
else
endif
endfunction
function InitTrig_Desert_Ant_Cast takes nothing returns nothing
set udg_trg_Desert_Ant_Cast=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Desert_Ant_Cast,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Desert_Ant_Cast,Condition(function Trig_Desert_Ant_Cast_Conditions))
call TriggerAddAction(udg_trg_Desert_Ant_Cast,function Trig_Desert_Ant_Cast_Actions)
endfunction
function Trig_Desert_Ant_Core_Func001Func001Func003Func003Func004002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Desert_Ant_Core_Func001Func001Func003Func003Func004002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Desert_Ant_Core_Func001Func001Func003Func003Func004002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_TDA_Caster[udg_TDA_Integer[3]]))==true)
endfunction
function Trig_Desert_Ant_Core_Func001Func001Func003Func003Func004002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_TDA_Caster[udg_TDA_Integer[3]]))==true))
endfunction
function Trig_Desert_Ant_Core_Func001Func001Func003Func003Func004002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_TDA_Caster[udg_TDA_Integer[3]]))==true))))
endfunction
function Trig_Desert_Ant_Core_Func001Func001Func003Func003Func005A takes nothing returns nothing
call UnitDamageTargetBJ(udg_TDA_Caster[udg_TDA_Integer[3]],GetEnumUnit(),udg_TDA_DamagePerSpike[udg_TDA_Integer[3]],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
set udg_DOT1_Target=GetEnumUnit()
set udg_DOT1_DamageDealer=udg_TDA_Caster[udg_TDA_Integer[3]]
set udg_DOT1_AttackType=ATTACK_TYPE_NORMAL
set udg_DOT1_DamagePerTick=udg_TDA_ImpaleDotDmg[udg_TDA_Integer[3]]
set udg_DOT1_DamageType=DAMAGE_TYPE_NORMAL
set udg_DOT1_Duration=udg_TDA_ImpaleDotDuration[udg_TDA_Integer[3]]
set udg_DOT1_EffectString="Objects\\Spawnmodels\\Other\\BeastmasterBlood\\BeastmasterBlood.mdl"
set udg_DOT1_EffectType=false
set udg_DOT1_TickTime=1.00
set udg_DOT1_attachpoint="chest"
call ConditionalTriggerExecute(udg_trg_DOT_Apply)
endfunction
function Trig_Desert_Ant_Core_Func001Func001Func003C takes nothing returns boolean
if(not(udg_TDA_IntervalCounter[udg_TDA_Integer[3]]>=udg_TDA_Interval[udg_TDA_Integer[3]]))then
return false
endif
return true
endfunction
function Trig_Desert_Ant_Core_Func001Func001Func004Func006C takes nothing returns boolean
if(not(udg_TDA_Integer[1]==0))then
return false
endif
return true
endfunction
function Trig_Desert_Ant_Core_Func001Func001Func004C takes nothing returns boolean
if(not(udg_TDA_CurrentDurationExp[udg_TDA_Integer[3]]>=udg_TDA_Duration[udg_TDA_Integer[3]]))then
return false
endif
return true
endfunction
function Trig_Desert_Ant_Core_Func001Func001C takes nothing returns boolean
if(not(udg_TDA_Duration[udg_TDA_Integer[3]]>0.00))then
return false
endif
return true
endfunction
function Trig_Desert_Ant_Core_Actions takes nothing returns nothing
set udg_TDA_Integer[3]=1
loop
exitwhen udg_TDA_Integer[3]>udg_TDA_Integer[2]
if(Trig_Desert_Ant_Core_Func001Func001C())then
set udg_TDA_IntervalCounter[udg_TDA_Integer[3]]=(udg_TDA_IntervalCounter[udg_TDA_Integer[3]]+0.03)
set udg_TDA_CurrentDurationExp[udg_TDA_Integer[3]]=(udg_TDA_CurrentDurationExp[udg_TDA_Integer[3]]+0.03)
if(Trig_Desert_Ant_Core_Func001Func001Func003C())then
set udg_TDA_IntervalCounter[udg_TDA_Integer[3]]=0.00
set udg_TDA_Integer[5]=1
loop
exitwhen udg_TDA_Integer[5]>5
set udg_TDA_Integer[4]=1
loop
exitwhen udg_TDA_Integer[4]>8
set udg_TDA_temploc=PolarProjectionBJ(udg_TDA_TargetPoint[udg_TDA_Integer[3]],I2R((GetRandomInt(50,100)*udg_TDA_Integer[5])),I2R((GetRandomInt(5,45)*udg_TDA_Integer[4])))
call AddSpecialEffectLocBJ(udg_TDA_temploc,"Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_TDA_temploc)
set udg_TDA_Integer[4]=udg_TDA_Integer[4]+1
endloop
set udg_TDA_Integer[5]=udg_TDA_Integer[5]+1
endloop
set udg_TDA_Integer[4]=1
loop
exitwhen udg_TDA_Integer[4]>udg_TDA_NumberOfSpikesPerInterval2[udg_TDA_Integer[3]]
set udg_TDA_temploc=PolarProjectionBJ(udg_TDA_TargetPoint[udg_TDA_Integer[3]],GetRandomReal(0,550.00),GetRandomDirectionDeg())
call AddSpecialEffectLocBJ(udg_TDA_temploc,"Abilities\\Spells\\Undead\\Impale\\ImpaleHitTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set udg_TDA_group=GetUnitsInRangeOfLocMatching(50.00,udg_TDA_temploc,Condition(function Trig_Desert_Ant_Core_Func001Func001Func003Func003Func004002003))
call ForGroupBJ(udg_TDA_group,function Trig_Desert_Ant_Core_Func001Func001Func003Func003Func005A)
call DestroyGroup(udg_TDA_group)
call RemoveLocation(udg_TDA_temploc)
set udg_TDA_Integer[4]=udg_TDA_Integer[4]+1
endloop
else
endif
if(Trig_Desert_Ant_Core_Func001Func001Func004C())then
set udg_TDA_CurrentDurationExp[udg_TDA_Integer[3]]=0.00
set udg_TDA_IntervalCounter[udg_TDA_Integer[3]]=0.00
set udg_TDA_Integer[1]=(udg_TDA_Integer[1]-1)
set udg_TDA_Duration[udg_TDA_Integer[3]]=0.00
call RemoveLocation(udg_TDA_TargetPoint[udg_TDA_Integer[3]])
if(Trig_Desert_Ant_Core_Func001Func001Func004Func006C())then
set udg_TDA_Integer[2]=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
else
endif
else
endif
set udg_TDA_Integer[3]=udg_TDA_Integer[3]+1
endloop
endfunction
function InitTrig_Desert_Ant_Core takes nothing returns nothing
set udg_trg_Desert_Ant_Core=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(udg_trg_Desert_Ant_Core,0.03)
call TriggerAddAction(udg_trg_Desert_Ant_Core,function Trig_Desert_Ant_Core_Actions)
endfunction
function Trig_DOT_Apply_Func001C takes nothing returns boolean
if(not(udg_DOT1_Integer[1]==0))then
return false
endif
return true
endfunction
function Trig_DOT_Apply_Func015C takes nothing returns boolean
if(not(udg_DOT2_EffectType[udg_DOT1_Integer[2]]==true))then
return false
endif
return true
endfunction
function Trig_DOT_Apply_Actions takes nothing returns nothing
if(Trig_DOT_Apply_Func001C())then
call EnableTrigger(udg_trg_GUI_DOT_System)
else
endif
set udg_DOT1_Integer[1]=(udg_DOT1_Integer[1]+1)
set udg_DOT1_Integer[2]=(udg_DOT1_Integer[2]+1)
set udg_DOT2_AttackType[udg_DOT1_Integer[2]]=udg_DOT1_AttackType
set udg_DOT2_DamageDealer[udg_DOT1_Integer[2]]=udg_DOT1_DamageDealer
set udg_DOT2_DamagePerTick[udg_DOT1_Integer[2]]=udg_DOT1_DamagePerTick
set udg_DOT2_DamageType[udg_DOT1_Integer[2]]=udg_DOT1_DamageType
set udg_DOT2_Duration[udg_DOT1_Integer[2]]=udg_DOT1_Duration
set udg_DOT2_Target[udg_DOT1_Integer[2]]=udg_DOT1_Target
set udg_DOT2_TickTime[udg_DOT1_Integer[2]]=udg_DOT1_TickTime
set udg_DOT2_DamageDone[udg_DOT1_Integer[2]]=0.00
set udg_DOT2_MaxDamage[udg_DOT1_Integer[2]]=((udg_DOT1_Duration/ udg_DOT1_TickTime)*udg_DOT1_DamagePerTick)
set udg_DOT2_TimeEater[udg_DOT1_Integer[2]]=0.00
set udg_DOT2_EffectType[udg_DOT1_Integer[2]]=udg_DOT1_EffectType
if(Trig_DOT_Apply_Func015C())then
call AddSpecialEffectTargetUnitBJ(udg_DOT1_attachpoint,udg_DOT2_Target[udg_DOT1_Integer[2]],udg_DOT1_EffectString)
set udg_DOT2_Effect[udg_DOT1_Integer[2]]=GetLastCreatedEffectBJ()
else
set udg_DOT2_EffectString[udg_DOT1_Integer[2]]=udg_DOT1_EffectString
set udg_DOT2_attachpoint[udg_DOT1_Integer[2]]=udg_DOT1_attachpoint
endif
endfunction
function InitTrig_DOT_Apply takes nothing returns nothing
set udg_trg_DOT_Apply=CreateTrigger()
call TriggerAddAction(udg_trg_DOT_Apply,function Trig_DOT_Apply_Actions)
endfunction
function Trig_GUI_DOT_System_Func001Func001Func002Func001C takes nothing returns boolean
if(not(udg_DOT2_EffectType[udg_DOT1_Integer[3]]==true))then
return false
endif
return true
endfunction
function Trig_GUI_DOT_System_Func001Func001Func002Func002Func001C takes nothing returns boolean
if(not(udg_DOT2_EffectType[udg_DOT1_Integer[3]]==true))then
return false
endif
return true
endfunction
function Trig_GUI_DOT_System_Func001Func001Func002Func002Func004C takes nothing returns boolean
if(not(udg_DOT1_Integer[1]==0))then
return false
endif
return true
endfunction
function Trig_GUI_DOT_System_Func001Func001Func002Func002Func005Func005C takes nothing returns boolean
if(not(udg_DOT2_EffectType[udg_DOT1_Integer[3]]==false))then
return false
endif
return true
endfunction
function Trig_GUI_DOT_System_Func001Func001Func002Func002Func005C takes nothing returns boolean
if(not(udg_DOT2_TimeEater[udg_DOT1_Integer[3]]==udg_DOT2_TickTime[udg_DOT1_Integer[3]]))then
return false
endif
return true
endfunction
function Trig_GUI_DOT_System_Func001Func001Func002Func002C takes nothing returns boolean
if(not(udg_DOT2_DamageDone[udg_DOT1_Integer[3]]<udg_DOT2_MaxDamage[udg_DOT1_Integer[3]]))then
return false
endif
return true
endfunction
function Trig_GUI_DOT_System_Func001Func001Func002Func005C takes nothing returns boolean
if(not(udg_DOT1_Integer[1]==0))then
return false
endif
return true
endfunction
function Trig_GUI_DOT_System_Func001Func001Func002C takes nothing returns boolean
if(not(IsUnitDeadBJ(udg_DOT2_Target[udg_DOT1_Integer[3]])==true))then
return false
endif
return true
endfunction
function Trig_GUI_DOT_System_Func001Func001C takes nothing returns boolean
if(not(udg_DOT2_Target[udg_DOT1_Integer[3]]!=null))then
return false
endif
return true
endfunction
function Trig_GUI_DOT_System_Actions takes nothing returns nothing
set udg_DOT1_Integer[3]=1
loop
exitwhen udg_DOT1_Integer[3]>udg_DOT1_Integer[2]
if(Trig_GUI_DOT_System_Func001Func001C())then
if(Trig_GUI_DOT_System_Func001Func001Func002C())then
if(Trig_GUI_DOT_System_Func001Func001Func002Func001C())then
call DestroyEffectBJ(udg_DOT2_Effect[udg_DOT1_Integer[3]])
else
endif
set udg_DOT2_Target[udg_DOT1_Integer[3]]=null
set udg_DOT1_Integer[1]=(udg_DOT1_Integer[1]-1)
if(Trig_GUI_DOT_System_Func001Func001Func002Func005C())then
set udg_DOT1_Integer[2]=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
else
if(Trig_GUI_DOT_System_Func001Func001Func002Func002C())then
if(Trig_GUI_DOT_System_Func001Func001Func002Func002Func005C())then
set udg_DOT2_TimeEater[udg_DOT1_Integer[3]]=0.00
call UnitDamageTargetBJ(udg_DOT2_DamageDealer[udg_DOT1_Integer[3]],udg_DOT2_Target[udg_DOT1_Integer[3]],udg_DOT1_DamagePerTick,udg_DOT2_AttackType[3],udg_DOT2_DamageType[3])
set udg_DOT2_DamageDone[udg_DOT1_Integer[3]]=(udg_DOT2_DamageDone[udg_DOT1_Integer[3]]+udg_DOT2_DamagePerTick[udg_DOT1_Integer[3]])
if(Trig_GUI_DOT_System_Func001Func001Func002Func002Func005Func005C())then
call AddSpecialEffectTargetUnitBJ(udg_DOT2_attachpoint[udg_DOT1_Integer[3]],udg_DOT2_Target[udg_DOT1_Integer[3]],udg_DOT2_EffectString[udg_DOT1_Integer[3]])
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
endif
else
set udg_DOT2_TimeEater[udg_DOT1_Integer[3]]=(udg_DOT2_TimeEater[udg_DOT1_Integer[3]]+0.01)
endif
else
if(Trig_GUI_DOT_System_Func001Func001Func002Func002Func001C())then
call DestroyEffectBJ(udg_DOT2_Effect[udg_DOT1_Integer[3]])
else
endif
set udg_DOT2_Target[udg_DOT1_Integer[3]]=null
set udg_DOT1_Integer[1]=(udg_DOT1_Integer[1]-1)
if(Trig_GUI_DOT_System_Func001Func001Func002Func002Func004C())then
set udg_DOT1_Integer[2]=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
endif
endif
else
endif
set udg_DOT1_Integer[3]=udg_DOT1_Integer[3]+1
endloop
endfunction
function InitTrig_GUI_DOT_System takes nothing returns nothing
set udg_trg_GUI_DOT_System=CreateTrigger()
call DisableTrigger(udg_trg_GUI_DOT_System)
call TriggerRegisterTimerEventPeriodic(udg_trg_GUI_DOT_System,0.2)
call TriggerAddAction(udg_trg_GUI_DOT_System,function Trig_GUI_DOT_System_Actions)
endfunction
function Trig_Sand_Stomp_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0JH'))then
return false
endif
return true
endfunction
function Trig_Sand_Stomp_Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=18
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_ST_TC=GetTriggerUnit()
set udg_ST_Location=GetUnitLoc(udg_ST_TC)
set udg_ST_Ability='A0JI'
set udg_ST_Loop_Location=PolarProjectionBJ(udg_ST_Location,200.00,(20.00*I2R(GetForLoopIndexA())))
call CreateNUnitsAtLocFacingLocBJ(1,'h07H',GetOwningPlayer(udg_ST_TC),udg_ST_Loop_Location,udg_ST_Location)
call UnitAddAbilityBJ(udg_ST_Ability,GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped(udg_ST_Ability,GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A0JH',udg_ST_TC))
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"impale",udg_ST_Location)
call UnitApplyTimedLifeBJ(2.00,'BTLF',GetLastCreatedUnit())
call RemoveLocation(udg_ST_Loop_Location)
call RemoveLocation(udg_ST_Location)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function InitTrig_Sand_Stomp takes nothing returns nothing
set udg_trg_Sand_Stomp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Sand_Stomp,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Sand_Stomp,Condition(function Trig_Sand_Stomp_Conditions))
call TriggerAddAction(udg_trg_Sand_Stomp,function Trig_Sand_Stomp_Actions)
endfunction
function Trig_Sand_Quaker_Conditions takes nothing returns boolean
if(not(GetUnitAbilityLevelSwapped('A0JJ',GetAttacker())>=1))then
return false
endif
return true
endfunction
function Trig_Sand_Quaker_Func007001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0JJ',udg_SQ_Unit[1])==1)
endfunction
function Trig_Sand_Quaker_Func009C takes nothing returns boolean
if(not(udg_SQ_Chances==udg_SQ_Percentages))then
return false
endif
return true
endfunction
function Trig_Sand_Quaker_Actions takes nothing returns nothing
set udg_SQ_Chances=1
set udg_SQ_Unit[1]=GetAttacker()
set udg_SQ_Unit[2]=GetAttackedUnitBJ()
set udg_SQ_Ability='A0JK'
set udg_SQ_Location[1]=GetUnitLoc(udg_SQ_Unit[1])
set udg_SQ_Location[2]=GetUnitLoc(udg_SQ_Unit[2])
if((GetUnitAbilityLevelSwapped('A0JJ',udg_SQ_Unit[1])==1))then
set udg_SQ_Percentages=GetRandomInt(1,(5-GetUnitAbilityLevelSwapped('A0JJ',udg_SQ_Unit[1])))
else
call DoNothing()
endif
set udg_SQ_Percentages=GetRandomInt(1,(6-GetUnitAbilityLevelSwapped('A0JJ',udg_SQ_Unit[1])))
if(Trig_Sand_Quaker_Func009C())then
call SetUnitAnimation(udg_SQ_Unit[1],"attack slam")
call AddSpecialEffectTargetUnitBJ("weapon",udg_SQ_Unit[1],"Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateNUnitsAtLocBonuses(1,'h07I',GetOwningPlayer(udg_SQ_Unit[1]),udg_SQ_Location[2],bj_UNIT_FACING)
call UnitAddAbilityBJ(udg_SQ_Ability,GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped(udg_SQ_Ability,GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A0JJ',udg_SQ_Unit[1]))
call IssueImmediateOrderBJ(GetLastCreatedUnit(),"fanofknives")
call UnitApplyTimedLifeBJ(0.50,'BTLF',GetLastCreatedUnit())
call RemoveLocation(udg_SQ_Location[1])
call RemoveLocation(udg_SQ_Location[2])
else
call DoNothing()
endif
endfunction
function InitTrig_Sand_Quaker takes nothing returns nothing
set udg_trg_Sand_Quaker=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Sand_Quaker,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(udg_trg_Sand_Quaker,Condition(function Trig_Sand_Quaker_Conditions))
call TriggerAddAction(udg_trg_Sand_Quaker,function Trig_Sand_Quaker_Actions)
endfunction
function Trig_Hyper_Knock_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0JL'))then
return false
endif
return true
endfunction
function HyerKnock_Callback takes nothing returns nothing
    local integer id = GetHandleId(GetExpiredTimer())
    local unit u = LoadUnitHandle(timerdata,id,kOwner)
    local unit target = LoadUnitHandle(timerdata,id,kTarget)
    local real damage =  LoadReal(timerdata,id,kDamage)
    call UnitDamageTarget(u,target,damage,true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endfunction
function Trig_Hyper_Knock_Actions takes nothing returns nothing
    local timer Timer = null
    set udg_HK_BOOL=true
    set udg_HK_TC=GetTriggerUnit()
    set udg_HK_Target_Unit=GetSpellTargetUnit()
    set udg_HK_Location=GetUnitLoc(udg_HK_TC)
    set udg_HK_Strength=GetHeroStatBJ(bj_HEROSTAT_STR,udg_HK_TC,true)
    set Timer = JumpUnitUnitEx(udg_HK_TC,udg_HK_Target_Unit,800,true,"walk","HyerKnock_Callback")
    set udg_HK_Strength = udg_HK_Strength*4+255
    call SaveReal(timerdata,GetHandleId(Timer),kDamage,udg_HK_Strength)
    set Timer = null
endfunction
function InitTrig_Hyper_Knock takes nothing returns nothing
set udg_trg_Hyper_Knock=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Hyper_Knock,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Hyper_Knock,Condition(function Trig_Hyper_Knock_Conditions))
call TriggerAddAction(udg_trg_Hyper_Knock,function Trig_Hyper_Knock_Actions)
endfunction
function Trig_Knockback_Loop_Func012003 takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Knockback_Loop_Func013003 takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Knockback_Loop_Actions takes nothing returns nothing
set udg_HK_Location=GetUnitLoc(udg_HK_TC)
set udg_HK_Location2=GetUnitLoc(udg_HK_Target_Unit)
set udg_HK_Location3=PolarProjectionBJ(udg_HK_Location,(DistanceBetweenPoints(udg_HK_Location,udg_HK_Location2)+25.00),AngleBetweenPoints(udg_HK_Location,udg_HK_Location2))
set udg_HK_Location4=PolarProjectionBJ(udg_HK_Location2,(DistanceBetweenPoints(udg_HK_Location2,udg_HK_Location)-28.00),AngleBetweenPoints(udg_HK_Location2,udg_HK_Location))
call SetUnitPositionLoc(udg_HK_Target_Unit,udg_HK_Location3)
call SetUnitPositionLoc(udg_HK_TC,udg_HK_Location4)
call UnitDamageTargetBJ(udg_HK_TC,udg_HK_Target_Unit,20.00,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call AddSpecialEffectLocBJ(udg_HK_Location,"Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(udg_HK_Location2,"war3mapImported\\SandExplosion.mdx")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call EnumDestructablesInCircleBJ(200.00,udg_HK_Location,function Trig_Knockback_Loop_Func012003)
call EnumDestructablesInCircleBJ(200.00,udg_HK_Location2,function Trig_Knockback_Loop_Func013003)
call RemoveLocation(udg_HK_Location)
call RemoveLocation(udg_HK_Location2)
call RemoveLocation(udg_HK_Location3)
call RemoveLocation(udg_HK_Location4)
endfunction
function InitTrig_Knockback_Loop takes nothing returns nothing
set udg_trg_Knockback_Loop=CreateTrigger()
call DisableTrigger(udg_trg_Knockback_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_Knockback_Loop,0.05)
call TriggerAddAction(udg_trg_Knockback_Loop,function Trig_Knockback_Loop_Actions)
endfunction
function Trig_Owner_pick_up_shield_only_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I03N'))then
return false
endif
return true
endfunction
function Trig_Owner_pick_up_shield_only_Func001Func001Func001C takes nothing returns boolean
if(not(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),udg_numshieldint))=='I03N'))then
return false
endif
return true
endfunction
function Trig_Owner_pick_up_shield_only_Func001Func002C takes nothing returns boolean
if(not(udg_numshield==2))then
return false
endif
return true
endfunction
function Trig_Owner_pick_up_shield_only_Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())!='H073'))then
return false
endif
return true
endfunction
function Trig_Owner_pick_up_shield_only_Actions takes nothing returns nothing
if(Trig_Owner_pick_up_shield_only_Func001C())then
call UnitRemoveItemSwapped(GetManipulatedItem(),GetTriggerUnit())
else
set udg_numshieldint=1
loop
exitwhen udg_numshieldint>6
if(Trig_Owner_pick_up_shield_only_Func001Func001Func001C())then
set udg_numshield=(udg_numshield+1)
else
endif
set udg_numshieldint=udg_numshieldint+1
endloop
if(Trig_Owner_pick_up_shield_only_Func001Func002C())then
call UnitRemoveItemSwapped(GetManipulatedItem(),GetTriggerUnit())
set udg_numshield=0
else
set udg_numshield=0
endif
endif
endfunction
function InitTrig_Owner_pick_up_shield_only takes nothing returns nothing
set udg_trg_Owner_pick_up_shield_only=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Owner_pick_up_shield_only,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Owner_pick_up_shield_only,Condition(function Trig_Owner_pick_up_shield_only_Conditions))
call TriggerAddAction(udg_trg_Owner_pick_up_shield_only,function Trig_Owner_pick_up_shield_only_Actions)
endfunction
function Trig_Throw_Shield_Conditions takes nothing returns boolean
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03N')==true))then
return false
endif
if(not(GetSpellAbilityId()=='A0HA'))then
return false
endif
return true
endfunction
function Trig_Throw_Shield_Actions takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03N'))
set udg_AAACAS_CasterPoint=GetUnitLoc(GetTriggerUnit())
set udg_AAACAS_CastCount=(udg_AAACAS_CastCount+1)
set udg_AAACAS_Instances=(udg_AAACAS_Instances+1)
set udg_AAACAS_TargetPoint=GetSpellTargetLoc()
set udg_AAACAS_Angle[udg_AAACAS_CastCount]=AngleBetweenPoints(udg_AAACAS_CasterPoint,udg_AAACAS_TargetPoint)
call CreateNUnitsAtLocFacingLocBJ(1,'h074',GetOwningPlayer(GetTriggerUnit()),udg_AAACAS_CasterPoint,udg_AAACAS_TargetPoint)
set udg_AAACAS_unit[udg_AAACAS_CastCount]=GetLastCreatedUnit()
set udg_AAACAS_Distance[udg_AAACAS_CastCount]=DistanceBetweenPoints(udg_AAACAS_CasterPoint,udg_AAACAS_TargetPoint)
set udg_AAACAS_Distance_Counter[udg_AAACAS_CastCount]=24.00
call RemoveLocation(udg_AAACAS_CasterPoint)
call RemoveLocation(udg_AAACAS_TargetPoint)
call EnableTrigger(udg_trg_Shield_Loop)
endfunction
function InitTrig_Throw_Shield takes nothing returns nothing
set udg_trg_Throw_Shield=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Throw_Shield,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Throw_Shield,Condition(function Trig_Throw_Shield_Conditions))
call TriggerAddAction(udg_trg_Throw_Shield,function Trig_Throw_Shield_Actions)
endfunction
function Trig_Shield_Loop_Func001Func001Func006002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Shield_Loop_Func001Func001Func006002003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_AAACAS_unit[udg_AAACAS_Integer]))==true)
endfunction
function Trig_Shield_Loop_Func001Func001Func006002003002002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Shield_Loop_Func001Func001Func006002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_AAACAS_unit[udg_AAACAS_Integer]))==true),(IsUnitAliveBJ(GetFilterUnit())==true))
endfunction
function Trig_Shield_Loop_Func001Func001Func006002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_AAACAS_unit[udg_AAACAS_Integer]))==true),(IsUnitAliveBJ(GetFilterUnit())==true))))
endfunction
function Trig_Shield_Loop_Func001Func001Func007Func001C takes nothing returns boolean
if(not(IsUnitInGroup(GetEnumUnit(),udg_AAACAS_HitUnitsGroup[udg_AAACAS_Integer])==false))then
return false
endif
return true
endfunction
function Trig_Shield_Loop_Func001Func001Func007A takes nothing returns nothing
if(Trig_Shield_Loop_Func001Func001Func007Func001C())then
set udg_AAACAS_TargetUnit_Point[udg_AAACAS_Integer]=GetUnitLoc(GetEnumUnit())
call CreateNUnitsAtLocBonuses(1,'h075',GetOwningPlayer(udg_AAACAS_unit[udg_AAACAS_Integer]),udg_AAACAS_TargetUnit_Point[udg_AAACAS_Integer],bj_UNIT_FACING)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"thunderbolt",GetEnumUnit())
call UnitApplyTimedLifeBJ(3.00,'BTLF',GetLastCreatedUnit())
call GroupAddUnitSimple(GetEnumUnit(),udg_AAACAS_HitUnitsGroup[udg_AAACAS_Integer])
else
endif
endfunction
function Trig_Shield_Loop_Func001Func001Func008C takes nothing returns boolean
if(not(udg_AAACAS_Distance_Counter[udg_AAACAS_Integer]>=udg_AAACAS_Distance[udg_AAACAS_Integer]))then
return false
endif
return true
endfunction
function Trig_Shield_Loop_Func001Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_AAACAS_unit[udg_AAACAS_Integer])==true))then
return false
endif
return true
endfunction
function Trig_Shield_Loop_Func002C takes nothing returns boolean
if(not(udg_AAACAS_Instances==0))then
return false
endif
return true
endfunction
function Trig_Shield_Loop_Actions takes nothing returns nothing
set udg_AAACAS_Integer=1
loop
exitwhen udg_AAACAS_Integer>udg_AAACAS_CastCount
if(Trig_Shield_Loop_Func001Func001C())then
set udg_AAACAS_CurrenPoint[udg_AAACAS_Integer]=GetUnitLoc(udg_AAACAS_unit[udg_AAACAS_Integer])
set udg_AAACAS_NextPoint[udg_AAACAS_Integer]=PolarProjectionBJ(udg_AAACAS_CurrenPoint[udg_AAACAS_Integer],24.00,udg_AAACAS_Angle[udg_AAACAS_Integer])
call SetUnitPositionLoc(udg_AAACAS_unit[udg_AAACAS_Integer],udg_AAACAS_NextPoint[udg_AAACAS_Integer])
set udg_AAACAS_Distance_Counter[udg_AAACAS_Integer]=(udg_AAACAS_Distance_Counter[udg_AAACAS_Integer]+24.00)
set udg_AAACAS_UnitGroup[udg_AAACAS_Integer]=GetUnitsInRangeOfLocMatching(140.00,udg_AAACAS_NextPoint[udg_AAACAS_Integer],Condition(function Trig_Shield_Loop_Func001Func001Func006002003))
call ForGroupBJ(udg_AAACAS_UnitGroup[udg_AAACAS_Integer],function Trig_Shield_Loop_Func001Func001Func007A)
if(Trig_Shield_Loop_Func001Func001Func008C())then
call AddSpecialEffectLocBJ(udg_AAACAS_NextPoint[udg_AAACAS_Integer],"Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateItemLoc('I03N',udg_AAACAS_NextPoint[udg_AAACAS_Integer])
call KillUnit(udg_AAACAS_unit[udg_AAACAS_Integer])
call RemoveUnit(udg_AAACAS_unit[udg_AAACAS_Integer])
else
endif
call DestroyGroup(udg_AAACAS_UnitGroup[udg_AAACAS_Integer])
call RemoveLocation(udg_AAACAS_NextPoint[udg_AAACAS_Integer])
call RemoveLocation(udg_AAACAS_CurrenPoint[udg_AAACAS_Integer])
else
set udg_AAACAS_Instances=(udg_AAACAS_Instances-1)
endif
set udg_AAACAS_Integer=udg_AAACAS_Integer+1
endloop
if(Trig_Shield_Loop_Func002C())then
set udg_AAACAS_Integer=1
loop
exitwhen udg_AAACAS_Integer>udg_AAACAS_CastCount
call GroupClear(udg_AAACAS_HitUnitsGroup[udg_AAACAS_Integer])
set udg_AAACAS_Integer=udg_AAACAS_Integer+1
endloop
set udg_AAACAS_CastCount=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function InitTrig_Shield_Loop takes nothing returns nothing
set udg_trg_Shield_Loop=CreateTrigger()
call DisableTrigger(udg_trg_Shield_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_Shield_Loop,0.03)
call TriggerAddAction(udg_trg_Shield_Loop,function Trig_Shield_Loop_Actions)
endfunction
function Trig_Firebolt_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0CO'))then
return false
endif
return true
endfunction
function Trig_Firebolt_Actions takes nothing returns nothing
set udg_AAS1_CastCount=(udg_AAS1_CastCount+1)
set udg_AAS1_CasterPoint=GetUnitLoc(GetTriggerUnit())
set udg_AAS1_TargetPoint=GetSpellTargetLoc()
set udg_AAS1_Angle=AngleBetweenPoints(udg_AAS1_CasterPoint,udg_AAS1_TargetPoint)
call CreateNUnitsAtLocBonuses(1,'h034',GetOwningPlayer(GetTriggerUnit()),udg_AAS1_CasterPoint,udg_AAS1_Angle)
set udg_AAS1_Dummy[udg_AAS1_CastCount]=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),udg_AAS1_UnitGroup)
call SetUnitUserData(GetLastCreatedUnit(),udg_AAS1_CastCount)
call UnitApplyTimedLifeBJ(6.10,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"move",udg_AAS1_TargetPoint)
call RemoveLocation(udg_AAS1_CasterPoint)
call RemoveLocation(udg_AAS1_TargetPoint)
call EnableTrigger(udg_trg_Loop_Copy)
endfunction
function InitTrig_Firebolt takes nothing returns nothing
set udg_trg_Firebolt=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Firebolt,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Firebolt,Condition(function Trig_Firebolt_Conditions))
call TriggerAddAction(udg_trg_Firebolt,function Trig_Firebolt_Actions)
endfunction
function Trig_Loop_Copy_Func001Func003002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)
endfunction
function Trig_Loop_Copy_Func001Func003002003002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Loop_Copy_Func001Func003002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_AAS1_Dummy[udg_AAS1_Integer]))==true)
endfunction
function Trig_Loop_Copy_Func001Func003002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_AAS1_Dummy[udg_AAS1_Integer]))==true))
endfunction
function Trig_Loop_Copy_Func001Func003002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_AAS1_Dummy[udg_AAS1_Integer]))==true))))
endfunction
function Trig_Loop_Copy_Func001Func006A takes nothing returns nothing
call UnitDamageTargetBJ(udg_AAS1_Dummy[udg_AAS1_CastCount],GetEnumUnit(),10.00,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
endfunction
function Trig_Loop_Copy_Func001Func007Func001C takes nothing returns boolean
if((CountUnitsInGroup(udg_AAS1_UnitGroup2)>0))then
return true
endif
return false
endfunction
function Trig_Loop_Copy_Func001Func007C takes nothing returns boolean
if(not Trig_Loop_Copy_Func001Func007Func001C())then
return false
endif
return true
endfunction
function Trig_Loop_Copy_Func001A takes nothing returns nothing
set udg_AAS1_Integer=GetUnitUserData(GetEnumUnit())
set udg_AAS1_DummyPoint=GetUnitLoc(GetEnumUnit())
set udg_AAS1_UnitGroup2=GetUnitsInRangeOfLocMatching(45.00,udg_AAS1_DummyPoint,Condition(function Trig_Loop_Copy_Func001Func003002003))
set udg_AAS1_RandomUnit=GetRandomSubGroup(1,udg_AAS1_UnitGroup2)
set bj_wantDestroyGroup=true
call ForGroupBJ(udg_AAS1_RandomUnit,function Trig_Loop_Copy_Func001Func006A)
if(Trig_Loop_Copy_Func001Func007C())then
call KillUnit(GetEnumUnit())
else
endif
call RemoveLocation(udg_AAS1_DummyPoint)
endfunction
function Trig_Loop_Copy_Func002C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_AAS1_UnitGroup)==0))then
return false
endif
return true
endfunction
function Trig_Loop_Copy_Actions takes nothing returns nothing
call ForGroupBJ(udg_AAS1_UnitGroup,function Trig_Loop_Copy_Func001A)
if(Trig_Loop_Copy_Func002C())then
call DisableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function InitTrig_Loop_Copy takes nothing returns nothing
set udg_trg_Loop_Copy=CreateTrigger()
call DisableTrigger(udg_trg_Loop_Copy)
call TriggerRegisterTimerEventPeriodic(udg_trg_Loop_Copy,0.03)
call TriggerAddAction(udg_trg_Loop_Copy,function Trig_Loop_Copy_Actions)
endfunction
function Trig_Firebolt_death_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='h034'))then
return false
endif
return true
endfunction
function Trig_Firebolt_death_Actions takes nothing returns nothing
call GroupRemoveUnitSimple(GetTriggerUnit(),udg_AAS1_UnitGroup)
set udg_AAS1_DeathPoint=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocBonuses(1,'h01A',GetOwningPlayer(GetTriggerUnit()),udg_AAS1_DeathPoint,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(3.50,'BTLF',GetLastCreatedUnit())
call RemoveLocation(udg_AAS1_DeathPoint)
endfunction
function InitTrig_Firebolt_death takes nothing returns nothing
set udg_trg_Firebolt_death=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Firebolt_death,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Firebolt_death,Condition(function Trig_Firebolt_death_Conditions))
call TriggerAddAction(udg_trg_Firebolt_death,function Trig_Firebolt_death_Actions)
endfunction
function Trig_snowball_Init_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0CY'))then
return false
endif
return true
endfunction
function Trig_snowball_Init_Func002C takes nothing returns boolean
if(not(udg_AB_Indexsize==0))then
return false
endif
return true
endfunction
function Trig_snowball_Init_Func004C takes nothing returns boolean
if(not(udg_AB_Indexsize>udg_AB_maxindexsize))then
return false
endif
return true
endfunction
function Trig_snowball_Init_Actions takes nothing returns nothing
if(Trig_snowball_Init_Func002C())then
call EnableTrigger(udg_trg_snowball_Loop)
else
endif
set udg_AB_Indexsize=(udg_AB_Indexsize+1)
if(Trig_snowball_Init_Func004C())then
set udg_AB_index[udg_AB_Indexsize]=udg_AB_Indexsize
set udg_AB_maxindexsize=udg_AB_Indexsize
else
endif
set udg_AB_Temp=udg_AB_index[udg_AB_Indexsize]
set udg_AB_Caster[udg_AB_Temp]=GetTriggerUnit()
set udg_AB_Point1=GetUnitLoc(udg_AB_Caster[udg_AB_Temp])
set udg_AB_Point2=GetSpellTargetLoc()
set udg_AB_Duration[udg_AB_Temp]=5.00
set udg_AB_Damage[udg_AB_Temp]=100.00
call CreateNUnitsAtLocBonuses(1,'h04P',GetOwningPlayer(udg_AB_Caster[udg_AB_Temp]),udg_AB_Point1,AngleBetweenPoints(udg_AB_Point1,udg_AB_Point2))
set udg_AB_Orb[udg_AB_Temp]=GetLastCreatedUnit()
call SetUnitPathing(udg_AB_Orb[udg_AB_Temp],false)
call RemoveLocation(udg_AB_Point1)
call RemoveLocation(udg_AB_Point2)
endfunction
function InitTrig_snowball_Init takes nothing returns nothing
set udg_trg_snowball_Init=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_snowball_Init,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_snowball_Init,Condition(function Trig_snowball_Init_Conditions))
call TriggerAddAction(udg_trg_snowball_Init,function Trig_snowball_Init_Actions)
endfunction
function Trig_snowball_Loop_Func001Func004Func015002003001001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_snowball_Loop_Func001Func004Func015002003001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_snowball_Loop_Func001Func004Func015002003001 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))
endfunction
function Trig_snowball_Loop_Func001Func004Func015002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_snowball_Loop_Func001Func004Func015002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_AB_Orb[udg_AB_Temp]))==true)
endfunction
function Trig_snowball_Loop_Func001Func004Func015002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_AB_Orb[udg_AB_Temp]))==true))
endfunction
function Trig_snowball_Loop_Func001Func004Func015002003 takes nothing returns boolean
return GetBooleanAnd((GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_AB_Orb[udg_AB_Temp]))==true))))
endfunction
function Trig_snowball_Loop_Func001Func004Func016Func002Func003C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_AB_UG[udg_AB_Temp])>1))then
return false
endif
return true
endfunction
function Trig_snowball_Loop_Func001Func004Func016Func002Func008C takes nothing returns boolean
if(not(GetUnitStateSwap(UNIT_STATE_MANA,GetEnumUnit())==0.00))then
return false
endif
return true
endfunction
function Trig_snowball_Loop_Func001Func004Func016Func002C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_AB_UG[udg_AB_Temp])==1))then
return false
endif
return true
endfunction
function Trig_snowball_Loop_Func001Func004Func016A takes nothing returns nothing
if(Trig_snowball_Loop_Func001Func004Func016Func002C())then
set udg_AB_Duration[udg_AB_Temp]=0.00
call UnitDamageTargetBJ(udg_AB_Orb[udg_AB_Temp],GetEnumUnit(),udg_AB_Damage[udg_AB_Temp],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
if(Trig_snowball_Loop_Func001Func004Func016Func002Func008C())then
else
call KillUnit(udg_AB_Orb[udg_AB_Temp])
endif
else
if(Trig_snowball_Loop_Func001Func004Func016Func002Func003C())then
call GroupRemoveUnitSimple(GetEnumUnit(),udg_AB_UG[udg_AB_Temp])
else
endif
endif
endfunction
function Trig_snowball_Loop_Func001Func004C takes nothing returns boolean
if(not(udg_AB_Duration[udg_AB_Temp]>0.00))then
return false
endif
return true
endfunction
function Trig_snowball_Loop_Func002C takes nothing returns boolean
if(not(udg_AB_Indexsize==0))then
return false
endif
return true
endfunction
function Trig_snowball_Loop_Actions takes nothing returns nothing
set udg_AB_Loop=1
loop
exitwhen udg_AB_Loop>udg_AB_Indexsize
set udg_AB_Temp=udg_AB_index[udg_AB_Loop]
if(Trig_snowball_Loop_Func001Func004C())then
set udg_AB_Duration[udg_AB_Temp]=(udg_AB_Duration[udg_AB_Temp]-0.02)
set udg_AB_Point3=GetUnitLoc(udg_AB_Orb[udg_AB_Temp])
set udg_AB_Point4=PolarProjectionBJ(udg_AB_Point3,10.00,GetUnitFacing(udg_AB_Orb[udg_AB_Temp]))
call SetUnitPositionLoc(udg_AB_Orb[udg_AB_Temp],udg_AB_Point4)
set udg_AB_UG[udg_AB_Temp]=GetUnitsInRangeOfLocMatching(50.00,udg_AB_Point3,Condition(function Trig_snowball_Loop_Func001Func004Func015002003))
call ForGroupBJ(udg_AB_UG[udg_AB_Temp],function Trig_snowball_Loop_Func001Func004Func016A)
call RemoveLocation(udg_AB_Point3)
call RemoveLocation(udg_AB_Point4)
call DestroyGroup(udg_AB_UG[udg_AB_Temp])
else
call KillUnit(udg_AB_Orb[udg_AB_Temp])
set udg_AB_index[udg_AB_Loop]=udg_AB_index[udg_AB_Indexsize]
set udg_AB_index[udg_AB_Indexsize]=udg_AB_Temp
set udg_AB_Indexsize=(udg_AB_Indexsize-1)
set udg_AB_Loop=(udg_AB_Loop-1)
endif
set udg_AB_Loop=udg_AB_Loop+1
endloop
if(Trig_snowball_Loop_Func002C())then
call DisableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function InitTrig_snowball_Loop takes nothing returns nothing
set udg_trg_snowball_Loop=CreateTrigger()
call DisableTrigger(udg_trg_snowball_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_snowball_Loop,0.02)
call TriggerAddAction(udg_trg_snowball_Loop,function Trig_snowball_Loop_Actions)
endfunction
function Trig_Protector_turn_on_Func003C takes nothing returns boolean
if((GetUnitTypeId(GetTriggerUnit())=='h078'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='H079'))then
return true
endif
if((GetUnitTypeId(GetTriggerUnit())=='H07A'))then
return true
endif
return false
endfunction
function Trig_Protector_turn_on_Conditions takes nothing returns boolean
if(not Trig_Protector_turn_on_Func003C())then
return false
endif
if(not(IsUnitIllusionBJ(GetTriggerUnit())==false))then
return false
endif
return true
endfunction
function Trig_Protector_turn_on_Actions takes nothing returns nothing
call GroupAddUnitSimple(GetTriggerUnit(),udg_Guardian_Group)
call EnableTrigger(udg_trg_Guardian_aura)
endfunction
function InitTrig_Protector_turn_on takes nothing returns nothing
set udg_trg_Protector_turn_on=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_Protector_turn_on,GetEntireMapRect())
call TriggerAddCondition(udg_trg_Protector_turn_on,Condition(function Trig_Protector_turn_on_Conditions))
call TriggerAddAction(udg_trg_Protector_turn_on,function Trig_Protector_turn_on_Actions)
endfunction
function Trig_Guardian_aura_Func001Func003Func001Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
return true
endfunction
function Trig_Guardian_aura_Func001Func003Func001A takes nothing returns nothing
if(Trig_Guardian_aura_Func001Func003Func001Func001C())then
set udg_AAAA_GP=GetUnitLoc(GetEnumUnit())
call CreateTextTagLocBJ(I2S(udg_Guardian_Timer),udg_AAAA_GP,120.00,9.00,100.00,100.00,0.00,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),70.00,90)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.00)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),0.75)
call RemoveLocation(udg_AAAA_GP)
else
call GroupRemoveUnitSimple(GetEnumUnit(),udg_Guardian_Group)
endif
endfunction
function Trig_Guardian_aura_Func001Func003Func002Func001001002001001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)
endfunction
function Trig_Guardian_aura_Func001Func003Func002Func001001002001002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Guardian_aura_Func001Func003Func002Func001001002001 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false),(IsUnitAliveBJ(GetFilterUnit())==true))
endfunction
function Trig_Guardian_aura_Func001Func003Func002Func001001002002001001 takes nothing returns boolean
return(IsUnitIllusionBJ(GetFilterUnit())==false)
endfunction
function Trig_Guardian_aura_Func001Func003Func002Func001001002002001002 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),udg_Trained_Units)==false)
endfunction
function Trig_Guardian_aura_Func001Func003Func002Func001001002002001 takes nothing returns boolean
return GetBooleanAnd((IsUnitIllusionBJ(GetFilterUnit())==false),(IsUnitInGroup(GetFilterUnit(),udg_Trained_Units)==false))
endfunction
function Trig_Guardian_aura_Func001Func003Func002Func001001002002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetFilterUnit(),'B028')==true)
endfunction
function Trig_Guardian_aura_Func001Func003Func002Func001001002002 takes nothing returns boolean
return GetBooleanAnd((GetBooleanAnd((IsUnitIllusionBJ(GetFilterUnit())==false),(IsUnitInGroup(GetFilterUnit(),udg_Trained_Units)==false))),(UnitHasBuffBJ(GetFilterUnit(),'B028')==true))
endfunction
function Trig_Guardian_aura_Func001Func003Func002Func001001002 takes nothing returns boolean
return GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false),(IsUnitAliveBJ(GetFilterUnit())==true))),(GetBooleanAnd((GetBooleanAnd((IsUnitIllusionBJ(GetFilterUnit())==false),(IsUnitInGroup(GetFilterUnit(),udg_Trained_Units)==false))),(UnitHasBuffBJ(GetFilterUnit(),'B028')==true))))
endfunction
function Trig_Guardian_aura_Func001Func003Func002Func001A takes nothing returns nothing
set udg_CS_Unit=GetEnumUnit()
call AddWhiteDamageRestricted(udg_CS_Unit,1)
call AddHPRestricted(udg_CS_Unit,25)
set udg_Player_Guardian_Boolean[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]=true
set udg_AAAA_GP=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(udg_AAAA_GP,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_AAAA_GP)
endfunction
function Trig_Guardian_aura_Func001Func003Func002Func002Func001C takes nothing returns boolean
if(not(udg_Player_Guardian_Boolean[udg_Guardian_Integer]==true))then
return false
endif
return true
endfunction
function Trig_Guardian_aura_Func001Func003Func002C takes nothing returns boolean
if(not(udg_Guardian_Timer<=0))then
return false
endif
return true
endfunction
function Trig_Guardian_aura_Func001Func003C takes nothing returns boolean
if(not(udg_Guardian_Timer<=10))then
return false
endif
return true
endfunction
function Trig_Guardian_aura_Func001C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_Guardian_Group)>0))then
return false
endif
return true
endfunction
function Trig_Guardian_aura_Actions takes nothing returns nothing
if(Trig_Guardian_aura_Func001C())then
set udg_Guardian_Timer=(udg_Guardian_Timer-1)
if(Trig_Guardian_aura_Func001Func003C())then
call ForGroupBJ(udg_Guardian_Group,function Trig_Guardian_aura_Func001Func003Func001A)
if(Trig_Guardian_aura_Func001Func003Func002C())then
call ForGroupBJ(GetUnitsInRectMatching(GetEntireMapRect(),Condition(function Trig_Guardian_aura_Func001Func003Func002Func001001002)),function Trig_Guardian_aura_Func001Func003Func002Func001A)
set udg_Guardian_Integer=1
loop
exitwhen udg_Guardian_Integer>12
if(Trig_Guardian_aura_Func001Func003Func002Func002Func001C())then
set udg_Player_HP_Points[udg_Guardian_Integer]=(udg_Player_HP_Points[udg_Guardian_Integer]+25)
set udg_Player_DamagePoints[udg_Guardian_Integer]=(udg_Player_DamagePoints[udg_Guardian_Integer]+1)
set udg_Player_Guardian_Boolean[udg_Guardian_Integer]=false
else
endif
set udg_Guardian_Integer=udg_Guardian_Integer+1
endloop
set udg_Guardian_Timer=60
else
endif
else
endif
else
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function InitTrig_Guardian_aura takes nothing returns nothing
set udg_trg_Guardian_aura=CreateTrigger()
call DisableTrigger(udg_trg_Guardian_aura)
call TriggerRegisterTimerEventPeriodic(udg_trg_Guardian_aura,1.00)
call TriggerAddAction(udg_trg_Guardian_aura,function Trig_Guardian_aura_Actions)
endfunction
function Trig_Set_creep_rein_levels_Func001C takes nothing returns boolean
if((IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),GetPlayersAllies(Neutral_Bottom))==true))then
return true
endif
if((IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),GetPlayersAllies(Neutral_Satyrs))==true))then
return true
endif
return false
endfunction
function Trig_Set_creep_rein_levels_Conditions takes nothing returns boolean
if(not Trig_Set_creep_rein_levels_Func001C())then
return false
endif
if(not(GetItemTypeId(GetManipulatedItem())=='I017'))then
return false
endif
return true
endfunction
function Trig_Set_creep_rein_levels_Func003Func001001001 takes nothing returns boolean
return(IsPlayerInForce(GetFilterPlayer(),udg_Creep_upgrading_playergroup)==true)
endfunction
function Trig_Set_creep_rein_levels_Func003C takes nothing returns boolean
if(not(udg_Creep_Rein_Levels<4))then
return false
endif
return true
endfunction
function Trig_Set_creep_rein_levels_Func004C takes nothing returns boolean
if(not(udg_Creep_Rein_Levels==2))then
return false
endif
return true
endfunction
function Trig_Set_creep_rein_levels_Func005C takes nothing returns boolean
if(not(udg_Creep_Rein_Levels==3))then
return false
endif
return true
endfunction
function Trig_Set_creep_rein_levels_Func006C takes nothing returns boolean
if(not(udg_Creep_Rein_Levels==4))then
return false
endif
return true
endfunction
function Trig_Set_creep_rein_levels_Actions takes nothing returns nothing
call ForceAddPlayerSimple(GetOwningPlayer(GetTriggerUnit()),udg_Creep_upgrading_playergroup)
if(Trig_Set_creep_rein_levels_Func003C())then
set udg_Creep_Rein_Levels=(udg_Creep_Rein_Levels+1)
call ForceRemovePlayerSimple(GetOwningPlayer(GetTriggerUnit()),udg_Creep_upgrading_playergroup)
else
call DisplayTimedTextToForce(GetPlayersMatching(Condition(function Trig_Set_creep_rein_levels_Func003Func001001001)),5.00,"Upgrade failed~~Creeps are at max level.")
call ForceRemovePlayerSimple(GetOwningPlayer(GetTriggerUnit()),udg_Creep_upgrading_playergroup)
endif
if(Trig_Set_creep_rein_levels_Func004C())then
call DisplayTimedTextToForce(GetPlayersAll(),5.00,"|cffffff00Creep reinforcements upgraded!|r")
call TriggerExecute(udg_trg_Creep_Reinforcements_lvl2)
else
endif
if(Trig_Set_creep_rein_levels_Func005C())then
call DisplayTimedTextToForce(GetPlayersAll(),5.00,"|cffffff00Creep reinforcements upgraded!|r")
call TriggerExecute(udg_trg_Creep_Reinforcements_lvl3)
else
endif
if(Trig_Set_creep_rein_levels_Func006C())then
call DisplayTimedTextToForce(GetPlayersAll(),5.00,"|cffffff00Creep reinforcements upgraded!|r")
call TriggerExecute(udg_trg_Creep_Reinforcements_lvl4)
else
endif
endfunction
function InitTrig_Set_creep_rein_levels takes nothing returns nothing
set udg_trg_Set_creep_rein_levels=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Set_creep_rein_levels,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Set_creep_rein_levels,Condition(function Trig_Set_creep_rein_levels_Conditions))
call TriggerAddAction(udg_trg_Set_creep_rein_levels,function Trig_Set_creep_rein_levels_Actions)
endfunction
function Trig_Purchase_Creep_Func003C takes nothing returns boolean
if((IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),GetPlayersAllies(Neutral_Bottom))==true))then
return true
endif
return false
endfunction
function Trig_Purchase_Creep_Conditions takes nothing returns boolean
if(not Trig_Purchase_Creep_Func003C())then
return false
endif
if(not(GetItemTypeId(GetManipulatedItem())=='I018'))then
return false
endif
return true
endfunction
function Trig_Purchase_Creep_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,udg_RANDOM_NEUTRAL[GetRandomInt(1,15)],GetOwningPlayer(GetTriggerUnit()),GetRectCenter(udg_rct_Hire_Creep_Spawn),bj_UNIT_FACING)
call AddSpecialEffectLocBJ(GetUnitLoc(GetLastCreatedUnit()),"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")
endfunction
function InitTrig_Purchase_Creep takes nothing returns nothing
set udg_trg_Purchase_Creep=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Purchase_Creep,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Purchase_Creep,Condition(function Trig_Purchase_Creep_Conditions))
call TriggerAddAction(udg_trg_Purchase_Creep,function Trig_Purchase_Creep_Actions)
endfunction
function Trig_Creep_Reinforcements_Lvl1_Actions takes nothing returns nothing
set udg_Creep_Rein_Levels=1
set udg_RANDOM_NEUTRAL[1]='nspr'
set udg_RANDOM_NEUTRAL[2]='nftr'
set udg_RANDOM_NEUTRAL[3]='nftr'
set udg_RANDOM_NEUTRAL[4]='nmrl'
set udg_RANDOM_NEUTRAL[5]='nslm'
set udg_RANDOM_NEUTRAL[6]='nbdm'
set udg_RANDOM_NEUTRAL[7]='nitr'
set udg_RANDOM_NEUTRAL[8]='nltl'
set udg_RANDOM_NEUTRAL[9]='nder'
set udg_RANDOM_NEUTRAL[10]='nrac'
set udg_RANDOM_NEUTRAL[11]='nspd'
set udg_RANDOM_NEUTRAL[12]='nsno'
set udg_RANDOM_NEUTRAL[13]='ngrk'
set udg_RANDOM_NEUTRAL[14]='ngrk'
set udg_RANDOM_NEUTRAL[15]='nsty'
endfunction
function InitTrig_Creep_Reinforcements_Lvl1 takes nothing returns nothing
set udg_trg_Creep_Reinforcements_Lvl1=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Creep_Reinforcements_Lvl1,6.66)
call TriggerAddAction(udg_trg_Creep_Reinforcements_Lvl1,function Trig_Creep_Reinforcements_Lvl1_Actions)
endfunction
function Trig_Creep_Reinforcements_lvl2_Actions takes nothing returns nothing
set udg_RANDOM_NEUTRAL[1]='ndtt'
set udg_RANDOM_NEUTRAL[2]='ndtt'
set udg_RANDOM_NEUTRAL[3]='nsts'
set udg_RANDOM_NEUTRAL[4]='nwlg'
set udg_RANDOM_NEUTRAL[5]='nssp'
set udg_RANDOM_NEUTRAL[6]='nmfs'
set udg_RANDOM_NEUTRAL[7]='nfrs'
set udg_RANDOM_NEUTRAL[8]='nowb'
set udg_RANDOM_NEUTRAL[9]='nqbh'
set udg_RANDOM_NEUTRAL[10]='narg'
set udg_RANDOM_NEUTRAL[11]='nnwa'
set udg_RANDOM_NEUTRAL[12]='nbdw'
set udg_RANDOM_NEUTRAL[13]='nfpl'
set udg_RANDOM_NEUTRAL[14]='nfpl'
set udg_RANDOM_NEUTRAL[15]='nogr'
endfunction
function InitTrig_Creep_Reinforcements_lvl2 takes nothing returns nothing
set udg_trg_Creep_Reinforcements_lvl2=CreateTrigger()
call TriggerAddAction(udg_trg_Creep_Reinforcements_lvl2,function Trig_Creep_Reinforcements_lvl2_Actions)
endfunction
function Trig_Creep_Reinforcements_lvl3_Actions takes nothing returns nothing
set udg_RANDOM_NEUTRAL[1]='nstl'
set udg_RANDOM_NEUTRAL[2]='nthl'
set udg_RANDOM_NEUTRAL[3]='nwld'
set udg_RANDOM_NEUTRAL[4]='nfrb'
set udg_RANDOM_NEUTRAL[5]='ndtw'
set udg_RANDOM_NEUTRAL[6]='ngst'
set udg_RANDOM_NEUTRAL[7]='ngst'
set udg_RANDOM_NEUTRAL[8]='nowe'
set udg_RANDOM_NEUTRAL[9]='nrzm'
set udg_RANDOM_NEUTRAL[10]='nwrg'
set udg_RANDOM_NEUTRAL[11]='nnws'
set udg_RANDOM_NEUTRAL[12]='ntks'
set udg_RANDOM_NEUTRAL[13]='ntkc'
set udg_RANDOM_NEUTRAL[14]='nubw'
set udg_RANDOM_NEUTRAL[15]='nomg'
endfunction
function InitTrig_Creep_Reinforcements_lvl3 takes nothing returns nothing
set udg_trg_Creep_Reinforcements_lvl3=CreateTrigger()
call TriggerAddAction(udg_trg_Creep_Reinforcements_lvl3,function Trig_Creep_Reinforcements_lvl3_Actions)
endfunction
function Trig_Creep_Reinforcements_lvl4_Actions takes nothing returns nothing
set udg_RANDOM_NEUTRAL[1]='nsth'
set udg_RANDOM_NEUTRAL[2]='nstw'
set udg_RANDOM_NEUTRAL[3]='nfra'
set udg_RANDOM_NEUTRAL[4]='nfra'
set udg_RANDOM_NEUTRAL[5]='nggr'
set udg_RANDOM_NEUTRAL[6]='nsgg'
set udg_RANDOM_NEUTRAL[7]='nmdr'
set udg_RANDOM_NEUTRAL[8]='nfpu'
set udg_RANDOM_NEUTRAL[9]='nrzg'
set udg_RANDOM_NEUTRAL[10]='nrvd'
set udg_RANDOM_NEUTRAL[11]='nmgr'
set udg_RANDOM_NEUTRAL[12]='nbdo'
set udg_RANDOM_NEUTRAL[13]='nnwq'
set udg_RANDOM_NEUTRAL[14]='nogl'
set udg_RANDOM_NEUTRAL[15]='nsqa'
endfunction
function InitTrig_Creep_Reinforcements_lvl4 takes nothing returns nothing
set udg_trg_Creep_Reinforcements_lvl4=CreateTrigger()
call TriggerAddAction(udg_trg_Creep_Reinforcements_lvl4,function Trig_Creep_Reinforcements_lvl4_Actions)
endfunction
function Trig_Spawn_spell_shop_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffEvents==false))then
return false
endif
return true
endfunction
function Trig_Spawn_spell_shop_2_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffEvents==false))then
return false
endif
return true
endfunction
function Trig_Spawn_spell_shop_2_Actions takes nothing returns nothing
    //call PrintHidden("Trig_Spawn_spell_shop_2_Actions")
call DisplayTimedTextToForce(GetPlayersAll(),6.00,"Hero Shop has spawned!")
call CreateNUnitsAtLocBonuses(1,'n03X',Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(udg_rct_hero_shop),bj_UNIT_FACING)
endfunction
function InitTrig_Spawn_spell_shop_2 takes nothing returns nothing
set udg_trg_Spawn_spell_shop_2=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Spawn_spell_shop_2,1305.00)
call TriggerAddCondition(udg_trg_Spawn_spell_shop_2,Condition(function Trig_Spawn_spell_shop_2_Conditions))
call TriggerAddAction(udg_trg_Spawn_spell_shop_2,function Trig_Spawn_spell_shop_2_Actions)
endfunction
function Trig_level_up_FE_Plant_Func004C takes nothing returns boolean
if((GetUnitTypeId(GetManipulatingUnit())=='edoc'))then
return true
endif
if((GetUnitTypeId(GetManipulatingUnit())=='edcm'))then
return true
endif
if((GetUnitTypeId(GetManipulatingUnit())=='N01P'))then
return true
endif
return false
endfunction
function Trig_level_up_FE_Plant_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I00B'))then
return false
endif
if(not Trig_level_up_FE_Plant_Func004C())then
return false
endif
return true
endfunction
function Trig_level_up_FE_Plant_Func001C takes nothing returns boolean
if(not(GetUnitAbilityLevelSwapped('A03N',GetTriggerUnit())<3))then
return false
endif
return true
endfunction
function Trig_level_up_FE_Plant_Actions takes nothing returns nothing
if(Trig_level_up_FE_Plant_Func001C())then
call IncUnitAbilityLevelSwapped('A03N',GetTriggerUnit())
else
endif
endfunction
function InitTrig_level_up_FE_Plant takes nothing returns nothing
set udg_trg_level_up_FE_Plant=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_level_up_FE_Plant,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_level_up_FE_Plant,Condition(function Trig_level_up_FE_Plant_Conditions))
call TriggerAddAction(udg_trg_level_up_FE_Plant,function Trig_level_up_FE_Plant_Actions)
endfunction
function Trig_level_up_Rockfall_Func004C takes nothing returns boolean
if((GetUnitTypeId(GetManipulatingUnit())=='otau'))then
return true
endif
if((GetUnitTypeId(GetManipulatingUnit())=='n01D'))then
return true
endif
return false
endfunction
function Trig_level_up_Rockfall_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I00I'))then
return false
endif
if(not Trig_level_up_Rockfall_Func004C())then
return false
endif
return true
endfunction
function Trig_level_up_Rockfall_Func001C takes nothing returns boolean
if(not(GetUnitAbilityLevelSwapped('A0L7',GetTriggerUnit())<3))then
return false
endif
return true
endfunction
function Trig_level_up_Rockfall_Actions takes nothing returns nothing
if(Trig_level_up_Rockfall_Func001C())then
call IncUnitAbilityLevelSwapped('A0L7',GetTriggerUnit())
elseif(GetUnitAbilityLevelSwapped('A03T',GetTriggerUnit())<3)then
call IncUnitAbilityLevelSwapped('A03T',GetTriggerUnit())
endif
endfunction
function InitTrig_level_up_Rockfall takes nothing returns nothing
set udg_trg_level_up_Rockfall=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_level_up_Rockfall,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_level_up_Rockfall,Condition(function Trig_level_up_Rockfall_Conditions))
call TriggerAddAction(udg_trg_level_up_Rockfall,function Trig_level_up_Rockfall_Actions)
endfunction
function Trig_level_up_FE_Plant_Copy_Func003C takes nothing returns boolean
if((GetUnitTypeId(GetManipulatingUnit())=='edoc'))then
return true
endif
if((GetUnitTypeId(GetManipulatingUnit())=='edcm'))then
return true
endif
if((GetUnitTypeId(GetManipulatingUnit())=='N01P'))then
return true
endif
return false
endfunction
function Trig_level_up_FE_Plant_Copy_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I00D'))then
return false
endif
if(not Trig_level_up_FE_Plant_Copy_Func003C())then
return false
endif
return true
endfunction
function Trig_level_up_FE_Plant_Copy_Func001C takes nothing returns boolean
if(not(GetUnitAbilityLevelSwapped('A03U',GetTriggerUnit())<3))then
return false
endif
return true
endfunction
function Trig_level_up_FE_Plant_Copy_Actions takes nothing returns nothing
if(Trig_level_up_FE_Plant_Copy_Func001C())then
call IncUnitAbilityLevelSwapped('A03U',GetTriggerUnit())
else
endif
endfunction
function InitTrig_level_up_FE_Plant_Copy takes nothing returns nothing
set udg_trg_level_up_FE_Plant_Copy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_level_up_FE_Plant_Copy,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_level_up_FE_Plant_Copy,Condition(function Trig_level_up_FE_Plant_Copy_Conditions))
call TriggerAddAction(udg_trg_level_up_FE_Plant_Copy,function Trig_level_up_FE_Plant_Copy_Actions)
endfunction
function Trig_Volcano_spell_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetSoldItem())=='I002'))then
return false
endif
if(not(GetUnitTypeId(GetBuyingUnit())=='n00E'))then
return false
endif
return true
endfunction
function Trig_Volcano_spell_Actions takes nothing returns nothing
call RemoveItemFromAllStock('I002')
call UnitAddAbilityBJ('A030',GetBuyingUnit())
endfunction
function InitTrig_Volcano_spell takes nothing returns nothing
set udg_trg_Volcano_spell=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Volcano_spell,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(udg_trg_Volcano_spell,Condition(function Trig_Volcano_spell_Conditions))
call TriggerAddAction(udg_trg_Volcano_spell,function Trig_Volcano_spell_Actions)
endfunction
function Trig_Banish_Func004C takes nothing returns boolean
if((GetUnitTypeId(GetBuyingUnit())=='u00D'))then
return true
endif
if((GetUnitTypeId(GetBuyingUnit())=='U007'))then
return true
endif
if((GetUnitTypeId(GetBuyingUnit())=='U00N'))then
return true
endif
return false
endfunction
function Trig_Banish_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetSoldItem())=='I003'))then
return false
endif
if(not Trig_Banish_Func004C())then
return false
endif
return true
endfunction
function Trig_Banish_Actions takes nothing returns nothing
call RemoveItemFromAllStock('I003')
call UnitAddAbilityBJ('ACbn',GetBuyingUnit())
endfunction
function InitTrig_Banish takes nothing returns nothing
set udg_trg_Banish=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Banish,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(udg_trg_Banish,Condition(function Trig_Banish_Conditions))
call TriggerAddAction(udg_trg_Banish,function Trig_Banish_Actions)
endfunction
function Trig_Walk_of_Shadows_Cast_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0IC'))then
return false
endif
return true
endfunction
function Trig_Walk_of_Shadows_Cast_Func004C takes nothing returns boolean
if(not(udg_WoS_Index[2]<=0))then
return false
endif
return true
endfunction
function Trig_Walk_of_Shadows_Cast_Actions takes nothing returns nothing
if(Trig_Walk_of_Shadows_Cast_Func004C())then
call EnableTrigger(udg_trg_Walk_of_Shadows_Loop)
else
endif
set udg_WoS_Index[1]=(udg_WoS_Index[1]+1)
set udg_WoS_Index[2]=(udg_WoS_Index[2]+1)
set udg_WoS_Off[udg_WoS_Index[1]]=false
set udg_SystemPoint[0]=GetUnitLoc(GetTriggerUnit())
set udg_SystemPoint[1]=GetUnitLoc(GetSpellTargetUnit())
set udg_WoS_Caster[udg_WoS_Index[1]]=GetTriggerUnit()
set udg_WoS_TargetedUnit[udg_WoS_Index[1]]=GetSpellTargetUnit()
set udg_WoS_Angle[udg_WoS_Index[1]]=AngleBetweenPoints(udg_SystemPoint[0],udg_SystemPoint[1])
set udg_WoS_AttackTimer[udg_WoS_Index[1]]=1.00
set udg_WoS_ShadowEffectTimer[udg_WoS_Index[1]]=1.00
call SetUnitPathing(udg_WoS_Caster[udg_WoS_Index[1]],false)
call SetUnitInvulnerable(udg_WoS_Caster[udg_WoS_Index[1]],true)
call SetUnitVertexColorBJ(udg_WoS_Caster[udg_WoS_Index[1]],100,100,100,100.00)
set udg_WoS_AttackEffect[udg_WoS_Index[1]]="Objects\\Spawnmodels\\Critters\\Albatross\\CritterBloodAlbatross.mdl"
set udg_WoS_ShadowEffect[udg_WoS_Index[1]]="Abilities\\Spells\\Human\\CloudOfFog\\CloudOfFog.mdl"
set udg_WoS_ShadowEffectDuration[udg_WoS_Index[1]]=1.00
set udg_WoS_ShadowEffectCreatingDelay[udg_WoS_Index[1]]=0.40
set udg_WoS_Damage[udg_WoS_Index[1]]=125.00
set udg_WoS_Speed[udg_WoS_Index[1]]=12.50
set udg_WoS_SpeedIncreasement[udg_WoS_Index[1]]=0.06
set udg_WoS_MaxSpeed[udg_WoS_Index[1]]=20.00
set udg_WoS_OnAttackSpeedDecrease[udg_WoS_Index[1]]=5.00
set udg_WoS_SpellDuration[udg_WoS_Index[1]]=(3.00+(1.00*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))))
set udg_WoS_AttackRange[udg_WoS_Index[1]]=128.00
call RemoveLocation(udg_SystemPoint[0])
call RemoveLocation(udg_SystemPoint[1])
endfunction
function InitTrig_Walk_of_Shadows_Cast takes nothing returns nothing
set udg_trg_Walk_of_Shadows_Cast=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Walk_of_Shadows_Cast,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Walk_of_Shadows_Cast,Condition(function Trig_Walk_of_Shadows_Cast_Conditions))
call TriggerAddAction(udg_trg_Walk_of_Shadows_Cast,function Trig_Walk_of_Shadows_Cast_Actions)
endfunction
function Trig_Walk_of_Shadows_Loop_Func001Func001Func013C takes nothing returns boolean
if(not(udg_WoS_Speed[udg_WoS_Index[3]]>=udg_WoS_MaxSpeed[udg_WoS_Index[3]]))then
return false
endif
return true
endfunction
function Trig_Walk_of_Shadows_Loop_Func001Func001Func022C takes nothing returns boolean
if(not(udg_WoS_ShadowEffectTimer[udg_WoS_Index[3]]>=udg_WoS_ShadowEffectCreatingDelay[udg_WoS_Index[3]]))then
return false
endif
return true
endfunction
function Trig_Walk_of_Shadows_Loop_Func001Func001Func026Func003002003 takes nothing returns boolean
return(GetFilterUnit()==udg_WoS_TargetedUnit[udg_WoS_Index[3]])
endfunction
function Trig_Walk_of_Shadows_Loop_Func001Func001Func026Func004Func001Func006C takes nothing returns boolean
if(not(udg_WoS_Speed[udg_WoS_Index[3]]<=0.00))then
return false
endif
return true
endfunction
function Trig_Walk_of_Shadows_Loop_Func001Func001Func026Func004Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
return true
endfunction
function Trig_Walk_of_Shadows_Loop_Func001Func001Func026Func004A takes nothing returns nothing
if(Trig_Walk_of_Shadows_Loop_Func001Func001Func026Func004Func001C())then
set udg_WoS_AttackTimer[udg_WoS_Index[3]]=0.00
set udg_WoS_Speed[udg_WoS_Index[3]]=(udg_WoS_Speed[udg_WoS_Index[3]]-udg_WoS_OnAttackSpeedDecrease[udg_WoS_Index[3]])
if(Trig_Walk_of_Shadows_Loop_Func001Func001Func026Func004Func001Func006C())then
set udg_WoS_Speed[udg_WoS_Index[3]]=0.00
else
endif
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),udg_WoS_AttackEffect[udg_WoS_Index[3]])
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(udg_WoS_Caster[udg_WoS_Index[3]],GetEnumUnit(),udg_WoS_Damage[udg_WoS_Index[3]],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
else
endif
endfunction
function Trig_Walk_of_Shadows_Loop_Func001Func001Func026C takes nothing returns boolean
if(not(udg_WoS_AttackTimer[udg_WoS_Index[3]]>=1.00))then
return false
endif
return true
endfunction
function Trig_Walk_of_Shadows_Loop_Func001Func001Func030Func007C takes nothing returns boolean
if(not(udg_WoS_Index[2]<=0))then
return false
endif
return true
endfunction
function Trig_Walk_of_Shadows_Loop_Func001Func001Func030C takes nothing returns boolean
if(not(udg_WoS_SpellDuration[udg_WoS_Index[3]]<=0.00))then
return false
endif
return true
endfunction
function Trig_Walk_of_Shadows_Loop_Func001Func001Func034Func009C takes nothing returns boolean
if(not(udg_WoS_Index[2]<=0))then
return false
endif
return true
endfunction
function Trig_Walk_of_Shadows_Loop_Func001Func001Func034C takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_WoS_TargetedUnit[udg_WoS_Index[3]])==false))then
return false
endif
return true
endfunction
function Trig_Walk_of_Shadows_Loop_Func001Func001C takes nothing returns boolean
if(not(udg_WoS_Off[udg_WoS_Index[3]]==false))then
return false
endif
return true
endfunction
function Trig_Walk_of_Shadows_Loop_Actions takes nothing returns nothing
set udg_WoS_Index[3]=1
loop
exitwhen udg_WoS_Index[3]>udg_WoS_Index[1]
if(Trig_Walk_of_Shadows_Loop_Func001Func001C())then
set udg_SystemPoint[0]=GetUnitLoc(udg_WoS_Caster[udg_WoS_Index[3]])
set udg_SystemPoint[1]=GetUnitLoc(udg_WoS_TargetedUnit[udg_WoS_Index[3]])
set udg_WoS_Angle[udg_WoS_Index[3]]=AngleBetweenPoints(udg_SystemPoint[0],udg_SystemPoint[1])
if(Trig_Walk_of_Shadows_Loop_Func001Func001Func013C())then
set udg_WoS_Speed[udg_WoS_Index[3]]=udg_WoS_MaxSpeed[udg_WoS_Index[3]]
else
set udg_WoS_Speed[udg_WoS_Index[3]]=(udg_WoS_Speed[udg_WoS_Index[3]]+udg_WoS_SpeedIncreasement[udg_WoS_Index[3]])
endif
set udg_SystemPoint[2]=PolarProjectionBJ(udg_SystemPoint[0],udg_WoS_Speed[udg_WoS_Index[3]],udg_WoS_Angle[udg_WoS_Index[3]])
call SetUnitPositionLoc(udg_WoS_Caster[udg_WoS_Index[3]],udg_SystemPoint[2])
if(Trig_Walk_of_Shadows_Loop_Func001Func001Func022C())then
set udg_WoS_ShadowEffectTimer[udg_WoS_Index[3]]=0.00
call AddSpecialEffectLocBJ(udg_SystemPoint[2],udg_WoS_ShadowEffect[udg_WoS_Index[3]])
set udg_tempSESSpecialEffect=GetLastCreatedEffectBJ()
set udg_tempSESTimer=udg_WoS_ShadowEffectDuration[udg_WoS_Index[3]]
call ConditionalTriggerExecute(udg_trg_Add_Special_Effect_to_System)
else
set udg_WoS_ShadowEffectTimer[udg_WoS_Index[3]]=(udg_WoS_ShadowEffectTimer[udg_WoS_Index[3]]+0.03)
endif
if(Trig_Walk_of_Shadows_Loop_Func001Func001Func026C())then
set udg_SystemUnitGroup[0]=GetUnitsInRangeOfLocMatching(udg_WoS_AttackRange[udg_WoS_Index[3]],udg_SystemPoint[2],Condition(function Trig_Walk_of_Shadows_Loop_Func001Func001Func026Func003002003))
call ForGroupBJ(udg_SystemUnitGroup[0],function Trig_Walk_of_Shadows_Loop_Func001Func001Func026Func004A)
call DestroyGroup(udg_SystemUnitGroup[0])
else
set udg_WoS_AttackTimer[udg_WoS_Index[3]]=(udg_WoS_AttackTimer[udg_WoS_Index[3]]+0.03)
endif
if(Trig_Walk_of_Shadows_Loop_Func001Func001Func030C())then
call SetUnitVertexColorBJ(udg_WoS_Caster[udg_WoS_Index[3]],100,100,100,0.00)
call SetUnitPathing(udg_WoS_Caster[udg_WoS_Index[3]],true)
call SetUnitInvulnerable(udg_WoS_Caster[udg_WoS_Index[3]],false)
set udg_WoS_Off[udg_WoS_Index[3]]=true
set udg_WoS_Index[2]=(udg_WoS_Index[2]-1)
if(Trig_Walk_of_Shadows_Loop_Func001Func001Func030Func007C())then
set udg_WoS_Index[1]=0
call DisableTrigger(udg_trg_Walk_of_Shadows_Loop)
else
endif
else
set udg_WoS_SpellDuration[udg_WoS_Index[3]]=(udg_WoS_SpellDuration[udg_WoS_Index[3]]-0.03)
endif
if(Trig_Walk_of_Shadows_Loop_Func001Func001Func034C())then
call SetUnitPathing(udg_WoS_Caster[udg_WoS_Index[3]],true)
call SetUnitInvulnerable(udg_WoS_Caster[udg_WoS_Index[3]],false)
call SetUnitVertexColorBJ(udg_WoS_Caster[udg_WoS_Index[3]],100,100,100,0.00)
set udg_WoS_Off[udg_WoS_Index[3]]=true
set udg_WoS_Index[2]=(udg_WoS_Index[2]-1)
if(Trig_Walk_of_Shadows_Loop_Func001Func001Func034Func009C())then
set udg_WoS_Index[1]=0
call DisableTrigger(udg_trg_Walk_of_Shadows_Loop)
else
endif
else
endif
call RemoveLocation(udg_SystemPoint[0])
call RemoveLocation(udg_SystemPoint[1])
call RemoveLocation(udg_SystemPoint[2])
else
endif
set udg_WoS_Index[3]=udg_WoS_Index[3]+1
endloop
endfunction
function InitTrig_Walk_of_Shadows_Loop takes nothing returns nothing
set udg_trg_Walk_of_Shadows_Loop=CreateTrigger()
call DisableTrigger(udg_trg_Walk_of_Shadows_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_Walk_of_Shadows_Loop,0.03)
call TriggerAddAction(udg_trg_Walk_of_Shadows_Loop,function Trig_Walk_of_Shadows_Loop_Actions)
endfunction
function Trig_Shadow_Drain_Cast_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0IB'))then
return false
endif
return true
endfunction
function Trig_Shadow_Drain_Cast_Func004C takes nothing returns boolean
if(not(udg_SD_Index[2]<=0))then
return false
endif
return true
endfunction
function Trig_Shadow_Drain_Cast_Actions takes nothing returns nothing
if(Trig_Shadow_Drain_Cast_Func004C())then
call EnableTrigger(udg_trg_Shadow_Drain_Loop)
else
endif
set udg_SD_Index[1]=(udg_SD_Index[1]+1)
set udg_SD_Index[2]=(udg_SD_Index[2]+1)
set udg_SD_Off[udg_SD_Index[1]]=false
set udg_SystemPoint[0]=GetUnitLoc(GetTriggerUnit())
set udg_SystemPoint[1]=GetUnitLoc(GetSpellTargetUnit())
set udg_SD_Caster[udg_SD_Index[1]]=GetTriggerUnit()
set udg_SD_TargetedUnit[udg_SD_Index[1]]=GetSpellTargetUnit()
set udg_SD_Timer[udg_SD_Index[1]]=0.00
call AddLightningLoc("AFOD",udg_SystemPoint[0],udg_SystemPoint[1])
set udg_SD_LightningEffect[udg_SD_Index[1]]=GetLastCreatedLightningBJ()
call SetLightningColorBJ(udg_SD_LightningEffect[udg_SD_Index[1]],0.00,0.00,1.00,1)
set udg_SD_DamageEffect[udg_SD_Index[1]]="Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl"
set udg_SD_MaxDistance[udg_SD_Index[1]]=775.00
set udg_SD_Damage[udg_SD_Index[1]]=(750.00+(250.00*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))))
set udg_SD_TimeToDoDamage[udg_SD_Index[1]]=10.00
call RemoveLocation(udg_SystemPoint[0])
call RemoveLocation(udg_SystemPoint[1])
endfunction
function InitTrig_Shadow_Drain_Cast takes nothing returns nothing
set udg_trg_Shadow_Drain_Cast=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Shadow_Drain_Cast,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Shadow_Drain_Cast,Condition(function Trig_Shadow_Drain_Cast_Conditions))
call TriggerAddAction(udg_trg_Shadow_Drain_Cast,function Trig_Shadow_Drain_Cast_Actions)
endfunction
function Trig_Shadow_Drain_Loop_Func001Func001Func004Func014C takes nothing returns boolean
if(not(udg_SD_Index[2]<=0))then
return false
endif
return true
endfunction
function Trig_Shadow_Drain_Loop_Func001Func001Func004Func027Func005C takes nothing returns boolean
if((DistanceBetweenPoints(udg_SystemPoint[0],udg_SystemPoint[1])>=udg_SD_MaxDistance[udg_SD_Index[3]]))then
return true
endif
if((IsUnitAliveBJ(udg_SD_Caster[udg_SD_Index[3]])==false))then
return true
endif
if((IsUnitAliveBJ(udg_SD_TargetedUnit[udg_SD_Index[3]])==false))then
return true
endif
return false
endfunction
function Trig_Shadow_Drain_Loop_Func001Func001Func004Func027Func010C takes nothing returns boolean
if(not(udg_SD_Index[2]<=0))then
return false
endif
return true
endfunction
function Trig_Shadow_Drain_Loop_Func001Func001Func004Func027C takes nothing returns boolean
if(not Trig_Shadow_Drain_Loop_Func001Func001Func004Func027Func005C())then
return false
endif
return true
endfunction
function Trig_Shadow_Drain_Loop_Func001Func001Func004C takes nothing returns boolean
if(not(udg_SD_Timer[udg_SD_Index[3]]>=udg_SD_TimeToDoDamage[udg_SD_Index[3]]))then
return false
endif
return true
endfunction
function Trig_Shadow_Drain_Loop_Func001Func001C takes nothing returns boolean
if(not(udg_SD_Off[udg_SD_Index[3]]==false))then
return false
endif
return true
endfunction
function Trig_Shadow_Drain_Loop_Actions takes nothing returns nothing
set udg_SD_Index[3]=1
loop
exitwhen udg_SD_Index[3]>udg_SD_Index[1]
if(Trig_Shadow_Drain_Loop_Func001Func001C())then
if(Trig_Shadow_Drain_Loop_Func001Func001Func004C())then
call AddSpecialEffectTargetUnitBJ("origin",udg_SD_TargetedUnit[udg_SD_Index[3]],udg_SD_DamageEffect[udg_SD_Index[3]])
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(udg_SD_Caster[udg_SD_Index[3]],udg_SD_TargetedUnit[udg_SD_Index[3]],udg_SD_Damage[udg_SD_Index[3]],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call SetUnitVertexColorBJ(udg_SD_TargetedUnit[udg_SD_Index[3]],100,100,100,0.00)
set udg_SD_Off[udg_SD_Index[3]]=true
set udg_SD_Index[2]=(udg_SD_Index[2]-1)
call DestroyLightningBJ(udg_SD_LightningEffect[udg_SD_Index[3]])
if(Trig_Shadow_Drain_Loop_Func001Func001Func004Func014C())then
set udg_SD_Index[1]=0
call DisableTrigger(udg_trg_Shadow_Drain_Loop)
else
endif
else
call SetUnitVertexColorBJ(udg_SD_TargetedUnit[udg_SD_Index[3]],100,100,100,(udg_SD_Timer[udg_SD_Index[3]]*(100.00/ udg_SD_TimeToDoDamage[udg_SD_Index[3]])))
set udg_SD_Timer[udg_SD_Index[3]]=(udg_SD_Timer[udg_SD_Index[3]]+0.03)
set udg_SystemPoint[0]=GetUnitLoc(udg_SD_Caster[udg_SD_Index[3]])
set udg_SystemPoint[1]=GetUnitLoc(udg_SD_TargetedUnit[udg_SD_Index[3]])
if(Trig_Shadow_Drain_Loop_Func001Func001Func004Func027C())then
call SetUnitVertexColorBJ(udg_SD_TargetedUnit[udg_SD_Index[3]],100,100,100,0.00)
set udg_SD_Off[udg_SD_Index[3]]=true
set udg_SD_Index[2]=(udg_SD_Index[2]-1)
call DestroyLightningBJ(udg_SD_LightningEffect[udg_SD_Index[3]])
if(Trig_Shadow_Drain_Loop_Func001Func001Func004Func027Func010C())then
set udg_SD_Index[1]=0
call DisableTrigger(udg_trg_Shadow_Drain_Loop)
else
endif
else
call MoveLightningEx(udg_SD_LightningEffect[udg_SD_Index[3]],true,GetLocationX(udg_SystemPoint[0]),GetLocationY(udg_SystemPoint[0]),50,GetLocationX(udg_SystemPoint[1]),GetLocationY(udg_SystemPoint[1]),50)
endif
call RemoveLocation(udg_SystemPoint[0])
call RemoveLocation(udg_SystemPoint[1])
endif
else
endif
set udg_SD_Index[3]=udg_SD_Index[3]+1
endloop
endfunction
function InitTrig_Shadow_Drain_Loop takes nothing returns nothing
set udg_trg_Shadow_Drain_Loop=CreateTrigger()
call DisableTrigger(udg_trg_Shadow_Drain_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_Shadow_Drain_Loop,0.03)
call TriggerAddAction(udg_trg_Shadow_Drain_Loop,function Trig_Shadow_Drain_Loop_Actions)
endfunction
function Trig_Knowledge_of_Shadows_Conditions takes nothing returns boolean
if(not(GetUnitAbilityLevelSwapped('A0IA',GetAttacker())>0))then
return false
endif
if(not(IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetAttackedUnitBJ()))==true))then
return false
endif
return true
endfunction
function Trig_Knowledge_of_Shadows_Func018Func004C takes nothing returns boolean
if(not(udg_KoS_Angle[0]>=(udg_KoS_Angle[1]-47.00)))then
return false
endif
if(not(udg_KoS_Angle[0]<=(udg_KoS_Angle[1]+47.00)))then
return false
endif
return true
endfunction
function Trig_Knowledge_of_Shadows_Func018C takes nothing returns boolean
if(not Trig_Knowledge_of_Shadows_Func018Func004C())then
return false
endif
return true
endfunction
function Trig_Knowledge_of_Shadows_Actions takes nothing returns nothing
set udg_SystemPoint[0]=GetUnitLoc(GetAttacker())
set udg_KoS_Angle[0]=GetUnitFacing(GetAttacker())
set udg_KoS_Angle[1]=GetUnitFacing(GetAttackedUnitBJ())
set udg_KOS_BackstabEffect="Abilities\\Spells\\NightElf\\shadowstrike\\shadowstrike.mdl"
if(Trig_Knowledge_of_Shadows_Func018C())then
call AddSpecialEffectTargetUnitBJ("overhead",GetAttackedUnitBJ(),udg_KOS_BackstabEffect)
set udg_tempSESSpecialEffect=GetLastCreatedEffectBJ()
set udg_tempSESTimer=1.00
call ConditionalTriggerExecute(udg_trg_Add_Special_Effect_to_System)
call CreateNUnitsAtLocBonuses(1,'h076',GetOwningPlayer(GetAttacker()),udg_SystemPoint[0],udg_KoS_Angle[0])
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A0I9',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0I9',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A0IA',GetAttacker()))
call IssueTargetOrderBJ(GetLastCreatedUnit(),"curse",GetAttackedUnitBJ())
else
endif
call RemoveLocation(udg_SystemPoint[0])
endfunction
function InitTrig_Knowledge_of_Shadows takes nothing returns nothing
set udg_trg_Knowledge_of_Shadows=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Knowledge_of_Shadows,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(udg_trg_Knowledge_of_Shadows,Condition(function Trig_Knowledge_of_Shadows_Conditions))
call TriggerAddAction(udg_trg_Knowledge_of_Shadows,function Trig_Knowledge_of_Shadows_Actions)
endfunction
function Trig_Add_Special_Effect_to_System_Func004C takes nothing returns boolean
if(not(udg_SES_Index[2]<=0))then
return false
endif
return true
endfunction
function Trig_Add_Special_Effect_to_System_Actions takes nothing returns nothing
if(Trig_Add_Special_Effect_to_System_Func004C())then
call EnableTrigger(udg_trg_SpecialEffectSystemLoop)
else
endif
set udg_SES_Index[1]=(udg_SES_Index[1]+1)
set udg_SES_Index[2]=(udg_SES_Index[2]+1)
set udg_SES_Off[udg_SES_Index[1]]=false
set udg_SES_SpecialEffect[udg_SES_Index[1]]=udg_tempSESSpecialEffect
set udg_SES_Timer[udg_SES_Index[1]]=udg_tempSESTimer
set udg_tempSESSpecialEffect=null
set udg_tempSESTimer=0.00
endfunction
function InitTrig_Add_Special_Effect_to_System takes nothing returns nothing
set udg_trg_Add_Special_Effect_to_System=CreateTrigger()
call TriggerAddAction(udg_trg_Add_Special_Effect_to_System,function Trig_Add_Special_Effect_to_System_Actions)
endfunction
function Trig_SpecialEffectSystemLoop_Func001Func001Func001Func005C takes nothing returns boolean
if(not(udg_SES_Index[2]<=0))then
return false
endif
return true
endfunction
function Trig_SpecialEffectSystemLoop_Func001Func001Func001C takes nothing returns boolean
if(not(udg_SES_Timer[udg_SES_Index[3]]<=0.00))then
return false
endif
return true
endfunction
function Trig_SpecialEffectSystemLoop_Func001Func001C takes nothing returns boolean
if(not(udg_SES_Off[udg_SES_Index[3]]==false))then
return false
endif
return true
endfunction
function Trig_SpecialEffectSystemLoop_Actions takes nothing returns nothing
set udg_SES_Index[3]=1
loop
exitwhen udg_SES_Index[3]>udg_SES_Index[1]
if(Trig_SpecialEffectSystemLoop_Func001Func001C())then
if(Trig_SpecialEffectSystemLoop_Func001Func001Func001C())then
call DestroyEffectBJ(udg_SES_SpecialEffect[udg_SES_Index[3]])
set udg_SES_Off[udg_SES_Index[3]]=true
set udg_SES_Index[2]=(udg_SES_Index[2]-1)
if(Trig_SpecialEffectSystemLoop_Func001Func001Func001Func005C())then
set udg_SES_Index[1]=0
call DisableTrigger(udg_trg_SpecialEffectSystemLoop)
else
endif
else
set udg_SES_Timer[udg_SES_Index[3]]=(udg_SES_Timer[udg_SES_Index[3]]-0.03)
endif
else
endif
set udg_SES_Index[3]=udg_SES_Index[3]+1
endloop
endfunction
function InitTrig_SpecialEffectSystemLoop takes nothing returns nothing
set udg_trg_SpecialEffectSystemLoop=CreateTrigger()
call DisableTrigger(udg_trg_SpecialEffectSystemLoop)
call TriggerRegisterTimerEventPeriodic(udg_trg_SpecialEffectSystemLoop,0.03)
call TriggerAddAction(udg_trg_SpecialEffectSystemLoop,function Trig_SpecialEffectSystemLoop_Actions)
endfunction
function Trig_BS_Setings_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A04L'))then
return false
endif
return true
endfunction
function Trig_BS_Setings_Func001C takes nothing returns boolean
if(not(udg_BS_Skip==0))then
return false
endif
return true
endfunction
function Trig_BS_Setings_Func006Func021C takes nothing returns boolean
return false
return true
endfunction
function Trig_BS_Setings_Actions takes nothing returns nothing
if(Trig_BS_Setings_Func001C())then
call EnableTrigger(udg_trg_BS_Loop)
else
endif
set udg_BS_Point[0]=GetUnitLoc(GetTriggerUnit())
set udg_BS_Point[1]=GetSpellTargetLoc()
set udg_BS_Point[2]=PolarProjectionBJ(udg_BS_Point[0],70.00,AngleBetweenPoints(udg_BS_Point[0],udg_BS_Point[1]))
set udg_BS_MissileCount=1
set udg_BS_MC=1
loop
exitwhen udg_BS_MC>udg_BS_MissileCount
set udg_BS_Skip=(udg_BS_Skip+1)
set udg_BS_Times=(udg_BS_Times+1)
set udg_BS_On[udg_BS_Times]=true
set udg_BS_Hero[udg_BS_Times]=GetTriggerUnit()
set udg_BS_Angle[udg_BS_Times]=AngleBetweenPoints(udg_BS_Point[0],udg_BS_Point[1])
set udg_BS_Level[udg_BS_Times]=GetUnitAbilityLevelSwapped('A04L',GetTriggerUnit())
set udg_BS_Damage[udg_BS_Times]=(GetRandomReal(15.00,75.00)+(7.00*I2R(GetUnitLevel(GetTriggerUnit()))))
set udg_BS_Range[udg_BS_Times]=4000.00
set udg_BS_Colision[udg_BS_Times]=75.00
set udg_BS_StartZ[udg_BS_Times]=0
set udg_BS_EndZ[udg_BS_Times]=0
set udg_BS_Distance[udg_BS_Times]=DistanceBetweenPoints(udg_BS_Point[2],udg_BS_Point[1])
set udg_BS_Hyp[udg_BS_Times]=SquareRoot(((udg_BS_Distance[udg_BS_Times]*udg_BS_Distance[udg_BS_Times])+(udg_BS_Height[udg_BS_Times]*udg_BS_Height[udg_BS_Times])))
set udg_BS_SINE[udg_BS_Times]=(udg_BS_Distance[udg_BS_Times]/ udg_BS_Hyp[udg_BS_Times])
set udg_BS_COSINE[udg_BS_Times]=(udg_BS_Height[udg_BS_Times]/ udg_BS_Hyp[udg_BS_Times])
set udg_BS_HYPSpeed[udg_BS_Times]=40.00
set udg_BS_Speed[udg_BS_Times]=(udg_BS_HYPSpeed[udg_BS_Times]*udg_BS_SINE[udg_BS_Times])
call CreateNUnitsAtLocBonuses(1,'n01G',GetOwningPlayer(udg_BS_Hero[udg_BS_Times]),udg_BS_Point[2],udg_BS_Angle[udg_BS_Times])
set udg_BS_Missile[udg_BS_Times]=GetLastCreatedUnit()
set udg_BS_MC=udg_BS_MC+1
endloop
call RemoveLocation(udg_BS_Point[0])
call RemoveLocation(udg_BS_Point[1])
call RemoveLocation(udg_BS_Point[2])
endfunction
function InitTrig_BS_Setings takes nothing returns nothing
set udg_trg_BS_Setings=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_BS_Setings,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_BS_Setings,Condition(function Trig_BS_Setings_Conditions))
call TriggerAddAction(udg_trg_BS_Setings,function Trig_BS_Setings_Actions)
endfunction
function Trig_BS_Loop_Func001Func001Func001Func008Func012C takes nothing returns boolean
if(not(udg_BS_Up[udg_BS]==false))then
return false
endif
return true
endfunction
function Trig_BS_Loop_Func001Func001Func001Func008Func021Func005002003001001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_BS_Loop_Func001Func001Func001Func008Func021Func005002003001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)
endfunction
function Trig_BS_Loop_Func001Func001Func001Func008Func021Func005002003001 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false))
endfunction
function Trig_BS_Loop_Func001Func001Func001Func008Func021Func005002003002001001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_BS_Loop_Func001Func001Func001Func008Func021Func005002003002001002 takes nothing returns boolean
return(IsUnitDeadBJ(GetFilterUnit())==false)
endfunction
function Trig_BS_Loop_Func001Func001Func001Func008Func021Func005002003002001 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(IsUnitDeadBJ(GetFilterUnit())==false))
endfunction
function Trig_BS_Loop_Func001Func001Func001Func008Func021Func005002003002002001 takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_BS_Hero[udg_BS]))==false)
endfunction
function Trig_BS_Loop_Func001Func001Func001Func008Func021Func005002003002002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)
endfunction
function Trig_BS_Loop_Func001Func001Func001Func008Func021Func005002003002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_BS_Hero[udg_BS]))==false),(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false))
endfunction
function Trig_BS_Loop_Func001Func001Func001Func008Func021Func005002003002 takes nothing returns boolean
return GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(IsUnitDeadBJ(GetFilterUnit())==false))),(GetBooleanAnd((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_BS_Hero[udg_BS]))==false),(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false))))
endfunction
function Trig_BS_Loop_Func001Func001Func001Func008Func021Func005002003 takes nothing returns boolean
return GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false))),(GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(IsUnitDeadBJ(GetFilterUnit())==false))),(GetBooleanAnd((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_BS_Hero[udg_BS]))==false),(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false))))))
endfunction
function Trig_BS_Loop_Func001Func001Func001Func008Func021Func009Func001Func004Func005Func011C takes nothing returns boolean
if(not(udg_BS_Debug[udg_BS]>=75.00))then
return false
endif
if(not(udg_BS_Debug[udg_BS]<=85.00))then
return false
endif
return true
endfunction
function Trig_BS_Loop_Func001Func001Func001Func008Func021Func009Func001Func004Func005C takes nothing returns boolean
if(not Trig_BS_Loop_Func001Func001Func001Func008Func021Func009Func001Func004Func005Func011C())then
return false
endif
return true
endfunction
function Trig_BS_Loop_Func001Func001Func001Func008Func021Func009Func001Func004Func006C takes nothing returns boolean
if(not(udg_BS_Debug[udg_BS]>=0.00))then
return false
endif
if(not(udg_BS_Debug[udg_BS]<=85.00))then
return false
endif
return true
endfunction
function Trig_BS_Loop_Func001Func001Func001Func008Func021Func009Func001Func004C takes nothing returns boolean
if(not Trig_BS_Loop_Func001Func001Func001Func008Func021Func009Func001Func004Func006C())then
return false
endif
return true
endfunction
function Trig_BS_Loop_Func001Func001Func001Func008Func021Func009Func001A takes nothing returns nothing
if(Trig_BS_Loop_Func001Func001Func001Func008Func021Func009Func001Func004C())then
set udg_BS_Range[udg_BS]=0.00
if(Trig_BS_Loop_Func001Func001Func001Func008Func021Func009Func001Func004Func005C())then
call UnitDamageTargetBJ(udg_BS_Hero[udg_BS],GetEnumUnit(),(udg_BS_Damage[udg_BS]*4.00),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call CreateTextTagLocBJ("HEADSHOT!",udg_BS_Point[3],120.00,15.00,100.00,50.00,50.00,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),100.00,udg_BS_Angle[udg_BS])
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.00)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),2.00)
else
call UnitDamageTargetBJ(udg_BS_Hero[udg_BS],GetEnumUnit(),udg_BS_Damage[udg_BS],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
endif
else
endif
endfunction
function Trig_BS_Loop_Func001Func001Func001Func008Func021Func009C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_BS_Group[udg_BS])>0))then
return false
endif
return true
endfunction
function Trig_BS_Loop_Func001Func001Func001Func008Func021C takes nothing returns boolean
if(not(udg_BS_Debug[udg_BS]<=0.00))then
return false
endif
return true
endfunction
function Trig_BS_Loop_Func001Func001Func001Func008C takes nothing returns boolean
if(not(RectContainsLoc(GetPlayableMapRect(),udg_BS_Point[4])==false))then
return false
endif
return true
endfunction
function Trig_BS_Loop_Func001Func001Func001Func019C takes nothing returns boolean
if(not(udg_BS<udg_BS_Times))then
return false
endif
return true
endfunction
function Trig_BS_Loop_Func001Func001Func001Func026C takes nothing returns boolean
if(not(udg_BS_Skip==0))then
return false
endif
return true
endfunction
function Trig_BS_Loop_Func001Func001Func001C takes nothing returns boolean
if(not(udg_BS_Range[udg_BS]<=0.00))then
return false
endif
return true
endfunction
function Trig_BS_Loop_Func001Func001C takes nothing returns boolean
if(not(udg_BS_On[udg_BS]==true))then
return false
endif
return true
endfunction
function Trig_BS_Loop_Actions takes nothing returns nothing
set udg_BS=1
loop
exitwhen udg_BS>udg_BS_Times
if(Trig_BS_Loop_Func001Func001C())then
if(Trig_BS_Loop_Func001Func001Func001C())then
call KillUnit(udg_BS_Missile[udg_BS])
set udg_BS_On[udg_BS]=false
if(Trig_BS_Loop_Func001Func001Func001Func019C())then
set udg_BS_On[udg_BS]=udg_BS_On[udg_BS_Times]
set udg_BS_On[udg_BS]=udg_BS_On[udg_BS_Times]
set udg_BS_Missile[udg_BS]=udg_BS_Missile[udg_BS_Times]
set udg_BS_Hero[udg_BS]=udg_BS_Hero[udg_BS_Times]
set udg_BS_Range[udg_BS]=udg_BS_Range[udg_BS_Times]
set udg_BS_Speed[udg_BS]=udg_BS_Speed[udg_BS_Times]
set udg_BS_HYPSpeed[udg_BS]=udg_BS_HYPSpeed[udg_BS_Times]
set udg_BS_Damage[udg_BS]=udg_BS_Damage[udg_BS_Times]
set udg_BS_Angle[udg_BS]=udg_BS_Angle[udg_BS_Times]
set udg_BS_Colision[udg_BS]=udg_BS_Colision[udg_BS_Times]
set udg_BS_Level[udg_BS]=udg_BS_Level[udg_BS_Times]
set udg_BS_Up[udg_BS]=udg_BS_Up[udg_BS_Times]
else
endif
set udg_BS=(udg_BS-1)
set udg_BS_Times=(udg_BS_Times-1)
set udg_BS_Skip=(udg_BS_Skip-1)
if(Trig_BS_Loop_Func001Func001Func001Func026C())then
set udg_BS_Times=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
else
set udg_BS_Point[3]=GetUnitLoc(udg_BS_Missile[udg_BS])
set udg_BS_Point[4]=PolarProjectionBJ(udg_BS_Point[3],udg_BS_Speed[udg_BS],udg_BS_Angle[udg_BS])
call SetUnitPositionLoc(udg_BS_Missile[udg_BS],udg_BS_Point[4])
if(Trig_BS_Loop_Func001Func001Func001Func008C())then
set udg_BS_Range[udg_BS]=0.00
else
set udg_BS_Range[udg_BS]=(udg_BS_Range[udg_BS]-udg_BS_HYPSpeed[udg_BS])
set udg_BS_DebugZ[udg_BS]=0
if(Trig_BS_Loop_Func001Func001Func001Func008Func021C())then
set udg_BS_Range[udg_BS]=0.00
else
set udg_BS_Group[udg_BS]=GetUnitsInRangeOfLocMatching(udg_BS_Colision[udg_BS],udg_BS_Point[4],Condition(function Trig_BS_Loop_Func001Func001Func001Func008Func021Func005002003))
if(Trig_BS_Loop_Func001Func001Func001Func008Func021Func009C())then
call ForGroupBJ(GetRandomSubGroup(1,udg_BS_Group[udg_BS]),function Trig_BS_Loop_Func001Func001Func001Func008Func021Func009Func001A)
else
endif
call DestroyGroup(udg_BS_Group[udg_BS])
endif
endif
call RemoveLocation(udg_BS_Point[3])
call RemoveLocation(udg_BS_Point[4])
endif
else
endif
set udg_BS=udg_BS+1
endloop
endfunction
function InitTrig_BS_Loop takes nothing returns nothing
set udg_trg_BS_Loop=CreateTrigger()
call DisableTrigger(udg_trg_BS_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_BS_Loop,0.03)
call TriggerAddAction(udg_trg_BS_Loop,function Trig_BS_Loop_Actions)
endfunction
function Trig_Night_Func001Func001Func005C takes nothing returns boolean
if((GetUnitTypeId(GetEnumUnit())=='n035'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='n036'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='Udre'))then
return true
endif
return false
endfunction
function Trig_Night_Func001Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
if(not(IsUnitIllusionBJ(GetEnumUnit())==false))then
return false
endif
if(not Trig_Night_Func001Func001Func005C())then
return false
endif
return true
endfunction
function Trig_Night_Func001A takes nothing returns nothing
if(Trig_Night_Func001Func001C())then
if(GetWidgetLife(GetEnumUnit())>0.1) then
if(GetUnitAbilityLevel(GetEnumUnit(),'S003')==0)then
call UnitAddAbility(GetEnumUnit(),'S003')
endif
call SetUnitAbilityLevelSwappedSafe('S003',GetEnumUnit(),1)
else
endif
endif
endfunction
function Trig_Night_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRectAll(GetEntireMapRect()),function Trig_Night_Func001A)
endfunction
function InitTrig_Night takes nothing returns nothing
set udg_trg_Night=CreateTrigger()
call TriggerRegisterGameStateEventTimeOfDay(udg_trg_Night,EQUAL,18.00)
call TriggerAddAction(udg_trg_Night,function Trig_Night_Actions)
endfunction
function Trig_Day_Func001Func001Func005C takes nothing returns boolean
if((GetUnitTypeId(GetEnumUnit())=='n035'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='n036'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='Udre'))then
return true
endif
return false
endfunction
function Trig_Day_Func001Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
if(not(IsUnitIllusionBJ(GetEnumUnit())==false))then
return false
endif
if(not Trig_Day_Func001Func001Func005C())then
return false
endif
return true
endfunction
function Trig_Day_Func001A takes nothing returns nothing
if(Trig_Day_Func001Func001C())then
if(GetWidgetLife(GetEnumUnit())>0.1) then
if(GetUnitAbilityLevel(GetEnumUnit(),'S003')==0)then
call UnitAddAbility(GetEnumUnit(),'S003')
endif
call SetUnitAbilityLevelSwappedSafe('S003',GetEnumUnit(),2)
endif
endif
endfunction
function Trig_Day_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRectAll(GetEntireMapRect()),function Trig_Day_Func001A)
endfunction
function InitTrig_Day takes nothing returns nothing
set udg_trg_Day=CreateTrigger()
call TriggerRegisterGameStateEventTimeOfDay(udg_trg_Day,EQUAL,6.00)
call TriggerAddAction(udg_trg_Day,function Trig_Day_Actions)
endfunction
function Trig_Add_Vampire_Func004C takes nothing returns boolean
if((GetUnitTypeId(GetEnteringUnit())=='n035'))then
return true
endif
if((GetUnitTypeId(GetEnteringUnit())=='n036'))then
return true
endif
if((GetUnitTypeId(GetEnteringUnit())=='Udre'))then
return true
endif
return false
endfunction
function Trig_Add_Vampire_Conditions takes nothing returns boolean
if(not(IsUnitAliveBJ(GetTriggerUnit())==true))then
return false
endif
if(not(IsUnitIllusionBJ(GetTriggerUnit())==false))then
return false
endif
if(not Trig_Add_Vampire_Func004C())then
return false
endif
return true
endfunction
function Trig_Add_Vampire_Func003Func001Func001C takes nothing returns boolean
if(not(GetTimeOfDay()<=26.00))then
return false
endif
if(not(GetTimeOfDay()>=18.00))then
return false
endif
return true
endfunction
function Trig_Add_Vampire_Func003Func001Func002C takes nothing returns boolean
if(not(GetTimeOfDay()>=0.00))then
return false
endif
if(not(GetTimeOfDay()<6.00))then
return false
endif
return true
endfunction
function Trig_Add_Vampire_Func003Func001C takes nothing returns boolean
if(Trig_Add_Vampire_Func003Func001Func001C())then
return true
endif
if(Trig_Add_Vampire_Func003Func001Func002C())then
return true
endif
return false
endfunction
function Trig_Add_Vampire_Func003C takes nothing returns boolean
if(not Trig_Add_Vampire_Func003Func001C())then
return false
endif
return true
endfunction
function Trig_Add_Vampire_Actions takes nothing returns nothing
if(Trig_Add_Vampire_Func003C())then
call SetUnitAbilityLevelSwappedSafe('S003',GetEnteringUnit(),1)
else
call SetUnitAbilityLevelSwappedSafe('S003',GetEnteringUnit(),2)
endif
endfunction
function InitTrig_Add_Vampire takes nothing returns nothing
set udg_trg_Add_Vampire=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_Add_Vampire,GetEntireMapRect())
call TriggerAddCondition(udg_trg_Add_Vampire,Condition(function Trig_Add_Vampire_Conditions))
call TriggerAddAction(udg_trg_Add_Vampire,function Trig_Add_Vampire_Actions)
endfunction
function Trig_Blacksmith_upgrade_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='h02B'))then
return false
endif
return true
endfunction
function Trig_Blacksmith_upgrade_Actions takes nothing returns nothing
call RemoveUnit(GetTriggerUnit())
call CreateNUnitsAtLocBonuses(1,'h02B',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
endfunction
function InitTrig_Blacksmith_upgrade takes nothing returns nothing
set udg_trg_Blacksmith_upgrade=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Blacksmith_upgrade,EVENT_PLAYER_UNIT_UPGRADE_FINISH)
call TriggerAddCondition(udg_trg_Blacksmith_upgrade,Condition(function Trig_Blacksmith_upgrade_Conditions))
call TriggerAddAction(udg_trg_Blacksmith_upgrade,function Trig_Blacksmith_upgrade_Actions)
endfunction
function Trig_Blacksmith_upgrade_Copy_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='h02C'))then
return false
endif
return true
endfunction
function Trig_Blacksmith_upgrade_Copy_Actions takes nothing returns nothing
call RemoveUnit(GetTriggerUnit())
call CreateNUnitsAtLocBonuses(1,'h02C',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
endfunction
function InitTrig_Blacksmith_upgrade_Copy takes nothing returns nothing
set udg_trg_Blacksmith_upgrade_Copy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Blacksmith_upgrade_Copy,EVENT_PLAYER_UNIT_UPGRADE_FINISH)
call TriggerAddCondition(udg_trg_Blacksmith_upgrade_Copy,Condition(function Trig_Blacksmith_upgrade_Copy_Conditions))
call TriggerAddAction(udg_trg_Blacksmith_upgrade_Copy,function Trig_Blacksmith_upgrade_Copy_Actions)
endfunction
function Trig_Healing_Salve_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A06U'))then
return false
endif
return true
endfunction
function Trig_Healing_Salve_Actions takes nothing returns nothing
call CreateItemLoc('hslv',GetUnitLoc(GetTriggerUnit()))
endfunction
function InitTrig_Healing_Salve takes nothing returns nothing
set udg_trg_Healing_Salve=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Healing_Salve,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Healing_Salve,Condition(function Trig_Healing_Salve_Conditions))
call TriggerAddAction(udg_trg_Healing_Salve,function Trig_Healing_Salve_Actions)
endfunction
function Trig_Healing_Potion_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A06Q'))then
return false
endif
return true
endfunction
function Trig_Healing_Potion_Actions takes nothing returns nothing
call CreateItemLoc('I01L',GetUnitLoc(GetTriggerUnit()))
endfunction
function InitTrig_Healing_Potion takes nothing returns nothing
set udg_trg_Healing_Potion=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Healing_Potion,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Healing_Potion,Condition(function Trig_Healing_Potion_Conditions))
call TriggerAddAction(udg_trg_Healing_Potion,function Trig_Healing_Potion_Actions)
endfunction
function Trig_Healing_Potion_Copy_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A06O'))then
return false
endif
return true
endfunction
function Trig_Healing_Potion_Copy_Actions takes nothing returns nothing
call CreateItemLoc('I01N',GetUnitLoc(GetTriggerUnit()))
endfunction
function InitTrig_Healing_Potion_Copy takes nothing returns nothing
set udg_trg_Healing_Potion_Copy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Healing_Potion_Copy,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Healing_Potion_Copy,Condition(function Trig_Healing_Potion_Copy_Conditions))
call TriggerAddAction(udg_trg_Healing_Potion_Copy,function Trig_Healing_Potion_Copy_Actions)
endfunction
function Trig_Healing_Potion_Copy_Copy_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A06N'))then
return false
endif
return true
endfunction
function Trig_Healing_Potion_Copy_Copy_Actions takes nothing returns nothing
call CreateItemLoc('pres',GetUnitLoc(GetTriggerUnit()))
endfunction
function InitTrig_Healing_Potion_Copy_Copy takes nothing returns nothing
set udg_trg_Healing_Potion_Copy_Copy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Healing_Potion_Copy_Copy,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Healing_Potion_Copy_Copy,Condition(function Trig_Healing_Potion_Copy_Copy_Conditions))
call TriggerAddAction(udg_trg_Healing_Potion_Copy_Copy,function Trig_Healing_Potion_Copy_Copy_Actions)
endfunction
function Trig_Mana_Potion_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A06P'))then
return false
endif
return true
endfunction
function Trig_Mana_Potion_Actions takes nothing returns nothing
call CreateItemLoc('I01M',GetUnitLoc(GetTriggerUnit()))
endfunction
function InitTrig_Mana_Potion takes nothing returns nothing
set udg_trg_Mana_Potion=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Mana_Potion,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Mana_Potion,Condition(function Trig_Mana_Potion_Conditions))
call TriggerAddAction(udg_trg_Mana_Potion,function Trig_Mana_Potion_Actions)
endfunction
function Trig_Mana_Potion_Copy_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A06R'))then
return false
endif
return true
endfunction
function Trig_Mana_Potion_Copy_Actions takes nothing returns nothing
call CreateItemLoc('pgma',GetUnitLoc(GetTriggerUnit()))
endfunction
function InitTrig_Mana_Potion_Copy takes nothing returns nothing
set udg_trg_Mana_Potion_Copy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Mana_Potion_Copy,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Mana_Potion_Copy,Condition(function Trig_Mana_Potion_Copy_Conditions))
call TriggerAddAction(udg_trg_Mana_Potion_Copy,function Trig_Mana_Potion_Copy_Actions)
endfunction
function Trig_Dust_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A06M'))then
return false
endif
return true
endfunction
function Trig_Dust_Actions takes nothing returns nothing
call CreateItemLoc('dust',GetUnitLoc(GetTriggerUnit()))
endfunction
function InitTrig_Dust takes nothing returns nothing
set udg_trg_Dust=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Dust,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Dust,Condition(function Trig_Dust_Conditions))
call TriggerAddAction(udg_trg_Dust,function Trig_Dust_Actions)
endfunction
function Trig_Invis_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A06L'))then
return false
endif
return true
endfunction
function Trig_Invis_Actions takes nothing returns nothing
call CreateItemLoc('pinv',GetUnitLoc(GetTriggerUnit()))
endfunction
function InitTrig_Invis takes nothing returns nothing
set udg_trg_Invis=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Invis,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Invis,Condition(function Trig_Invis_Conditions))
call TriggerAddAction(udg_trg_Invis,function Trig_Invis_Actions)
endfunction
function Trig_Invuln_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A06S'))then
return false
endif
return true
endfunction
function Trig_Invuln_Actions takes nothing returns nothing
call CreateItemLoc('pnvl',GetUnitLoc(GetTriggerUnit()))
endfunction
function InitTrig_Invuln takes nothing returns nothing
set udg_trg_Invuln=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Invuln,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Invuln,Condition(function Trig_Invuln_Conditions))
call TriggerAddAction(udg_trg_Invuln,function Trig_Invuln_Actions)
endfunction
function Trig_Beetle_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetSummonedUnit())=='u00Q'))then
return false
endif
return true
endfunction
function Trig_Beetle_Actions takes nothing returns nothing
call IssuePointOrderLocBJ(GetSummonedUnit(),"attack",GetUnitLoc(GroupPickRandomUnit(GetUnitsInRectOfPlayer(udg_rct_WHOLE_MAP_NOT_DUEL,ForcePickRandomPlayer(udg_Humans)))))
endfunction
function InitTrig_Beetle takes nothing returns nothing
set udg_trg_Beetle=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Beetle,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(udg_trg_Beetle,Condition(function Trig_Beetle_Conditions))
call TriggerAddAction(udg_trg_Beetle,function Trig_Beetle_Actions)
endfunction
function Trig_Beetle_unselectable_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='u00Q'))then
return false
endif
return true
endfunction
function Trig_Beetle_unselectable_Actions takes nothing returns nothing
call IssuePointOrderLocBJ(GetSummonedUnit(),"attack",GetUnitLoc(GroupPickRandomUnit(GetUnitsInRectOfPlayer(GetEntireMapRect(),ForcePickRandomPlayer(udg_Humans)))))
endfunction
function InitTrig_Beetle_unselectable takes nothing returns nothing
set udg_trg_Beetle_unselectable=CreateTrigger()
call TriggerAddCondition(udg_trg_Beetle_unselectable,Condition(function Trig_Beetle_unselectable_Conditions))
call TriggerAddAction(udg_trg_Beetle_unselectable,function Trig_Beetle_unselectable_Actions)
endfunction
function Trig_turn_on_grave_tele_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='o005'))then
return false
endif
return true
endfunction
function Trig_turn_on_grave_tele_Actions takes nothing returns nothing
call EnableTrigger(udg_trg_Grave_teleport)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_turn_on_grave_tele takes nothing returns nothing
set udg_trg_turn_on_grave_tele=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_turn_on_grave_tele,GetEntireMapRect())
call TriggerAddCondition(udg_trg_turn_on_grave_tele,Condition(function Trig_turn_on_grave_tele_Conditions))
call TriggerAddAction(udg_trg_turn_on_grave_tele,function Trig_turn_on_grave_tele_Actions)
endfunction
function Trig_Grave_teleport_Func001C takes nothing returns boolean
if((GetUnitTypeId(GetOrderedUnit())=='nskg'))then
return true
endif
if((GetUnitTypeId(GetOrderedUnit())=='n001'))then
return true
endif
if((GetUnitTypeId(GetOrderedUnit())=='n002'))then
return true
endif
if((GetUnitTypeId(GetOrderedUnit())=='n003'))then
return true
endif
if((GetUnitTypeId(GetOrderedUnit())=='n004'))then
return true
endif
if((GetUnitTypeId(GetOrderedUnit())=='n005'))then
return true
endif
if((GetUnitTypeId(GetOrderedUnit())=='n006'))then
return true
endif
if((GetUnitTypeId(GetOrderedUnit())=='u000'))then
return true
endif
if((GetUnitTypeId(GetOrderedUnit())=='nska'))then
return true
endif
if((GetUnitTypeId(GetOrderedUnit())=='nskf'))then
return true
endif
if((GetUnitTypeId(GetOrderedUnit())=='n03M'))then
return true
endif
if((GetUnitTypeId(GetOrderedUnit())=='ugho'))then
return true
endif
if((GetUnitTypeId(GetOrderedUnit())=='nzom'))then
return true
endif
if((GetUnitTypeId(GetOrderedUnit())=='n000'))then
return true
endif
if((GetUnitTypeId(GetOrderedUnit())=='n00K'))then
return true
endif
if((GetUnitTypeId(GetOrderedUnit())=='uban'))then
return true
endif
if((GetUnitTypeId(GetOrderedUnit())=='u001'))then
return true
endif
if((GetUnitTypeId(GetOrderedUnit())=='u00S'))then
return true
endif
if((GetUnitTypeId(GetOrderedUnit())=='u00T'))then
return true
endif
return false
endfunction
function Trig_Grave_teleport_Conditions takes nothing returns boolean
if(not Trig_Grave_teleport_Func001C())then
return false
endif
if(not(GetIssuedOrderIdBJ()==String2OrderIdBJ("move")))then
return false
endif
return true
endfunction
function Trig_Grave_teleport_Func003Func001Func005C takes nothing returns boolean
if(not(RectContainsLoc(udg_AAAA_GRect,udg_AAAA_GP2)==true))then
return false
endif
return true
endfunction
function Trig_Grave_teleport_Func003Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetEnumUnit())=='o005'))then
return false
endif
return true
endfunction
function Trig_Grave_teleport_Func003A takes nothing returns nothing
if(Trig_Grave_teleport_Func003Func001C())then
set udg_AAAA_GP=GetUnitLoc(GetEnumUnit())
set udg_AAAA_GRect=RectFromCenterSizeBJ(udg_AAAA_GP,400.00,400.00)
set udg_AAAA_GP2=GetOrderPointLoc()
if(Trig_Grave_teleport_Func003Func001Func005C())then
call RemoveLocation(udg_AAAA_GP)
set udg_AAAA_GP=GetUnitLoc(GetOrderedUnit())
call AddSpecialEffectLocBJ(udg_AAAA_GP,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call SetUnitPositionLoc(GetOrderedUnit(),udg_AAAA_GP2)
call AddSpecialEffectLocBJ(udg_AAAA_GP2,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call UnitDamageTargetBJ(GroupPickRandomUnit(GetUnitsInRectAll(GetEntireMapRect())),GetOrderedUnit(),(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetOrderedUnit())/ 20.00),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call RemoveLocation(udg_AAAA_GP)
call RemoveLocation(udg_AAAA_GP2)
call RemoveRect(udg_AAAA_GRect)
else
call DoNothing()
endif
else
call DoNothing()
endif
endfunction
function Trig_Grave_teleport_Actions takes nothing returns nothing
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(gg_rct_Main_Map),function Trig_Grave_teleport_Func003A)
endfunction
function InitTrig_Grave_teleport takes nothing returns nothing
set udg_trg_Grave_teleport=CreateTrigger()
call DisableTrigger(udg_trg_Grave_teleport)
call TriggerRegisterAnyUnitEventBJ(udg_trg_Grave_teleport,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
call TriggerAddCondition(udg_trg_Grave_teleport,Condition(function Trig_Grave_teleport_Conditions))
call TriggerAddAction(udg_trg_Grave_teleport,function Trig_Grave_teleport_Actions)
endfunction
function Trig_turn_off_grave_tlee_Actions takes nothing returns nothing
call DisableTrigger(udg_trg_Grave_teleport)
endfunction
function InitTrig_turn_off_grave_tlee takes nothing returns nothing
set udg_trg_turn_off_grave_tlee=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_turn_off_grave_tlee,800.00)
call TriggerAddAction(udg_trg_turn_off_grave_tlee,function Trig_turn_off_grave_tlee_Actions)
endfunction
function Trig_Finger_of_Death_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='ANfd'))then
return false
endif
return true
endfunction
function Trig_Finger_of_Death_Actions takes nothing returns nothing
set udg_AAAA_GP=GetUnitLoc(GetSpellTargetUnit())
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)),ATTACK_TYPE_MAGIC,DAMAGE_TYPE_MAGIC)

call RemoveLocation(udg_AAAA_GP)
endfunction
function InitTrig_Finger_of_Death takes nothing returns nothing
set udg_trg_Finger_of_Death=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Finger_of_Death,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Finger_of_Death,Condition(function Trig_Finger_of_Death_Conditions))
call TriggerAddAction(udg_trg_Finger_of_Death,function Trig_Finger_of_Death_Actions)
endfunction
function Trig_Finger_of_Death_2_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='ANfx'))then
return false
endif
return true
endfunction
function Trig_Finger_of_Death_2_Actions takes nothing returns nothing
set udg_AAAA_GP=GetUnitLoc(GetSpellTargetUnit())
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),5*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)),ATTACK_TYPE_MAGIC,DAMAGE_TYPE_MAGIC)

call RemoveLocation(udg_AAAA_GP)
endfunction
function InitTrig_Finger_of_Death_2 takes nothing returns nothing
set udg_trg_Finger_of_Death_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Finger_of_Death_2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Finger_of_Death_2,Condition(function Trig_Finger_of_Death_2_Conditions))
call TriggerAddAction(udg_trg_Finger_of_Death_2,function Trig_Finger_of_Death_2_Actions)
endfunction
function Trig_Thunder_Pika_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0GT'))then
return false
endif
return true
endfunction
function Trig_Thunder_Pika_Actions takes nothing returns nothing
set udg_AAAA_GP=GetUnitLoc(GetSpellTargetUnit())
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),0.5*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),0.5*(1.50*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)

call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),0.5*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true)),ATTACK_TYPE_MAGIC,DAMAGE_TYPE_MAGIC)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),0.5*(1.50*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))),ATTACK_TYPE_MAGIC,DAMAGE_TYPE_MAGIC)
call CreateTextTagLocBJ(R2S(((1.50*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true)))+(200.00+I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetTriggerUnit(),true))))),udg_AAAA_GP,120.00,9.00,0.00,100.00,0.00,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),70.00,90)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.00)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),2.00)
call RemoveLocation(udg_AAAA_GP)
endfunction
function InitTrig_Thunder_Pika takes nothing returns nothing
set udg_trg_Thunder_Pika=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Thunder_Pika,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Thunder_Pika,Condition(function Trig_Thunder_Pika_Conditions))
call TriggerAddAction(udg_trg_Thunder_Pika,function Trig_Thunder_Pika_Actions)
endfunction
function Trig_Settings_Actions takes nothing returns nothing
set udg_SB_Orb_Initial_Speed=10.00
set udg_SB_Orb_Final_Speed=18.00
set udg_SB_Orb_DetectionRange=375.00
set udg_SB_Orb_Max_Distance=1300.00
set udg_SB_Orb_Stick_Duration=6
set udg_SB_Set_Orb_Detection_Delay=1.00
set udg_SB_Orb_Growth_Rate=5.00
set udg_SB_Ghost_Duration=8.00
set udg_SB_Timer_Integer=1
loop
exitwhen udg_SB_Timer_Integer>udg_SB_Orb_Stick_Duration
set udg_SB_Timer_Check[udg_SB_Timer_Integer]=(I2R(udg_SB_Timer_Integer)*0.99)
set udg_SB_Timer_Integer=udg_SB_Timer_Integer+1
endloop
endfunction
function InitTrig_Settings takes nothing returns nothing
set udg_trg_Settings=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Settings,0.54)
call TriggerAddAction(udg_trg_Settings,function Trig_Settings_Actions)
endfunction
function Trig_Shadow_Burst_Cast_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0GM'))then
return false
endif
return true
endfunction
function Trig_Shadow_Burst_Cast_Actions takes nothing returns nothing
set udg_SB_Count=(udg_SB_Count+1)
set udg_SB_Damage[udg_SB_Count]=(150.00*I2R(GetUnitAbilityLevelSwapped('A0GM',GetTriggerUnit())))
set udg_SB_CountFinishedSpell=(udg_SB_CountFinishedSpell+1)
set udg_SB_Caster_Point=GetUnitLoc(GetTriggerUnit())
set udg_SB_Target_Point=GetSpellTargetLoc()
set udg_SB_Timer[udg_SB_Count]=(I2R(udg_SB_Orb_Stick_Duration)*0.99)
set udg_SB_Angle[udg_SB_Count]=AngleBetweenPoints(udg_SB_Caster_Point,udg_SB_Target_Point)
set udg_SB_Orb_Size[udg_SB_Count]=240.00
call CreateNUnitsAtLocBonuses(1,'h06R',GetOwningPlayer(GetTriggerUnit()),udg_SB_Caster_Point,udg_SB_Angle[udg_SB_Count])
set udg_SB_Unit[udg_SB_Count]=GetLastCreatedUnit()
call RemoveLocation(udg_SB_Caster_Point)
call RemoveLocation(udg_SB_Target_Point)
call EnableTrigger(udg_trg_Shadow_Burst_Loop)
endfunction
function InitTrig_Shadow_Burst_Cast takes nothing returns nothing
set udg_trg_Shadow_Burst_Cast=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Shadow_Burst_Cast,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Shadow_Burst_Cast,Condition(function Trig_Shadow_Burst_Cast_Conditions))
call TriggerAddAction(udg_trg_Shadow_Burst_Cast,function Trig_Shadow_Burst_Cast_Actions)
endfunction
function Trig_Shadow_Burst_Loop_Func001Func001Func002C takes nothing returns boolean
if(not(udg_End_Boolean[udg_SB_Integer]==false))then
return false
endif
return true
endfunction
function Trig_Shadow_Burst_Loop_Func001Func001Func004Func001Func002C takes nothing returns boolean
if(not(udg_End_Boolean[udg_SB_Integer]==false))then
return false
endif
return true
endfunction
function Trig_Shadow_Burst_Loop_Func001Func001Func004Func001Func005Func001002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Shadow_Burst_Loop_Func001Func001Func004Func001Func005Func001002003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_SB_Unit[udg_SB_Integer]))==true)
endfunction
function Trig_Shadow_Burst_Loop_Func001Func001Func004Func001Func005Func001002003002002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Shadow_Burst_Loop_Func001Func001Func004Func001Func005Func001002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_SB_Unit[udg_SB_Integer]))==true),(IsUnitAliveBJ(GetFilterUnit())==true))
endfunction
function Trig_Shadow_Burst_Loop_Func001Func001Func004Func001Func005Func001002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_SB_Unit[udg_SB_Integer]))==true),(IsUnitAliveBJ(GetFilterUnit())==true))))
endfunction
function Trig_Shadow_Burst_Loop_Func001Func001Func004Func001Func005C takes nothing returns boolean
if(not(udg_SB_CountdownToCast[udg_SB_Integer]==25))then
return false
endif
return true
endfunction
function Trig_Shadow_Burst_Loop_Func001Func001Func004Func001C takes nothing returns boolean
if(not(udg_SB_Timer[udg_SB_Integer]>0.00))then
return false
endif
return true
endfunction
function Trig_Shadow_Burst_Loop_Func001Func001Func004Func003Func009Func005002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Shadow_Burst_Loop_Func001Func001Func004Func003Func009Func005002003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_SB_Unit[udg_SB_Integer]))==true)
endfunction
function Trig_Shadow_Burst_Loop_Func001Func001Func004Func003Func009Func005002003002002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Shadow_Burst_Loop_Func001Func001Func004Func003Func009Func005002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_SB_Unit[udg_SB_Integer]))==true),(IsUnitAliveBJ(GetFilterUnit())==true))
endfunction
function Trig_Shadow_Burst_Loop_Func001Func001Func004Func003Func009Func005002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_SB_Unit[udg_SB_Integer]))==true),(IsUnitAliveBJ(GetFilterUnit())==true))))
endfunction
function Trig_Shadow_Burst_Loop_Func001Func001Func004Func003Func009Func006C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_SB_UnitGroup[udg_SB_Integer])>=1))then
return false
endif
return true
endfunction
function Trig_Shadow_Burst_Loop_Func001Func001Func004Func003Func009C takes nothing returns boolean
if(not(udg_SB_Orb_Detection_Delay[udg_SB_Integer]>=udg_SB_Set_Orb_Detection_Delay))then
return false
endif
return true
endfunction
function Trig_Shadow_Burst_Loop_Func001Func001Func004Func003Func010Func011C takes nothing returns boolean
if(not(udg_SB_SFX_Boolean[udg_SB_Integer]==false))then
return false
endif
return true
endfunction
function Trig_Shadow_Burst_Loop_Func001Func001Func004Func003Func010Func015Func001C takes nothing returns boolean
if(not(udg_SB_Timer[udg_SB_Integer]==udg_SB_Timer_Check[udg_SB_Timer_Integer]))then
return false
endif
return true
endfunction
function Trig_Shadow_Burst_Loop_Func001Func001Func004Func003Func010Func018C takes nothing returns boolean
if(not(udg_SB_CountdownToCast[udg_SB_Integer]==11))then
return false
endif
return true
endfunction
function Trig_Shadow_Burst_Loop_Func001Func001Func004Func003Func010Func019C takes nothing returns boolean
if(not(udg_SB_Timer[udg_SB_Integer]<=0.00))then
return false
endif
return true
endfunction
function Trig_Shadow_Burst_Loop_Func001Func001Func004Func003Func010C takes nothing returns boolean
if(not(udg_SB_Distance_Difference[udg_SB_Integer]<=(udg_SB_Orb_Final_Speed+1.00)))then
return false
endif
if(not(udg_SB_Timer[udg_SB_Integer]>0.00))then
return false
endif
return true
endfunction
function Trig_Shadow_Burst_Loop_Func001Func001Func004Func003C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_SB_UnitGroup[udg_SB_Integer])>=1))then
return false
endif
return true
endfunction
function Trig_Shadow_Burst_Loop_Func001Func001Func004C takes nothing returns boolean
if(not(udg_SB_Ghost_Active_Boolean[udg_SB_Integer]==false))then
return false
endif
return true
endfunction
function Trig_Shadow_Burst_Loop_Func001Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_SB_Unit[udg_SB_Integer])==true))then
return false
endif
if(not(udg_OrbTravelDistance[udg_SB_Integer]<=udg_SB_Orb_Max_Distance))then
return false
endif
return true
endfunction
function Trig_Shadow_Burst_Loop_Func003C takes nothing returns boolean
if(not(udg_SB_CountFinishedSpell==0))then
return false
endif
return true
endfunction
function Trig_Shadow_Burst_Loop_Actions takes nothing returns nothing
set udg_SB_Integer=1
loop
exitwhen udg_SB_Integer>udg_SB_Count
if(Trig_Shadow_Burst_Loop_Func001Func001C())then
if(Trig_Shadow_Burst_Loop_Func001Func001Func004C())then
if(Trig_Shadow_Burst_Loop_Func001Func001Func004Func003C())then
if(Trig_Shadow_Burst_Loop_Func001Func001Func004Func003Func010C())then
if(Trig_Shadow_Burst_Loop_Func001Func001Func004Func003Func010Func011C())then
call AddSpecialEffectTargetUnitBJ("origin",udg_SB_Unit[udg_SB_Integer],"Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set udg_SB_SFX_Boolean[udg_SB_Integer]=true
else
endif
set udg_SB_Enemy_Point[udg_SB_Integer]=GetUnitLoc(udg_SB_Target_Unit[udg_SB_Integer])
call SetUnitPositionLoc(udg_SB_Unit[udg_SB_Integer],udg_SB_Enemy_Point[udg_SB_Integer])
set udg_SB_Timer_Integer=1
loop
exitwhen udg_SB_Timer_Integer>udg_SB_Orb_Stick_Duration
if(Trig_Shadow_Burst_Loop_Func001Func001Func004Func003Func010Func015Func001C())then
call CreateTextTagLocBJ(I2S((R2I(udg_SB_Timer_Check[udg_SB_Timer_Integer])+1)),udg_SB_Enemy_Point[udg_SB_Integer],100.00,11.00,80.00,0.00,80.00,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),70.00,90)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.50)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),1.00)
else
endif
set udg_SB_Timer_Integer=udg_SB_Timer_Integer+1
endloop
set udg_SB_Timer[udg_SB_Integer]=(udg_SB_Timer[udg_SB_Integer]-0.03)
set udg_SB_CountdownToCast[udg_SB_Integer]=(udg_SB_CountdownToCast[udg_SB_Integer]+1)
if(Trig_Shadow_Burst_Loop_Func001Func001Func004Func003Func010Func018C())then
set udg_SB_General_Point[udg_SB_Integer]=PolarProjectionBJ(udg_SB_Enemy_Point[udg_SB_Integer],GetRandomReal(200.00,800.00),GetRandomReal(-360.00,360.00))
call CreateNUnitsAtLocBonuses(1,'h06Q',GetOwningPlayer(udg_SB_Unit[udg_SB_Integer]),udg_SB_General_Point[udg_SB_Integer],bj_UNIT_FACING)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"firebolt",udg_SB_Target_Unit[udg_SB_Integer])
call UnitApplyTimedLifeBJ(2.00,'BTLF',GetLastCreatedUnit())
set udg_SB_CountdownToCast[udg_SB_Integer]=0
call RemoveLocation(udg_SB_General_Point[udg_SB_Integer])
set udg_SB_Orb_Size[udg_SB_Integer]=(udg_SB_Orb_Size[udg_SB_Integer]+udg_SB_Orb_Growth_Rate)
call SetUnitScalePercent(udg_SB_Unit[udg_SB_Integer],udg_SB_Orb_Size[udg_SB_Integer],udg_SB_Orb_Size[udg_SB_Integer],udg_SB_Orb_Size[udg_SB_Integer])
else
endif
if(Trig_Shadow_Burst_Loop_Func001Func001Func004Func003Func010Func019C())then
call UnitDamageTargetBJ(udg_SB_Unit[udg_SB_Integer],udg_SB_Target_Unit[udg_SB_Integer],udg_SB_Damage[udg_SB_Integer],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
set udg_SB_Orb_Current_Point[udg_SB_Integer]=GetUnitLoc(udg_SB_Unit[udg_SB_Integer])
call CreateNUnitsAtLocBonuses(1,'h06Q',GetOwningPlayer(udg_SB_Unit[udg_SB_Integer]),udg_SB_Orb_Current_Point[udg_SB_Integer],bj_UNIT_FACING)
call KillUnit(udg_SB_Unit[udg_SB_Integer])
set udg_SB_Unit[udg_SB_Integer]=GetLastCreatedUnit()
call SetUnitScalePercent(udg_SB_Unit[udg_SB_Integer],500.00,500.00,500.00)
call UnitAddAbilityBJ('A0GN',udg_SB_Unit[udg_SB_Integer])
call UnitRemoveAbilityBJ('A0GI',udg_SB_Unit[udg_SB_Integer])
call UnitAddAbilityBJ('A0GH',udg_SB_Unit[udg_SB_Integer])
call AddSpecialEffectTargetUnitBJ("origin",udg_SB_Unit[udg_SB_Integer],"Abilities\\Spells\\NightElf\\shadowstrike\\shadowstrike.mdl")
call IssueImmediateOrderBJ(udg_SB_Unit[udg_SB_Integer],"howlofterror")
call AddSpecialEffectTargetUnitBJ("origin",udg_SB_Unit[udg_SB_Integer],"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set udg_SB_CountdownToCast[udg_SB_Integer]=0
set udg_SB_Ghost_Active_Boolean[udg_SB_Integer]=true
set udg_SB_Timer[udg_SB_Integer]=udg_SB_Ghost_Duration
else
endif
call RemoveLocation(udg_SB_Enemy_Point[udg_SB_Integer])
else
set udg_SB_Orb_Current_Point[udg_SB_Integer]=GetUnitLoc(udg_SB_Unit[udg_SB_Integer])
set udg_SB_Enemy_Point[udg_SB_Integer]=GetUnitLoc(udg_SB_Target_Unit[udg_SB_Integer])
set udg_SB_Angle[udg_SB_Integer]=AngleBetweenPoints(udg_SB_Orb_Current_Point[udg_SB_Integer],udg_SB_Enemy_Point[udg_SB_Integer])
set udg_SB_Orb_Next_Point[udg_SB_Integer]=PolarProjectionBJ(udg_SB_Orb_Current_Point[udg_SB_Integer],udg_SB_Orb_Final_Speed,udg_SB_Angle[udg_SB_Integer])
call SetUnitPositionLoc(udg_SB_Unit[udg_SB_Integer],udg_SB_Orb_Next_Point[udg_SB_Integer])
set udg_SB_Distance_Difference[udg_SB_Integer]=DistanceBetweenPoints(udg_SB_Orb_Next_Point[udg_SB_Integer],udg_SB_Enemy_Point[udg_SB_Integer])
call RemoveLocation(udg_SB_Orb_Current_Point[udg_SB_Integer])
call RemoveLocation(udg_SB_Enemy_Point[udg_SB_Integer])
call RemoveLocation(udg_SB_Orb_Next_Point[udg_SB_Integer])
endif
else
set udg_OrbTravelDistance[udg_SB_Integer]=(udg_OrbTravelDistance[udg_SB_Integer]+udg_SB_Orb_Initial_Speed)
set udg_SB_Orb_Current_Point[udg_SB_Integer]=GetUnitLoc(udg_SB_Unit[udg_SB_Integer])
set udg_SB_Orb_Next_Point[udg_SB_Integer]=PolarProjectionBJ(udg_SB_Orb_Current_Point[udg_SB_Integer],udg_SB_Orb_Initial_Speed,udg_SB_Angle[udg_SB_Integer])
call SetUnitPositionLoc(udg_SB_Unit[udg_SB_Integer],udg_SB_Orb_Next_Point[udg_SB_Integer])
set udg_SB_Orb_Detection_Delay[udg_SB_Integer]=(udg_SB_Orb_Detection_Delay[udg_SB_Integer]+0.03)
if(Trig_Shadow_Burst_Loop_Func001Func001Func004Func003Func009C())then
set udg_SB_UnitGroup[udg_SB_Integer]=GetUnitsInRangeOfLocMatching(375.00,udg_SB_Orb_Next_Point[udg_SB_Integer],Condition(function Trig_Shadow_Burst_Loop_Func001Func001Func004Func003Func009Func005002003))
if(Trig_Shadow_Burst_Loop_Func001Func001Func004Func003Func009Func006C())then
set udg_SB_Target_Unit[udg_SB_Integer]=FirstOfGroup(udg_SB_UnitGroup[udg_SB_Integer])
set udg_SB_Enemy_Point[udg_SB_Integer]=GetUnitLoc(udg_SB_Target_Unit[udg_SB_Integer])
set udg_SB_Distance_Difference[udg_SB_Integer]=DistanceBetweenPoints(udg_SB_Orb_Next_Point[udg_SB_Integer],udg_SB_Enemy_Point[udg_SB_Integer])
else
endif
else
call DestroyGroup(udg_SB_UnitGroup[udg_SB_Integer])
call RemoveLocation(udg_SB_Orb_Next_Point[udg_SB_Integer])
call RemoveLocation(udg_SB_Orb_Current_Point[udg_SB_Integer])
call RemoveLocation(udg_SB_Enemy_Point[udg_SB_Integer])
endif
endif
else
if(Trig_Shadow_Burst_Loop_Func001Func001Func004Func001C())then
set udg_SB_CountdownToCast[udg_SB_Integer]=(udg_SB_CountdownToCast[udg_SB_Integer]+1)
set udg_SB_Timer[udg_SB_Integer]=(udg_SB_Timer[udg_SB_Integer]-0.03)
if(Trig_Shadow_Burst_Loop_Func001Func001Func004Func001Func005C())then
set udg_SB_UnitGroup[udg_SB_Integer]=GetUnitsInRangeOfLocMatching(800.00,udg_SB_Orb_Current_Point[udg_SB_Integer],Condition(function Trig_Shadow_Burst_Loop_Func001Func001Func004Func001Func005Func001002003))
call IssueTargetOrderBJ(udg_SB_Unit[udg_SB_Integer],"shadowstrike",GroupPickRandomUnit(udg_SB_UnitGroup[udg_SB_Integer]))
set udg_SB_CountdownToCast[udg_SB_Integer]=0
call DestroyGroup(udg_SB_UnitGroup[udg_SB_Integer])
else
endif
else
if(Trig_Shadow_Burst_Loop_Func001Func001Func004Func001Func002C())then
set udg_End_Boolean[udg_SB_Integer]=true
call AddSpecialEffectLocBJ(udg_SB_Orb_Current_Point[udg_SB_Integer],"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveUnit(udg_SB_Unit[udg_SB_Integer])
set udg_SB_Unit[udg_SB_Integer]=null
call RemoveLocation(udg_SB_Orb_Current_Point[udg_SB_Integer])
set udg_SB_CountFinishedSpell=(udg_SB_CountFinishedSpell-1)
else
endif
endif
endif
else
if(Trig_Shadow_Burst_Loop_Func001Func001Func002C())then
set udg_End_Boolean[udg_SB_Integer]=true
set udg_SB_General_Point[udg_SB_Integer]=GetUnitLoc(udg_SB_Unit[udg_SB_Integer])
call AddSpecialEffectLocBJ(udg_SB_General_Point[udg_SB_Integer],"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveUnit(udg_SB_Unit[udg_SB_Integer])
set udg_SB_Unit[udg_SB_Integer]=null
set udg_SB_CountFinishedSpell=(udg_SB_CountFinishedSpell-1)
call RemoveLocation(udg_SB_General_Point[udg_SB_Integer])
else
endif
endif
set udg_SB_Integer=udg_SB_Integer+1
endloop
if(Trig_Shadow_Burst_Loop_Func003C())then
set udg_SB_Integer=1
loop
exitwhen udg_SB_Integer>udg_SB_Count
set udg_SB_CountdownToCast[udg_SB_Integer]=0
set udg_End_Boolean[udg_SB_Integer]=false
set udg_SB_Distance_Difference[udg_SB_Integer]=0.00
set udg_OrbTravelDistance[udg_SB_Integer]=0.00
set udg_SB_SFX_Boolean[udg_SB_Integer]=false
set udg_SB_Ghost_Active_Boolean[udg_SB_Integer]=false
set udg_SB_Orb_Detection_Delay[udg_SB_Integer]=0.00
set udg_SB_Integer=udg_SB_Integer+1
endloop
call DisableTrigger(GetTriggeringTrigger())
set udg_SB_Count=0
else
endif
endfunction
function InitTrig_Shadow_Burst_Loop takes nothing returns nothing
set udg_trg_Shadow_Burst_Loop=CreateTrigger()
call DisableTrigger(udg_trg_Shadow_Burst_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_Shadow_Burst_Loop,0.03)
call TriggerAddAction(udg_trg_Shadow_Burst_Loop,function Trig_Shadow_Burst_Loop_Actions)
endfunction
function Trig_DK_TAUNT_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0FM'))then
return false
endif
return true
endfunction
function Trig_DK_TAUNT_Actions takes nothing returns nothing
set udg_AAAA_GP=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocBonuses(1,'h01J',GetOwningPlayer(GetSpellAbilityUnit()),udg_AAAA_GP,bj_UNIT_FACING)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"bloodlust",GetSpellAbilityUnit())
call RemoveUnit(GetLastCreatedUnit())
call RemoveLocation(udg_AAAA_GP)
endfunction
function InitTrig_DK_TAUNT takes nothing returns nothing
set udg_trg_DK_TAUNT=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_DK_TAUNT,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_DK_TAUNT,Condition(function Trig_DK_TAUNT_Conditions))
call TriggerAddAction(udg_trg_DK_TAUNT,function Trig_DK_TAUNT_Actions)
endfunction
function Trig_Sfx_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0FL'))then
return false
endif
return true
endfunction
function Trig_Sfx_Func005001003 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_Sfx_Func005Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
return true
endfunction
function Trig_Sfx_Func005A takes nothing returns nothing
if(Trig_Sfx_Func005Func001C())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),75.00,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
else
endif
endfunction
function Trig_Sfx_Actions takes nothing returns nothing
set udg_AAAA_GP=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(udg_AAAA_GP,"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocMatching(250.00,udg_AAAA_GP,Condition(function Trig_Sfx_Func005001003)),function Trig_Sfx_Func005A)
call RemoveLocation(udg_AAAA_GP)
endfunction
function InitTrig_Sfx takes nothing returns nothing
set udg_trg_Sfx=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Sfx,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Sfx,Condition(function Trig_Sfx_Conditions))
call TriggerAddAction(udg_trg_Sfx,function Trig_Sfx_Actions)
endfunction
function Trig_Shattered_universe_init_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0GE'))then
return false
endif
return true
endfunction
function Trig_Shattered_universe_init_Func001C takes nothing returns boolean
if(not(udg_SU_Indexsize==0))then
return false
endif
return true
endfunction
function Trig_Shattered_universe_init_Func003C takes nothing returns boolean
if(not(udg_SU_Indexsize>udg_SU_Maxsize))then
return false
endif
return true
endfunction
function Trig_Shattered_universe_init_Actions takes nothing returns nothing
if(Trig_Shattered_universe_init_Func001C())then
call EnableTrigger(udg_trg_Shattered_universe_loop)
else
endif
set udg_SU_Indexsize=(udg_SU_Indexsize+1)
if(Trig_Shattered_universe_init_Func003C())then
set udg_SU_Integer[udg_SU_Indexsize]=udg_SU_Indexsize
set udg_SU_Maxsize=udg_SU_Indexsize
else
endif
set udg_SU_Temp=udg_SU_Integer[udg_SU_Indexsize]
set udg_SU_Caster[udg_SU_Temp]=GetTriggerUnit()
set udg_SU_Point[1]=GetSpellTargetLoc()
call CreateNUnitsAtLocBonuses(1,'h06U',GetOwningPlayer(udg_SU_Caster[udg_SU_Temp]),udg_SU_Point[1],bj_UNIT_FACING)
set udg_SU_Meteor[udg_SU_Temp]=GetLastCreatedUnit()
set udg_SU_Fall[udg_SU_Temp]=7.50
call RemoveLocation(udg_SU_Point[1])
endfunction
function InitTrig_Shattered_universe_init takes nothing returns nothing
set udg_trg_Shattered_universe_init=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Shattered_universe_init,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Shattered_universe_init,Condition(function Trig_Shattered_universe_init_Conditions))
call TriggerAddAction(udg_trg_Shattered_universe_init,function Trig_Shattered_universe_init_Actions)
endfunction
function Trig_Shattered_universe_loop_Func001Func004C takes nothing returns boolean
if(not(GetUnitFlyHeight(udg_SU_Meteor[udg_SU_Temp])>30.00))then
return false
endif
return true
endfunction
function Trig_Shattered_universe_loop_Func002C takes nothing returns boolean
if(not(udg_SU_Indexsize==0))then
return false
endif
return true
endfunction
function Trig_Shattered_universe_loop_Actions takes nothing returns nothing
set udg_SU_Loop=1
loop
exitwhen udg_SU_Loop>udg_SU_Indexsize
set udg_SU_Temp=udg_SU_Integer[udg_SU_Loop]
set udg_SU_Point[2]=GetUnitLoc(udg_SU_Meteor[udg_SU_Temp])
set udg_SU_Real[udg_SU_Temp]=0.00
if(Trig_Shattered_universe_loop_Func001Func004C())then
call SetUnitFlyHeightBJ(udg_SU_Meteor[udg_SU_Temp],(GetUnitFlyHeight(udg_SU_Meteor[udg_SU_Temp])-udg_SU_Fall[udg_SU_Temp]),0.00)
else
call ExplodeUnitBJ(udg_SU_Meteor[udg_SU_Temp])
set udg_SU_Explosion[udg_SU_Temp]=1
loop
exitwhen udg_SU_Explosion[udg_SU_Temp]>20
set udg_SU_Point[3]=PolarProjectionBJ(udg_SU_Point[2],500.00,udg_SU_Real[udg_SU_Temp])
call CreateNUnitsAtLocBonuses(1,'h06V',GetOwningPlayer(udg_SU_Meteor[udg_SU_Temp]),udg_SU_Point[2],bj_UNIT_FACING)
call UnitAddAbilityBJ('A0GF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"impale",udg_SU_Point[3])
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
set udg_SU_Real[udg_SU_Temp]=(udg_SU_Real[udg_SU_Temp]+(360.00/ 20.00))
call RemoveLocation(udg_SU_Point[3])
set udg_SU_Explosion[udg_SU_Temp]=udg_SU_Explosion[udg_SU_Temp]+1
endloop
set udg_SU_Integer[udg_SU_Loop]=udg_SU_Integer[udg_SU_Indexsize]
set udg_SU_Integer[udg_SU_Indexsize]=udg_SU_Temp
set udg_SU_Indexsize=(udg_SU_Indexsize-1)
set udg_SU_Loop=(udg_SU_Loop-1)
endif
call RemoveLocation(udg_SU_Point[2])
set udg_SU_Loop=udg_SU_Loop+1
endloop
if(udg_SU_Indexsize==0)then
call DisableTrigger(udg_trg_Shattered_universe_loop)
endif
endfunction
function InitTrig_Shattered_universe_loop takes nothing returns nothing
set udg_trg_Shattered_universe_loop=CreateTrigger()
call DisableTrigger(udg_trg_Shattered_universe_loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_Shattered_universe_loop,0.03)
call TriggerAddAction(udg_trg_Shattered_universe_loop,function Trig_Shattered_universe_loop_Actions)
endfunction
function Trig_BlackHoleCast_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0G1'))then
return false
endif
return true
endfunction
function Trig_BlackHoleCast_Actions takes nothing returns nothing
if(BlackHoles==0)then
call EnableTrigger(udg_trg_BlackHoleMoveTarget)
endif
set BlackHoles=BlackHoles+1
set udg_tempPoint=GetSpellTargetLoc()
call CreateNUnitsAtLocBonuses(1,'u02D',GetOwningPlayer(GetTriggerUnit()),udg_tempPoint,bj_UNIT_FACING)
call SaveUnitHandleBJ(GetTriggerUnit(),StringHashBJ("BlackHoleCaster"),GetHandleIdBJ(GetLastCreatedUnit()),udg_blackHoleTable)
call SaveUnitHandleBJ(GetLastCreatedUnit(),StringHashBJ("BlackHole"),GetHandleIdBJ(GetTriggerUnit()),udg_blackHoleTable)
call GroupAddUnitSimple(GetTriggerUnit(),udg_BlackHoleUnits)
call RemoveLocation(udg_tempPoint)
endfunction
function InitTrig_BlackHoleCast takes nothing returns nothing
set udg_trg_BlackHoleCast=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_BlackHoleCast,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_BlackHoleCast,Condition(function Trig_BlackHoleCast_Conditions))
call TriggerAddAction(udg_trg_BlackHoleCast,function Trig_BlackHoleCast_Actions)
endfunction
function Trig_BlackHoleMoveTarget_Func003Func004Func007Func002C takes nothing returns boolean
if(not(IsDestructableAliveBJ(GetEnumDestructable())==true))then
return false
endif
return true
endfunction
function Trig_BlackHoleMoveTarget_Func003Func004Func007A takes nothing returns nothing
if IsDestructableTree(GetEnumDestructable())then
if(Trig_BlackHoleMoveTarget_Func003Func004Func007Func002C())then
call KillDestructable(GetEnumDestructable())
else
endif
endif
endfunction
function Trig_BlackHoleMoveTarget_Func003Func004Func010Func001C takes nothing returns boolean
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))then
return false
endif
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
if(not(GetUnitTypeId(GetEnumUnit())!='u02D'))then
return false
endif
if(not(GetEnumUnit()!=udg_BlackHoleCaster))then
return false
endif
return true
endfunction
function Trig_BlackHoleMoveTarget_Func003Func004Func010A takes nothing returns nothing
if(Trig_BlackHoleMoveTarget_Func003Func004Func010Func001C())then
set udg_BH_Point=GetUnitLoc(GetEnumUnit())
set udg_BH_Next_Point=PolarProjectionBJ(udg_BH_Point,50.00,(AngleBetweenPoints(udg_BH_Point,udg_tempPoint)+75.00))
call SetUnitPositionLoc(GetEnumUnit(),udg_BH_Next_Point)
call RemoveLocation(udg_BH_Point)
call RemoveLocation(udg_BH_Next_Point)
else
endif
endfunction
function Trig_BlackHoleMoveTarget_Func003Func004C takes nothing returns boolean
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
return true
endfunction
function Trig_BlackHoleMoveTarget_Func003A takes nothing returns nothing
local real BlackholeRange = 500.
set udg_BlackHole=GetEnumUnit()
set udg_BlackHoleCaster=LoadUnitHandleBJ(StringHashBJ("BlackHoleCaster"),GetHandleIdBJ(GetEnumUnit()),udg_blackHoleTable)
if(Trig_BlackHoleMoveTarget_Func003Func004C())then
set udg_tempPoint=GetUnitLoc(udg_BlackHole)
call EnumDestructablesInCircleBJ(BlackholeRange,udg_tempPoint,function Trig_BlackHoleMoveTarget_Func003Func004Func007A)
set udg_tempGroup=GetUnitsInRangeOfLocAll(BlackholeRange,udg_tempPoint)
call ForGroupBJ(udg_tempGroup,function Trig_BlackHoleMoveTarget_Func003Func004Func010A)
call RemoveLocation(udg_tempPoint)
call RemoveLocation(udg_BH_Point)
call RemoveLocation(udg_BH_Next_Point)
call DestroyGroup(udg_tempGroup)
else
call FlushChildHashtableBJ(GetHandleIdBJ(GetEnumUnit()),udg_blackHoleTable)
call GroupRemoveUnitSimple(GetEnumUnit(),udg_BlackHoleUnits)
endif
endfunction
function Trig_BlackHoleMoveTarget_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsOfTypeIdAll('u02D'),function Trig_BlackHoleMoveTarget_Func003A)
endfunction
function InitTrig_BlackHoleMoveTarget takes nothing returns nothing
set udg_trg_BlackHoleMoveTarget=CreateTrigger()
call DisableTrigger(udg_trg_BlackHoleMoveTarget)
call TriggerRegisterTimerEventPeriodic(udg_trg_BlackHoleMoveTarget,0.05)
call TriggerAddAction(udg_trg_BlackHoleMoveTarget,function Trig_BlackHoleMoveTarget_Actions)
endfunction
function Trig_BlackHoleStop_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0G1'))then
return false
endif
return true
endfunction
function Trig_BlackHoleStop_Actions takes nothing returns nothing
call KillUnit(LoadUnitHandleBJ(StringHashBJ("BlackHole"),GetHandleIdBJ(GetTriggerUnit()),udg_blackHoleTable))
call GroupRemoveUnitSimple(LoadUnitHandleBJ(StringHashBJ("BlackHole"),GetHandleIdBJ(GetTriggerUnit()),udg_blackHoleTable),udg_BlackHoleUnits)
call FlushChildHashtableBJ(GetHandleIdBJ(GetTriggerUnit()),udg_blackHoleTable)
set BlackHoles=BlackHoles-1
if(BlackHoles<=0)then
call DisableTrigger(udg_trg_BlackHoleMoveTarget)
endif
endfunction
function InitTrig_BlackHoleStop takes nothing returns nothing
set udg_trg_BlackHoleStop=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_BlackHoleStop,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(udg_trg_BlackHoleStop,Condition(function Trig_BlackHoleStop_Conditions))
call TriggerAddAction(udg_trg_BlackHoleStop,function Trig_BlackHoleStop_Actions)
endfunction
function Trig_FL_init_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0DZ'))then
return false
endif
return true
endfunction
function Trig_FL_init_Func001C takes nothing returns boolean
if(not(udg_FL_Index[1]==0))then
return false
endif
return true
endfunction
function Trig_FL_init_Func042C takes nothing returns boolean
if(not(udg_FL_Index[1]==0))then
return false
endif
return true
endfunction
function Trig_FL_init_Actions takes nothing returns nothing
if(Trig_FL_init_Func001C())then
call EnableTrigger(udg_trg_FL_loop)
else
endif
set udg_FL_Index[1]=(udg_FL_Index[1]+1)
set udg_FL_Index[2]=(udg_FL_Index[2]+1)
set udg_FL_LoopIndex[1]=(udg_FL_LoopIndex[1]+1)
set udg_FL_LoopIndex[2]=(udg_FL_LoopIndex[2]+1)
set udg_FL_CurDamageIntervall[udg_FL_LoopIndex[2]]=0.00
set udg_FL_DamageIntervall[udg_FL_LoopIndex[2]]=0.50
set udg_FL_DamageDealer[udg_FL_LoopIndex[2]]=GetSpellAbilityUnit()
set udg_FL_Speed[udg_FL_LoopIndex[2]]=12.00
set udg_FL_Damage[udg_FL_LoopIndex[2]]=(50.00+(20.00*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))))
set udg_FL_LeakPoint[0]=GetSpellTargetLoc()
set udg_FL_LeakPoint[1]=GetUnitLoc(GetSpellAbilityUnit())
set udg_FL_Range[udg_FL_LoopIndex[2]]=(450.00+(50.00*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))))
set udg_FL_Angle[udg_FL_LoopIndex[2]]=AngleBetweenPoints(udg_FL_LeakPoint[1],udg_FL_LeakPoint[0])
set udg_FL_FlameSFX_String="Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl"
set udg_FL_FlameDamageSFX_String[udg_FL_LoopIndex[2]]="Abilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl"
set udg_FL_Duration[udg_FL_LoopIndex[2]]=(10.00+(5.00*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))))
call CreateNUnitsAtLocBonuses(1,'h05K',GetOwningPlayer(udg_FL_DamageDealer[udg_FL_LoopIndex[2]]),udg_FL_LeakPoint[0],udg_FL_Angle[udg_FL_LoopIndex[2]])
call AddSpecialEffectTargetUnitBJ("chest",GetLastCreatedUnit(),udg_FL_FlameSFX_String)
set udg_FL_Flame[udg_FL_LoopIndex[2]]=GetLastCreatedUnit()
set udg_FL_Index[1]=(udg_FL_Index[1]-1)
call RemoveLocation(udg_FL_LeakPoint[0])
call RemoveLocation(udg_FL_LeakPoint[1])
if(Trig_FL_init_Func042C())then
set udg_FL_Index[2]=0
else
endif
endfunction
function InitTrig_FL_init takes nothing returns nothing
set udg_trg_FL_init=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_FL_init,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_FL_init,Condition(function Trig_FL_init_Conditions))
call TriggerAddAction(udg_trg_FL_init,function Trig_FL_init_Actions)
endfunction
function Trig_FL_loop_Func003Func001Func004Func003002001003001001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_FL_loop_Func003Func001Func004Func003002001003001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)
endfunction
function Trig_FL_loop_Func003Func001Func004Func003002001003001 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false))
endfunction
function Trig_FL_loop_Func003Func001Func004Func003002001003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_FL_loop_Func003Func001Func004Func003002001003002002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_FL_DamageDealer[udg_FL_LoopIndex[3]]))==true)
endfunction
function Trig_FL_loop_Func003Func001Func004Func003002001003002002002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_FL_loop_Func003Func001Func004Func003002001003002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_FL_DamageDealer[udg_FL_LoopIndex[3]]))==true),(IsUnitAliveBJ(GetFilterUnit())==true))
endfunction
function Trig_FL_loop_Func003Func001Func004Func003002001003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_FL_DamageDealer[udg_FL_LoopIndex[3]]))==true),(IsUnitAliveBJ(GetFilterUnit())==true))))
endfunction
function Trig_FL_loop_Func003Func001Func004Func003002001003 takes nothing returns boolean
return GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false))),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_FL_DamageDealer[udg_FL_LoopIndex[3]]))==true),(IsUnitAliveBJ(GetFilterUnit())==true))))))
endfunction
function Trig_FL_loop_Func003Func001Func004Func005C takes nothing returns boolean
if(not(udg_FL_TargetUnit[udg_FL_LoopIndex[3]]!=null))then
return false
endif
if(not(IsUnitAliveBJ(udg_FL_TargetUnit[udg_FL_LoopIndex[3]])==true))then
return false
endif
return true
endfunction
function Trig_FL_loop_Func003Func001Func004C takes nothing returns boolean
if(not Trig_FL_loop_Func003Func001Func004Func005C())then
return false
endif
return true
endfunction
function Trig_FL_loop_Func003Func001Func005001 takes nothing returns boolean
return(DistanceBetweenPoints(udg_FL_LeakPoint[0],udg_FL_LeakPoint[3])>=udg_FL_Range[udg_FL_LoopIndex[3]])
endfunction
function Trig_FL_loop_Func003Func001Func006Func007002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)
endfunction
function Trig_FL_loop_Func003Func001Func006Func007002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_FL_loop_Func003Func001Func006Func007002003002002001001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_FL_loop_Func003Func001Func006Func007002003002002001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_FL_loop_Func003Func001Func006Func007002003002002001 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false))
endfunction
function Trig_FL_loop_Func003Func001Func006Func007002003002002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_FL_Flame[udg_FL_LoopIndex[3]]))==true)
endfunction
function Trig_FL_loop_Func003Func001Func006Func007002003002002 takes nothing returns boolean
return GetBooleanAnd((GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false))),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_FL_Flame[udg_FL_LoopIndex[3]]))==true))
endfunction
function Trig_FL_loop_Func003Func001Func006Func007002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false))),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_FL_Flame[udg_FL_LoopIndex[3]]))==true))))
endfunction
function Trig_FL_loop_Func003Func001Func006Func007002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false))),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_FL_Flame[udg_FL_LoopIndex[3]]))==true))))))
endfunction
function Trig_FL_loop_Func003Func001Func006Func008A takes nothing returns nothing
call UnitDamageTargetBJ(udg_FL_DamageDealer[udg_FL_LoopIndex[3]],GetEnumUnit(),udg_FL_Damage[udg_FL_LoopIndex[3]],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),udg_FL_FlameDamageSFX_String[udg_FL_LoopIndex[3]])
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function Trig_FL_loop_Func003Func001Func006C takes nothing returns boolean
if(not(udg_FL_CurDamageIntervall[udg_FL_LoopIndex[3]]>=udg_FL_DamageIntervall[udg_FL_LoopIndex[3]]))then
return false
endif
return true
endfunction
function Trig_FL_loop_Func003Func001C takes nothing returns boolean
if(not(udg_FL_Duration[udg_FL_LoopIndex[3]]>0.00))then
return false
endif
return true
endfunction
function Trig_FL_loop_Func004Func003C takes nothing returns boolean
if(not(udg_FL_LoopIndex[1]==0))then
return false
endif
return true
endfunction
function Trig_FL_loop_Func004C takes nothing returns boolean
if(not Trig_FL_loop_Func004Func003C())then
return false
endif
return true
endfunction
function Trig_FL_loop_Actions takes nothing returns nothing
set udg_FL_LoopIndex[3]=1
loop
exitwhen udg_FL_LoopIndex[3]>udg_FL_LoopIndex[2]
if(Trig_FL_loop_Func003Func001C())then
set udg_FL_Duration[udg_FL_LoopIndex[3]]=(udg_FL_Duration[udg_FL_LoopIndex[3]]-0.05)
set udg_FL_LeakPoint[0]=GetUnitLoc(udg_FL_Flame[udg_FL_LoopIndex[3]])
set udg_FL_LeakPoint[3]=GetUnitLoc(udg_FL_DamageDealer[udg_FL_LoopIndex[3]])
if(Trig_FL_loop_Func003Func001Func004C())then
set udg_FL_LeakPoint[1]=GetUnitLoc(udg_FL_TargetUnit[udg_FL_LoopIndex[3]])
else
set udg_FL_LeakPoint[1]=GetUnitLoc(udg_FL_DamageDealer[udg_FL_LoopIndex[3]])
set udg_FL_TargetUnit[udg_FL_LoopIndex[3]]=null
set udg_FL_TargetUnit[udg_FL_LoopIndex[3]]=GroupPickRandomUnit(GetUnitsInRangeOfLocMatching(udg_FL_Range[udg_FL_LoopIndex[3]],udg_FL_LeakPoint[3],Condition(function Trig_FL_loop_Func003Func001Func004Func003002001003)))
endif
if((DistanceBetweenPoints(udg_FL_LeakPoint[0],udg_FL_LeakPoint[3])>=udg_FL_Range[udg_FL_LoopIndex[3]]))then
set udg_FL_TargetUnit[udg_FL_LoopIndex[3]]=null
else
call DoNothing()
endif
if(Trig_FL_loop_Func003Func001Func006C())then
set udg_FL_CurDamageIntervall[udg_FL_LoopIndex[3]]=0.00
if udg_FL_DamageGroup==null then
set udg_FL_DamageGroup=CreateGroup()
endif
set udg_FL_DamageGroup=GetUnitsInRangeOfLocMatching(100.00,udg_FL_LeakPoint[0],Condition(function Trig_FL_loop_Func003Func001Func006Func007002003))
call ForGroupBJ(udg_FL_DamageGroup,function Trig_FL_loop_Func003Func001Func006Func008A)
call DestroyGroup(udg_FL_DamageGroup)
else
set udg_FL_CurDamageIntervall[udg_FL_LoopIndex[3]]=(udg_FL_CurDamageIntervall[udg_FL_LoopIndex[3]]+0.05)
endif
set udg_FL_Angle[udg_FL_LoopIndex[3]]=AngleBetweenPoints(udg_FL_LeakPoint[0],udg_FL_LeakPoint[1])
set udg_FL_LeakPoint[2]=PolarProjectionBJ(udg_FL_LeakPoint[0],udg_FL_Speed[udg_FL_LoopIndex[3]],udg_FL_Angle[udg_FL_LoopIndex[3]])
call SetUnitPositionLocFacingBJ(udg_FL_Flame[udg_FL_LoopIndex[3]],udg_FL_LeakPoint[2],udg_FL_Angle[udg_FL_LoopIndex[3]])
call RemoveLocation(udg_FL_LeakPoint[0])
call RemoveLocation(udg_FL_LeakPoint[1])
call RemoveLocation(udg_FL_LeakPoint[2])
else
call KillUnit(udg_FL_Flame[udg_FL_LoopIndex[3]])
set udg_FL_Flame[udg_FL_LoopIndex[3]]=null
set udg_FL_TargetUnit[udg_FL_LoopIndex[3]]=null
endif
set udg_FL_LoopIndex[3]=udg_FL_LoopIndex[3]+1
endloop
if(Trig_FL_loop_Func004C())then
set udg_FL_LoopIndex[2]=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function InitTrig_FL_loop takes nothing returns nothing
set udg_trg_FL_loop=CreateTrigger()
call DisableTrigger(udg_trg_FL_loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_FL_loop,0.05)
call TriggerAddAction(udg_trg_FL_loop,function Trig_FL_loop_Actions)
endfunction
function Trig_Cast_Charge_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0DY'))then
return false
endif
return true
endfunction
function Trig_Cast_Charge_Func021002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Cast_Charge_Func021002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Cast_Charge_Func021002003002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)
endfunction
function Trig_Cast_Charge_Func021002003002002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Cast_Charge_Func021002003002002002002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_Cast_Charge_Func021002003002002002002002 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),udg_UC_Groups[1])==false)
endfunction
function Trig_Cast_Charge_Func021002003002002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true),(IsUnitInGroup(GetFilterUnit(),udg_UC_Groups[1])==false))
endfunction
function Trig_Cast_Charge_Func021002003002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true),(IsUnitInGroup(GetFilterUnit(),udg_UC_Groups[1])==false))))
endfunction
function Trig_Cast_Charge_Func021002003002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true),(IsUnitInGroup(GetFilterUnit(),udg_UC_Groups[1])==false))))))
endfunction
function Trig_Cast_Charge_Func021002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true),(IsUnitInGroup(GetFilterUnit(),udg_UC_Groups[1])==false))))))))
endfunction
function Trig_Cast_Charge_Func021002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true),(IsUnitInGroup(GetFilterUnit(),udg_UC_Groups[1])==false))))))))))
endfunction
function Trig_Cast_Charge_Func023Func007C takes nothing returns boolean
if(not(udg_PD_Integers[1]==0))then
return false
endif
return true
endfunction
function Trig_Cast_Charge_Func023Func018C takes nothing returns boolean
if(not(udg_UC_SETTINGS_Collosion==false))then
return false
endif
return true
endfunction
function Trig_Cast_Charge_Func023Func019C takes nothing returns boolean
if(not(udg_UC_SETTINGS_Invulnerable==true))then
return false
endif
return true
endfunction
function Trig_Cast_Charge_Func023C takes nothing returns boolean
if(not(udg_UC_Target!=null))then
return false
endif
return true
endfunction
function Trig_Cast_Charge_Actions takes nothing returns nothing
set udg_UC_SETTINGS_Speed=27.00
set udg_UC_SETTINGS_DestroyTrees_Dash=true
set udg_UC_SETTINGS_Collosion=false
set udg_UC_SETTINGS_AreaOfEffect[1]=200.00
set udg_UC_SETTINGS_AreaOfEffect[2]=(500.00+(100.00*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))))
set udg_UC_SETTINGS_Invulnerable=true
set udg_UC_TempPoint[1]=GetUnitLoc(GetTriggerUnit())
set udg_UC_Groups[1]=GetUnitsInRangeOfLocAll(udg_UC_SETTINGS_AreaOfEffect[1],udg_UC_TempPoint[1])
set udg_UC_Groups[2]=GetUnitsInRangeOfLocMatching(udg_UC_SETTINGS_AreaOfEffect[2],udg_UC_TempPoint[1],Condition(function Trig_Cast_Charge_Func021002003))
set udg_UC_Target=GroupPickRandomUnit(udg_UC_Groups[2])
if(Trig_Cast_Charge_Func023C())then
set udg_UC_TempPoint[2]=GetUnitLoc(udg_UC_Target)
set udg_UC_TempPoint[3]=PolarProjectionBJ(udg_UC_TempPoint[2],100.00,AngleBetweenPoints(udg_UC_TempPoint[1],udg_UC_TempPoint[2]))
call SetUnitFacingToFaceLocTimed(GetTriggerUnit(),udg_UC_TempPoint[2],0.00)
if(Trig_Cast_Charge_Func023Func007C())then
call EnableTrigger(udg_trg_Projectile_Dash_by_Paladon)
else
endif
set udg_PD_Integers[1]=(udg_PD_Integers[1]+1)
set udg_PD_Integers[2]=(udg_PD_Integers[2]+1)
set udg_PD_Distances[udg_PD_Integers[2]]=DistanceBetweenPoints(udg_UC_TempPoint[1],udg_UC_TempPoint[2])
set udg_PD_ReachedDistance[udg_PD_Integers[2]]=0.00
set udg_PD_SpeedUnits[udg_PD_Integers[2]]=udg_UC_SETTINGS_Speed
set udg_PD_Unit[udg_PD_Integers[2]]=GetTriggerUnit()
set udg_PD_Angle[udg_PD_Integers[2]]=AngleBetweenPoints(udg_UC_TempPoint[1],udg_UC_TempPoint[2])
set udg_PD_TreesDestroy[udg_PD_Integers[2]]=udg_UC_SETTINGS_DestroyTrees_Dash
set udg_PD_TreesDestroy[udg_PD_Integers[2]]=udg_UC_SETTINGS_DestroyTrees_Dash
set udg_UC_Inv[udg_PD_Integers[2]]=udg_UC_SETTINGS_Invulnerable
if(Trig_Cast_Charge_Func023Func018C())then
call SetUnitPathing(GetTriggerUnit(),false)
else
endif
if(Trig_Cast_Charge_Func023Func019C())then
call SetUnitInvulnerable(GetTriggerUnit(),true)
else
endif
call GroupAddUnitSimple(GetTriggerUnit(),udg_PD_TestGroup)
call RemoveLocation(udg_UC_TempPoint[2])
call RemoveLocation(udg_UC_TempPoint[3])
else
endif
call RemoveLocation(udg_UC_TempPoint[1])
call DestroyGroup(udg_UC_Groups[1])
call DestroyGroup(udg_UC_Groups[2])
endfunction
function InitTrig_Cast_Charge takes nothing returns nothing
set udg_trg_Cast_Charge=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Cast_Charge,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Cast_Charge,Condition(function Trig_Cast_Charge_Conditions))
call TriggerAddAction(udg_trg_Cast_Charge,function Trig_Cast_Charge_Actions)
endfunction
function Trig_Projectile_Dash_by_Paladon_Func001Func001Func001Func006C takes nothing returns boolean
if(not(udg_UC_Inv[udg_PD_Integers[3]]==true))then
return false
endif
return true
endfunction
function Trig_Projectile_Dash_by_Paladon_Func001Func001Func001Func013C takes nothing returns boolean
if(not(udg_PD_Integers[1]==0))then
return false
endif
return true
endfunction
function Trig_Projectile_Dash_by_Paladon_Func001Func001Func001Func016Func001003 takes nothing returns nothing
if(IsTree(GetEnumDestructable())) then
    call KillDestructable(GetEnumDestructable())
endif
endfunction
function Trig_Projectile_Dash_by_Paladon_Func001Func001Func001Func016C takes nothing returns boolean
if(not(udg_PD_TreesDestroy[udg_PD_Integers[3]]==true))then
return false
endif
return true
endfunction
function Trig_Projectile_Dash_by_Paladon_Func001Func001Func001Func021C takes nothing returns boolean
if(not(udg_UC_Counter[udg_PD_Integers[3]]==2))then
return false
endif
return true
endfunction
function Trig_Projectile_Dash_by_Paladon_Func001Func001Func001C takes nothing returns boolean
if(not(udg_PD_ReachedDistance[udg_PD_Integers[3]]<udg_PD_Distances[udg_PD_Integers[3]]))then
return false
endif
return true
endfunction
function Trig_Projectile_Dash_by_Paladon_Func001Func001C takes nothing returns boolean
if(not(IsUnitInGroup(udg_PD_Unit[udg_PD_Integers[3]],udg_PD_TestGroup)==true))then
return false
endif
return true
endfunction
function Trig_Projectile_Dash_by_Paladon_Actions takes nothing returns nothing
set udg_PD_Integers[3]=1
loop
exitwhen udg_PD_Integers[3]>udg_PD_Integers[2]
if(Trig_Projectile_Dash_by_Paladon_Func001Func001C())then
if(Trig_Projectile_Dash_by_Paladon_Func001Func001Func001C())then
set udg_PD_TempPoint[1]=GetUnitLoc(udg_PD_Unit[udg_PD_Integers[3]])
set udg_PD_TempPoint[2]=PolarProjectionBJ(udg_PD_TempPoint[1],udg_PD_SpeedUnits[udg_PD_Integers[3]],udg_PD_Angle[udg_PD_Integers[3]])
if(Trig_Projectile_Dash_by_Paladon_Func001Func001Func001Func016C())then
call EnumDestructablesInCircleBJ(150.00,udg_PD_TempPoint[2],function Trig_Projectile_Dash_by_Paladon_Func001Func001Func001Func016Func001003)
else
endif
call SetUnitPositionLoc(udg_PD_Unit[udg_PD_Integers[3]],udg_PD_TempPoint[2])
set udg_PD_ReachedDistance[udg_PD_Integers[3]]=(udg_PD_ReachedDistance[udg_PD_Integers[3]]+udg_PD_SpeedUnits[udg_PD_Integers[3]])
call RemoveLocation(udg_PD_TempPoint[1])
call RemoveLocation(udg_PD_TempPoint[2])
if(Trig_Projectile_Dash_by_Paladon_Func001Func001Func001Func021C())then
set udg_UC_Counter[udg_PD_Integers[3]]=0
set udg_UC_TempPoint[1]=GetUnitLoc(udg_PD_Unit[udg_PD_Integers[3]])
call CreateNUnitsAtLocBonuses(1,'n04F',GetOwningPlayer(udg_PD_Unit[udg_PD_Integers[3]]),udg_UC_TempPoint[1],GetUnitFacing(udg_PD_Unit[udg_PD_Integers[3]]))
call AddSpecialEffectTargetUnitBJ("chest",GetLastCreatedUnit(),"units\\creeps\\TimberWolf\\TimberWolf.mdl")
call RemoveLocation(udg_UC_TempPoint[1])
set udg_FA_Unit=GetLastCreatedUnit()
set udg_FA_Time=0.50
call ConditionalTriggerExecute(udg_trg_getFaded)
else
set udg_UC_Counter[udg_PD_Integers[3]]=(udg_UC_Counter[udg_PD_Integers[3]]+1)
endif
else
set udg_UC_Counter[udg_PD_Integers[3]]=0
set udg_PD_TempPoint[1]=GetUnitLoc(udg_PD_Unit[udg_PD_Integers[3]])
set udg_PD_TempPoint[2]=PolarProjectionBJ(udg_PD_TempPoint[1],100.00,udg_PD_Angle[udg_PD_Integers[3]])
call SetUnitPathing(udg_PD_Unit[udg_PD_Integers[3]],true)
call SetUnitPositionLocFacingLocBJ(udg_PD_Unit[udg_PD_Integers[3]],udg_PD_TempPoint[2],udg_PD_TempPoint[1])
if(Trig_Projectile_Dash_by_Paladon_Func001Func001Func001Func006C())then
call SetUnitInvulnerable(udg_PD_Unit[udg_PD_Integers[3]],false)
else
endif
call RemoveLocation(udg_PD_TempPoint[1])
call RemoveLocation(udg_PD_TempPoint[2])
call SetUnitPathing(udg_PD_Unit[udg_PD_Integers[3]],true)
call GroupRemoveUnitSimple(udg_PD_Unit[udg_PD_Integers[3]],udg_PD_TestGroup)
set udg_PD_RealTimer[udg_PD_Integers[3]]=0.00
set udg_PD_Integers[1]=(udg_PD_Integers[1]-1)
if(Trig_Projectile_Dash_by_Paladon_Func001Func001Func001Func013C())then
set udg_PD_Integers[2]=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
endif
else
endif
set udg_PD_Integers[3]=udg_PD_Integers[3]+1
endloop
endfunction
function InitTrig_Projectile_Dash_by_Paladon takes nothing returns nothing
set udg_trg_Projectile_Dash_by_Paladon=CreateTrigger()
call DisableTrigger(udg_trg_Projectile_Dash_by_Paladon)
call TriggerRegisterTimerEventPeriodic(udg_trg_Projectile_Dash_by_Paladon,0.02)
call TriggerAddAction(udg_trg_Projectile_Dash_by_Paladon,function Trig_Projectile_Dash_by_Paladon_Actions)
endfunction
function Trig_getFaded_Func001C takes nothing returns boolean
if(not(udg_F_Integers[1]==0))then
return false
endif
return true
endfunction
function Trig_getFaded_Actions takes nothing returns nothing
if(Trig_getFaded_Func001C())then
call EnableTrigger(udg_trg_callFading)
else
endif
set udg_F_Integers[1]=(udg_F_Integers[1]+1)
set udg_F_Integers[2]=(udg_F_Integers[2]+1)
set udg_F_Unit[udg_F_Integers[2]]=udg_FA_Unit
set udg_F_Time[udg_F_Integers[2]]=udg_FA_Time
endfunction
function InitTrig_getFaded takes nothing returns nothing
set udg_trg_getFaded=CreateTrigger()
call TriggerAddAction(udg_trg_getFaded,function Trig_getFaded_Actions)
endfunction
function Trig_callFading_Func001Func001Func001Func006C takes nothing returns boolean
if(not(udg_F_Integers[1]==0))then
return false
endif
return true
endfunction
function Trig_callFading_Func001Func001Func001C takes nothing returns boolean
if(not(udg_F_ReachedFading[udg_F_Integers[3]]<100.00))then
return false
endif
return true
endfunction
function Trig_callFading_Func001Func001C takes nothing returns boolean
if(not(udg_F_Unit[udg_F_Integers[3]]!=null))then
return false
endif
return true
endfunction
function Trig_callFading_Actions takes nothing returns nothing
set udg_F_Integers[3]=1
loop
exitwhen udg_F_Integers[3]>udg_F_Integers[2]
if(Trig_callFading_Func001Func001C())then
if(Trig_callFading_Func001Func001Func001C())then
set udg_F_ReachedFading[udg_F_Integers[3]]=(udg_F_ReachedFading[udg_F_Integers[3]]+(100.00/(udg_F_Time[udg_F_Integers[3]]/ 0.05)))
call SetUnitVertexColorBJ(udg_F_Unit[udg_F_Integers[3]],100,100,100,udg_F_ReachedFading[udg_F_Integers[3]])
else
call RemoveUnit(udg_F_Unit[udg_F_Integers[3]])
set udg_F_Unit[udg_F_Integers[3]]=null
set udg_F_ReachedFading[udg_F_Integers[3]]=0.00
set udg_F_Integers[1]=(udg_F_Integers[1]-1)
if(Trig_callFading_Func001Func001Func001Func006C())then
set udg_F_Integers[2]=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
endif
else
endif
set udg_F_Integers[3]=udg_F_Integers[3]+1
endloop
endfunction
function InitTrig_callFading takes nothing returns nothing
set udg_trg_callFading=CreateTrigger()
call DisableTrigger(udg_trg_callFading)
call TriggerRegisterTimerEventPeriodic(udg_trg_callFading,0.05)
call TriggerAddAction(udg_trg_callFading,function Trig_callFading_Actions)
endfunction
function Trig_QJS_Hash_Table_Actions takes nothing returns nothing
call InitHashtableBJ()
set udg_QJS_arrowTable=GetLastCreatedHashtableBJ()
endfunction
function InitTrig_QJS_Hash_Table takes nothing returns nothing
set udg_trg_QJS_Hash_Table=CreateTrigger()
call TriggerAddAction(udg_trg_QJS_Hash_Table,function Trig_QJS_Hash_Table_Actions)
endfunction
function Trig_QJS_AttackDamageType_Actions takes nothing returns nothing
set udg_QJS_atkTypePreset[0]=ATTACK_TYPE_NORMAL
set udg_QJS_atkTypePreset[1]=ATTACK_TYPE_MELEE
set udg_QJS_atkTypePreset[2]=ATTACK_TYPE_PIERCE
set udg_QJS_atkTypePreset[3]=ATTACK_TYPE_SIEGE
set udg_QJS_atkTypePreset[4]=ATTACK_TYPE_MAGIC
set udg_QJS_atkTypePreset[5]=ATTACK_TYPE_CHAOS
set udg_QJS_atkTypePreset[6]=ATTACK_TYPE_HERO
set udg_QJS_dmgTypePreset[0]=DAMAGE_TYPE_UNKNOWN
set udg_QJS_dmgTypePreset[1]=DAMAGE_TYPE_NORMAL
set udg_QJS_dmgTypePreset[2]=DAMAGE_TYPE_ENHANCED
set udg_QJS_dmgTypePreset[3]=DAMAGE_TYPE_FIRE
set udg_QJS_dmgTypePreset[4]=DAMAGE_TYPE_COLD
set udg_QJS_dmgTypePreset[5]=DAMAGE_TYPE_LIGHTNING
set udg_QJS_dmgTypePreset[6]=DAMAGE_TYPE_POISON
set udg_QJS_dmgTypePreset[7]=DAMAGE_TYPE_DISEASE
set udg_QJS_dmgTypePreset[8]=DAMAGE_TYPE_DIVINE
set udg_QJS_dmgTypePreset[9]=DAMAGE_TYPE_MAGIC
set udg_QJS_dmgTypePreset[10]=DAMAGE_TYPE_SONIC
set udg_QJS_dmgTypePreset[11]=DAMAGE_TYPE_ACID
set udg_QJS_dmgTypePreset[12]=DAMAGE_TYPE_FORCE
set udg_QJS_dmgTypePreset[13]=DAMAGE_TYPE_DEATH
set udg_QJS_dmgTypePreset[14]=DAMAGE_TYPE_MIND
set udg_QJS_dmgTypePreset[15]=DAMAGE_TYPE_PLANT
set udg_QJS_dmgTypePreset[16]=DAMAGE_TYPE_DEFENSIVE
set udg_QJS_dmgTypePreset[17]=DAMAGE_TYPE_DEMOLITION
set udg_QJS_dmgTypePreset[18]=DAMAGE_TYPE_SLOW_POISON
set udg_QJS_dmgTypePreset[19]=DAMAGE_TYPE_SPIRIT_LINK
set udg_QJS_dmgTypePreset[20]=DAMAGE_TYPE_SHADOW_STRIKE
set udg_QJS_dmgTypePreset[21]=DAMAGE_TYPE_UNIVERSAL
endfunction
function InitTrig_QJS_AttackDamageType takes nothing returns nothing
set udg_trg_QJS_AttackDamageType=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_QJS_AttackDamageType,0.00)
call TriggerAddAction(udg_trg_QJS_AttackDamageType,function Trig_QJS_AttackDamageType_Actions)
endfunction
function Trig_Arrow_Create_Func006C takes nothing returns boolean
if(not(udg_QJ_TargetUnit==null))then
return false
endif
return true
endfunction
function Trig_Arrow_Create_Func008Func002C takes nothing returns boolean
if((udg_QJ_attackTypeID>6))then
return true
endif
if((udg_QJ_attackTypeID<0))then
return true
endif
return false
endfunction
function Trig_Arrow_Create_Func008C takes nothing returns boolean
if(not Trig_Arrow_Create_Func008Func002C())then
return false
endif
return true
endfunction
function Trig_Arrow_Create_Func010Func002C takes nothing returns boolean
if((udg_QJ_damageTypeID>21))then
return true
endif
if((udg_QJ_attackTypeID<0))then
return true
endif
return false
endfunction
function Trig_Arrow_Create_Func010C takes nothing returns boolean
if(not Trig_Arrow_Create_Func010Func002C())then
return false
endif
return true
endfunction
function Trig_Arrow_Create_Func013C takes nothing returns boolean
if(not(udg_QJ_TargetUnit==null))then
return false
endif
return true
endfunction
function Trig_Arrow_Create_Func017C takes nothing returns boolean
if(not(udg_QJ_Homing==false))then
return false
endif
return true
endfunction
function Trig_Arrow_Create_Func033C takes nothing returns boolean
if(not(udg_QJ_AoE==true))then
return false
endif
return true
endfunction
function Trig_Arrow_Create_Func037C takes nothing returns boolean
if(not(udg_QJ_Pierce==true))then
return false
endif
return true
endfunction
function Trig_Arrow_Create_Actions takes nothing returns nothing
set udg_QJS_tempPos=GetUnitLoc(udg_QJ_Caster)
call CreateNUnitsAtLocBonuses(1,udg_QJ_Model,GetOwningPlayer(udg_QJ_Caster),udg_QJS_tempPos,GetUnitFacing(udg_QJ_Caster))
call SetUnitScalePercent(GetLastCreatedUnit(),(100.00*udg_QJ_Size),(100.00*udg_QJ_Size),((100.00*udg_QJ_Size)+1))
if(Trig_Arrow_Create_Func006C())then
set udg_QJ_Homing=false
else
endif
if(Trig_Arrow_Create_Func008C())then
set udg_QJ_attackTypeID=0
else
endif
if(Trig_Arrow_Create_Func010C())then
set udg_QJ_damageTypeID=0
else
endif
if(Trig_Arrow_Create_Func013C())then
set udg_QJS_Angle=AngleBetweenPoints(udg_QJS_tempPos,udg_QJ_TargetPoint)
set udg_QJS_Distance=DistanceBetweenPoints(udg_QJS_tempPos,udg_QJ_TargetPoint)
else
set udg_QJS_tempPos_Target=GetUnitLoc(udg_QJ_TargetUnit)
set udg_QJS_Angle=AngleBetweenPoints(udg_QJS_tempPos,udg_QJS_tempPos_Target)
set udg_QJS_Distance=DistanceBetweenPoints(udg_QJS_tempPos,udg_QJS_tempPos_Target)
call SaveUnitHandleBJ(udg_QJ_TargetUnit,StringHashBJ("victim"),GetHandleIdBJ(GetLastCreatedUnit()),udg_QJS_arrowTable)
call RemoveLocation(udg_QJS_tempPos_Target)
endif
call SaveUnitHandleBJ(udg_QJ_Caster,StringHashBJ("caster"),GetHandleIdBJ(GetLastCreatedUnit()),udg_QJS_arrowTable)
if(Trig_Arrow_Create_Func017C())then
call SaveRealBJ(udg_QJS_Angle,StringHashBJ("angle"),GetHandleIdBJ(GetLastCreatedUnit()),udg_QJS_arrowTable)
call SaveRealBJ(udg_QJS_Distance,StringHashBJ("dist"),GetHandleIdBJ(GetLastCreatedUnit()),udg_QJS_arrowTable)
else
endif
call SaveRealBJ(udg_QJ_Damage,StringHashBJ("dmg"),GetHandleIdBJ(GetLastCreatedUnit()),udg_QJS_arrowTable)
call SaveRealBJ(udg_QJ_Speed,StringHashBJ("spd"),GetHandleIdBJ(GetLastCreatedUnit()),udg_QJS_arrowTable)
call SaveIntegerBJ(udg_QJ_attackTypeID,StringHashBJ("atkid"),GetHandleIdBJ(GetLastCreatedUnit()),udg_QJS_arrowTable)
call SaveIntegerBJ(udg_QJ_damageTypeID,StringHashBJ("dmgid"),GetHandleIdBJ(GetLastCreatedUnit()),udg_QJS_arrowTable)
call SaveBooleanBJ(udg_QJ_Collision,StringHashBJ("collision"),GetHandleIdBJ(GetLastCreatedUnit()),udg_QJS_arrowTable)
call SaveBooleanBJ(udg_QJ_Homing,StringHashBJ("homing"),GetHandleIdBJ(GetLastCreatedUnit()),udg_QJS_arrowTable)
call SaveBooleanBJ(udg_QJ_AoE,StringHashBJ("aoe"),GetHandleIdBJ(GetLastCreatedUnit()),udg_QJS_arrowTable)
if(Trig_Arrow_Create_Func033C())then
call SaveRealBJ(udg_QJ_AoERadius,StringHashBJ("aoeradius"),GetHandleIdBJ(GetLastCreatedUnit()),udg_QJS_arrowTable)
call SaveStringBJ(udg_QJ_AoESFX,StringHashBJ("aoesfx"),GetHandleIdBJ(GetLastCreatedUnit()),udg_QJS_arrowTable)
else
endif
call SaveBooleanBJ(udg_QJ_Pierce,StringHashBJ("pierce"),GetHandleIdBJ(GetLastCreatedUnit()),udg_QJS_arrowTable)
if(Trig_Arrow_Create_Func037C())then
set udg_QJS_DamagedGroup=CreateGroup()
call SaveGroupHandleBJ(udg_QJS_DamagedGroup,StringHashBJ("dgroup"),GetHandleIdBJ(GetLastCreatedUnit()),udg_QJS_arrowTable)
else
endif
call SetUnitPathing(GetLastCreatedUnit(),false)
call GroupAddUnitSimple(GetLastCreatedUnit(),udg_QJS_arrowGroup)
call EnableTrigger(udg_trg_Arrow_Move)
call RemoveLocation(udg_QJS_tempPos)
endfunction
function InitTrig_Arrow_Create takes nothing returns nothing
set udg_trg_Arrow_Create=CreateTrigger()
call TriggerAddAction(udg_trg_Arrow_Create,function Trig_Arrow_Create_Actions)
endfunction
function Trig_Arrow_Move_Func002Func020C takes nothing returns boolean
if(not(udg_QJ_Homing==true))then
return false
endif
return true
endfunction
function Trig_Arrow_Move_Func002Func023C takes nothing returns boolean
if(not(udg_QJ_Pierce==true))then
return false
endif
return true
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func001Func004C takes nothing returns boolean
if(not(udg_QJ_Homing==false))then
return false
endif
return true
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func001Func007Func006C takes nothing returns boolean
if(not(udg_QJ_AoE==true))then
return false
endif
return true
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func001Func007Func008002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func001Func007Func008002003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_QJ_Caster))==true)
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func001Func007Func008002003002002 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),udg_QJS_DamagedGroup)==false)
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func001Func007Func008002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_QJ_Caster))==true),(IsUnitInGroup(GetFilterUnit(),udg_QJS_DamagedGroup)==false))
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func001Func007Func008002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_QJ_Caster))==true),(IsUnitInGroup(GetFilterUnit(),udg_QJS_DamagedGroup)==false))))
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func001Func007Func009Func002C takes nothing returns boolean
if(not(udg_QJ_AoE==true))then
return false
endif
return true
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func001Func007Func009A takes nothing returns nothing
set udg_QJS_victimPos=GetUnitLoc(GetEnumUnit())
if(Trig_Arrow_Move_Func002Func026Func004Func001Func007Func009Func002C())then
call AddSpecialEffectLocBJ(udg_QJS_victimPos,udg_QJ_AoESFX)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
endif
call UnitDamageTargetBJ(udg_QJ_Caster,GetEnumUnit(),udg_QJ_Damage,udg_QJS_AttackType,udg_QJS_DamageType)
call CreateTextTagLocBJ("Hit!",udg_QJS_victimPos,0,10,100,0.00,0.00,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),1.00)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.50)
call GroupAddUnitSimple(GetEnumUnit(),udg_QJS_DamagedGroup)
call RemoveLocation(udg_QJS_victimPos)
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func001Func007C takes nothing returns boolean
if(not(udg_QJ_Pierce==true))then
return false
endif
return true
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func001Func016Func005Func014002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func001Func016Func005Func014002003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_QJ_Caster))==true)
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func001Func016Func005Func014002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_QJ_Caster))==true))
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func001Func016Func005Func016A takes nothing returns nothing
call UnitDamageTargetBJ(udg_QJ_Caster,GetEnumUnit(),udg_QJ_Damage,udg_QJS_AttackType,udg_QJS_DamageType)
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func001Func016Func005C takes nothing returns boolean
if(not(udg_QJ_AoE==true))then
return false
endif
return true
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func001Func016C takes nothing returns boolean
if(not(udg_QJ_Pierce==false))then
return false
endif
return true
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func001Func023C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_QJS_arrowGroup)==0))then
return false
endif
return true
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func001C takes nothing returns boolean
if(not(IsTerrainPathableBJ(udg_QJS_movePos,PATHING_TYPE_WALKABILITY)==true))then
return false
endif
return true
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func005C takes nothing returns boolean
if(not(udg_QJ_Homing==false))then
return false
endif
return true
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func008Func006C takes nothing returns boolean
if(not(udg_QJ_AoE==true))then
return false
endif
return true
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func008Func008002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func008Func008002003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_QJ_Caster))==true)
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func008Func008002003002002 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),udg_QJS_DamagedGroup)==false)
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func008Func008002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_QJ_Caster))==true),(IsUnitInGroup(GetFilterUnit(),udg_QJS_DamagedGroup)==false))
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func008Func008002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_QJ_Caster))==true),(IsUnitInGroup(GetFilterUnit(),udg_QJS_DamagedGroup)==false))))
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func008Func009Func002C takes nothing returns boolean
if(not(udg_QJ_AoE==true))then
return false
endif
return true
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func008Func009A takes nothing returns nothing
set udg_QJS_victimPos=GetUnitLoc(GetEnumUnit())
if(Trig_Arrow_Move_Func002Func026Func004Func008Func009Func002C())then
call AddSpecialEffectLocBJ(udg_QJS_victimPos,udg_QJ_AoESFX)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
endif
call UnitDamageTargetBJ(udg_QJ_Caster,GetEnumUnit(),udg_QJ_Damage,udg_QJS_AttackType,udg_QJS_DamageType)
call CreateTextTagLocBJ("Hit!",udg_QJS_victimPos,0,10,100,0.00,0.00,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),1.00)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.50)
call GroupAddUnitSimple(GetEnumUnit(),udg_QJS_DamagedGroup)
call RemoveLocation(udg_QJS_victimPos)
endfunction
function Trig_Arrow_Move_Func002Func026Func004Func008C takes nothing returns boolean
if(not(udg_QJ_Pierce==true))then
return false
endif
return true
endfunction
function Trig_Arrow_Move_Func002Func026Func004C takes nothing returns boolean
if(not(udg_QJ_Collision==true))then
return false
endif
return true
endfunction
function Trig_Arrow_Move_Func002Func026Func010Func012Func003Func011002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Arrow_Move_Func002Func026Func010Func012Func003Func011002003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_QJ_Caster))==true)
endfunction
function Trig_Arrow_Move_Func002Func026Func010Func012Func003Func011002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_QJ_Caster))==true))
endfunction
function Trig_Arrow_Move_Func002Func026Func010Func012Func003Func013A takes nothing returns nothing
call UnitDamageTargetBJ(udg_QJ_Caster,GetEnumUnit(),udg_QJ_Damage,udg_QJS_AttackType,udg_QJS_DamageType)
endfunction
function Trig_Arrow_Move_Func002Func026Func010Func012Func003Func017002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Arrow_Move_Func002Func026Func010Func012Func003Func017002003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_QJ_Caster))==true)
endfunction
function Trig_Arrow_Move_Func002Func026Func010Func012Func003Func017002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_QJ_Caster))==true))
endfunction
function Trig_Arrow_Move_Func002Func026Func010Func012Func003Func018C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_QJS_victimGroup)>0))then
return false
endif
return true
endfunction
function Trig_Arrow_Move_Func002Func026Func010Func012Func003C takes nothing returns boolean
if(not(udg_QJ_AoE==true))then
return false
endif
return true
endfunction
function Trig_Arrow_Move_Func002Func026Func010Func012Func005Func010002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Arrow_Move_Func002Func026Func010Func012Func005Func010002003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_QJ_Caster))==true)
endfunction
function Trig_Arrow_Move_Func002Func026Func010Func012Func005Func010002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_QJ_Caster))==true))
endfunction
function Trig_Arrow_Move_Func002Func026Func010Func012Func005Func012A takes nothing returns nothing
call UnitDamageTargetBJ(udg_QJ_Caster,GetEnumUnit(),udg_QJ_Damage,udg_QJS_AttackType,udg_QJS_DamageType)
endfunction
function Trig_Arrow_Move_Func002Func026Func010Func012Func005Func017002003 takes nothing returns boolean
return(GetFilterUnit()==udg_QJ_TargetUnit)
endfunction
function Trig_Arrow_Move_Func002Func026Func010Func012Func005Func018C takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_QJ_TargetUnit)==true))then
return false
endif
if(not(CountUnitsInGroup(udg_QJS_victimGroup)>0))then
return false
endif
return true
endfunction
function Trig_Arrow_Move_Func002Func026Func010Func012Func005C takes nothing returns boolean
if(not(udg_QJ_AoE==true))then
return false
endif
return true
endfunction
function Trig_Arrow_Move_Func002Func026Func010Func012C takes nothing returns boolean
if(not(udg_QJ_TargetUnit==null))then
return false
endif
return true
endfunction
function Trig_Arrow_Move_Func002Func026Func010C takes nothing returns boolean
if(not(udg_QJ_Pierce==false))then
return false
endif
return true
endfunction
function Trig_Arrow_Move_Func002Func026Func019C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_QJS_arrowGroup)==0))then
return false
endif
return true
endfunction
function Trig_Arrow_Move_Func002Func026C takes nothing returns boolean
if(not(udg_QJS_Distance>0.00))then
return false
endif
return true
endfunction
function Trig_Arrow_Move_Func002A takes nothing returns nothing
set udg_QJ_Caster=LoadUnitHandleBJ(StringHashBJ("caster"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
set udg_QJ_TargetUnit=LoadUnitHandleBJ(StringHashBJ("victim"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
set udg_QJ_Damage=LoadRealBJ(StringHashBJ("dmg"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
set udg_QJ_Speed=LoadRealBJ(StringHashBJ("spd"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
set udg_QJ_attackTypeID=LoadIntegerBJ(StringHashBJ("atkid"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
set udg_QJ_damageTypeID=LoadIntegerBJ(StringHashBJ("dmgid"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
set udg_QJ_Collision=LoadBooleanBJ(StringHashBJ("collision"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
set udg_QJ_AoE=LoadBooleanBJ(StringHashBJ("aoe"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
set udg_QJ_Homing=LoadBooleanBJ(StringHashBJ("homing"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
if(Trig_Arrow_Move_Func002Func020C())then
set udg_QJS_arrowPos=GetUnitLoc(GetEnumUnit())
set udg_QJS_victimPos=GetUnitLoc(udg_QJ_TargetUnit)
set udg_QJS_Angle=AngleBetweenPoints(udg_QJS_arrowPos,udg_QJS_victimPos)
set udg_QJS_Distance=DistanceBetweenPoints(udg_QJS_arrowPos,udg_QJS_victimPos)
set udg_QJS_Distance=(udg_QJS_Distance-50.00)
call RemoveLocation(udg_QJS_arrowPos)
call RemoveLocation(udg_QJS_victimPos)
else
set udg_QJS_Angle=LoadRealBJ(StringHashBJ("angle"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
set udg_QJS_Distance=LoadRealBJ(StringHashBJ("dist"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
endif
set udg_QJ_Pierce=LoadBooleanBJ(StringHashBJ("pierce"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
if(Trig_Arrow_Move_Func002Func023C())then
set udg_QJS_DamagedGroup=LoadGroupHandleBJ(StringHashBJ("dgroup"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
else
endif
set udg_QJS_tempPos=GetUnitLoc(GetEnumUnit())
if(Trig_Arrow_Move_Func002Func026C())then
set udg_QJS_movePos=PolarProjectionBJ(udg_QJS_tempPos,udg_QJ_Speed,udg_QJS_Angle)
if(Trig_Arrow_Move_Func002Func026Func004C())then
if(Trig_Arrow_Move_Func002Func026Func004Func001C())then
call CreateTextTagLocBJ("Hit Obstacle!",udg_QJS_movePos,0,10,100,0.00,0.00,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),1.00)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.50)
if(Trig_Arrow_Move_Func002Func026Func004Func001Func016C())then
if(Trig_Arrow_Move_Func002Func026Func004Func001Func016Func005C())then
set udg_QJS_AttackType=udg_QJS_atkTypePreset[udg_QJ_attackTypeID]
set udg_QJS_DamageType=udg_QJS_dmgTypePreset[udg_QJ_damageTypeID]
set udg_QJ_AoERadius=LoadRealBJ(StringHashBJ("aoeradius"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
set udg_QJ_AoESFX=LoadStringBJ(StringHashBJ("aoesfx"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
call AddSpecialEffectLocBJ(udg_QJS_movePos,udg_QJ_AoESFX)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set udg_QJS_victimGroup=GetUnitsInRangeOfLocMatching(udg_QJ_AoERadius,udg_QJS_movePos,Condition(function Trig_Arrow_Move_Func002Func026Func004Func001Func016Func005Func014002003))
call ForGroupBJ(udg_QJS_victimGroup,function Trig_Arrow_Move_Func002Func026Func004Func001Func016Func005Func016A)
else
endif
else
call GroupClear(udg_QJS_DamagedGroup)
call DestroyGroup(udg_QJS_DamagedGroup)
endif
call SetUnitPathing(GetEnumUnit(),true)
call KillUnit(GetEnumUnit())
call GroupRemoveUnitSimple(GetEnumUnit(),udg_QJS_arrowGroup)
if(Trig_Arrow_Move_Func002Func026Func004Func001Func023C())then
call DisableTrigger(GetTriggeringTrigger())
else
endif
call FlushChildHashtableBJ(GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
call RemoveLocation(udg_QJS_movePos)
else
call SetUnitPositionLocFacingBJ(GetEnumUnit(),udg_QJS_movePos,udg_QJS_Angle)
if(Trig_Arrow_Move_Func002Func026Func004Func001Func004C())then
call SaveRealBJ((udg_QJS_Distance-udg_QJ_Speed),StringHashBJ("dist"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
else
endif
if(Trig_Arrow_Move_Func002Func026Func004Func001Func007C())then
set udg_QJS_AttackType=udg_QJS_atkTypePreset[udg_QJ_attackTypeID]
set udg_QJS_DamageType=udg_QJS_dmgTypePreset[udg_QJ_damageTypeID]
if(Trig_Arrow_Move_Func002Func026Func004Func001Func007Func006C())then
set udg_QJ_AoERadius=LoadRealBJ(StringHashBJ("aoeradius"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
set udg_QJ_AoESFX=LoadStringBJ(StringHashBJ("aoesfx"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
else
set udg_QJ_AoERadius=150.00
endif
set udg_QJS_victimGroup=GetUnitsInRangeOfLocMatching(udg_QJ_AoERadius,udg_QJS_movePos,Condition(function Trig_Arrow_Move_Func002Func026Func004Func001Func007Func008002003))
call ForGroupBJ(udg_QJS_victimGroup,function Trig_Arrow_Move_Func002Func026Func004Func001Func007Func009A)
call SaveGroupHandleBJ(udg_QJS_DamagedGroup,StringHashBJ("dgroup"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
call DestroyGroup(udg_QJS_victimGroup)
else
endif
endif
else
call SetUnitPositionLocFacingBJ(GetEnumUnit(),udg_QJS_movePos,udg_QJS_Angle)
if(Trig_Arrow_Move_Func002Func026Func004Func005C())then
call SaveRealBJ((udg_QJS_Distance-udg_QJ_Speed),StringHashBJ("dist"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
else
endif
if(Trig_Arrow_Move_Func002Func026Func004Func008C())then
set udg_QJS_AttackType=udg_QJS_atkTypePreset[udg_QJ_attackTypeID]
set udg_QJS_DamageType=udg_QJS_dmgTypePreset[udg_QJ_damageTypeID]
if(Trig_Arrow_Move_Func002Func026Func004Func008Func006C())then
set udg_QJ_AoERadius=LoadRealBJ(StringHashBJ("aoeradius"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
set udg_QJ_AoESFX=LoadStringBJ(StringHashBJ("aoesfx"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
else
set udg_QJ_AoERadius=150.00
endif
set udg_QJS_victimGroup=GetUnitsInRangeOfLocMatching(udg_QJ_AoERadius,udg_QJS_movePos,Condition(function Trig_Arrow_Move_Func002Func026Func004Func008Func008002003))
call ForGroupBJ(udg_QJS_victimGroup,function Trig_Arrow_Move_Func002Func026Func004Func008Func009A)
call SaveGroupHandleBJ(udg_QJS_DamagedGroup,StringHashBJ("dgroup"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
call DestroyGroup(udg_QJS_victimGroup)
else
endif
endif
call RemoveLocation(udg_QJS_movePos)
else
if(Trig_Arrow_Move_Func002Func026Func010C())then
set udg_QJS_AttackType=udg_QJS_atkTypePreset[udg_QJ_attackTypeID]
set udg_QJS_DamageType=udg_QJS_dmgTypePreset[udg_QJ_damageTypeID]
set udg_QJS_arrowPos=GetUnitLoc(GetEnumUnit())
if(Trig_Arrow_Move_Func002Func026Func010Func012C())then
if(Trig_Arrow_Move_Func002Func026Func010Func012Func003C())then
set udg_QJ_AoERadius=LoadRealBJ(StringHashBJ("aoeradius"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
set udg_QJ_AoESFX=LoadStringBJ(StringHashBJ("aoesfx"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
call AddSpecialEffectLocBJ(udg_QJS_arrowPos,udg_QJ_AoESFX)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set udg_QJS_victimGroup=GetUnitsInRangeOfLocMatching(udg_QJ_AoERadius,udg_QJS_arrowPos,Condition(function Trig_Arrow_Move_Func002Func026Func010Func012Func003Func011002003))
call ForGroupBJ(udg_QJS_victimGroup,function Trig_Arrow_Move_Func002Func026Func010Func012Func003Func013A)
call DestroyGroup(udg_QJS_victimGroup)
else
set udg_QJS_victimGroup=GetUnitsInRangeOfLocMatching(150.00,udg_QJS_arrowPos,Condition(function Trig_Arrow_Move_Func002Func026Func010Func012Func003Func017002003))
if(Trig_Arrow_Move_Func002Func026Func010Func012Func003Func018C())then
call UnitDamageTargetBJ(udg_QJ_Caster,GroupPickRandomUnit(udg_QJS_victimGroup),udg_QJ_Damage,udg_QJS_AttackType,udg_QJS_DamageType)
else
endif
call DestroyGroup(udg_QJS_victimGroup)
endif
else
if(Trig_Arrow_Move_Func002Func026Func010Func012Func005C())then
set udg_QJ_AoERadius=LoadRealBJ(StringHashBJ("aoeradius"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
set udg_QJ_AoESFX=LoadStringBJ(StringHashBJ("aoesfx"),GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
call AddSpecialEffectLocBJ(udg_QJS_arrowPos,udg_QJ_AoESFX)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set udg_QJS_victimGroup=GetUnitsInRangeOfLocMatching(udg_QJ_AoERadius,udg_QJS_arrowPos,Condition(function Trig_Arrow_Move_Func002Func026Func010Func012Func005Func010002003))
call ForGroupBJ(udg_QJS_victimGroup,function Trig_Arrow_Move_Func002Func026Func010Func012Func005Func012A)
call DestroyGroup(udg_QJS_victimGroup)
else
set udg_QJS_victimGroup=GetUnitsInRangeOfLocMatching(150.00,udg_QJS_arrowPos,Condition(function Trig_Arrow_Move_Func002Func026Func010Func012Func005Func017002003))
if(Trig_Arrow_Move_Func002Func026Func010Func012Func005Func018C())then
call UnitDamageTargetBJ(udg_QJ_Caster,udg_QJ_TargetUnit,udg_QJ_Damage,udg_QJS_AttackType,udg_QJS_DamageType)
else
call CreateTextTagLocBJ("Miss!",udg_QJS_arrowPos,0,10,100,0.00,0.00,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),1.00)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.50)
endif
call DestroyGroup(udg_QJS_victimGroup)
endif
endif
else
call GroupClear(udg_QJS_DamagedGroup)
call DestroyGroup(udg_QJS_DamagedGroup)
endif
call RemoveLocation(udg_QJS_arrowPos)
call SetUnitPathing(GetEnumUnit(),true)
call KillUnit(GetEnumUnit())
call GroupRemoveUnitSimple(GetEnumUnit(),udg_QJS_arrowGroup)
if(Trig_Arrow_Move_Func002Func026Func019C())then
call DisableTrigger(GetTriggeringTrigger())
else
endif
call FlushChildHashtableBJ(GetHandleIdBJ(GetEnumUnit()),udg_QJS_arrowTable)
endif
call RemoveLocation(udg_QJS_tempPos)
endfunction
function Trig_Arrow_Move_Actions takes nothing returns nothing
call ForGroupBJ(udg_QJS_arrowGroup,function Trig_Arrow_Move_Func002A)
endfunction
function InitTrig_Arrow_Move takes nothing returns nothing
set udg_trg_Arrow_Move=CreateTrigger()
call DisableTrigger(udg_trg_Arrow_Move)
call TriggerRegisterTimerEventPeriodic(udg_trg_Arrow_Move,0.03)
call TriggerAddAction(udg_trg_Arrow_Move,function Trig_Arrow_Move_Actions)
endfunction
function Trig_Example_4_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A08W'))then
return false
endif
return true
endfunction
function Trig_Example_4_Actions takes nothing returns nothing
set udg_QJ_Caster=GetTriggerUnit()
set udg_QJ_attackTypeID=5
set udg_QJ_damageTypeID=21
set udg_QJ_Damage=(100.00+(50.00*I2R(GetUnitAbilityLevelSwapped('A08W',GetTriggerUnit()))))
set udg_QJ_Speed=20.00
set udg_QJ_Model='e00C'
set udg_QJ_Size=3.00
set udg_QJ_TargetUnit=null
set udg_QJ_TargetPoint=GetSpellTargetLoc()
set udg_QJ_Homing=false
set udg_QJ_Collision=false
set udg_QJ_Pierce=true
set udg_QJ_AoE=false
call TriggerExecute(udg_trg_Arrow_Create)
endfunction
function InitTrig_Example_4 takes nothing returns nothing
set udg_trg_Example_4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Example_4,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Example_4,Condition(function Trig_Example_4_Conditions))
call TriggerAddAction(udg_trg_Example_4,function Trig_Example_4_Actions)
endfunction
function Trig_Shadow_Side_Func005001 takes nothing returns boolean
return(IsUnitType(GetAttackedUnitBJ(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Shadow_Side_Func005002 takes nothing returns boolean
return(IsUnitType(GetAttackedUnitBJ(),UNIT_TYPE_SUMMONED)==false)
endfunction
function Trig_Shadow_Side_Conditions takes nothing returns boolean
if(not(UnitHasBuffBJ(GetAttacker(),'B01K')==true))then
return false
endif
if(not(IsUnitIllusionBJ(GetAttacker())==false))then
return false
endif
if(not GetBooleanAnd((IsUnitType(GetAttackedUnitBJ(),UNIT_TYPE_STRUCTURE)==false),(IsUnitType(GetAttackedUnitBJ(),UNIT_TYPE_SUMMONED)==false)))then
return false
endif
return true
endfunction
function Trig_Shadow_Side_Func002C takes nothing returns boolean
if(not(udg_SSChance[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]>=GetRandomInt(1,100)))then
return false
endif
if(not(IsUnitAliveBJ(GetAttackedUnitBJ())==true))then
return false
endif
if(not(GetUnitStateSwap(UNIT_STATE_LIFE,GetAttackedUnitBJ())>100.00))then
return false
endif
return true
endfunction
function Trig_Shadow_Side_Actions takes nothing returns nothing
set udg_SSChance[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=(GetUnitAbilityLevelSwapped('A0DS',GetAttacker())*4)
if(Trig_Shadow_Side_Func002C())then
set udg_SSPoint[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=GetUnitLoc(GetAttackedUnitBJ())
call CreateNUnitsAtLocBonuses(1,'h03E',GetOwningPlayer(GetAttacker()),udg_SSPoint[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
call UnitDamageTargetBJ(GetLastCreatedUnit(),GetAttackedUnitBJ(),(20.00*I2R(GetUnitAbilityLevelSwapped('A0DS',GetAttacker()))),ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call UnitAddAbilityBJ('AInv',GetLastCreatedUnit())
call UnitAddItemByIdSwapped('I032',GetLastCreatedUnit())
call UnitUseItemTarget(GetLastCreatedUnit(),GetLastCreatedItem(),GetAttackedUnitBJ())
call RemoveLocation(udg_SSPoint[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))])
else
endif
endfunction
function InitTrig_Shadow_Side takes nothing returns nothing
set udg_trg_Shadow_Side=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Shadow_Side,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(udg_trg_Shadow_Side,Condition(function Trig_Shadow_Side_Conditions))
call TriggerAddAction(udg_trg_Shadow_Side,function Trig_Shadow_Side_Actions)
endfunction
function Trig_PH_cast_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0DW'))then
return false
endif
return true
endfunction
function Trig_PH_cast_Func001C takes nothing returns boolean
if(not(udg_PH_Index[1]==0))then
return false
endif
return true
endfunction
function Trig_PH_cast_Actions takes nothing returns nothing
if(Trig_PH_cast_Func001C())then
call EnableTrigger(udg_trg_PH_Loop)
else
endif
set udg_PH_Index[1]=(udg_PH_Index[1]+1)
set udg_PH_Index[2]=(udg_PH_Index[2]+1)
set udg_PH_Caster[udg_PH_Index[2]]=GetTriggerUnit()
set udg_PH_Point1[udg_PH_Index[2]]=GetUnitLoc(udg_PH_Caster[udg_PH_Index[2]])
set udg_PH_Point2[udg_PH_Index[2]]=GetSpellTargetLoc()
call CreateNUnitsAtLocBonuses(1,'h05I',GetOwningPlayer(udg_PH_Caster[udg_PH_Index[2]]),udg_PH_Point1[udg_PH_Index[2]],GetUnitFacing(udg_PH_Caster[udg_PH_Index[2]]))
set udg_PH_Hook[udg_PH_Index[2]]=GetLastCreatedUnit()
set udg_PH_Point4[udg_PH_Index[2]]=GetUnitLoc(udg_PH_Hook[udg_PH_Index[2]])
call IssuePointOrderLocBJ(udg_PH_Hook[udg_PH_Index[2]],"move",udg_PH_Point2[udg_PH_Index[2]])
call AddLightningLoc("AFOD",udg_PH_Point1[udg_PH_Index[2]],udg_PH_Point4[udg_PH_Index[2]])
set udg_PH_lighting[udg_PH_Index[2]]=GetLastCreatedLightningBJ()
call SetLightningColorBJ(udg_PH_lighting[udg_PH_Index[2]],0.75,0.00,1,1)
call RemoveLocation(udg_PH_Point1[udg_PH_Index[2]])
call RemoveLocation(udg_PH_Point2[udg_PH_Index[2]])
call RemoveLocation(udg_PH_Point4[udg_PH_Index[2]])
endfunction
function InitTrig_PH_cast takes nothing returns nothing
set udg_trg_PH_cast=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_PH_cast,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_PH_cast,Condition(function Trig_PH_cast_Conditions))
call TriggerAddAction(udg_trg_PH_cast,function Trig_PH_cast_Actions)
endfunction
function Trig_PH_Loop_Func001Func001Func006Func007C takes nothing returns boolean
if(not(udg_PH_Index[1]==0))then
return false
endif
return true
endfunction
function Trig_PH_Loop_Func001Func001Func006Func012002003001 takes nothing returns boolean
return(IsUnitDeadBJ(GetFilterUnit())==false)
endfunction
function Trig_PH_Loop_Func001Func001Func006Func012002003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_PH_Hook[udg_PH_Index[3]]))==true)
endfunction
function Trig_PH_Loop_Func001Func001Func006Func012002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitDeadBJ(GetFilterUnit())==false),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_PH_Hook[udg_PH_Index[3]]))==true))
endfunction
function Trig_PH_Loop_Func001Func001Func006Func013Func016C takes nothing returns boolean
if(not(udg_PH_Index[1]==0))then
return false
endif
return true
endfunction
function Trig_PH_Loop_Func001Func001Func006Func013A takes nothing returns nothing
set udg_PH_Point5[udg_PH_Index[3]]=GetUnitLoc(GetEnumUnit())
call UnitDamageTargetBJ(udg_PH_Hook[udg_PH_Index[3]],GetEnumUnit(),(I2R(GetUnitAbilityLevelSwapped('A0DW',udg_PH_Caster[udg_PH_Index[3]]))*75.00),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call UnitApplyTimedLifeBJ(0.01,'BTLF',udg_PH_Hook[udg_PH_Index[3]])
call CreateNUnitsAtLocBonuses(1,'h05H',GetOwningPlayer(udg_PH_Hook[udg_PH_Index[3]]),udg_PH_Point1[udg_PH_Index[3]],bj_UNIT_FACING)
call UnitAddAbilityBJ('A0DV',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"invisibility",udg_PH_Caster[udg_PH_Index[3]])
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
call DestroyLightningBJ(udg_PH_lighting[udg_PH_Index[3]])
call CreateNUnitsAtLocBonuses(1,'h05J',GetOwningPlayer(udg_PH_Hook[udg_PH_Index[3]]),udg_PH_Point5[udg_PH_Index[3]],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(3.00,'BTLF',GetLastCreatedUnit())
call SetUnitExplodedBJ(GetLastCreatedUnit(),true)
set udg_PH_Index[1]=(udg_PH_Index[1]-1)
if(Trig_PH_Loop_Func001Func001Func006Func013Func016C())then
set udg_PH_Index[2]=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
call RemoveLocation(udg_PH_Point5[udg_PH_Index[3]])
endfunction
function Trig_PH_Loop_Func001Func001Func006C takes nothing returns boolean
if(not(DistanceBetweenPoints(udg_PH_Point4[udg_PH_Index[3]],udg_PH_Point3[udg_PH_Index[3]])>=50.00))then
return false
endif
return true
endfunction
function Trig_PH_Loop_Func001Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_PH_Hook[udg_PH_Index[3]])==true))then
return false
endif
return true
endfunction
function Trig_PH_Loop_Actions takes nothing returns nothing
set udg_PH_Index[3]=1
loop
exitwhen udg_PH_Index[3]>udg_PH_Index[2]
if(Trig_PH_Loop_Func001Func001C())then
set udg_PH_Point1[udg_PH_Index[3]]=GetUnitLoc(udg_PH_Caster[udg_PH_Index[3]])
set udg_PH_Point4[udg_PH_Index[3]]=GetUnitLoc(udg_PH_Hook[udg_PH_Index[3]])
set udg_PH_Point3[udg_PH_Index[3]]=PolarProjectionBJ(udg_PH_Point1[udg_PH_Index[3]],((I2R(GetUnitAbilityLevelSwapped('A0DW',udg_PH_Caster[udg_PH_Index[3]]))*300.00)+200.00),GetUnitFacing(udg_PH_Caster[udg_PH_Index[3]]))
if(Trig_PH_Loop_Func001Func001Func006C())then
set udg_PH_Point6[udg_PH_Index[3]]=PolarProjectionBJ(udg_PH_Point4[udg_PH_Index[3]],25.00,AngleBetweenPoints(udg_PH_Point4[udg_PH_Index[3]],udg_PH_Point3[udg_PH_Index[3]]))
call SetUnitPositionLoc(udg_PH_Hook[udg_PH_Index[3]],udg_PH_Point6[udg_PH_Index[3]])
call SetUnitFacingTimed(udg_PH_Hook[udg_PH_Index[3]],GetUnitFacing(udg_PH_Caster[udg_PH_Index[3]]),0)
call MoveLightningLoc(udg_PH_lighting[udg_PH_Index[3]],udg_PH_Point1[udg_PH_Index[3]],udg_PH_Point4[udg_PH_Index[3]])
set udg_PH_Group[udg_PH_Index[3]]=GetUnitsInRangeOfLocMatching(60.00,udg_PH_Point4[udg_PH_Index[3]],Condition(function Trig_PH_Loop_Func001Func001Func006Func012002003))
call ForGroupBJ(udg_PH_Group[udg_PH_Index[3]],function Trig_PH_Loop_Func001Func001Func006Func013A)
call RemoveLocation(udg_PH_Point6[udg_PH_Index[3]])
call DestroyGroup(udg_PH_Group[udg_PH_Index[3]])
else
call UnitApplyTimedLifeBJ(0.01,'BTLF',udg_PH_Hook[udg_PH_Index[3]])
call DestroyLightningBJ(udg_PH_lighting[udg_PH_Index[3]])
set udg_PH_Index[1]=(udg_PH_Index[1]-1)
if(Trig_PH_Loop_Func001Func001Func006Func007C())then
set udg_PH_Index[2]=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
endif
call RemoveLocation(udg_PH_Point1[udg_PH_Index[3]])
call RemoveLocation(udg_PH_Point4[udg_PH_Index[3]])
call RemoveLocation(udg_PH_Point3[udg_PH_Index[3]])
else
endif
set udg_PH_Index[3]=udg_PH_Index[3]+1
endloop
endfunction
function InitTrig_PH_Loop takes nothing returns nothing
set udg_trg_PH_Loop=CreateTrigger()
call DisableTrigger(udg_trg_PH_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_PH_Loop,0.02)
call TriggerAddAction(udg_trg_PH_Loop,function Trig_PH_Loop_Actions)
endfunction
function Trig_Priest_Heal_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A09L'))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I028')==true))then
return false
endif
return true
endfunction
function Trig_Priest_Heal_Func003C takes nothing returns boolean
if(not(udg_AAA_Heal_Chance==3))then
return false
endif
return true
endfunction
function Trig_Priest_Heal_Actions takes nothing returns nothing
set udg_AAAA_GP=GetUnitLoc(GetTriggerUnit())
set udg_AAA_Heal_Chance=GetRandomInt(1,4)
if(Trig_Priest_Heal_Func003C())then
call CreateNUnitsAtLocBonuses(1,'h05V',GetOwningPlayer(GetTriggerUnit()),udg_AAAA_GP,bj_UNIT_FACING)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"holybolt",GetSpellTargetUnit())
call UnitApplyTimedLifeBJ(3.00,'BTLF',GetLastCreatedUnit())
else
endif
call RemoveLocation(udg_AAAA_GP)
endfunction
function InitTrig_Priest_Heal takes nothing returns nothing
set udg_trg_Priest_Heal=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Priest_Heal,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Priest_Heal,Condition(function Trig_Priest_Heal_Conditions))
call TriggerAddAction(udg_trg_Priest_Heal,function Trig_Priest_Heal_Actions)
endfunction
function Trig_Paladin_Heal_Copy_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A033'))then
return false
endif
if(not(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I028')==true))then
return false
endif
return true
endfunction
function Trig_Paladin_Heal_Copy_Func003C takes nothing returns boolean
if(not(udg_AAA_Heal_Chance==3))then
return false
endif
return true
endfunction
function Trig_Paladin_Heal_Copy_Actions takes nothing returns nothing
set udg_AAAA_GP=GetUnitLoc(GetTriggerUnit())
set udg_AAA_Heal_Chance=GetRandomInt(1,4)
if(Trig_Paladin_Heal_Copy_Func003C())then
call CreateNUnitsAtLocBonuses(1,'h05U',GetOwningPlayer(GetTriggerUnit()),udg_AAAA_GP,bj_UNIT_FACING)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"holybolt",GetSpellTargetUnit())
call UnitApplyTimedLifeBJ(3.00,'BTLF',GetLastCreatedUnit())
else
endif
call RemoveLocation(udg_AAAA_GP)
endfunction
function InitTrig_Paladin_Heal_Copy takes nothing returns nothing
set udg_trg_Paladin_Heal_Copy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Paladin_Heal_Copy,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Paladin_Heal_Copy,Condition(function Trig_Paladin_Heal_Copy_Conditions))
call TriggerAddAction(udg_trg_Paladin_Heal_Copy,function Trig_Paladin_Heal_Copy_Actions)
endfunction
function Trig_Fury_Peak_Conditions takes nothing returns boolean
if(not(UnitHasBuffBJ(GetAttacker(),'B014')==true))then
return false
endif
if(not(IsUnitType(GetAttackedUnitBJ(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if(not(IsUnitType(GetAttackedUnitBJ(),UNIT_TYPE_MAGIC_IMMUNE)==false))then
return false
endif
if(not(IsUnitEnemy(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker()))==true))then
return false
endif
return true
endfunction
function Trig_Fury_Peak_Actions takes nothing returns nothing
set udg_FP_Point=GetUnitLoc(GetAttackedUnitBJ())
call CreateNUnitsAtLocBonuses(1,'h03L',GetOwningPlayer(GetAttacker()),udg_FP_Point,bj_UNIT_FACING)
call UnitAddAbilityBJ('A0AJ',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"creepthunderbolt",GetAttackedUnitBJ())
call UnitApplyTimedLifeBJ(1.50,'BTLF',GetLastCreatedUnit())
call UnitDamageTargetBJ(GetAttacker(),GetAttackedUnitBJ(),(GetUnitMoveSpeed(GetAttacker())*(0.10*I2R(GetUnitAbilityLevelSwapped('A0AO',GetAttacker())))),ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call CreateTextTagUnitBJ(("|c00C80000"+I2S(R2I((GetUnitMoveSpeed(GetAttacker())*(0.10*I2R(GetUnitAbilityLevelSwapped('A0AO',GetAttacker()))))))),GetAttackedUnitBJ(),0,10,100,100,100,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),0.75)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),1.50)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call AddSpecialEffectTargetUnitBJ("chest",GetAttackedUnitBJ(),"Abilities\\Weapons\\RedDragonBreath\\RedDragonMissile.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_FP_Point)
endfunction
function InitTrig_Fury_Peak takes nothing returns nothing
set udg_trg_Fury_Peak=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Fury_Peak,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(udg_trg_Fury_Peak,Condition(function Trig_Fury_Peak_Conditions))
call TriggerAddAction(udg_trg_Fury_Peak,function Trig_Fury_Peak_Actions)
endfunction
function Trig_Meat_Grinder_A_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0AM'))then
return false
endif
return true
endfunction
function Trig_Meat_Grinder_A_Func001C takes nothing returns boolean
if(not(udg_MG_Switch==0))then
return false
endif
return true
endfunction
function Trig_Meat_Grinder_A_Actions takes nothing returns nothing
if(Trig_Meat_Grinder_A_Func001C())then
call EnableTrigger(udg_trg_Meat_Grinder_B)
else
endif
set udg_MG_Switch=(udg_MG_Switch+1)
set udg_MG_CastNumber=(udg_MG_CastNumber+1)
set udg_MG_Off[udg_MG_CastNumber]=true
set udg_MG_Caster[udg_MG_CastNumber]=GetSpellAbilityUnit()
set udg_MG_Time[udg_MG_CastNumber]=0.00
set udg_MG_Count[udg_MG_CastNumber]=25
endfunction
function InitTrig_Meat_Grinder_A takes nothing returns nothing
set udg_trg_Meat_Grinder_A=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Meat_Grinder_A,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Meat_Grinder_A,Condition(function Trig_Meat_Grinder_A_Conditions))
call TriggerAddAction(udg_trg_Meat_Grinder_A,function Trig_Meat_Grinder_A_Actions)
endfunction
function Trig_Meat_Grinder_B_Func001Func001Func002C takes nothing returns boolean
if(not(udg_MG_Count[udg_MG]>=25))then
return false
endif
return true
endfunction
function Trig_Meat_Grinder_B_Func001Func001Func003Func003C takes nothing returns boolean
if(not(udg_MG_Switch==0))then
return false
endif
return true
endfunction
function Trig_Meat_Grinder_B_Func001Func001Func003C takes nothing returns boolean
if(not(udg_MG_Time[udg_MG]>=5.00))then
return false
endif
return true
endfunction
function Trig_Meat_Grinder_B_Func001Func001C takes nothing returns boolean
if(not(udg_MG_Off[udg_MG]==true))then
return false
endif
return true
endfunction
function Trig_Meat_Grinder_B_Actions takes nothing returns nothing
set udg_MG=1
loop
exitwhen udg_MG>udg_MG_CastNumber
if(Trig_Meat_Grinder_B_Func001Func001C())then
set udg_MG_Time[udg_MG]=(udg_MG_Time[udg_MG]+0.04)
if(Trig_Meat_Grinder_B_Func001Func001Func002C())then
set udg_MG_Count[udg_MG]=0
set udg_MG_Point=GetUnitLoc(udg_MG_Caster[udg_MG])
call CreateNUnitsAtLocBonuses(1,'h03K',GetOwningPlayer(udg_MG_Caster[udg_MG]),udg_MG_Point,GetUnitFacing(udg_MG_Caster[udg_MG]))
call UnitAddAbilityBJ('A0AI',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0AI',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A0AM',udg_MG_Caster[udg_MG]))
call IssueImmediateOrderBJ(GetLastCreatedUnit(),"whirlwind")
call SetUnitExplodedBJ(GetLastCreatedUnit(),true)
call UnitApplyTimedLifeBJ(1.50,'BTLF',GetLastCreatedUnit())
call SetUnitVertexColorBJ(GetLastCreatedUnit(),100,100,100,50.00)
call AddSpecialEffectLocBJ(udg_MG_Point,"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_MG_Point)
else
set udg_MG_Count[udg_MG]=(udg_MG_Count[udg_MG]+1)
endif
if(Trig_Meat_Grinder_B_Func001Func001Func003C())then
set udg_MG_Off[udg_MG]=false
set udg_MG_Switch=(udg_MG_Switch-1)
if(Trig_Meat_Grinder_B_Func001Func001Func003Func003C())then
set udg_MG_CastNumber=0
call DisableTrigger(udg_trg_Meat_Grinder_B)
else
endif
else
endif
else
endif
set udg_MG=udg_MG+1
endloop
endfunction
function InitTrig_Meat_Grinder_B takes nothing returns nothing
set udg_trg_Meat_Grinder_B=CreateTrigger()
call DisableTrigger(udg_trg_Meat_Grinder_B)
call TriggerRegisterTimerEventPeriodic(udg_trg_Meat_Grinder_B,0.04)
call TriggerAddAction(udg_trg_Meat_Grinder_B,function Trig_Meat_Grinder_B_Actions)
endfunction
function Trig_Wind_Storm_A_Func003Func002C takes nothing returns boolean
if((GetSpellAbilityId()=='A0AO'))then
return true
endif
if((GetSpellAbilityId()=='AUim'))then
return true
endif
if((GetSpellAbilityId()=='A0AM'))then
return true
endif
if((GetSpellAbilityId()=='A07Z'))then
return true
endif
if((GetSpellAbilityId()=='A0AH'))then
return true
endif
return false
endfunction
function Trig_Wind_Storm_A_Func003C takes nothing returns boolean
if(not(GetUnitAbilityLevelSwapped('A0AN',GetSpellAbilityUnit())>0))then
return false
endif
if(not Trig_Wind_Storm_A_Func003Func002C())then
return false
endif
return true
endfunction
function Trig_Wind_Storm_A_Conditions takes nothing returns boolean
if(not Trig_Wind_Storm_A_Func003C())then
return false
endif
return true
endfunction
function Trig_Wind_Storm_A_Func002Func001C takes nothing returns boolean
if(not(udg_WS_Switch==0))then
return false
endif
return true
endfunction
function Trig_Wind_Storm_A_Func002C takes nothing returns boolean
if(not(udg_WS_Chance==1))then
return false
endif
return true
endfunction
function Trig_Wind_Storm_A_Actions takes nothing returns nothing
set udg_WS_Chance=GetRandomInt(1,2)
if(Trig_Wind_Storm_A_Func002C())then
if(Trig_Wind_Storm_A_Func002Func001C())then
call EnableTrigger(udg_trg_Wind_Storm_B)
else
endif
set udg_WS_CastNumber=(udg_WS_CastNumber+1)
set udg_WS_Switch=(udg_WS_Switch+1)
set udg_WS_Off[udg_WS_CastNumber]=true
set udg_WS_Caster[udg_WS_CastNumber]=GetSpellAbilityUnit()
set udg_WS_Point[0]=GetUnitLoc(udg_WS_Caster[udg_WS_CastNumber])
call CreateNUnitsAtLocBonuses(1,'h03K',GetOwningPlayer(udg_WS_Caster[udg_WS_CastNumber]),udg_WS_Point[0],bj_UNIT_FACING)
set udg_WS_Effect1[udg_WS_CastNumber]=GetLastCreatedUnit()
call UnitAddAbilityBJ('A0AK',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0AK',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A0AN',udg_WS_Caster[udg_WS_CastNumber]))
call SetUnitAnimation(GetLastCreatedUnit(),"spin")
call CreateNUnitsAtLocBonuses(1,'h03K',GetOwningPlayer(udg_WS_Caster[udg_WS_CastNumber]),udg_WS_Point[0],bj_UNIT_FACING)
set udg_WS_Effect2[udg_WS_CastNumber]=GetLastCreatedUnit()
call UnitAddAbilityBJ('A0AK',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0AK',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A0AN',udg_WS_Caster[udg_WS_CastNumber]))
call SetUnitAnimation(GetLastCreatedUnit(),"spin")
call CreateNUnitsAtLocBonuses(1,'h03K',GetOwningPlayer(udg_WS_Caster[udg_WS_CastNumber]),udg_WS_Point[0],bj_UNIT_FACING)
set udg_WS_Effect3[udg_WS_CastNumber]=GetLastCreatedUnit()
call UnitAddAbilityBJ('A0AK',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0AK',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A0AN',udg_WS_Caster[udg_WS_CastNumber]))
call SetUnitAnimation(GetLastCreatedUnit(),"spin")
set udg_WS_Point[1]=PolarProjectionBJ(udg_WS_Point[0],600.00,0)
set udg_WS_Angle[udg_WS_CastNumber]=AngleBetweenPoints(udg_WS_Point[0],udg_WS_Point[1])
set udg_WS_Distance[udg_WS_CastNumber]=0.00
set udg_WS_Speed[udg_WS_CastNumber]=10.00
call CreateNUnitsAtLocBonuses(1,'h03L',GetOwningPlayer(udg_WS_Caster[udg_WS_CastNumber]),udg_WS_Point[0],bj_UNIT_FACING)
set udg_WS_Dummie[udg_WS_CastNumber]=GetLastCreatedUnit()
call RemoveLocation(udg_WS_Point[0])
call RemoveLocation(udg_WS_Point[1])
else
endif
endfunction
function InitTrig_Wind_Storm_A takes nothing returns nothing
set udg_trg_Wind_Storm_A=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Wind_Storm_A,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Wind_Storm_A,Condition(function Trig_Wind_Storm_A_Conditions))
call TriggerAddAction(udg_trg_Wind_Storm_A,function Trig_Wind_Storm_A_Actions)
endfunction
function Trig_Wind_Storm_B_Func001Func001Func010Func007C takes nothing returns boolean
if(not(udg_WS_Switch==0))then
return false
endif
return true
endfunction
function Trig_Wind_Storm_B_Func001Func001Func010C takes nothing returns boolean
if(not(udg_WS_Distance[udg_WS]>=400.00))then
return false
endif
return true
endfunction
function Trig_Wind_Storm_B_Func001Func001C takes nothing returns boolean
if(not(udg_WS_Off[udg_WS]==true))then
return false
endif
return true
endfunction
function Trig_Wind_Storm_B_Actions takes nothing returns nothing
set udg_WS=1
loop
exitwhen udg_WS>udg_WS_CastNumber
if(Trig_Wind_Storm_B_Func001Func001C())then
set udg_WS_Distance[udg_WS]=(udg_WS_Distance[udg_WS]+udg_WS_Speed[udg_WS])
set udg_WS_Angle[udg_WS]=(udg_WS_Angle[udg_WS]+12.50)
set udg_WS_Point[3]=GetUnitLoc(udg_WS_Dummie[udg_WS])
set udg_WS_Point[4]=PolarProjectionBJ(udg_WS_Point[3],udg_WS_Distance[udg_WS],(udg_WS_Angle[udg_WS]+0.00))
set udg_WS_Point[5]=PolarProjectionBJ(udg_WS_Point[3],udg_WS_Distance[udg_WS],(udg_WS_Angle[udg_WS]+120.00))
set udg_WS_Point[6]=PolarProjectionBJ(udg_WS_Point[3],udg_WS_Distance[udg_WS],(udg_WS_Angle[udg_WS]+240.00))
call SetUnitPositionLoc(udg_WS_Effect1[udg_WS],udg_WS_Point[4])
call SetUnitPositionLoc(udg_WS_Effect2[udg_WS],udg_WS_Point[5])
call SetUnitPositionLoc(udg_WS_Effect3[udg_WS],udg_WS_Point[6])
if(Trig_Wind_Storm_B_Func001Func001Func010C())then
set udg_WS_Off[udg_WS]=false
set udg_WS_Switch=(udg_WS_Switch-1)
call ExplodeUnitBJ(udg_WS_Effect1[udg_WS])
call ExplodeUnitBJ(udg_WS_Effect2[udg_WS])
call ExplodeUnitBJ(udg_WS_Effect3[udg_WS])
call ExplodeUnitBJ(udg_WS_Dummie[udg_WS])
if(Trig_Wind_Storm_B_Func001Func001Func010Func007C())then
set udg_WS_CastNumber=0
call DisableTrigger(udg_trg_Wind_Storm_B)
else
endif
else
endif
call RemoveLocation(udg_WS_Point[3])
call RemoveLocation(udg_WS_Point[4])
call RemoveLocation(udg_WS_Point[5])
call RemoveLocation(udg_WS_Point[6])
else
endif
set udg_WS=udg_WS+1
endloop
endfunction
function InitTrig_Wind_Storm_B takes nothing returns nothing
set udg_trg_Wind_Storm_B=CreateTrigger()
call DisableTrigger(udg_trg_Wind_Storm_B)
call TriggerRegisterTimerEventPeriodic(udg_trg_Wind_Storm_B,0.02)
call TriggerAddAction(udg_trg_Wind_Storm_B,function Trig_Wind_Storm_B_Actions)
endfunction
function Trig_Omnislash_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0AH'))then
return false
endif
return true
endfunction
function Trig_Omnislash_Func004C takes nothing returns boolean
if(not(udg_CL_Index[1]==0))then
return false
endif
return true
endfunction
function Trig_Omnislash_Actions takes nothing returns nothing
if(Trig_Omnislash_Func004C())then
call EnableTrigger(udg_trg_Omnislash_Loop)
else
endif
set udg_CL_Index[1]=(udg_CL_Index[1]+1)
set udg_CL_Index[2]=(udg_CL_Index[2]+1)
set udg_CL_Caster[udg_CL_Index[2]]=GetTriggerUnit()
set udg_CL_Player[udg_CL_Index[2]]=GetOwningPlayer(GetTriggerUnit())
set udg_CL_Target[udg_CL_Index[2]]=GetSpellTargetUnit()
set udg_CL_AbilityLevel[udg_CL_Index[2]]=GetUnitAbilityLevelSwapped('A0AH',udg_CL_Caster[udg_CL_Index[2]])
set udg_CL_Boolean[udg_CL_Index[2]]=true
set udg_CL_Slashes[udg_CL_Index[2]]=(2+(3*udg_CL_AbilityLevel[udg_CL_Index[2]]))
set udg_CL_Damage[udg_CL_Index[2]]=(45+(5*udg_CL_AbilityLevel[udg_CL_Index[2]]))
set udg_CL_AOE[udg_CL_Index[2]]=625.00
call AddSpecialEffectTargetUnitBJ("weapon",udg_CL_Caster[udg_CL_Index[2]],"Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl")
set udg_CL_Special[udg_CL_Index[2]]=GetLastCreatedEffectBJ()
endfunction
function InitTrig_Omnislash takes nothing returns nothing
set udg_trg_Omnislash=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Omnislash,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Omnislash,Condition(function Trig_Omnislash_Conditions))
call TriggerAddAction(udg_trg_Omnislash,function Trig_Omnislash_Actions)
endfunction
function Trig_Omnislash_Condition takes nothing returns boolean
return (GetWidgetLife(GetFilterUnit())>0.5) and(IsUnitEnemy(GetFilterUnit(),udg_CL_Player[udg_CL_Index[3]])==true)
endfunction
function Trig_Omnislash_Loop_Func002Func002Func021Func018C takes nothing returns boolean
if(not(udg_CL_Index[1]==0))then
return false
endif
return true
endfunction
function Trig_Omnislash_Loop_Func002Func002Func021C takes nothing returns boolean
if(not(udg_CL_Slashes[udg_CL_Index[3]]>0))then
return false
endif
if(not(CountUnitsInGroup(udg_CL_Group[1])>0))then
return false
endif
return true
endfunction
function Trig_Omnislash_Loop_Func002Func002C takes nothing returns boolean
if(not(udg_CL_Boolean[udg_CL_Index[3]]==true))then
return false
endif
return true
endfunction
function Trig_Omnislash_Loop_Actions takes nothing returns nothing
set udg_CL_Index[3]=1
loop
exitwhen udg_CL_Index[3]>udg_CL_Index[2]
if(Trig_Omnislash_Loop_Func002Func002C())then
set udg_CL_Slashes[udg_CL_Index[3]]=(udg_CL_Slashes[udg_CL_Index[3]]-1)
set udg_CL_Loc[1]=GetUnitLoc(udg_CL_Target[udg_CL_Index[3]])
set udg_CL_Group[1]=GetUnitsInRangeOfLocMatching(udg_CL_AOE[udg_CL_Index[3]],udg_CL_Loc[1],Condition(function Trig_Omnislash_Condition))
call RemoveLocation(udg_CL_Loc[1])
if(Trig_Omnislash_Loop_Func002Func002Func021C())then
set udg_CL_Victim[udg_CL_Index[3]]=GroupPickRandomUnit(udg_CL_Group[1])
set udg_CL_Loc[2]=GetUnitLoc(udg_CL_Victim[udg_CL_Index[3]])
call SetUnitPositionLoc(udg_CL_Caster[udg_CL_Index[3]],udg_CL_Loc[2])
call SetUnitFacingToFaceLocTimed(udg_CL_Caster[udg_CL_Index[3]],udg_CL_Loc[2],0)
call UnitDamageTargetBJ(udg_CL_Caster[udg_CL_Index[3]],udg_CL_Victim[udg_CL_Index[3]],I2R(udg_CL_Damage[udg_CL_Index[3]])+GetUnitAttackDamage(udg_CL_Caster[udg_CL_Index[3]]),ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL)
call SetUnitAnimation(udg_CL_Caster[udg_CL_Index[3]],"attack")
call AddSpecialEffectTargetUnitBJ("origin",udg_CL_Caster[udg_CL_Index[3]],"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_CL_Loc[2])
else
set udg_CL_Index[1]=(udg_CL_Index[1]-1)
set udg_CL_Boolean[udg_CL_Index[3]]=false
call DestroyEffectBJ(udg_CL_Special[udg_CL_Index[3]])
if(Trig_Omnislash_Loop_Func002Func002Func021Func018C())then
set udg_CL_Index[2]=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
endif
call DestroyGroup(udg_CL_Group[1])
else
endif
set udg_CL_Index[3]=udg_CL_Index[3]+1
endloop
endfunction
function InitTrig_Omnislash_Loop takes nothing returns nothing
set udg_trg_Omnislash_Loop=CreateTrigger()
call DisableTrigger(udg_trg_Omnislash_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_Omnislash_Loop,0.30)
call TriggerAddAction(udg_trg_Omnislash_Loop,function Trig_Omnislash_Loop_Actions)
endfunction
function Trig_Cast_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A09X'))then
return false
endif
return true
endfunction
function Trig_Cast_Actions takes nothing returns nothing
set udg_OWL_MBLevel_OwlLevel=2
set udg_OWL_MB_Level_X_INT=15
set udg_OWL_AOE=650.00
set udg_OWL_DurationBase=8
set udg_OWL_DurationPerLevel=2
set udg_OWL_Speed=10.00
set udg_OWL_ManaBurnPeriod=300
set udg_OWL_CastCountInt=(udg_OWL_CastCountInt+1)
set udg_OWL_Caster[udg_OWL_CastCountInt]=GetTriggerUnit()
set udg_OWL_TargetPoint[udg_OWL_CastCountInt]=GetSpellTargetLoc()
set udg_OWL_CasterPoint=GetUnitLoc(GetTriggerUnit())
set udg_OWL_Distance[udg_OWL_CastCountInt]=DistanceBetweenPoints(udg_OWL_CasterPoint,udg_OWL_TargetPoint[udg_OWL_CastCountInt])
call CreateNUnitsAtLocBonuses(1,'n04M',GetTriggerPlayer(),udg_OWL_CasterPoint,GetUnitFacing(GetTriggerUnit()))
set udg_OWL_Dummy[udg_OWL_CastCountInt]=GetLastCreatedUnit()
call SetUnitAnimation(udg_OWL_Dummy[udg_OWL_CastCountInt],"birth")
call GroupAddUnitSimple(udg_OWL_Dummy[udg_OWL_CastCountInt],udg_OWL_UnitGroup)
call GroupAddUnitSimple(udg_OWL_Dummy[udg_OWL_CastCountInt],udg_OWL_UnitGroup3)
call RemoveLocation(udg_OWL_CasterPoint)
call EnableTrigger(udg_trg_Loop_v101)
endfunction
function InitTrig_Cast takes nothing returns nothing
set udg_trg_Cast=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Cast,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Cast,Condition(function Trig_Cast_Conditions))
call TriggerAddAction(udg_trg_Cast,function Trig_Cast_Actions)
endfunction
function Trig_Loop_v101_Func001Func001Func001C takes nothing returns boolean
if(not(IsUnitInGroup(udg_OWL_Dummy[udg_OWL_LoopInt],udg_OWL_UnitGroup)==true))then
return false
endif
return true
endfunction
function Trig_Loop_v101_Func001Func001Func002C takes nothing returns boolean
if(not(IsUnitInGroup(udg_OWL_Dummy[udg_OWL_LoopInt],udg_OWL_UnitGroup)==true))then
return false
endif
if(not(R2I(udg_OWL_Distance[udg_OWL_LoopInt])<=1))then
return false
endif
return true
endfunction
function Trig_Loop_v101_Func001C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_OWL_UnitGroup)!=0))then
return false
endif
return true
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func001Func003003001003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func001Func003003001003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func001Func003003001003002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func001Func003003001003002002002001 takes nothing returns boolean
return(IsPlayerEnemy(GetOwningPlayer(udg_OWL_Dummy[udg_OWL_CastCountInt]),GetOwningPlayer(GetFilterUnit()))==true)
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func001Func003003001003002002002002 takes nothing returns boolean
return(R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetFilterUnit()))>0)
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func001Func003003001003002002002 takes nothing returns boolean
return GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_OWL_Dummy[udg_OWL_CastCountInt]),GetOwningPlayer(GetFilterUnit()))==true),(R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetFilterUnit()))>0))
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func001Func003003001003002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_OWL_Dummy[udg_OWL_CastCountInt]),GetOwningPlayer(GetFilterUnit()))==true),(R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetFilterUnit()))>0))))
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func001Func003003001003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_OWL_Dummy[udg_OWL_CastCountInt]),GetOwningPlayer(GetFilterUnit()))==true),(R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetFilterUnit()))>0))))))
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func001Func003003001003 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_OWL_Dummy[udg_OWL_CastCountInt]),GetOwningPlayer(GetFilterUnit()))==true),(R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetFilterUnit()))>0))))))))
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func001Func008003001003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func001Func008003001003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func001Func008003001003002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func001Func008003001003002002002001 takes nothing returns boolean
return(IsPlayerEnemy(GetOwningPlayer(udg_OWL_Dummy[udg_OWL_LoopInt2]),GetOwningPlayer(GetFilterUnit()))==true)
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func001Func008003001003002002002002 takes nothing returns boolean
return(R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetFilterUnit()))>0)
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func001Func008003001003002002002 takes nothing returns boolean
return GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_OWL_Dummy[udg_OWL_LoopInt2]),GetOwningPlayer(GetFilterUnit()))==true),(R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetFilterUnit()))>0))
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func001Func008003001003002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_OWL_Dummy[udg_OWL_LoopInt2]),GetOwningPlayer(GetFilterUnit()))==true),(R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetFilterUnit()))>0))))
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func001Func008003001003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_OWL_Dummy[udg_OWL_LoopInt2]),GetOwningPlayer(GetFilterUnit()))==true),(R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetFilterUnit()))>0))))))
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func001Func008003001003 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_OWL_Dummy[udg_OWL_LoopInt2]),GetOwningPlayer(GetFilterUnit()))==true),(R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetFilterUnit()))>0))))))))
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func001C takes nothing returns boolean
if(not(IsUnitInGroup(udg_OWL_Dummy[udg_OWL_LoopInt2],udg_OWL_UnitGroup3)==true))then
return false
endif
return true
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func002C takes nothing returns boolean
if(not(udg_OWL_ManaBurnCastCount[udg_OWL_LoopInt2]==udg_OWL_ManaBurnCastMax[udg_OWL_LoopInt2]))then
return false
endif
return true
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func008003001003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func008003001003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func008003001003002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func008003001003002002002001 takes nothing returns boolean
return(IsPlayerEnemy(GetOwningPlayer(udg_OWL_Dummy[udg_OWL_LoopInt2]),GetOwningPlayer(GetFilterUnit()))==true)
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func008003001003002002002002 takes nothing returns boolean
return(R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetFilterUnit()))>0)
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func008003001003002002002 takes nothing returns boolean
return GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_OWL_Dummy[udg_OWL_LoopInt2]),GetOwningPlayer(GetFilterUnit()))==true),(R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetFilterUnit()))>0))
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func008003001003002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_OWL_Dummy[udg_OWL_LoopInt2]),GetOwningPlayer(GetFilterUnit()))==true),(R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetFilterUnit()))>0))))
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func008003001003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_OWL_Dummy[udg_OWL_LoopInt2]),GetOwningPlayer(GetFilterUnit()))==true),(R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetFilterUnit()))>0))))))
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func008003001003 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_OWL_Dummy[udg_OWL_LoopInt2]),GetOwningPlayer(GetFilterUnit()))==true),(R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetFilterUnit()))>0))))))))
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func016003001003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func016003001003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func016003001003002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func016003001003002002002001 takes nothing returns boolean
return(IsPlayerEnemy(GetOwningPlayer(udg_OWL_Dummy[udg_OWL_LoopInt2]),GetOwningPlayer(GetFilterUnit()))==true)
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func016003001003002002002002 takes nothing returns boolean
return(R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetFilterUnit()))>0)
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func016003001003002002002 takes nothing returns boolean
return GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_OWL_Dummy[udg_OWL_LoopInt2]),GetOwningPlayer(GetFilterUnit()))==true),(R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetFilterUnit()))>0))
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func016003001003002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_OWL_Dummy[udg_OWL_LoopInt2]),GetOwningPlayer(GetFilterUnit()))==true),(R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetFilterUnit()))>0))))
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func016003001003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_OWL_Dummy[udg_OWL_LoopInt2]),GetOwningPlayer(GetFilterUnit()))==true),(R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetFilterUnit()))>0))))))
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002Func016003001003 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_OWL_Dummy[udg_OWL_LoopInt2]),GetOwningPlayer(GetFilterUnit()))==true),(R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetFilterUnit()))>0))))))))
endfunction
function Trig_Loop_v101_Func003Func002Func001Func002C takes nothing returns boolean
if(not(IsUnitInGroup(udg_OWL_Dummy[udg_OWL_LoopInt2],udg_OWL_UnitGroup2)==true))then
return false
endif
return true
endfunction
function Trig_Loop_v101_Func003Func002Func001C takes nothing returns boolean
if(not(udg_OWL_Boolean[udg_OWL_LoopInt2]==true))then
return false
endif
if(not(IsUnitInGroup(udg_OWL_Dummy[udg_OWL_LoopInt2],udg_OWL_UnitGroup)==false))then
return false
endif
return true
endfunction
function Trig_Loop_v101_Func003C takes nothing returns boolean
if(not(udg_OWL_Timing==udg_OWL_ManaBurnPeriod))then
return false
endif
return true
endfunction
function Trig_Loop_v101_Func004C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_OWL_UnitGroup3)==0))then
return false
endif
if(not(CountUnitsInGroup(udg_OWL_UnitGroup)==0))then
return false
endif
return true
endfunction
function Trig_Loop_v101_Actions takes nothing returns nothing
if(Trig_Loop_v101_Func001C())then
set udg_OWL_LoopInt=1
loop
exitwhen udg_OWL_LoopInt>udg_OWL_CastCountInt
if(Trig_Loop_v101_Func001Func001Func001C())then
set udg_OWL_TempPoint=GetUnitLoc(udg_OWL_Dummy[udg_OWL_LoopInt])
set udg_OWL_MovePoint=PolarProjectionBJ(udg_OWL_TempPoint,udg_OWL_Speed,GetUnitFacing(udg_OWL_Dummy[udg_OWL_LoopInt]))
set udg_OWL_Distance[udg_OWL_LoopInt]=(udg_OWL_Distance[udg_OWL_LoopInt]-udg_OWL_Speed)
call SetUnitPositionLocFacingLocBJ(udg_OWL_Dummy[udg_OWL_LoopInt],udg_OWL_MovePoint,udg_OWL_TargetPoint[udg_OWL_LoopInt])
call RemoveLocation(udg_OWL_TempPoint)
call RemoveLocation(udg_OWL_MovePoint)
else
endif
if(Trig_Loop_v101_Func001Func001Func002C())then
set udg_OWL_ManaBurnCastCount[udg_OWL_LoopInt]=0
call GroupRemoveUnitSimple(udg_OWL_Dummy[udg_OWL_LoopInt],udg_OWL_UnitGroup)
call GroupAddUnitSimple(udg_OWL_Dummy[udg_OWL_LoopInt],udg_OWL_UnitGroup2)
set udg_OWL_Point2=GetUnitLoc(udg_OWL_Dummy[udg_OWL_LoopInt])
call AddSpecialEffectLocBJ(udg_OWL_Point2,"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_OWL_Point2)
call RemoveLocation(udg_OWL_TargetPoint[udg_OWL_LoopInt])
set udg_OWL_Boolean[udg_OWL_LoopInt]=true
else
endif
set udg_OWL_LoopInt=udg_OWL_LoopInt+1
endloop
else
endif
set udg_OWL_Timing=(udg_OWL_Timing+10)
if(Trig_Loop_v101_Func003C())then
set udg_OWL_Timing=0
set udg_OWL_LoopInt2=1
loop
exitwhen udg_OWL_LoopInt2>udg_OWL_CastCountInt
if(Trig_Loop_v101_Func003Func002Func001C())then
if(Trig_Loop_v101_Func003Func002Func001Func002C())then
set udg_OWL_Point2=GetUnitLoc(udg_OWL_Dummy[udg_OWL_LoopInt2])
call GroupRemoveUnitSimple(udg_OWL_Dummy[udg_OWL_LoopInt2],udg_OWL_UnitGroup2)
call UnitAddAbilityBJ('A0EC',udg_OWL_Dummy[udg_OWL_LoopInt2])
call SetUnitAbilityLevelSwapped('A0EC',udg_OWL_Dummy[udg_OWL_LoopInt2],((GetHeroStatBJ(bj_HEROSTAT_INT,udg_OWL_Caster[udg_OWL_LoopInt2],true)/ udg_OWL_MB_Level_X_INT)+(0+(GetUnitAbilityLevelSwapped('A000',udg_OWL_Caster[udg_OWL_LoopInt2])*udg_OWL_MBLevel_OwlLevel))))
set bj_wantDestroyGroup=true
call IssueTargetOrderBJ(udg_OWL_Dummy[udg_OWL_LoopInt2],"manaburn",GroupPickRandomUnit(GetUnitsInRangeOfLocMatching(udg_OWL_AOE,udg_OWL_Point2,Condition(function Trig_Loop_v101_Func003Func002Func001Func002Func008003001003))))
call SetUnitAnimation(udg_OWL_Dummy[udg_OWL_LoopInt2],"walk")
set udg_OWL_ManaBurnCastMax[udg_OWL_LoopInt2]=(udg_OWL_DurationBase+(udg_OWL_DurationPerLevel*GetUnitAbilityLevelSwapped('A0EC',udg_OWL_Caster[udg_OWL_LoopInt2])))
set udg_OWL_ManaBurnCastCount[udg_OWL_LoopInt2]=(udg_OWL_ManaBurnCastCount[udg_OWL_LoopInt2]+1)
call CreateNUnitsAtLocBonuses(1,'n04L',GetOwningPlayer(udg_OWL_Dummy[udg_OWL_LoopInt2]),udg_OWL_Point2,bj_UNIT_FACING)
call UnitAddAbilityBJ('A0EC',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0EC',GetLastCreatedUnit(),((GetHeroStatBJ(bj_HEROSTAT_INT,udg_OWL_Caster[udg_OWL_LoopInt2],true)/ udg_OWL_MB_Level_X_INT)+(0+(GetUnitAbilityLevelSwapped('A000',udg_OWL_Caster[udg_OWL_LoopInt2])*udg_OWL_MBLevel_OwlLevel))))
set bj_wantDestroyGroup=true
call IssueTargetOrderBJ(GetLastCreatedUnit(),"manaburn",GroupPickRandomUnit(GetUnitsInRangeOfLocMatching(udg_OWL_AOE,udg_OWL_Point2,Condition(function Trig_Loop_v101_Func003Func002Func001Func002Func016003001003))))
call UnitApplyTimedLifeBJ(1.30,'BTLF',GetLastCreatedUnit())
call RemoveLocation(udg_OWL_Point2)
else
if(Trig_Loop_v101_Func003Func002Func001Func002Func001C())then
set udg_OWL_Point2=GetUnitLoc(udg_OWL_Dummy[udg_OWL_LoopInt2])
set bj_wantDestroyGroup=true
call IssueTargetOrderBJ(udg_OWL_Dummy[udg_OWL_LoopInt2],"manaburn",GroupPickRandomUnit(GetUnitsInRangeOfLocMatching(udg_OWL_AOE,udg_OWL_Point2,Condition(function Trig_Loop_v101_Func003Func002Func001Func002Func001Func003003001003))))
call CreateNUnitsAtLocBonuses(1,'n04L',GetOwningPlayer(udg_OWL_Dummy[udg_OWL_LoopInt2]),udg_OWL_Point2,bj_UNIT_FACING)
call UnitAddAbilityBJ('A0EC',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0EC',GetLastCreatedUnit(),((GetHeroStatBJ(bj_HEROSTAT_INT,udg_OWL_Caster[udg_OWL_LoopInt2],true)/ udg_OWL_MB_Level_X_INT)+(0+(GetUnitAbilityLevelSwapped('A000',udg_OWL_Caster[udg_OWL_LoopInt2])*udg_OWL_MBLevel_OwlLevel))))
set bj_wantDestroyGroup=true
call IssueTargetOrderBJ(GetLastCreatedUnit(),"manaburn",GroupPickRandomUnit(GetUnitsInRangeOfLocMatching(udg_OWL_AOE,udg_OWL_Point2,Condition(function Trig_Loop_v101_Func003Func002Func001Func002Func001Func008003001003))))
call UnitApplyTimedLifeBJ(1.30,'BTLF',GetLastCreatedUnit())
set udg_OWL_ManaBurnCastCount[udg_OWL_LoopInt2]=(udg_OWL_ManaBurnCastCount[udg_OWL_LoopInt2]+1)
call RemoveLocation(udg_OWL_Point2)
else
endif
if(Trig_Loop_v101_Func003Func002Func001Func002Func002C())then
call GroupRemoveUnitSimple(udg_OWL_Dummy[udg_OWL_LoopInt2],udg_OWL_UnitGroup3)
call UnitApplyTimedLifeBJ(1.30,'BTLF',udg_OWL_Dummy[udg_OWL_LoopInt2])
else
endif
endif
else
endif
set udg_OWL_LoopInt2=udg_OWL_LoopInt2+1
endloop
else
endif
if(Trig_Loop_v101_Func004C())then
set udg_OWL_CastCountInt=0
call RemoveLocation(udg_OWL_MovePoint)
call DisableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function InitTrig_Loop_v101 takes nothing returns nothing
set udg_trg_Loop_v101=CreateTrigger()
call DisableTrigger(udg_trg_Loop_v101)
call TriggerRegisterTimerEventPeriodic(udg_trg_Loop_v101,0.03)
call TriggerAddAction(udg_trg_Loop_v101,function Trig_Loop_v101_Actions)
endfunction
function Trig_Throw_Bomb_Conditions takes nothing returns boolean
    if(not(GetSpellAbilityId()=='A0F0'))then
    return false
    endif
    return true
endfunction
function Trig_Throw_Bomb_Actions takes nothing returns nothing
local unit u=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'h06B',GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitFacing(GetTriggerUnit()))
set udg_Bomb_Point=GetSpellTargetLoc()
call IssuePointOrderLocBJ(u,"cloudoffog",udg_Bomb_Point)
call UnitApplyTimedLifeBJ(7.00,'BTLF',u)
call RemoveLocation(udg_Bomb_Point)
set u=null
endfunction
function InitTrig_Throw_Bomb takes nothing returns nothing
set udg_trg_Throw_Bomb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Throw_Bomb,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Throw_Bomb,Condition(function Trig_Throw_Bomb_Conditions))
call TriggerAddAction(udg_trg_Throw_Bomb,function Trig_Throw_Bomb_Actions)
endfunction
function Trig_Bomb_Jump_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0EZ'))then
return false
endif
return true
endfunction
function Trig_Bomb_Jump_Actions takes nothing returns nothing
local location target = GetSpellTargetLoc()
if(not IsUnitMovementDisabled(GetTriggerUnit())) then
    call JumpUnitPoint(GetTriggerUnit(),GetLocationX(target),GetLocationY(target),550,1,false,"walk")
endif
call RemoveLocation(target)
set target = null
endfunction
function InitTrig_Bomb_Jump takes nothing returns nothing
set udg_trg_Bomb_Jump=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Bomb_Jump,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Bomb_Jump,Condition(function Trig_Bomb_Jump_Conditions))
call TriggerAddAction(udg_trg_Bomb_Jump,function Trig_Bomb_Jump_Actions)
endfunction
function Trig_TOT_Cast_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0BG'))then
return false
endif
if(not(UnitHasBuffBJ(GetTriggerUnit(),'B016')==false))then
return false
endif
if(not(IsUnitInGroup(GetTriggerUnit(),udg_TOT_CastingGroup)==false))then
return false
endif
return true
endfunction
function Trig_TOT_Cast_Actions takes nothing returns nothing
call GroupAddUnitSimple(GetTriggerUnit(),udg_TOT_CastingGroup)
set udg_TOT_CasterNumber=(udg_TOT_CasterNumber+1)
set udg_TOT_CastNumber=(udg_TOT_CastNumber+1)
set udg_TOT_TreeFall=false
set udg_TOT_TreeDeath=true
set udg_TOT_OrbDuration=2.00
set udg_TOT_TreeDuration=(20+R2I(udg_TOT_OrbDuration))
set udg_TOT_MaxTrees=20
set udg_TOT_Caster[udg_TOT_CasterNumber]=GetTriggerUnit()
set udg_TOT_Boolean[udg_TOT_CasterNumber]=true
call EnableTrigger(udg_trg_TOT_Loop)
endfunction
function InitTrig_TOT_Cast takes nothing returns nothing
set udg_trg_TOT_Cast=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_TOT_Cast,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_TOT_Cast,Condition(function Trig_TOT_Cast_Conditions))
call TriggerAddAction(udg_trg_TOT_Cast,function Trig_TOT_Cast_Actions)
endfunction
function Trig_TOT_Loop_Func002Func001Func001Func001C takes nothing returns boolean
if(not(IsUnitInGroup(udg_TOT_Caster[udg_TOT_Integer],udg_TOT_CastingGroup)==true))then
return false
endif
return true
endfunction
function Trig_TOT_Loop_Func002Func001Func001Func002Func008Func001C takes nothing returns boolean
if(not(IsUnitInGroup(udg_TOT_Caster[udg_TOT_Integer],udg_TOT_CastingGroup)==true))then
return false
endif
return true
endfunction
function Trig_TOT_Loop_Func002Func001Func001Func002Func008C takes nothing returns boolean
if(not(udg_TOT_TreeCount[udg_TOT_Integer]==udg_TOT_MaxTrees))then
return false
endif
return true
endfunction
function Trig_TOT_Loop_Func002Func001Func001Func002C takes nothing returns boolean
if(not(udg_TOT_Boolean[udg_TOT_Integer]==true))then
return false
endif
return true
endfunction
function Trig_TOT_Loop_Func002Func001Func001C takes nothing returns boolean
if(not(UnitHasBuffBJ(udg_TOT_Caster[udg_TOT_Integer],'B016')==true))then
return false
endif
if(not(IsUnitAliveBJ(udg_TOT_Caster[udg_TOT_Integer])==true))then
return false
endif
return true
endfunction
function Trig_TOT_Loop_Func002Func001C takes nothing returns boolean
if(not(udg_TOT_CastNumber>0))then
return false
endif
return true
endfunction
function Trig_TOT_Loop_Actions takes nothing returns nothing
set udg_TOT_Integer=1
loop
exitwhen udg_TOT_Integer>udg_TOT_CasterNumber
if(Trig_TOT_Loop_Func002Func001C())then
if(Trig_TOT_Loop_Func002Func001Func001C())then
if(Trig_TOT_Loop_Func002Func001Func001Func002C())then
set udg_TOT_Point[1]=GetUnitLoc(udg_TOT_Caster[udg_TOT_Integer])
call CreateNUnitsAtLocBonuses(1,'h04B',GetOwningPlayer(udg_TOT_Caster[udg_TOT_Integer]),udg_TOT_Point[1],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(udg_TOT_OrbDuration,'BTLF',GetLastCreatedUnit())
call CreateNUnitsAtLocBonuses(1,'h04C',GetOwningPlayer(udg_TOT_Caster[udg_TOT_Integer]),udg_TOT_Point[1],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(I2R(udg_TOT_TreeDuration),'BTLF',GetLastCreatedUnit())
call RemoveLocation(udg_TOT_Point[1])
set udg_TOT_TreeCount[udg_TOT_Integer]=(udg_TOT_TreeCount[udg_TOT_Integer]+1)
if(Trig_TOT_Loop_Func002Func001Func001Func002Func008C())then
if(Trig_TOT_Loop_Func002Func001Func001Func002Func008Func001C())then
set udg_TOT_Boolean[udg_TOT_Integer]=false
set udg_TOT_CastNumber=(udg_TOT_CastNumber-1)
call GroupRemoveUnitSimple(udg_TOT_Caster[udg_TOT_Integer],udg_TOT_CastingGroup)
else
endif
else
endif
else
endif
else
if(Trig_TOT_Loop_Func002Func001Func001Func001C())then
set udg_TOT_Boolean[udg_TOT_Integer]=false
set udg_TOT_CastNumber=(udg_TOT_CastNumber-1)
call GroupRemoveUnitSimple(udg_TOT_Caster[udg_TOT_Integer],udg_TOT_CastingGroup)
else
endif
endif
else
set udg_TOT_CasterNumber=0
call DisableTrigger(GetTriggeringTrigger())
endif
set udg_TOT_Integer=udg_TOT_Integer+1
endloop
endfunction
function InitTrig_TOT_Loop takes nothing returns nothing
set udg_trg_TOT_Loop=CreateTrigger()
call DisableTrigger(udg_trg_TOT_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_TOT_Loop,1.00)
call TriggerAddAction(udg_trg_TOT_Loop,function Trig_TOT_Loop_Actions)
endfunction
function Trig_TOT_Tree_Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='h04B'))then
return false
endif
return true
endfunction
function Trig_TOT_Tree_Func002Func003Func001Func002C takes nothing returns boolean
if(not(udg_TOT_TreeFall==false))then
return false
endif
return true
endfunction
function Trig_TOT_Tree_Func002Func003Func001C takes nothing returns boolean
if(not(GetDestructableTypeId(GetEnumDestructable())=='B005'))then
return false
endif
return true
endfunction
function Trig_TOT_Tree_Func002Func003A takes nothing returns nothing
if(Trig_TOT_Tree_Func002Func003Func001C())then
if(Trig_TOT_Tree_Func002Func003Func001Func002C())then
call KillDestructable(GetEnumDestructable())
else
call KillDestructable(GetEnumDestructable())
endif
else
call RemoveLocation(udg_TOT_Point[99])
endif
endfunction
function Trig_TOT_Tree_Func002C takes nothing returns boolean
if(not(udg_TOT_TreeDeath==true))then
return false
endif
if(not(GetUnitTypeId(GetTriggerUnit())=='h04C'))then
return false
endif
return true
endfunction
function Trig_TOT_Tree_Actions takes nothing returns nothing
if(Trig_TOT_Tree_Func001C())then
set udg_TOT_Point[2]=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(udg_TOT_Point[2],"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateDestructableLoc('B005',udg_TOT_Point[2],GetRandomDirectionDeg(),1,0)
call RemoveLocation(udg_TOT_Point[2])
else
endif
if(Trig_TOT_Tree_Func002C())then
set udg_TOT_Point[99]=GetUnitLoc(GetTriggerUnit())
call EnumDestructablesInCircleBJ(100.00,udg_TOT_Point[99],function Trig_TOT_Tree_Func002Func003A)
else
endif
endfunction
function InitTrig_TOT_Tree takes nothing returns nothing
set udg_trg_TOT_Tree=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_TOT_Tree,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(udg_trg_TOT_Tree,function Trig_TOT_Tree_Actions)
endfunction
function Trig_Spell_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0E0'))then
return false
endif
return true
endfunction
function Trig_Spell_Func001C takes nothing returns boolean
if(not(udg_DashInteger[0]==0))then
return false
endif
return true
endfunction
function Trig_Spell_Actions takes nothing returns nothing
if(Trig_Spell_Func001C())then
call EnableTrigger(udg_trg_Spell_Loop)
else
endif
set udg_DashInteger[0]=(udg_DashInteger[0]+1)
set udg_DashInteger[1]=(udg_DashInteger[1]+1)
set udg_DashCaster[udg_DashInteger[1]]=GetTriggerUnit()
call PauseUnitBJ(true,udg_DashCaster[udg_DashInteger[1]])
set udg_DashReal1[udg_DashInteger[1]]=GetUnitFacing(udg_DashCaster[udg_DashInteger[1]])
set udg_DashDamage[udg_DashInteger[1]]=(I2R(GetUnitAbilityLevelSwapped('A0E0',udg_DashCaster[udg_DashInteger[1]]))*200.00)
set udg_DashSpeed[udg_DashInteger[1]]=40.00
set udg_DashDistance[udg_DashInteger[1]]=30
call SetUnitAnimationByIndex(udg_DashCaster[udg_DashInteger[1]],2)
call SetUnitAnimation(udg_DashCaster[udg_DashInteger[1]],"walk")
call SetUnitPathing(udg_DashCaster[udg_DashInteger[1]],false)
endfunction
function InitTrig_Spell takes nothing returns nothing
set udg_trg_Spell=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Spell,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Spell,Condition(function Trig_Spell_Conditions))
call TriggerAddAction(udg_trg_Spell,function Trig_Spell_Actions)
endfunction
function Trig_Spell_Loop_Func001Func014A takes nothing returns nothing
set udg_DashPoint5[udg_DashInteger[2]]=GetUnitLoc(GetEnumUnit())
set udg_DashReal2[udg_DashInteger[2]]=(DistanceBetweenPoints(udg_DashPoint3[udg_DashInteger[2]],udg_DashPoint5[udg_DashInteger[2]])/ 5.00)
call SetUnitVertexColorBJ(GetEnumUnit(),100,100,100,udg_DashReal2[udg_DashInteger[2]])
endfunction
function Trig_Spell_Loop_Func001Func016002003001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_DashCaster[udg_DashInteger[2]]))==true)
endfunction
function Trig_Spell_Loop_Func001Func016002003002 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),udg_DashGroup2)==false)
endfunction
function Trig_Spell_Loop_Func001Func016002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_DashCaster[udg_DashInteger[2]]))==true),(IsUnitInGroup(GetFilterUnit(),udg_DashGroup2)==false))
endfunction
function Trig_Spell_Loop_Func001Func017A takes nothing returns nothing
call GroupAddUnitSimple(GetEnumUnit(),udg_DashGroup2)
call UnitDamageTargetBJ(udg_DashCaster[udg_DashInteger[2]],GetEnumUnit(),udg_DashDamage[udg_DashInteger[2]],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
endfunction
function Trig_Spell_Loop_Func001Func019Func003C takes nothing returns boolean
if((udg_DashDistance[udg_DashInteger[2]]<=0))then
return true
endif
if((IsTerrainPathableBJ(udg_DashPoint3[udg_DashInteger[2]],PATHING_TYPE_WALKABILITY)==true))then
return true
endif
return false
endfunction
function Trig_Spell_Loop_Func001Func019Func006C takes nothing returns boolean
if(not(udg_DashInteger[0]==0))then
return false
endif
return true
endfunction
function Trig_Spell_Loop_Func001Func019C takes nothing returns boolean
if(not Trig_Spell_Loop_Func001Func019Func003C())then
return false
endif
return true
endfunction
function Trig_Spell_Loop_Actions takes nothing returns nothing
set udg_DashInteger[2]=1
loop
exitwhen udg_DashInteger[2]>udg_DashInteger[1]
set udg_DashDistance[udg_DashInteger[2]]=(udg_DashDistance[udg_DashInteger[2]]-1)
set udg_DashPoint3[udg_DashInteger[2]]=GetUnitLoc(udg_DashCaster[udg_DashInteger[2]])
set udg_DashPoint4[udg_DashInteger[2]]=PolarProjectionBJ(udg_DashPoint3[udg_DashInteger[2]],udg_DashSpeed[udg_DashInteger[2]],udg_DashReal1[udg_DashInteger[2]])
call SetUnitPositionLoc(udg_DashCaster[udg_DashInteger[2]],udg_DashPoint4[udg_DashInteger[2]])
call CreateNUnitsAtLocBonuses(1,'h05M',GetOwningPlayer(udg_DashCaster[udg_DashInteger[2]]),udg_DashPoint4[udg_DashInteger[2]],GetUnitFacing(udg_DashCaster[udg_DashInteger[2]]))
call UnitApplyTimedLifeBJ(0.50,'BTLF',GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(),udg_DashGroup3)
call SetUnitAnimation(GetLastCreatedUnit(),"walk")
call ForGroupBJ(udg_DashGroup3,function Trig_Spell_Loop_Func001Func014A)
set udg_DashGroup1=GetUnitsInRangeOfLocMatching(150.00,udg_DashPoint4[udg_DashInteger[2]],Condition(function Trig_Spell_Loop_Func001Func016002003))
call ForGroupBJ(udg_DashGroup1,function Trig_Spell_Loop_Func001Func017A)
if(Trig_Spell_Loop_Func001Func019C())then
call GroupClear(udg_DashGroup2)
set udg_DashInteger[2]=1
loop
exitwhen udg_DashInteger[2]>udg_DashInteger[1]
call SetUnitPathing(udg_DashCaster[udg_DashInteger[2]],true)
call PauseUnitBJ(false,udg_DashCaster[udg_DashInteger[2]])
set udg_DashInteger[2]=udg_DashInteger[2]+1
endloop
set udg_DashInteger[1]=0
if(Trig_Spell_Loop_Func001Func019Func006C())then
set udg_DashInteger[1]=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
else
endif
call RemoveLocation(udg_DashPoint3[udg_DashInteger[2]])
call RemoveLocation(udg_DashPoint4[udg_DashInteger[2]])
call DestroyGroup(udg_DashGroup1)
set udg_DashInteger[2]=udg_DashInteger[2]+1
endloop
endfunction
function InitTrig_Spell_Loop takes nothing returns nothing
set udg_trg_Spell_Loop=CreateTrigger()
call DisableTrigger(udg_trg_Spell_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_Spell_Loop,0.03)
call TriggerAddAction(udg_trg_Spell_Loop,function Trig_Spell_Loop_Actions)
endfunction
function Trig_Unit_Leak_Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='h05M'))then
return false
endif
return true
endfunction
function Trig_Unit_Leak_Actions takes nothing returns nothing
if(Trig_Unit_Leak_Func001C())then
call RemoveUnit(GetDyingUnit())
else
endif
endfunction
function InitTrig_Unit_Leak takes nothing returns nothing
set udg_trg_Unit_Leak=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Unit_Leak,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(udg_trg_Unit_Leak,function Trig_Unit_Leak_Actions)
endfunction
function Trig_Cutting_Edge_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A05C'))then
return false
endif
return true
endfunction
function Trig_Cutting_Edge_Actions takes nothing returns nothing
set udg_CE_Caster=GetTriggerUnit()
set udg_CE_Location=GetUnitLoc(udg_CE_Caster)
set udg_CE_Location2=GetSpellTargetLoc()
set udg_CE_Ability_Level=GetUnitAbilityLevelSwapped(GetSpellAbilityId(),udg_CE_Caster)
set udg_CE_Base_Damage=10.00
set udg_CE_Total_Damage=(udg_CE_Base_Damage*I2R(udg_CE_Ability_Level))
set udg_CE_Area_of_Effect=200.00
set udg_CE_Destroy_Trees=true
set udg_CE_Pathing_On=true
call AddSpecialEffectTargetUnitBJ("weapon",udg_CE_Caster,"Abilities\\Spells\\Items\\OrbCorruption\\OrbCorruptionSpecialArt.mdl")
set udg_CE_Special_Effect=GetLastCreatedEffectBJ()
call AddSpecialEffectTargetUnitBJ("weapon",udg_CE_Caster,"Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile_mini.mdl")
set udg_CE_Special_Effect1=GetLastCreatedEffectBJ()
set udg_CE_Knock_Angle=AngleBetweenPoints(udg_CE_Location,udg_CE_Location2)
set udg_CE_Knock_Speed=50.00
set udg_CE_Knock_Distance=900.00
call SaveRealBJ(udg_CE_Knock_Angle,StringHashBJ("angle"),GetHandleIdBJ(GetTriggerUnit()),udg_CE_Knocktable)
call SaveRealBJ(udg_CE_Knock_Speed,StringHashBJ("speed"),GetHandleIdBJ(GetTriggerUnit()),udg_CE_Knocktable)
call SaveRealBJ(udg_CE_Knock_Distance,StringHashBJ("distance"),GetHandleIdBJ(GetTriggerUnit()),udg_CE_Knocktable)
call SaveUnitHandleBJ(udg_CE_Caster,StringHashBJ("caster"),GetHandleIdBJ(GetTriggerUnit()),udg_CE_Knocktable)
call SaveEffectHandleBJ(udg_CE_Special_Effect,StringHashBJ("sfx"),GetHandleIdBJ(GetTriggerUnit()),udg_CE_Knocktable)
call SaveEffectHandleBJ(udg_CE_Special_Effect1,StringHashBJ("sfx1"),GetHandleIdBJ(GetTriggerUnit()),udg_CE_Knocktable)
call SetUnitTimeScalePercent(udg_CE_Caster,1500.00)
call SetUnitPathing(udg_CE_Caster,false)
call GroupAddUnitSimple(udg_CE_Caster,udg_CE_Knock_Group)
call EnableTrigger(udg_trg_Cutting_Edge_Knock)
call RemoveLocation(udg_CE_Location)
call RemoveLocation(udg_CE_Location2)
endfunction
function InitTrig_Cutting_Edge takes nothing returns nothing
set udg_trg_Cutting_Edge=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Cutting_Edge,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Cutting_Edge,Condition(function Trig_Cutting_Edge_Conditions))
call TriggerAddAction(udg_trg_Cutting_Edge,function Trig_Cutting_Edge_Actions)
endfunction
function Trig_Cutting_Edge_Knock_Func004Func007Func008C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_CE_Knock_Group)==0))then
return false
endif
return true
endfunction
function Trig_Cutting_Edge_Knock_Func004Func007Func011002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Cutting_Edge_Knock_Func004Func007Func011002003002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Cutting_Edge_Knock_Func004Func007Func011002003002002 takes nothing returns boolean
return(IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(GetEnumUnit()))==true)
endfunction
function Trig_Cutting_Edge_Knock_Func004Func007Func011002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(GetEnumUnit()))==true))
endfunction
function Trig_Cutting_Edge_Knock_Func004Func007Func011002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(GetEnumUnit()))==true))))
endfunction
function Trig_Cutting_Edge_Knock_Func004Func007Func012Func001Func001Func005C takes nothing returns boolean
if(not(GetUnitCurrentOrder(GetLastCreatedUnit())==String2OrderIdBJ("harvest")))then
return false
endif
return true
endfunction
function Trig_Cutting_Edge_Knock_Func004Func007Func012Func001Func001C takes nothing returns boolean
if(not(IsDestructableAliveBJ(GetEnumDestructable())==true))then
return false
endif
return true
endfunction
function Trig_Cutting_Edge_Knock_Func004Func007Func012Func001A takes nothing returns nothing
if(Trig_Cutting_Edge_Knock_Func004Func007Func012Func001Func001C())then
call CreateNUnitsAtLocBonuses(1,'h026',GetOwningPlayer(GetEnumUnit()),udg_CE_Knock_Loc1,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(0.50,'BTLF',GetLastCreatedUnit())
call ShowUnitHide(GetLastCreatedUnit())
call IssueTargetDestructableOrder(GetLastCreatedUnit(),"harvest",GetEnumDestructable())
if(Trig_Cutting_Edge_Knock_Func004Func007Func012Func001Func001Func005C())then
call KillDestructable(GetEnumDestructable())
else
endif
else
endif
endfunction
function Trig_Cutting_Edge_Knock_Func004Func007Func012C takes nothing returns boolean
if(not(udg_CE_Destroy_Trees==true))then
return false
endif
return true
endfunction
function Trig_Cutting_Edge_Knock_Func004Func007Func013Func009Func002Func001C takes nothing returns boolean
if(not(GetRandomInt(1,100)<=50))then
return false
endif
return true
endfunction
function Trig_Cutting_Edge_Knock_Func004Func007Func013Func009Func002C takes nothing returns boolean
if(not(GetRandomInt(1,100)<33))then
return false
endif
return true
endfunction
function Trig_Cutting_Edge_Knock_Func004Func007Func013Func009A takes nothing returns nothing
call UnitDamageTargetBJ(udg_CE_Caster,GetEnumUnit(),udg_CE_Total_Damage,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN)
if(Trig_Cutting_Edge_Knock_Func004Func007Func013Func009Func002C())then
if(Trig_Cutting_Edge_Knock_Func004Func007Func013Func009Func002Func001C())then
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Objects\\Spawnmodels\\Critters\\Albatross\\CritterBloodAlbatross.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
else
endif
endfunction
function Trig_Cutting_Edge_Knock_Func004Func007Func013Func014Func001Func018Func002Func001C takes nothing returns boolean
if(not(GetRandomInt(1,100)<=50))then
return false
endif
return true
endfunction
function Trig_Cutting_Edge_Knock_Func004Func007Func013Func014Func001Func018Func002C takes nothing returns boolean
if(not(GetRandomInt(1,100)<33))then
return false
endif
return true
endfunction
function Trig_Cutting_Edge_Knock_Func004Func007Func013Func014Func001Func018A takes nothing returns nothing
call UnitDamageTargetBJ(udg_CE_Caster,GetEnumUnit(),udg_CE_Total_Damage,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN)
if(Trig_Cutting_Edge_Knock_Func004Func007Func013Func014Func001Func018Func002C())then
if(Trig_Cutting_Edge_Knock_Func004Func007Func013Func014Func001Func018Func002Func001C())then
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Objects\\Spawnmodels\\Critters\\Albatross\\CritterBloodAlbatross.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endif
else
endif
endfunction
function Trig_Cutting_Edge_Knock_Func004Func007Func013Func014Func001C takes nothing returns boolean
if(not(IsUnitDeadBJ(GetEnumUnit())==true))then
return false
endif
return true
endfunction
function Trig_Cutting_Edge_Knock_Func004Func007Func013Func014Func011C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_CE_Knock_Group)==0))then
return false
endif
return true
endfunction
function Trig_Cutting_Edge_Knock_Func004Func007Func013Func014C takes nothing returns boolean
if(not(IsTerrainPathableBJ(udg_CE_Knock_Loc2,PATHING_TYPE_WALKABILITY)==true))then
return false
endif
return true
endfunction
function Trig_Cutting_Edge_Knock_Func004Func007Func013C takes nothing returns boolean
if(not(udg_CE_Pathing_On==true))then
return false
endif
return true
endfunction
function Trig_Cutting_Edge_Knock_Func004Func007C takes nothing returns boolean
if(not(udg_CE_Knock_Distance>0.00))then
return false
endif
return true
endfunction
function Trig_Cutting_Edge_Knock_Func004A takes nothing returns nothing
set udg_CE_Knock_Angle=LoadRealBJ(StringHashBJ("angle"),GetHandleIdBJ(GetEnumUnit()),udg_CE_Knocktable)
set udg_CE_Knock_Speed=LoadRealBJ(StringHashBJ("speed"),GetHandleIdBJ(GetEnumUnit()),udg_CE_Knocktable)
set udg_CE_Knock_Distance=LoadRealBJ(StringHashBJ("distance"),GetHandleIdBJ(GetEnumUnit()),udg_CE_Knocktable)
set udg_CE_Caster=LoadUnitHandleBJ(StringHashBJ("caster"),GetHandleIdBJ(GetEnumUnit()),udg_CE_Knocktable)
set udg_CE_Special_Effect=LoadEffectHandleBJ(StringHashBJ("sfx"),GetHandleIdBJ(GetEnumUnit()),udg_CE_Knocktable)
set udg_CE_Special_Effect1=LoadEffectHandleBJ(StringHashBJ("sfx1"),GetHandleIdBJ(GetEnumUnit()),udg_CE_Knocktable)
if(Trig_Cutting_Edge_Knock_Func004Func007C())then
set udg_CE_Knock_Loc1=GetUnitLoc(GetEnumUnit())
set udg_CE_Knock_Loc2=PolarProjectionBJ(udg_CE_Knock_Loc1,udg_CE_Knock_Speed,udg_CE_Knock_Angle)
set udg_CE_Damage_Group=GetUnitsInRangeOfLocMatching(udg_CE_Area_of_Effect,udg_CE_Knock_Loc1,Condition(function Trig_Cutting_Edge_Knock_Func004Func007Func011002003))
if(Trig_Cutting_Edge_Knock_Func004Func007Func012C())then
call EnumDestructablesInCircleBJ(udg_CE_Area_of_Effect,udg_CE_Knock_Loc1,function Trig_Cutting_Edge_Knock_Func004Func007Func012Func001A)
else
endif
if(Trig_Cutting_Edge_Knock_Func004Func007Func013C())then
if(Trig_Cutting_Edge_Knock_Func004Func007Func013Func014C())then
call SetUnitPathing(udg_CE_Caster,true)
call ResetUnitAnimation(GetEnumUnit())
call SetUnitTimeScalePercent(GetEnumUnit(),100.00)
call DestroyEffectBJ(udg_CE_Special_Effect)
call DestroyEffectBJ(udg_CE_Special_Effect1)
call RemoveLocation(udg_CE_Knock_Loc1)
call RemoveLocation(udg_CE_Knock_Loc2)
call FlushChildHashtableBJ(GetHandleIdBJ(GetEnumUnit()),udg_CE_Knocktable)
call GroupRemoveUnitSimple(GetEnumUnit(),udg_CE_Knock_Group)
if(Trig_Cutting_Edge_Knock_Func004Func007Func013Func014Func011C())then
call DisableTrigger(udg_trg_Cutting_Edge_Knock)
else
endif
else
if(Trig_Cutting_Edge_Knock_Func004Func007Func013Func014Func001C())then
call SetUnitPathing(udg_CE_Caster,true)
call ResetUnitAnimation(GetEnumUnit())
call SetUnitTimeScalePercent(GetEnumUnit(),100.00)
call DestroyEffectBJ(udg_CE_Special_Effect)
call DestroyEffectBJ(udg_CE_Special_Effect1)
call RemoveLocation(udg_CE_Knock_Loc1)
call RemoveLocation(udg_CE_Knock_Loc2)
call FlushChildHashtableBJ(GetHandleIdBJ(GetEnumUnit()),udg_CE_Knocktable)
call GroupRemoveUnitSimple(GetEnumUnit(),udg_CE_Knock_Group)
else
call SetUnitPositionLoc(GetEnumUnit(),udg_CE_Knock_Loc2)
call SetUnitFacingTimed(GetEnumUnit(),udg_CE_Knock_Angle,0)
call SetUnitAnimation(GetEnumUnit(),"attack")
call CreateNUnitsAtLocBonuses(1,'h026',GetOwningPlayer(GetEnumUnit()),udg_CE_Knock_Loc2,udg_CE_Knock_Angle)
call UnitApplyTimedLifeBJ(0.50,'BTLF',GetLastCreatedUnit())
call SetUnitVertexColorBJ(GetLastCreatedUnit(),100,100,100,85.00)
call SetUnitTimeScalePercent(GetLastCreatedUnit(),200.00)
call SetUnitAnimation(GetLastCreatedUnit(),"attack")
call ForGroupBJ(udg_CE_Damage_Group,function Trig_Cutting_Edge_Knock_Func004Func007Func013Func014Func001Func018A)
call SaveRealBJ((udg_CE_Knock_Distance-udg_CE_Knock_Speed),StringHashBJ("distance"),GetHandleIdBJ(GetEnumUnit()),udg_CE_Knocktable)
call RemoveLocation(udg_CE_Knock_Loc1)
call RemoveLocation(udg_CE_Knock_Loc2)
call DestroyGroup(udg_CE_Damage_Group)
endif
endif
else
call SetUnitPositionLoc(GetEnumUnit(),udg_CE_Knock_Loc2)
call SetUnitFacingTimed(GetEnumUnit(),udg_CE_Knock_Angle,0)
call SetUnitAnimation(GetEnumUnit(),"attack")
call CreateNUnitsAtLocBonuses(1,'h026',GetOwningPlayer(GetEnumUnit()),udg_CE_Knock_Loc2,udg_CE_Knock_Angle)
call UnitApplyTimedLifeBJ(0.50,'BTLF',GetLastCreatedUnit())
call SetUnitVertexColorBJ(GetLastCreatedUnit(),100,100,100,85.00)
call SetUnitTimeScalePercent(GetLastCreatedUnit(),200.00)
call SetUnitAnimation(GetLastCreatedUnit(),"attack")
call ForGroupBJ(udg_CE_Damage_Group,function Trig_Cutting_Edge_Knock_Func004Func007Func013Func009A)
call SaveRealBJ((udg_CE_Knock_Distance-udg_CE_Knock_Speed),StringHashBJ("distance"),GetHandleIdBJ(GetEnumUnit()),udg_CE_Knocktable)
call RemoveLocation(udg_CE_Knock_Loc1)
call RemoveLocation(udg_CE_Knock_Loc2)
call DestroyGroup(udg_CE_Damage_Group)
endif
else
call SetUnitPathing(udg_CE_Caster,true)
call ResetUnitAnimation(GetEnumUnit())
call SetUnitTimeScalePercent(GetEnumUnit(),100.00)
call DestroyEffectBJ(udg_CE_Special_Effect)
call DestroyEffectBJ(udg_CE_Special_Effect1)
call FlushChildHashtableBJ(GetHandleIdBJ(GetEnumUnit()),udg_CE_Knocktable)
call GroupRemoveUnitSimple(GetEnumUnit(),udg_CE_Knock_Group)
if(Trig_Cutting_Edge_Knock_Func004Func007Func008C())then
call DisableTrigger(udg_trg_Cutting_Edge_Knock)
else
endif
endif
endfunction
function Trig_Cutting_Edge_Knock_Actions takes nothing returns nothing
call ForGroupBJ(udg_CE_Knock_Group,function Trig_Cutting_Edge_Knock_Func004A)
endfunction
function InitTrig_Cutting_Edge_Knock takes nothing returns nothing
set udg_trg_Cutting_Edge_Knock=CreateTrigger()
call DisableTrigger(udg_trg_Cutting_Edge_Knock)
call TriggerRegisterTimerEventPeriodic(udg_trg_Cutting_Edge_Knock,0.06)
call TriggerAddAction(udg_trg_Cutting_Edge_Knock,function Trig_Cutting_Edge_Knock_Actions)
endfunction
function Trig_Remove_Dummies_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='h026'))then
return false
endif
return true
endfunction
function Trig_Remove_Dummies_Actions takes nothing returns nothing
call RemoveUnit(GetTriggerUnit())
endfunction
function InitTrig_Remove_Dummies takes nothing returns nothing
set udg_trg_Remove_Dummies=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Remove_Dummies,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Remove_Dummies,Condition(function Trig_Remove_Dummies_Conditions))
call TriggerAddAction(udg_trg_Remove_Dummies,function Trig_Remove_Dummies_Actions)
endfunction
function Trig_Telekinetic_Seizure_Setings_Conditions takes nothing returns boolean
if(not('A0CX'==GetSpellAbilityId()))then
return false
endif
return true
endfunction
function Trig_Telekinetic_Seizure_Setings_Func001C takes nothing returns boolean
if(not(udg_TS2_Skip==0))then
return false
endif
return true
endfunction
function Trig_Telekinetic_Seizure_Setings_Actions takes nothing returns nothing
if(Trig_Telekinetic_Seizure_Setings_Func001C())then
call EnableTrigger(udg_trg_Telekinetic_Seizure_Loop)
else
endif
set udg_TS2_Skip=(udg_TS2_Skip+1)
set udg_TS2_Times=(udg_TS2_Times+1)
set udg_TS2_Off[udg_TS2_Times]=true
set udg_TS2_Hero[udg_TS2_Times]=GetSpellAbilityUnit()
set udg_TS2_Target[udg_TS2_Times]=GetSpellTargetUnit()
call SetUnitTimeScalePercent(udg_TS2_Target[udg_TS2_Times],0.00)
call UnitAddAbilityBJ('Arav',udg_TS2_Target[udg_TS2_Times])
call PauseUnitBJ(true,udg_TS2_Target[udg_TS2_Times])
call SetUnitPathing(udg_TS2_Target[udg_TS2_Times],false)
set udg_TS2_Point[0]=GetUnitLoc(udg_TS2_Hero[udg_TS2_Times])
set udg_TS2_Point[1]=GetUnitLoc(udg_TS2_Target[udg_TS2_Times])
set udg_TS2_Radius[udg_TS2_Times]=DistanceBetweenPoints(udg_TS2_Point[0],udg_TS2_Point[1])
set udg_TS2_Angle[udg_TS2_Times]=AngleBetweenPoints(udg_TS2_Point[1],udg_TS2_Point[0])
set udg_TS2_Distance[udg_TS2_Times]=(udg_TS2_Radius[udg_TS2_Times]*2.00)
set udg_TS2_MaxDistance[udg_TS2_Times]=udg_TS2_Distance[udg_TS2_Times]
set udg_TS2_Speed[udg_TS2_Times]=(udg_TS2_MaxDistance[udg_TS2_Times]*0.04)
set udg_TS2_Height[udg_TS2_Times]=udg_TS2_Radius[udg_TS2_Times]
set udg_TS2_Damage[udg_TS2_Times]=(20.00+(20.00*I2R(GetUnitAbilityLevelSwapped('A0CX',udg_TS2_Hero[udg_TS2_Times]))))
set udg_TS2_Slams[udg_TS2_Times]=(1+GetUnitAbilityLevelSwapped('A0CX',udg_TS2_Hero[udg_TS2_Times]))
call AddSpecialEffectTargetUnitBJ("origin",udg_TS2_Hero[udg_TS2_Times],"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",udg_TS2_Target[udg_TS2_Times],"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLookAt(udg_TS2_Hero[udg_TS2_Times],"bone_head",udg_TS2_Target[udg_TS2_Times],0,0,GetUnitFlyHeight(udg_TS2_Target[udg_TS2_Times]))
call RemoveLocation(udg_TS2_Point[0])
call RemoveLocation(udg_TS2_Point[1])
endfunction
function InitTrig_Telekinetic_Seizure_Setings takes nothing returns nothing
set udg_trg_Telekinetic_Seizure_Setings=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Telekinetic_Seizure_Setings,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Telekinetic_Seizure_Setings,Condition(function Trig_Telekinetic_Seizure_Setings_Conditions))
call TriggerAddAction(udg_trg_Telekinetic_Seizure_Setings,function Trig_Telekinetic_Seizure_Setings_Actions)
endfunction
function Trig_Telekinetic_Seizure_Loop_Func001Func001Func001Func015C takes nothing returns boolean
if(not(udg_TS2_Skip==0))then
return false
endif
return true
endfunction
function Trig_Telekinetic_Seizure_Loop_Func001Func001Func001Func016Func009002003001001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)
endfunction
function Trig_Telekinetic_Seizure_Loop_Func001Func001Func001Func016Func009002003001002 takes nothing returns boolean
return(IsUnitDeadBJ(GetFilterUnit())==false)
endfunction
function Trig_Telekinetic_Seizure_Loop_Func001Func001Func001Func016Func009002003001 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitDeadBJ(GetFilterUnit())==false))
endfunction
function Trig_Telekinetic_Seizure_Loop_Func001Func001Func001Func016Func009002003002 takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_TS2_Hero[udg_TS2]))==false)
endfunction
function Trig_Telekinetic_Seizure_Loop_Func001Func001Func001Func016Func009002003 takes nothing returns boolean
return GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitDeadBJ(GetFilterUnit())==false))),(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_TS2_Hero[udg_TS2]))==false))
endfunction
function Trig_Telekinetic_Seizure_Loop_Func001Func001Func001Func016Func010Func002Func002C takes nothing returns boolean
if((RectContainsUnit(udg_rct_Region_230,GetEnumUnit())==true))then
return true
endif
if((RectContainsUnit(udg_rct_Region_233,GetEnumUnit())==true))then
return true
endif
if((RectContainsUnit(udg_rct_Region_235,GetEnumUnit())==true))then
return true
endif
if((RectContainsUnit(udg_rct_Region_237,GetEnumUnit())==true))then
return true
endif
if((RectContainsUnit(udg_rct_Region_231,GetEnumUnit())==true))then
return true
endif
if((RectContainsUnit(udg_rct_Region_234,GetEnumUnit())==true))then
return true
endif
if((RectContainsUnit(udg_rct_Region_236,GetEnumUnit())==true))then
return true
endif
if((RectContainsUnit(udg_rct_Region_238,GetEnumUnit())==true))then
return true
endif
if((RectContainsUnit(udg_rct_Region_013,GetEnumUnit())==true))then
return true
endif
if((RectContainsUnit(udg_rct_Region_232,GetEnumUnit())==true))then
return true
endif
if((RectContainsUnit(udg_rct_Outa_Bounds_6,GetEnumUnit())==true))then
return true
endif
if((RectContainsUnit(udg_rct_Outa_bounds_7,GetEnumUnit())==true))then
return true
endif
if((RectContainsUnit(udg_rct_Region_242,GetEnumUnit())==true))then
return true
endif
if((RectContainsUnit(udg_rct_Region_241,GetEnumUnit())==true))then
return true
endif
if((RectContainsUnit(udg_rct_Region_240,GetEnumUnit())==true))then
return true
endif
if((RectContainsUnit(udg_rct_Region_239,GetEnumUnit())==true))then
return true
endif
return false
endfunction
function Trig_Telekinetic_Seizure_Loop_Func001Func001Func001Func016Func010Func002C takes nothing returns boolean
if(not Trig_Telekinetic_Seizure_Loop_Func001Func001Func001Func016Func010Func002Func002C())then
return false
endif
return true
endfunction
function Trig_Telekinetic_Seizure_Loop_Func001Func001Func001Func016Func010A takes nothing returns nothing
call UnitDamageTargetBJ(udg_TS2_Hero[udg_TS2],GetEnumUnit(),udg_TS2_Damage[udg_TS2],ATTACK_TYPE_HERO,DAMAGE_TYPE_FORCE)
if(Trig_Telekinetic_Seizure_Loop_Func001Func001Func001Func016Func010Func002C())then
call SetUnitPositionLoc(GetEnumUnit(),GetUnitLoc(udg_TS2_Hero[udg_TS2]))
else
endif
endfunction
function Trig_Telekinetic_Seizure_Loop_Func001Func001Func001Func016Func016Func015C takes nothing returns boolean
if((IsUnitDeadBJ(udg_TS2_Target[udg_TS2])==true))then
return true
endif
if((UnitHasBuffBJ(udg_TS2_Target[udg_TS2],'B01H')==false))then
return true
endif
return false
endfunction
function Trig_Telekinetic_Seizure_Loop_Func001Func001Func001Func016Func016C takes nothing returns boolean
if(not Trig_Telekinetic_Seizure_Loop_Func001Func001Func001Func016Func016Func015C())then
return false
endif
return true
endfunction
function Trig_Telekinetic_Seizure_Loop_Func001Func001Func001Func016Func031C takes nothing returns boolean
if(not(RectContainsLoc(GetPlayableMapRect(),udg_TS2_Point[3])==false))then
return false
endif
return true
endfunction
function Trig_Telekinetic_Seizure_Loop_Func001Func001Func001Func016C takes nothing returns boolean
if(not(udg_TS2_Distance[udg_TS2]<=0.00))then
return false
endif
return true
endfunction
function Trig_Telekinetic_Seizure_Loop_Func001Func001Func001C takes nothing returns boolean
if(not(udg_TS2_Slams[udg_TS2]>0))then
return false
endif
return true
endfunction
function Trig_Telekinetic_Seizure_Loop_Func001Func001C takes nothing returns boolean
if(not(udg_TS2_Off[udg_TS2]==true))then
return false
endif
return true
endfunction
function Trig_Telekinetic_Seizure_Loop_Actions takes nothing returns nothing
set udg_TS2=1
loop
exitwhen udg_TS2>udg_TS2_Times
if(Trig_Telekinetic_Seizure_Loop_Func001Func001C())then
if(Trig_Telekinetic_Seizure_Loop_Func001Func001Func001C())then
if(Trig_Telekinetic_Seizure_Loop_Func001Func001Func001Func016C())then
set udg_TS2_Slams[udg_TS2]=(udg_TS2_Slams[udg_TS2]-1)
set udg_TS2_Point[4]=GetUnitLoc(udg_TS2_Target[udg_TS2])
set udg_TS2_Group[udg_TS2]=GetUnitsInRangeOfLocMatching(200.00,udg_TS2_Point[4],Condition(function Trig_Telekinetic_Seizure_Loop_Func001Func001Func001Func016Func009002003))
call ForGroupBJ(udg_TS2_Group[udg_TS2],function Trig_Telekinetic_Seizure_Loop_Func001Func001Func001Func016Func010A)
call AddSpecialEffectLocBJ(udg_TS2_Point[4],"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
if(Trig_Telekinetic_Seizure_Loop_Func001Func001Func001Func016Func016C())then
set udg_TS2_Slams[udg_TS2]=0
call SetUnitTimeScalePercent(udg_TS2_Target[udg_TS2_Times],100.00)
else
set udg_TS2_Point[5]=GetUnitLoc(udg_TS2_Hero[udg_TS2])
set udg_TS2_Angle[udg_TS2]=AngleBetweenPoints(udg_TS2_Point[4],udg_TS2_Point[5])
set udg_TS2_Angle[udg_TS2]=(udg_TS2_Angle[udg_TS2]+GetRandomReal(-30.00,30.00))
set udg_TS2_Point[6]=PolarProjectionBJ(udg_TS2_Point[5],udg_TS2_Radius[udg_TS2],udg_TS2_Angle[udg_TS2])
set udg_TS2_Angle[udg_TS2]=AngleBetweenPoints(udg_TS2_Point[4],udg_TS2_Point[6])
set udg_TS2_Distance[udg_TS2]=DistanceBetweenPoints(udg_TS2_Point[4],udg_TS2_Point[6])
set udg_TS2_MaxDistance[udg_TS2]=udg_TS2_Distance[udg_TS2]
call RemoveLocation(udg_TS2_Point[5])
call RemoveLocation(udg_TS2_Point[6])
endif
call RemoveLocation(udg_TS2_Point[4])
call DestroyGroup(udg_TS2_Group[udg_TS2])
else
set udg_TS2_Distance[udg_TS2]=(udg_TS2_Distance[udg_TS2]-udg_TS2_Speed[udg_TS2])
set udg_TS2_Point[2]=GetUnitLoc(udg_TS2_Target[udg_TS2])
set udg_TS2_Point[3]=PolarProjectionBJ(udg_TS2_Point[2],udg_TS2_Speed[udg_TS2],udg_TS2_Angle[udg_TS2])
if(Trig_Telekinetic_Seizure_Loop_Func001Func001Func001Func016Func031C())then
else
call SetUnitPositionLoc(udg_TS2_Target[udg_TS2],udg_TS2_Point[3])
endif
set udg_TS2_Parabola[udg_TS2]=(((4.00*udg_TS2_Height[udg_TS2])/ udg_TS2_MaxDistance[udg_TS2])*((udg_TS2_MaxDistance[udg_TS2]-udg_TS2_Distance[udg_TS2])*(udg_TS2_Distance[udg_TS2]/ udg_TS2_MaxDistance[udg_TS2])))
call SetUnitFlyHeightBJ(udg_TS2_Target[udg_TS2],udg_TS2_Parabola[udg_TS2],0.00)
call SetUnitFacingToFaceUnitTimed(udg_TS2_Hero[udg_TS2],udg_TS2_Target[udg_TS2],0)
call RemoveLocation(udg_TS2_Point[2])
call RemoveLocation(udg_TS2_Point[3])
endif
else
call SetUnitTimeScalePercent(udg_TS2_Target[udg_TS2_Times],100.00)
call ResetUnitLookAt(udg_TS2_Hero[udg_TS2])
call UnitRemoveBuffBJ('B01H',udg_TS2_Target[udg_TS2])
call UnitRemoveAbilityBJ('Arav',udg_TS2_Target[udg_TS2])
call SetUnitPathing(udg_TS2_Target[udg_TS2],true)
call PauseUnitBJ(false,udg_TS2_Target[udg_TS2])
set udg_TS2_Skip=(udg_TS2_Skip-1)
set udg_TS2_Off[udg_TS2]=false
if(Trig_Telekinetic_Seizure_Loop_Func001Func001Func001Func015C())then
set udg_TS2_Times=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
endif
else
endif
set udg_TS2=udg_TS2+1
endloop
endfunction
function InitTrig_Telekinetic_Seizure_Loop takes nothing returns nothing
set udg_trg_Telekinetic_Seizure_Loop=CreateTrigger()
call DisableTrigger(udg_trg_Telekinetic_Seizure_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_Telekinetic_Seizure_Loop,0.02)
call TriggerAddAction(udg_trg_Telekinetic_Seizure_Loop,function Trig_Telekinetic_Seizure_Loop_Actions)
endfunction
function Trig_Ball_Lighting_Setings_Conditions takes nothing returns boolean
if(not('A0CU'==GetSpellAbilityId()))then
return false
endif
return true
endfunction
function Trig_Ball_Lighting_Setings_Func006C takes nothing returns boolean
if(not(udg_BL_Skip==0))then
return false
endif
return true
endfunction
function Trig_Ball_Lighting_Setings_Actions takes nothing returns nothing
if(Trig_Ball_Lighting_Setings_Func006C())then
call EnableTrigger(udg_trg_Ball_Llighting_Loop)
else
endif
set udg_BL_Skip=(udg_BL_Skip+1)
set udg_BL_Times=(udg_BL_Times+1)
set udg_BL_Off[udg_BL_Times]=true
set udg_BL_Hero[udg_BL_Times]=GetSpellAbilityUnit()
set udg_BL_Point[0]=GetUnitLoc(GetSpellAbilityUnit())
set udg_BL_Point[1]=GetSpellTargetLoc()
set udg_BL_Angle[udg_BL_Times]=AngleBetweenPoints(udg_BL_Point[0],udg_BL_Point[1])
set udg_BL_Distance[udg_BL_Times]=(800.00+(200.00*I2R(GetUnitAbilityLevelSwapped('A0CU',udg_BL_Hero[udg_BL_Times]))))
set udg_BL_Speed[udg_BL_Times]=20.00
set udg_BL_Dmg[udg_BL_Times]=(100.00+(I2R(GetHeroStatBJ(bj_HEROSTAT_INT,udg_BL_Hero[udg_BL_Times],true))*(0.25+(0.25*I2R(GetUnitAbilityLevelSwapped('A0CU',udg_BL_Hero[udg_BL_Times]))))))
set udg_BL_AoE[udg_BL_Times]=(100.00+(50.00*I2R(GetUnitAbilityLevelSwapped('A0CU',udg_BL_Hero[udg_BL_Times]))))
set udg_BL_Collision[udg_BL_Times]=(50.00+(15.00*I2R(GetUnitAbilityLevelSwapped('A0CU',udg_BL_Hero[udg_BL_Times]))))
set udg_BL_Scale=(100.00+(20.00*I2R(GetUnitAbilityLevelSwapped('A0CU',udg_BL_Hero[udg_BL_Times]))))
call CreateNUnitsAtLocBonuses(1,'n045',GetOwningPlayer(udg_BL_Hero[udg_BL_Times]),udg_BL_Point[0],udg_BL_Angle[udg_BL_Times])
set udg_BL_Missile[udg_BL_Times]=GetLastCreatedUnit()
call SetUnitFlyHeightBJ(udg_BL_Missile[udg_BL_Times],30.00,0.00)
call SetUnitScalePercent(udg_BL_Missile[udg_BL_Times],udg_BL_Scale,udg_BL_Scale,udg_BL_Scale)
call AddSpecialEffectTargetUnitBJ("chest",udg_BL_Missile[udg_BL_Times],"Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl")
set udg_BL_Effect1[udg_BL_Times]=GetLastCreatedEffectBJ()
call AddSpecialEffectTargetUnitBJ("chest",udg_BL_Missile[udg_BL_Times],"Abilities\\Weapons\\SpiritOfVengeanceMissile\\SpiritOfVengeanceMissile.mdl")
set udg_BL_Effect2[udg_BL_Times]=GetLastCreatedEffectBJ()
call AddSpecialEffectTargetUnitBJ("chest",udg_BL_Missile[udg_BL_Times],"Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl")
set udg_BL_Effect3[udg_BL_Times]=GetLastCreatedEffectBJ()
call RemoveLocation(udg_BL_Point[0])
call RemoveLocation(udg_BL_Point[1])
endfunction
function InitTrig_Ball_Lighting_Setings takes nothing returns nothing
set udg_trg_Ball_Lighting_Setings=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Ball_Lighting_Setings,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Ball_Lighting_Setings,Condition(function Trig_Ball_Lighting_Setings_Conditions))
call TriggerAddAction(udg_trg_Ball_Lighting_Setings,function Trig_Ball_Lighting_Setings_Actions)
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func016002003001001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func016002003001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func016002003001 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false))
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func016002003002001001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func016002003002001002 takes nothing returns boolean
return(IsUnitDeadBJ(GetFilterUnit())==false)
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func016002003002001 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(IsUnitDeadBJ(GetFilterUnit())==false))
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func016002003002002001 takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_BL_Hero[udg_BL]))==false)
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func016002003002002002 takes nothing returns boolean
return true
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func016002003002002 takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_BL_Hero[udg_BL]))==false)
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func016002003002 takes nothing returns boolean
return GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(IsUnitDeadBJ(GetFilterUnit())==false))),((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_BL_Hero[udg_BL]))==false)))
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func016002003 takes nothing returns boolean
return GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false))),(GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(IsUnitDeadBJ(GetFilterUnit())==false))),((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_BL_Hero[udg_BL]))==false)))))
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func020Func007002003001001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func020Func007002003001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func020Func007002003001 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false))
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func020Func007002003002001001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func020Func007002003002001002 takes nothing returns boolean
return(IsUnitDeadBJ(GetFilterUnit())==false)
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func020Func007002003002001 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(IsUnitDeadBJ(GetFilterUnit())==false))
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func020Func007002003002002001 takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_BL_Hero[udg_BL]))==false)
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func020Func007002003002002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func020Func007002003002002 takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_BL_Hero[udg_BL]))==false)
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func020Func007002003002 takes nothing returns boolean
return GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(IsUnitDeadBJ(GetFilterUnit())==false))),((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_BL_Hero[udg_BL]))==false)))
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func020Func007002003 takes nothing returns boolean
return GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false))),(GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(IsUnitDeadBJ(GetFilterUnit())==false))),((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_BL_Hero[udg_BL]))==false)))))
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func020Func008A takes nothing returns nothing
call UnitDamageTargetBJ(udg_BL_Hero[udg_BL],GetEnumUnit(),udg_BL_Dmg[udg_BL],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_LIGHTNING)
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set udg_BL_Distance[udg_BL]=0.00
call CreateTextTagLocBJ(I2S(R2I(udg_BL_Dmg[udg_BL])),udg_BL_Point[3],120.00,10,40.00,40.00,100,0)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),70.00,90)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.00)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),2.00)
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func020C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_BL_Group)>0))then
return false
endif
return true
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func030Func016C takes nothing returns boolean
if(not(udg_BL_Skip==0))then
return false
endif
return true
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001Func030C takes nothing returns boolean
if(not(udg_BL_Distance[udg_BL]<=0.00))then
return false
endif
return true
endfunction
function Trig_Ball_Llighting_Loop_Func005Func001C takes nothing returns boolean
if(not(udg_BL_Off[udg_BL]==true))then
return false
endif
return true
endfunction
function Trig_Ball_Llighting_Loop_Actions takes nothing returns nothing
set udg_BL=1
loop
exitwhen udg_BL>udg_BL_Times
if(Trig_Ball_Llighting_Loop_Func005Func001C())then
set udg_BL_Point[2]=GetUnitLoc(udg_BL_Missile[udg_BL])
set udg_BL_Point[3]=PolarProjectionBJ(udg_BL_Point[2],udg_BL_Speed[udg_BL],udg_BL_Angle[udg_BL])
call SetUnitPositionLoc(udg_BL_Missile[udg_BL],udg_BL_Point[3])
set udg_BL_Distance[udg_BL]=(udg_BL_Distance[udg_BL]-udg_BL_Speed[udg_BL])
set udg_BL_Group=GetUnitsInRangeOfLocMatching(udg_BL_Collision[udg_BL],udg_BL_Point[3],Condition(function Trig_Ball_Llighting_Loop_Func005Func001Func016002003))
if(Trig_Ball_Llighting_Loop_Func005Func001Func020C())then
call AddSpecialEffectLocBJ(udg_BL_Point[3],"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call DestroyGroup(udg_BL_Group)
set udg_BL_Group=GetUnitsInRangeOfLocMatching(udg_BL_AoE[udg_BL],udg_BL_Point[3],Condition(function Trig_Ball_Llighting_Loop_Func005Func001Func020Func007002003))
call ForGroupBJ(udg_BL_Group,function Trig_Ball_Llighting_Loop_Func005Func001Func020Func008A)
else
endif
call RemoveLocation(udg_BL_Point[2])
call RemoveLocation(udg_BL_Point[3])
call DestroyGroup(udg_BL_Group)
if(Trig_Ball_Llighting_Loop_Func005Func001Func030C())then
call DestroyEffectBJ(udg_BL_Effect1[udg_BL])
call DestroyEffectBJ(udg_BL_Effect2[udg_BL])
call DestroyEffectBJ(udg_BL_Effect3[udg_BL])
call KillUnit(udg_BL_Missile[udg_BL])
set udg_BL_Skip=(udg_BL_Skip-1)
set udg_BL_Off[udg_BL]=false
if(Trig_Ball_Llighting_Loop_Func005Func001Func030Func016C())then
set udg_BL_Times=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
else
endif
else
endif
set udg_BL=udg_BL+1
endloop
endfunction
function InitTrig_Ball_Llighting_Loop takes nothing returns nothing
set udg_trg_Ball_Llighting_Loop=CreateTrigger()
call DisableTrigger(udg_trg_Ball_Llighting_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_Ball_Llighting_Loop,0.02)
call TriggerAddAction(udg_trg_Ball_Llighting_Loop,function Trig_Ball_Llighting_Loop_Actions)
endfunction
function Trig_Fire_Ball_Setings_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0CV'))then
return false
endif
return true
endfunction
function Trig_Fire_Ball_Setings_Func003C takes nothing returns boolean
if(not(udg_FB_Skip==0))then
return false
endif
return true
endfunction
function Trig_Fire_Ball_Setings_Actions takes nothing returns nothing
if(Trig_Fire_Ball_Setings_Func003C())then
call EnableTrigger(udg_trg_Fire_Ball_Loop)
else
endif
set udg_FB_Skip=(udg_FB_Skip+1)
set udg_FB_Times=(udg_FB_Times+1)
set udg_FB_Off[udg_FB_Times]=true
set udg_FB_Big[udg_FB_Times]=true
set udg_FB_Hero[udg_FB_Times]=GetSpellAbilityUnit()
set udg_FB_Point[0]=GetUnitLoc(GetSpellAbilityUnit())
set udg_FB_Point[1]=GetSpellTargetLoc()
set udg_FB_Angle[udg_FB_Times]=AngleBetweenPoints(udg_FB_Point[0],udg_FB_Point[1])
set udg_FB_Distance[udg_FB_Times]=1050.00
set udg_FB_Speed[udg_FB_Times]=15.00
set udg_FB_Damage[udg_FB_Times]=((75.00+(1.50*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,GetTriggerUnit(),true))))+(10.00*I2R(GetUnitAbilityLevelSwapped('A0CV',GetSpellAbilityUnit()))))
set udg_FB_AoE[udg_FB_Times]=250.00
set udg_FB_Colision[udg_FB_Times]=(50.00+(20.00*I2R(GetUnitAbilityLevelSwapped('A0CV',GetSpellAbilityUnit()))))
set udg_FB_Fragments[udg_FB_Times]=(2+(1*GetUnitAbilityLevelSwapped('A0CV',GetSpellAbilityUnit())))
set udg_FB_Scale=(90.00+(10.00*I2R(GetUnitAbilityLevelSwapped('A0CV',GetSpellAbilityUnit()))))
call CreateNUnitsAtLocBonuses(1,'n045',GetOwningPlayer(udg_FB_Hero[udg_FB_Times]),udg_FB_Point[0],udg_FB_Angle[udg_FB_Times])
set udg_FB_Missile[udg_FB_Times]=GetLastCreatedUnit()
call SetUnitFlyHeightBJ(udg_FB_Missile[udg_FB_Times],30.00,0.00)
call SetUnitScalePercent(udg_FB_Missile[udg_FB_Times],udg_FB_Scale,udg_FB_Scale,udg_FB_Scale)
call AddSpecialEffectTargetUnitBJ("chest",udg_FB_Missile[udg_FB_Times],"Abilities\\Weapons\\RedDragonBreath\\RedDragonMissile.mdl")
set udg_FB_Effect1[udg_FB_Times]=GetLastCreatedEffectBJ()
call AddSpecialEffectTargetUnitBJ("chest",udg_FB_Missile[udg_FB_Times],"Abilities\\Weapons\\FireBallMissile\\FireBallMissile.mdl")
set udg_FB_Effect2[udg_FB_Times]=GetLastCreatedEffectBJ()
call RemoveLocation(udg_FB_Point[0])
call RemoveLocation(udg_FB_Point[1])
endfunction
function InitTrig_Fire_Ball_Setings takes nothing returns nothing
set udg_trg_Fire_Ball_Setings=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Fire_Ball_Setings,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Fire_Ball_Setings,Condition(function Trig_Fire_Ball_Setings_Conditions))
call TriggerAddAction(udg_trg_Fire_Ball_Setings,function Trig_Fire_Ball_Setings_Actions)
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func011Func007Func001Func008C takes nothing returns boolean
if(not(GetUnitCurrentOrder(udg_FB_Missile[udg_FB])==String2OrderIdBJ("harvest")))then
return false
endif
return true
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func011Func007Func001C takes nothing returns boolean
if(not(IsDestructableAliveBJ(GetEnumDestructable())==true))then
return false
endif
return true
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func011Func007A takes nothing returns nothing
if(Trig_Fire_Ball_Loop_Func005Func001Func011Func007Func001C())then
call IssueTargetDestructableOrder(udg_FB_Missile[udg_FB],"harvest",GetEnumDestructable())
if(Trig_Fire_Ball_Loop_Func005Func001Func011Func007Func001Func008C())then
set udg_FB_Distance[udg_FB]=0.00
else
endif
else
endif
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func011Func011002003001001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func011Func011002003001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func011Func011002003001 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false))
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func011Func011002003002001001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func011Func011002003002001002 takes nothing returns boolean
return(IsUnitDeadBJ(GetFilterUnit())==false)
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func011Func011002003002001 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitDeadBJ(GetFilterUnit())==false))
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func011Func011002003002002 takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_FB_Hero[udg_FB]))==false)
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func011Func011002003002 takes nothing returns boolean
return GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitDeadBJ(GetFilterUnit())==false))),(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_FB_Hero[udg_FB]))==false))
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func011Func011002003 takes nothing returns boolean
return GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false))),(GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitDeadBJ(GetFilterUnit())==false))),(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_FB_Hero[udg_FB]))==false))))
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func011Func012C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_FB_Group[udg_FB])>0))then
return false
endif
return true
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func011C takes nothing returns boolean
if(not(udg_FB_Big[udg_FB]==true))then
return false
endif
return true
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func012Func006Func013Func001Func002C takes nothing returns boolean
if(not(GetUnitCurrentOrder(udg_FB_Missile[udg_FB])==String2OrderIdBJ("harvest")))then
return false
endif
return true
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func012Func006Func013Func001C takes nothing returns boolean
if(not(IsDestructableAliveBJ(GetEnumDestructable())==true))then
return false
endif
return true
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func012Func006Func013A takes nothing returns nothing
if(Trig_Fire_Ball_Loop_Func005Func001Func012Func006Func013Func001C())then
call IssueTargetDestructableOrder(udg_FB_Missile[udg_FB],"harvest",GetEnumDestructable())
if(Trig_Fire_Ball_Loop_Func005Func001Func012Func006Func013Func001Func002C())then
call KillDestructable(GetEnumDestructable())
else
endif
else
endif
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func012Func006C takes nothing returns boolean
if(not(udg_FB_Big[udg_FB]==false))then
return false
endif
return true
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func012Func010002003001001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func012Func010002003001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func012Func010002003001 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false))
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func012Func010002003002001001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func012Func010002003002001002 takes nothing returns boolean
return(IsUnitDeadBJ(GetFilterUnit())==false)
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func012Func010002003002001 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitDeadBJ(GetFilterUnit())==false))
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func012Func010002003002002 takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_FB_Hero[udg_FB]))==false)
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func012Func010002003002 takes nothing returns boolean
return GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitDeadBJ(GetFilterUnit())==false))),(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_FB_Hero[udg_FB]))==false))
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func012Func010002003 takes nothing returns boolean
return GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false))),(GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitDeadBJ(GetFilterUnit())==false))),(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_FB_Hero[udg_FB]))==false))))
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func012Func011A takes nothing returns nothing
call UnitDamageTargetBJ(udg_FB_Hero[udg_FB],GetEnumUnit(),udg_FB_Damage[udg_FB],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func012Func025C takes nothing returns boolean
if(not(udg_FB_Skip==0))then
return false
endif
return true
endfunction
function Trig_Fire_Ball_Loop_Func005Func001Func012C takes nothing returns boolean
if(not(udg_FB_Distance[udg_FB]<=0.00))then
return false
endif
return true
endfunction
function Trig_Fire_Ball_Loop_Func005Func001C takes nothing returns boolean
if(not(udg_FB_Off[udg_FB]==true))then
return false
endif
return true
endfunction
function Trig_Fire_Ball_Loop_Actions takes nothing returns nothing
set udg_FB=1
loop
exitwhen udg_FB>udg_FB_Times
if(Trig_Fire_Ball_Loop_Func005Func001C())then
set udg_FB_Point[2]=GetUnitLoc(udg_FB_Missile[udg_FB])
set udg_FB_Point[3]=PolarProjectionBJ(udg_FB_Point[2],udg_FB_Speed[udg_FB],udg_FB_Angle[udg_FB])
call SetUnitPositionLoc(udg_FB_Missile[udg_FB],udg_FB_Point[3])
set udg_FB_Distance[udg_FB]=(udg_FB_Distance[udg_FB]-udg_FB_Speed[udg_FB])
if(Trig_Fire_Ball_Loop_Func005Func001Func011C())then
call EnumDestructablesInCircleBJ(udg_FB_Colision[udg_FB],udg_FB_Point[3],function Trig_Fire_Ball_Loop_Func005Func001Func011Func007A)
set udg_FB_Group[udg_FB]=GetUnitsInRangeOfLocMatching(udg_FB_Colision[udg_FB],udg_FB_Point[3],Condition(function Trig_Fire_Ball_Loop_Func005Func001Func011Func011002003))
if(Trig_Fire_Ball_Loop_Func005Func001Func011Func012C())then
set udg_FB_Distance[udg_FB]=0.00
else
endif
call DestroyGroup(udg_FB_Group[udg_FB])
else
set udg_FB_Parabola[udg_FB]=(((4.00*udg_FB_Height[udg_FB])/ udg_FB_MaxDistance[udg_FB])*((udg_FB_MaxDistance[udg_FB]-udg_FB_Distance[udg_FB])*(udg_FB_Distance[udg_FB]/ udg_FB_MaxDistance[udg_FB])))
call SetUnitFlyHeightBJ(udg_FB_Missile[udg_FB],udg_FB_Parabola[udg_FB],0.00)
endif
if(Trig_Fire_Ball_Loop_Func005Func001Func012C())then
call DestroyEffectBJ(udg_FB_Effect1[udg_FB])
if(Trig_Fire_Ball_Loop_Func005Func001Func012Func006C())then
call AddSpecialEffectLocBJ(udg_FB_Point[3],"Abilities\\Weapons\\FireBallMissile\\FireBallMissile.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
call DestroyEffectBJ(udg_FB_Effect2[udg_FB])
call AddSpecialEffectLocBJ(udg_FB_Point[3],"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call EnumDestructablesInCircleBJ(udg_FB_AoE[udg_FB],udg_FB_Point[3],function Trig_Fire_Ball_Loop_Func005Func001Func012Func006Func013A)
set udg_FB_Point[4]=GetUnitLoc(udg_FB_Missile[udg_FB])
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=udg_FB_Fragments[udg_FB]
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_FB_Skip=(udg_FB_Skip+1)
set udg_FB_Times=(udg_FB_Times+1)
set udg_FB_Off[udg_FB_Times]=true
set udg_FB_Big[udg_FB_Times]=false
set udg_FB_Hero[udg_FB_Times]=udg_FB_Hero[udg_FB]
set udg_FB_Angle[udg_FB_Times]=(udg_FB_Angle[udg_FB]+GetRandomReal(-60.00,60.00))
set udg_FB_Distance[udg_FB_Times]=GetRandomReal(200.00,400.00)
set udg_FB_MaxDistance[udg_FB_Times]=udg_FB_Distance[udg_FB_Times]
set udg_FB_Speed[udg_FB_Times]=(udg_FB_MaxDistance[udg_FB_Times]*0.02)
set udg_FB_Height[udg_FB_Times]=GetRandomReal(100.00,200.00)
set udg_FB_Damage[udg_FB_Times]=(udg_FB_Damage[udg_FB]/ 4.00)
set udg_FB_AoE[udg_FB_Times]=150.00
set udg_FB_Scale=50.00
call CreateNUnitsAtLocBonuses(1,'n045',GetOwningPlayer(udg_FB_Hero[udg_FB_Times]),udg_FB_Point[4],udg_FB_Angle[udg_FB_Times])
set udg_FB_Missile[udg_FB_Times]=GetLastCreatedUnit()
call SetUnitScalePercent(udg_FB_Missile[udg_FB_Times],udg_FB_Scale,udg_FB_Scale,udg_FB_Scale)
call AddSpecialEffectTargetUnitBJ("chest",udg_FB_Missile[udg_FB_Times],"Abilities\\Weapons\\RedDragonBreath\\RedDragonMissile.mdl")
set udg_FB_Effect1[udg_FB_Times]=GetLastCreatedEffectBJ()
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(udg_FB_Point[4])
endif
set udg_FB_Group[udg_FB]=GetUnitsInRangeOfLocMatching(udg_FB_AoE[udg_FB],udg_FB_Point[3],Condition(function Trig_Fire_Ball_Loop_Func005Func001Func012Func010002003))
call ForGroupBJ(udg_FB_Group[udg_FB],function Trig_Fire_Ball_Loop_Func005Func001Func012Func011A)
call DestroyGroup(udg_FB_Group[udg_FB])
call KillUnit(udg_FB_Missile[udg_FB])
set udg_FB_Skip=(udg_FB_Skip-1)
set udg_FB_Off[udg_FB]=false
if(Trig_Fire_Ball_Loop_Func005Func001Func012Func025C())then
set udg_FB_Times=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
else
endif
call RemoveLocation(udg_FB_Point[2])
call RemoveLocation(udg_FB_Point[3])
else
endif
set udg_FB=udg_FB+1
endloop
endfunction
function InitTrig_Fire_Ball_Loop takes nothing returns nothing
set udg_trg_Fire_Ball_Loop=CreateTrigger()
call DisableTrigger(udg_trg_Fire_Ball_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_Fire_Ball_Loop,0.02)
call TriggerAddAction(udg_trg_Fire_Ball_Loop,function Trig_Fire_Ball_Loop_Actions)
endfunction
function Trig_Shield_Bash_Setings_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0CW'))then
return false
endif
return true
endfunction
function Trig_Shield_Bash_Setings_Func001C takes nothing returns boolean
if(not(udg_SB_Skip==0))then
return false
endif
return true
endfunction
function Trig_Shield_Bash_Setings_Actions takes nothing returns nothing
if(Trig_Shield_Bash_Setings_Func001C())then
call EnableTrigger(udg_trg_Shield_bash_Loop)
else
endif
set udg_SB_Skip=(udg_SB_Skip+1)
set udg_SB_Times=(udg_SB_Times+1)
set udg_SB_On[udg_SB_Times]=true
set udg_SB_Hero[udg_SB_Times]=GetTriggerUnit()
set udg_SB_Level[udg_SB_Times]=GetUnitAbilityLevelSwapped('A0CW',GetTriggerUnit())
set udg_SB_Point[0]=GetUnitLoc(GetTriggerUnit())
set udg_SB_Point[1]=GetSpellTargetLoc()
set udg_SB_Distance[udg_SB_Times]=DistanceBetweenPoints(udg_SB_Point[0],udg_SB_Point[1])
set udg_SB_Angle[udg_SB_Times]=AngleBetweenPoints(udg_SB_Point[0],udg_SB_Point[1])
set udg_SB_Speed[udg_SB_Times]=(20.00+(2.00*I2R(udg_SB_Level[udg_SB_Times])))
set udg_SB_Damage[udg_SB_Times]=(60.00+(40.00*I2R(udg_SB_Level[udg_SB_Times])))
set udg_SB_Spam[udg_SB_Times]=0
call PauseUnitBJ(true,GetTriggerUnit())
call SetUnitPathing(udg_SB_Hero[udg_SB_Times],false)
call SetUnitAnimation(GetTriggerUnit(),"defend")
call RemoveLocation(udg_SB_Point[0])
call RemoveLocation(udg_SB_Point[1])
endfunction
function InitTrig_Shield_Bash_Setings takes nothing returns nothing
set udg_trg_Shield_Bash_Setings=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Shield_Bash_Setings,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Shield_Bash_Setings,Condition(function Trig_Shield_Bash_Setings_Conditions))
call TriggerAddAction(udg_trg_Shield_Bash_Setings,function Trig_Shield_Bash_Setings_Actions)
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func003C takes nothing returns boolean
if(not(udg_SB_Spam[udg_SB]==0))then
return false
endif
return true
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func007A takes nothing returns nothing
set udg_SB_Distance[udg_SB]=0.00
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func012002003001001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func012002003001002 takes nothing returns boolean
return(IsUnitDeadBJ(GetFilterUnit())==false)
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func012002003001 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitDeadBJ(GetFilterUnit())==false))
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func012002003002 takes nothing returns boolean
return(GetFilterUnit()!=udg_SB_Hero[udg_SB])
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func012002003 takes nothing returns boolean
return GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitDeadBJ(GetFilterUnit())==false))),(GetFilterUnit()!=udg_SB_Hero[udg_SB]))
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func016Func014002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func016Func014002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func016Func014002003002002001 takes nothing returns boolean
return(IsUnitDeadBJ(GetFilterUnit())==false)
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func016Func014002003002002002001 takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_SB_Hero[udg_SB]))==false)
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func016Func014002003002002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func016Func014002003002002002002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func016Func014002003002002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false),(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func016Func014002003002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_SB_Hero[udg_SB]))==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false),(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func016Func014002003002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitDeadBJ(GetFilterUnit())==false),(GetBooleanAnd((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_SB_Hero[udg_SB]))==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false),(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func016Func014002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(GetBooleanAnd((IsUnitDeadBJ(GetFilterUnit())==false),(GetBooleanAnd((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_SB_Hero[udg_SB]))==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false),(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))))
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func016Func014002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(GetBooleanAnd((IsUnitDeadBJ(GetFilterUnit())==false),(GetBooleanAnd((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_SB_Hero[udg_SB]))==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false),(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))))))
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func016Func015Func005C takes nothing returns boolean
if(not(udg_KB_Skip==0))then
return false
endif
return true
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func016Func015A takes nothing returns nothing
call UnitDamageTargetBJ(udg_SB_Hero[udg_SB],GetEnumUnit(),udg_SB_Damage[udg_SB],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FORCE)
if(Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func016Func015Func005C())then
call EnableTrigger(udg_trg_Knockback_System)
else
endif
set udg_KB_Skip=(udg_KB_Skip+1)
set udg_KB_Times=(udg_KB_Times+1)
set udg_KB_Off[udg_KB_Times]=true
set udg_KB_Target[udg_KB_Times]=GetEnumUnit()
call PauseUnitBJ(true,udg_KB_Target[udg_KB_Times])
set udg_KB_Point[1]=GetUnitLoc(udg_KB_Target[udg_KB_Times])
set udg_KB_Angle[udg_KB_Times]=AngleBetweenPoints(udg_KB_Point[0],udg_KB_Point[1])
set udg_KB_Distance[udg_KB_Times]=(150.00+(50.00*I2R(udg_SB_Level[udg_SB])))
set udg_KB_Speed[udg_KB_Times]=(udg_KB_Distance[udg_KB_Times]/ 50.00)
set udg_KB_Spam[udg_KB_Times]=10
call RemoveLocation(udg_KB_Point[1])
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func016C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_SB_Group[udg_SB])>0))then
return false
endif
return true
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func017C takes nothing returns boolean
if((RectContainsLoc(GetPlayableMapRect(),udg_SB_Point[3])!=true))then
return true
endif
if((IsTerrainPathableBJ(udg_SB_Point[3],PATHING_TYPE_WALKABILITY)==true))then
return true
endif
return false
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006C takes nothing returns boolean
if(not Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func017C())then
return false
endif
return true
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func013C takes nothing returns boolean
if((IsUnitType(udg_SB_Hero[udg_SB],UNIT_TYPE_STUNNED)==true))then
return true
endif
if((IsUnitDeadBJ(udg_SB_Hero[udg_SB])==true))then
return true
endif
return false
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func004C takes nothing returns boolean
if(not Trig_Shield_bash_Loop_Func001Func001Func001Func004Func013C())then
return false
endif
return true
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001Func016C takes nothing returns boolean
if(not(udg_SB_Skip<=0))then
return false
endif
return true
endfunction
function Trig_Shield_bash_Loop_Func001Func001Func001C takes nothing returns boolean
if(not(udg_SB_Distance[udg_SB]<=0.00))then
return false
endif
return true
endfunction
function Trig_Shield_bash_Loop_Func001Func001C takes nothing returns boolean
if(not(udg_SB_On[udg_SB]==true))then
return false
endif
return true
endfunction
function Trig_Shield_bash_Loop_Actions takes nothing returns nothing
set udg_SB=1
loop
exitwhen udg_SB>udg_SB_Times
if(Trig_Shield_bash_Loop_Func001Func001C())then
if(Trig_Shield_bash_Loop_Func001Func001Func001C())then
call ResetUnitAnimation(udg_SB_Hero[udg_SB])
call SetUnitPathing(udg_SB_Hero[udg_SB],true)
call PauseUnitBJ(false,udg_SB_Hero[udg_SB])
set udg_SB_On[udg_SB]=false
set udg_SB_Skip=(udg_SB_Skip-1)
if(Trig_Shield_bash_Loop_Func001Func001Func001Func016C())then
set udg_SB_Times=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
else
if(Trig_Shield_bash_Loop_Func001Func001Func001Func004C())then
set udg_SB_Distance[udg_SB]=0.00
else
set udg_SB_Point[2]=GetUnitLoc(udg_SB_Hero[udg_SB])
set udg_SB_Point[3]=PolarProjectionBJ(udg_SB_Point[2],udg_SB_Speed[udg_SB],udg_SB_Angle[udg_SB])
if(Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006C())then
set udg_SB_Distance[udg_SB]=0.00
else
call SetUnitPositionLocFacingBJ(udg_SB_Hero[udg_SB],udg_SB_Point[3],udg_SB_Angle[udg_SB])
if(Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func003C())then
set udg_SB_Spam[udg_SB]=3
call AddSpecialEffectLocBJ(udg_SB_Point[3],"Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
set udg_SB_Spam[udg_SB]=(udg_SB_Spam[udg_SB]-1)
endif
set udg_SB_Distance[udg_SB]=(udg_SB_Distance[udg_SB]-udg_SB_Speed[udg_SB])
set udg_SB_Group[udg_SB]=GetUnitsInRangeOfLocMatching(100.00,udg_SB_Point[3],Condition(function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func012002003))
if(Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func016C())then
call DestroyGroup(udg_SB_Group[udg_SB])
set udg_SB_Distance[udg_SB]=0.00
set udg_KB_Point[0]=udg_SB_Point[3]
set udg_SB_Group[udg_SB]=GetUnitsInRangeOfLocMatching(150.00,udg_SB_Point[3],Condition(function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func016Func014002003))
call ForGroupBJ(udg_SB_Group[udg_SB],function Trig_Shield_bash_Loop_Func001Func001Func001Func004Func006Func016Func015A)
call RemoveLocation(udg_KB_Point[0])
else
call DestroyGroup(udg_SB_Group[udg_SB])
endif
endif
call RemoveLocation(udg_SB_Point[2])
call RemoveLocation(udg_SB_Point[3])
endif
endif
else
endif
set udg_SB=udg_SB+1
endloop
endfunction
function InitTrig_Shield_bash_Loop takes nothing returns nothing
set udg_trg_Shield_bash_Loop=CreateTrigger()
call DisableTrigger(udg_trg_Shield_bash_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_Shield_bash_Loop,0.02)
call TriggerAddAction(udg_trg_Shield_bash_Loop,function Trig_Shield_bash_Loop_Actions)
endfunction
function Trig_Knockback_System_Func001Func001Func001Func010C takes nothing returns boolean
if(not(IsTerrainPathableBJ(udg_KB_Point[3],PATHING_TYPE_WALKABILITY)==true))then
return false
endif
return true
endfunction
function Trig_Knockback_System_Func001Func001Func001Func016C takes nothing returns boolean
if(not(udg_KB_Spam[udg_KB]>=5))then
return false
endif
return true
endfunction
function Trig_Knockback_System_Func001Func001Func001Func027C takes nothing returns boolean
if(not(udg_KB<udg_KB_Times))then
return false
endif
return true
endfunction
function Trig_Knockback_System_Func001Func001Func001Func034C takes nothing returns boolean
if(not(udg_KB_Times==0))then
return false
endif
return true
endfunction
function Trig_Knockback_System_Func001Func001Func001C takes nothing returns boolean
if(not(udg_KB_Distance[udg_KB]<=0.00))then
return false
endif
return true
endfunction
function Trig_Knockback_System_Func001Func001C takes nothing returns boolean
if(not(udg_KB_Off[udg_KB]==true))then
return false
endif
return true
endfunction
function Trig_Knockback_System_Actions takes nothing returns nothing
set udg_KB=1
loop
exitwhen udg_KB>udg_KB_Times
if(Trig_Knockback_System_Func001Func001C())then
if(Trig_Knockback_System_Func001Func001Func001C())then
call PauseUnitBJ(false,udg_KB_Target[udg_KB])
set udg_KB_Off[udg_KB]=false
if(Trig_Knockback_System_Func001Func001Func001Func027C())then
set udg_KB_Off[udg_KB]=udg_KB_Off[udg_KB_Times]
set udg_KB_Target[udg_KB]=udg_KB_Target[udg_KB_Times]
set udg_KB_Distance[udg_KB]=udg_KB_Distance[udg_KB_Times]
set udg_KB_Speed[udg_KB]=udg_KB_Speed[udg_KB_Times]
set udg_KB_Spam[udg_KB]=udg_KB_Spam[udg_KB_Times]
set udg_KB_Angle[udg_KB]=udg_KB_Angle[udg_KB_Times]
else
endif
set udg_KB_Times=(udg_KB_Times-1)
set udg_KB=(udg_KB-1)
set udg_KB_Skip=(udg_KB_Skip-1)
if(Trig_Knockback_System_Func001Func001Func001Func034C())then
call DisableTrigger(GetTriggeringTrigger())
else
endif
else
set udg_KB_Point[2]=GetUnitLoc(udg_KB_Target[udg_KB])
set udg_KB_Point[3]=PolarProjectionBJ(udg_KB_Point[2],udg_KB_Speed[udg_KB],udg_KB_Angle[udg_KB])
if(Trig_Knockback_System_Func001Func001Func001Func010C())then
set udg_KB_Distance[udg_KB]=0.00
else
call SetUnitX(udg_KB_Target[udg_KB],GetLocationX(udg_KB_Point[3]))
call SetUnitY(udg_KB_Target[udg_KB],GetLocationY(udg_KB_Point[3]))
endif
set udg_KB_Distance[udg_KB]=(udg_KB_Distance[udg_KB]-udg_KB_Speed[udg_KB])
set udg_KB_Spam[udg_KB]=(udg_KB_Spam[udg_KB]+1)
if(Trig_Knockback_System_Func001Func001Func001Func016C())then
set udg_KB_Spam[udg_KB]=0
call AddSpecialEffectLocBJ(udg_KB_Point[3],"Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
endif
call RemoveLocation(udg_KB_Point[2])
call RemoveLocation(udg_KB_Point[3])
endif
else
endif
set udg_KB=udg_KB+1
endloop
endfunction
function InitTrig_Knockback_System takes nothing returns nothing
set udg_trg_Knockback_System=CreateTrigger()
call DisableTrigger(udg_trg_Knockback_System)
call TriggerRegisterTimerEventPeriodic(udg_trg_Knockback_System,0.02)
call TriggerAddAction(udg_trg_Knockback_System,function Trig_Knockback_System_Actions)
endfunction
function Trig_deceiver_slam_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0K7'))then
return false
endif
return true
endfunction
function Trig_deceiver_slam_Func003002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_deceiver_slam_Func003002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)
endfunction
function Trig_deceiver_slam_Func003002003002002001 takes nothing returns boolean
return(IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true)
endfunction
function Trig_deceiver_slam_Func003002003002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_deceiver_slam_Func003002003002002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)
endfunction
function Trig_deceiver_slam_Func003002003002002002002002 takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_deceiver_slam_Func003002003002002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))
endfunction
function Trig_deceiver_slam_Func003002003002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))
endfunction
function Trig_deceiver_slam_Func003002003002002 takes nothing returns boolean
return GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))
endfunction
function Trig_deceiver_slam_Func003002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))))
endfunction
function Trig_deceiver_slam_Func003002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))))))
endfunction
function Trig_deceiver_slam_Func004A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Antidesync_temp_unit,GetEnumUnit(),150.00,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call CreateNUnitsAtLocBonuses(1,'e018',GetOwningPlayer(udg_Antidesync_temp_unit),udg_TempPoint,bj_UNIT_FACING)
call UnitAddAbilityBJ('A0JW',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0JW',GetLastCreatedUnit(),8)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"slow",GetEnumUnit())
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
endfunction
function Trig_deceiver_slam_Actions takes nothing returns nothing
set udg_Antidesync_temp_unit=GetTriggerUnit()
set udg_TempPoint=GetUnitLoc(udg_Antidesync_temp_unit)
set udg_TempGroup=GetUnitsInRangeOfLocMatching(300.00,udg_TempPoint,Condition(function Trig_deceiver_slam_Func003002003))
call ForGroupBJ(udg_TempGroup,function Trig_deceiver_slam_Func004A)
call CreateNUnitsAtLocBonuses(1,'h03E',GetOwningPlayer(udg_Antidesync_temp_unit),udg_TempPoint,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('AInv',GetLastCreatedUnit())
call UnitAddItemByIdSwapped('I032',GetLastCreatedUnit())
call UnitUseItemTarget(GetLastCreatedUnit(),GetLastCreatedItem(),GetTriggerUnit())
call RemoveLocation(udg_TempPoint)
call DestroyGroup(udg_TempGroup)
endfunction
function InitTrig_deceiver_slam takes nothing returns nothing
set udg_trg_deceiver_slam=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_deceiver_slam,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_deceiver_slam,Condition(function Trig_deceiver_slam_Conditions))
call TriggerAddAction(udg_trg_deceiver_slam,function Trig_deceiver_slam_Actions)
endfunction
function Trig_Zombie_summon_Func002C takes nothing returns boolean
if((GetUnitTypeId(GetAttacker())=='n040'))then
return true
endif
if((GetUnitTypeId(GetAttacker())=='n03Z'))then
return true
endif
if((GetUnitTypeId(GetAttacker())=='n03Y'))then
return true
endif
return false
endfunction
function Trig_Zombie_summon_Conditions takes nothing returns boolean
if(not Trig_Zombie_summon_Func002C())then
return false
endif
return true
endfunction
function Trig_Zombie_summon_Actions takes nothing returns nothing
call IssueImmediateOrderBJ(GetAttacker(),"summongrizzly")
endfunction
function InitTrig_Zombie_summon takes nothing returns nothing
set udg_trg_Zombie_summon=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Zombie_summon,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(udg_trg_Zombie_summon,Condition(function Trig_Zombie_summon_Conditions))
call TriggerAddAction(udg_trg_Zombie_summon,function Trig_Zombie_summon_Actions)
endfunction
function Trig_Zombie_Bloodlust_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0C9'))then
return false
endif
return true
endfunction
function Trig_Zombie_Bloodlust_Func003Func001Func003C takes nothing returns boolean
if((GetUnitTypeId(GetEnumUnit())=='ndmu'))then
return true
endif
if((GetUnitTypeId(GetEnumUnit())=='U01P'))then
return true
endif
return false
endfunction
function Trig_Zombie_Bloodlust_Func003Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
if(not Trig_Zombie_Bloodlust_Func003Func001Func003C())then
return false
endif
return true
endfunction
function Trig_Zombie_Bloodlust_Func003A takes nothing returns nothing
if(Trig_Zombie_Bloodlust_Func003Func001C())then
call GroupAddUnitSimple(GetEnumUnit(),udg_ZB_ZombieUnitGroup)
else
endif
endfunction
function Trig_Zombie_Bloodlust_Actions takes nothing returns nothing
set udg_ZA_Point[9]=GetRandomLocInRect(udg_rct_Random_Events_Bandit_Spawn)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(GetEntireMapRect()),function Trig_Zombie_Bloodlust_Func003A)
set udg_ZB_NumberOfZombies=CountUnitsInGroup(udg_ZB_ZombieUnitGroup)
set udg_ZB_Integer=1
loop
exitwhen udg_ZB_Integer>udg_ZB_NumberOfZombies
call CreateNUnitsAtLocBonuses(1,'h053',GetOwningPlayer(GetTriggerUnit()),udg_ZA_Point[9],bj_UNIT_FACING)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"bloodlust",GroupPickRandomUnit(udg_ZB_ZombieUnitGroup))
call RemoveUnit(GetLastCreatedUnit())
set udg_ZB_Integer=udg_ZB_Integer+1
endloop
call RemoveLocation(udg_ZA_Point[9])
endfunction
function InitTrig_Zombie_Bloodlust takes nothing returns nothing
set udg_trg_Zombie_Bloodlust=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Zombie_Bloodlust,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Zombie_Bloodlust,Condition(function Trig_Zombie_Bloodlust_Conditions))
call TriggerAddAction(udg_trg_Zombie_Bloodlust,function Trig_Zombie_Bloodlust_Actions)
endfunction
function Trig_Zombie_Bloodlust_Copy_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0CA'))then
return false
endif
return true
endfunction
function Trig_Zombie_Bloodlust_Copy_Actions takes nothing returns nothing
call GroupRemoveUnitSimple(GetSpellTargetUnit(),udg_ZB_ZombieUnitGroup)
endfunction
function InitTrig_Zombie_Bloodlust_Copy takes nothing returns nothing
set udg_trg_Zombie_Bloodlust_Copy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Zombie_Bloodlust_Copy,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Zombie_Bloodlust_Copy,Condition(function Trig_Zombie_Bloodlust_Copy_Conditions))
call TriggerAddAction(udg_trg_Zombie_Bloodlust_Copy,function Trig_Zombie_Bloodlust_Copy_Actions)
endfunction
function Trig_Zombie_apocalypse_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0C7'))then
return false
endif
return true
endfunction
function Trig_Zombie_apocalypse_Func001C takes nothing returns boolean
if(not(RectContainsUnit(udg_rct_WHOLE_MAP_NOT_DUEL,GetTriggerUnit())==true))then
return false
endif
return true
endfunction
function Trig_Zombie_apocalypse_Actions takes nothing returns nothing
if(Trig_Zombie_apocalypse_Func001C())then
set udg_ZA_Point[2]=GetRandomLocInRect(udg_rct_Entire_map_excluding_outa_bounds_2)
call CreateNUnitsAtLocBonuses(1,'ndmu',GetOwningPlayer(GetTriggerUnit()),udg_ZA_Point[2],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(240.00,'BTLF',GetLastCreatedUnit())
call SetUnitAnimation(GetLastCreatedUnit(),"birth")
call RemoveLocation(udg_ZA_Point[2])
set udg_ZA_Integer=1
loop
exitwhen udg_ZA_Integer>14
set udg_ZA_Point[1]=GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds)
call CreateNUnitsAtLocBonuses(1,'ndmu',GetOwningPlayer(GetTriggerUnit()),udg_ZA_Point[1],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(240.00,'BTLF',GetLastCreatedUnit())
call SetUnitAnimation(GetLastCreatedUnit(),"birth")
call RemoveLocation(udg_ZA_Point[1])
set udg_ZA_Integer=udg_ZA_Integer+1
endloop
else
endif
endfunction
function InitTrig_Zombie_apocalypse takes nothing returns nothing
set udg_trg_Zombie_apocalypse=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Zombie_apocalypse,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(udg_trg_Zombie_apocalypse,Condition(function Trig_Zombie_apocalypse_Conditions))
call TriggerAddAction(udg_trg_Zombie_apocalypse,function Trig_Zombie_apocalypse_Actions)
endfunction
function Trig_Zombie_apocalypse_Copy_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='ndmu'))then
return false
endif
return true
endfunction
function Trig_Zombie_apocalypse_Copy_Func003C takes nothing returns boolean
if(not(udg_Zombie_Reincarnation_Chance==4))then
return false
endif
return true
endfunction
function Trig_Zombie_apocalypse_Copy_Func004Func001C takes nothing returns boolean
if((udg_Zombie_Revive_Chance==1))then
return true
endif
if((udg_Zombie_Revive_Chance==2))then
return true
endif
return false
endfunction
function Trig_Zombie_apocalypse_Copy_Func004C takes nothing returns boolean
if(not Trig_Zombie_apocalypse_Copy_Func004Func001C())then
return false
endif
return true
endfunction
function Trig_Zombie_apocalypse_Copy_Func005C takes nothing returns boolean
if(not(udg_Zombie_Revive_Chance==3))then
return false
endif
return true
endfunction
function Trig_Zombie_apocalypse_Copy_Func006C takes nothing returns boolean
if(not(udg_Zombie_Revive_Chance==4))then
return false
endif
return true
endfunction
function Trig_Zombie_apocalypse_Copy_Actions takes nothing returns nothing
set udg_Zombie_Reincarnation_Chance=GetRandomInt(1,4)
set udg_Zombie_Revive_Chance=GetRandomInt(1,25)
if(Trig_Zombie_apocalypse_Copy_Func003C())then
call UnitAddAbilityBJ('ACrn',GetTriggerUnit())
else
endif
if(Trig_Zombie_apocalypse_Copy_Func004C())then
call UnitAddAbilityBJ('A0CC',GetTriggerUnit())
else
endif
if(Trig_Zombie_apocalypse_Copy_Func005C())then
call UnitAddAbilityBJ('A0CD',GetTriggerUnit())
else
endif
if(Trig_Zombie_apocalypse_Copy_Func006C())then
call UnitAddAbilityBJ('A0CE',GetTriggerUnit())
else
endif
endfunction
function InitTrig_Zombie_apocalypse_Copy takes nothing returns nothing
set udg_trg_Zombie_apocalypse_Copy=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_Zombie_apocalypse_Copy,GetEntireMapRect())
call TriggerAddCondition(udg_trg_Zombie_apocalypse_Copy,Condition(function Trig_Zombie_apocalypse_Copy_Conditions))
call TriggerAddAction(udg_trg_Zombie_apocalypse_Copy,function Trig_Zombie_apocalypse_Copy_Actions)
endfunction
function Trig_nuke_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0BX'))then
return false
endif
return true
endfunction
function Trig_nuke_Actions takes nothing returns nothing
set udg_Nuke_Point[1]=GetSpellTargetLoc()
call CreateNUnitsAtLocBonuses(1,'h04A',GetOwningPlayer(GetTriggerUnit()),udg_Nuke_Point[1],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(6.00,'BTLF',GetLastCreatedUnit())
call RemoveLocation(udg_Nuke_Point[1])
endfunction
function InitTrig_nuke takes nothing returns nothing
set udg_trg_nuke=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_nuke,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_nuke,Condition(function Trig_nuke_Conditions))
call TriggerAddAction(udg_trg_nuke,function Trig_nuke_Actions)
endfunction
function Trig_nuke_pt_2_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='h04A'))then
return false
endif
return true
endfunction
function Trig_nuke_pt_2_Actions takes nothing returns nothing
set udg_Nuke_Point[2]=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocBonuses(1,'h04Q',GetOwningPlayer(GetTriggerUnit()),udg_Nuke_Point[2],bj_UNIT_FACING)
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"flamestrike",udg_Nuke_Point[2])
call UnitApplyTimedLifeBJ(10.00,'BTLF',GetLastCreatedUnit())
call RemoveLocation(udg_Nuke_Point[2])
endfunction
function InitTrig_nuke_pt_2 takes nothing returns nothing
set udg_trg_nuke_pt_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_nuke_pt_2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_nuke_pt_2,Condition(function Trig_nuke_pt_2_Conditions))
call TriggerAddAction(udg_trg_nuke_pt_2,function Trig_nuke_pt_2_Actions)
endfunction
function Trig_summon_tree_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0B0'))then
return false
endif
return true
endfunction
function Trig_summon_tree_Actions takes nothing returns nothing
call CreateDestructableLoc('B004',GetSpellTargetLoc(),GetRandomDirectionDeg(),1,0)
endfunction
function InitTrig_summon_tree takes nothing returns nothing
set udg_trg_summon_tree=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_summon_tree,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_summon_tree,Condition(function Trig_summon_tree_Conditions))
call TriggerAddAction(udg_trg_summon_tree,function Trig_summon_tree_Actions)
endfunction
function Trig_summon_tree_Copy_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0BF'))then
return false
endif
return true
endfunction
function Trig_summon_tree_Copy_Actions takes nothing returns nothing
call CreateDestructableLoc('B004',GetSpellTargetLoc(),GetRandomDirectionDeg(),1,0)
endfunction
function InitTrig_summon_tree_Copy takes nothing returns nothing
set udg_trg_summon_tree_Copy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_summon_tree_Copy,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_summon_tree_Copy,Condition(function Trig_summon_tree_Copy_Conditions))
call TriggerAddAction(udg_trg_summon_tree_Copy,function Trig_summon_tree_Copy_Actions)
endfunction
function Trig_Holy_Wrath_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A09O'))then
return false
endif
return true
endfunction
function Trig_Holy_Wrath_Func021002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Holy_Wrath_Func021002003002 takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_Temp_Caster))==true)
endfunction
function Trig_Holy_Wrath_Func021002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_Temp_Caster))==true))
endfunction
function Trig_Holy_Wrath_Func023001003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Holy_Wrath_Func023001003002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Holy_Wrath_Func023001003 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitAliveBJ(GetFilterUnit())==true))
endfunction
function Trig_Holy_Wrath_Func023Func001C takes nothing returns boolean
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
if(not(IsUnitAlly(GetEnumUnit(),GetOwningPlayer(udg_Temp_Caster))==true))then
return false
endif
return true
endfunction
function Trig_Holy_Wrath_Func023A takes nothing returns nothing
if(Trig_Holy_Wrath_Func023Func001C())then
set udg_Unit_Location=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(udg_Unit_Location,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitLifeBJ(GetEnumUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())+udg_Real_Heal))
call RemoveLocation(udg_Unit_Location)
else
set udg_Unit_Location=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(udg_Unit_Location,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(udg_Temp_Caster,GetEnumUnit(),udg_Real_Damage,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN)
call RemoveLocation(udg_Unit_Location)
endif
endfunction
function Trig_Holy_Wrath_Actions takes nothing returns nothing
set udg_Target_Location=GetSpellTargetLoc()
set udg_Temp_Caster=GetTriggerUnit()
set udg_Real_Damage=(100.00*I2R(GetUnitAbilityLevelSwapped('A09O',udg_Temp_Caster)))
set udg_Real_Heal=(200.00+(I2R(GetUnitAbilityLevelSwapped('A09O',udg_Temp_Caster))*100.00))
call CreateNUnitsAtLocBonuses(1,'e000',GetOwningPlayer(udg_Temp_Caster),udg_Target_Location,bj_UNIT_FACING)
set udg_Holy_Wrath_Group=GetUnitsInRangeOfLocMatching(250.00,udg_Target_Location,Condition(function Trig_Holy_Wrath_Func021002003))
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocMatching(250.00,udg_Target_Location,Condition(function Trig_Holy_Wrath_Func023001003)),function Trig_Holy_Wrath_Func023A)
call RemoveLocation(udg_Target_Location)
set udg_Temp_Caster=null
call DestroyGroup(udg_Holy_Wrath_Group)
endfunction
function InitTrig_Holy_Wrath takes nothing returns nothing
set udg_trg_Holy_Wrath=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Holy_Wrath,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Holy_Wrath,Condition(function Trig_Holy_Wrath_Conditions))
call TriggerAddAction(udg_trg_Holy_Wrath,function Trig_Holy_Wrath_Actions)
endfunction
function Trig_Smokescreen_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A04G'))then
return false
endif
return true
endfunction
function Trig_Smokescreen_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'h01W',GetOwningPlayer(GetSpellAbilityUnit()),GetUnitLoc(GetSpellAbilityUnit()),bj_UNIT_FACING)
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"cloudoffog",GetSpellTargetLoc())
call UnitApplyTimedLifeBJ(7.00,'BTLF',GetLastCreatedUnit())
endfunction
function InitTrig_Smokescreen takes nothing returns nothing
set udg_trg_Smokescreen=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Smokescreen,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Smokescreen,Condition(function Trig_Smokescreen_Conditions))
call TriggerAddAction(udg_trg_Smokescreen,function Trig_Smokescreen_Actions)
endfunction
function Trig_Teleport_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A08B'))then
return false
endif
return true
endfunction
function Trig_Teleport_Func002C takes nothing returns boolean
if(not(RectContainsUnit(gg_rct_Main_Map,GetTriggerUnit())==true))then
return false
endif
return true
endfunction
function Trig_Teleport_Actions takes nothing returns nothing
if(Trig_Teleport_Func002C())then
call AddSpecialEffectLocBJ(GetUnitLoc(GetSpellAbilityUnit()),"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
call SetUnitPositionLoc(GetSpellAbilityUnit(),GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds))
call SmartCameraPanBJModified(GetOwningPlayer(GetSpellAbilityUnit()),GetUnitLoc(GetSpellAbilityUnit()),0)
call AddSpecialEffectLocBJ(GetUnitLoc(GetSpellAbilityUnit()),"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
else
call DoNothing()
endif
endfunction
function InitTrig_Teleport takes nothing returns nothing
set udg_trg_Teleport=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Teleport,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(udg_trg_Teleport,Condition(function Trig_Teleport_Conditions))
call TriggerAddAction(udg_trg_Teleport,function Trig_Teleport_Actions)
endfunction
function Trig_Rock_Fountain_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A089'))then
return false
endif
return true
endfunction
function Trig_Rock_Fountain_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'h02W',GetOwningPlayer(GetSpellAbilityUnit()),GetUnitLoc(GetSpellAbilityUnit()),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(10.00,'BTLF',GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"clusterrockets",GetUnitLoc(GetSpellAbilityUnit()))
endfunction
function InitTrig_Rock_Fountain takes nothing returns nothing
set udg_trg_Rock_Fountain=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Rock_Fountain,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Rock_Fountain,Condition(function Trig_Rock_Fountain_Conditions))
call TriggerAddAction(udg_trg_Rock_Fountain,function Trig_Rock_Fountain_Actions)
endfunction
function Trig_Living_Rocks_Conditions takes nothing returns boolean
if(not(GetDestructableTypeId(GetDyingDestructable())=='B003'))then
return false
endif
return true
endfunction
function Trig_Living_Rocks_Func002C takes nothing returns boolean
if(not(udg_LivingRocks==3))then
return false
endif
return true
endfunction
function Trig_Living_Rocks_Actions takes nothing returns nothing
set udg_LivingRocks=GetRandomInt(1,4)
if(Trig_Living_Rocks_Func002C())then
call CreateNUnitsAtLocBonuses(1,'n02H',ForcePickRandomPlayer(udg_Evil),GetDestructableLoc(GetDyingDestructable()),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(20.00,'BTLF',GetLastCreatedUnit())
else
call DoNothing()
endif
endfunction
function InitTrig_Living_Rocks takes nothing returns nothing
set udg_trg_Living_Rocks=CreateTrigger()
call TriggerRegisterDestDeathInRegionEvent(udg_trg_Living_Rocks,GetEntireMapRect())
call TriggerAddCondition(udg_trg_Living_Rocks,Condition(function Trig_Living_Rocks_Conditions))
call TriggerAddAction(udg_trg_Living_Rocks,function Trig_Living_Rocks_Actions)
endfunction
function Trig_Living_Rocks_pt2_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='n02H'))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_GROUND)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_FLYING)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_ATTACKS_GROUND)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_ATTACKS_FLYING)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_MELEE_ATTACKER)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_RANGED_ATTACKER)==false))then
return false
endif
return true
endfunction
function Trig_Living_Rocks_pt2_Actions takes nothing returns nothing
call CreateDestructableLoc('B003',GetUnitLoc(GetDyingUnit()),GetRandomDirectionDeg(),1,0)
endfunction
function InitTrig_Living_Rocks_pt2 takes nothing returns nothing
set udg_trg_Living_Rocks_pt2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Living_Rocks_pt2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Living_Rocks_pt2,Condition(function Trig_Living_Rocks_pt2_Conditions))
call TriggerAddAction(udg_trg_Living_Rocks_pt2,function Trig_Living_Rocks_pt2_Actions)
endfunction
function Trig_Summon_Rocks_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A081'))then
return false
endif
return true
endfunction
function Trig_Summon_Rocks_Actions takes nothing returns nothing
call CreateDestructableLoc('B000',GetSpellTargetLoc(),GetRandomDirectionDeg(),1,0)
endfunction
function InitTrig_Summon_Rocks takes nothing returns nothing
set udg_trg_Summon_Rocks=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Summon_Rocks,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Summon_Rocks,Condition(function Trig_Summon_Rocks_Conditions))
call TriggerAddAction(udg_trg_Summon_Rocks,function Trig_Summon_Rocks_Actions)
endfunction
function Trig_Summon_Rocks_Copy_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A084'))then
return false
endif
return true
endfunction
function Trig_Summon_Rocks_Copy_Actions takes nothing returns nothing
call CreateDestructableLoc('B001',GetSpellTargetLoc(),GetRandomDirectionDeg(),1,0)
endfunction
function InitTrig_Summon_Rocks_Copy takes nothing returns nothing
set udg_trg_Summon_Rocks_Copy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Summon_Rocks_Copy,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Summon_Rocks_Copy,Condition(function Trig_Summon_Rocks_Copy_Conditions))
call TriggerAddAction(udg_trg_Summon_Rocks_Copy,function Trig_Summon_Rocks_Copy_Actions)
endfunction
function Trig_Summon_Rocks_Copy_Copy_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A088'))then
return false
endif
return true
endfunction
function Trig_Summon_Rocks_Copy_Copy_Actions takes nothing returns nothing
call CreateDestructableLoc('B002',GetSpellTargetLoc(),GetRandomDirectionDeg(),1,0)
endfunction
function InitTrig_Summon_Rocks_Copy_Copy takes nothing returns nothing
set udg_trg_Summon_Rocks_Copy_Copy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Summon_Rocks_Copy_Copy,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Summon_Rocks_Copy_Copy,Condition(function Trig_Summon_Rocks_Copy_Copy_Conditions))
call TriggerAddAction(udg_trg_Summon_Rocks_Copy_Copy,function Trig_Summon_Rocks_Copy_Copy_Actions)
endfunction
function Trig_Summon_Rocks_Copy_Copy_Copy_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A08C'))then
return false
endif
return true
endfunction
function Trig_Summon_Rocks_Copy_Copy_Copy_Actions takes nothing returns nothing
call CreateDestructableLoc('B003',GetSpellTargetLoc(),0,1,0)
endfunction
function InitTrig_Summon_Rocks_Copy_Copy_Copy takes nothing returns nothing
set udg_trg_Summon_Rocks_Copy_Copy_Copy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Summon_Rocks_Copy_Copy_Copy,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Summon_Rocks_Copy_Copy_Copy,Condition(function Trig_Summon_Rocks_Copy_Copy_Copy_Conditions))
call TriggerAddAction(udg_trg_Summon_Rocks_Copy_Copy_Copy,function Trig_Summon_Rocks_Copy_Copy_Copy_Actions)
endfunction
function Trig_Golem_Frenzy_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A085'))then
return false
endif
return true
endfunction
function Trig_Golem_Frenzy_Actions takes nothing returns nothing
call UnitAddAbilityBJ('A086',GetTriggerUnit())
call UnitAddAbilityBJ('A087',GetTriggerUnit())
call PlanAbilityRemoval(GetTriggerUnit(),'A086',8)
call PlanAbilityRemoval(GetTriggerUnit(),'A087',8)
endfunction
function InitTrig_Golem_Frenzy takes nothing returns nothing
set udg_trg_Golem_Frenzy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Golem_Frenzy,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Golem_Frenzy,Condition(function Trig_Golem_Frenzy_Conditions))
call TriggerAddAction(udg_trg_Golem_Frenzy,function Trig_Golem_Frenzy_Actions)
endfunction
function Trig_Golem_Frenzy_Sound_Func001C takes nothing returns boolean
if((GetUnitTypeId(GetAttacker())=='n02F'))then
return true
endif
if((GetUnitTypeId(GetAttacker())=='N02J'))then
return true
endif
if((GetUnitTypeId(GetAttacker())=='N03L'))then
return true
endif
return false
endfunction
function Trig_Golem_Frenzy_Sound_Conditions takes nothing returns boolean
if(not Trig_Golem_Frenzy_Sound_Func001C())then
return false
endif
if(not(IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetAttackedUnitBJ()))==true))then
return false
endif
return true
endfunction
function Trig_Golem_Frenzy_Sound_Actions takes nothing returns nothing
call PlaySoundBJ(udg_snd_ThunderClapCaster)
endfunction
function InitTrig_Golem_Frenzy_Sound takes nothing returns nothing
set udg_trg_Golem_Frenzy_Sound=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Golem_Frenzy_Sound,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(udg_trg_Golem_Frenzy_Sound,Condition(function Trig_Golem_Frenzy_Sound_Conditions))
call TriggerAddAction(udg_trg_Golem_Frenzy_Sound,function Trig_Golem_Frenzy_Sound_Actions)
endfunction
function Trig_Golem_Frenzy_Greater_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A08K'))then
return false
endif
return true
endfunction
function Trig_Golem_Frenzy_Greater_Actions takes nothing returns nothing
call UnitAddAbilityBJ('A08M',GetTriggerUnit())
call UnitAddAbilityBJ('A08L',GetTriggerUnit())
call PlanAbilityRemoval(GetTriggerUnit(),'A08M',8)
call PlanAbilityRemoval(GetTriggerUnit(),'A08L',8)
endfunction
function InitTrig_Golem_Frenzy_Greater takes nothing returns nothing
set udg_trg_Golem_Frenzy_Greater=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Golem_Frenzy_Greater,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Golem_Frenzy_Greater,Condition(function Trig_Golem_Frenzy_Greater_Conditions))
call TriggerAddAction(udg_trg_Golem_Frenzy_Greater,function Trig_Golem_Frenzy_Greater_Actions)
endfunction
function Trig_Golem_Frenzy_Greater_Greater_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0BJ'))then
return false
endif
return true
endfunction
function Trig_Golem_Frenzy_Greater_Greater_Actions takes nothing returns nothing
call UnitAddAbilityBJ('A0BI',GetTriggerUnit())
call PlanAbilityRemoval(GetTriggerUnit(),'A0BI',8)
endfunction
function InitTrig_Golem_Frenzy_Greater_Greater takes nothing returns nothing
set udg_trg_Golem_Frenzy_Greater_Greater=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Golem_Frenzy_Greater_Greater,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Golem_Frenzy_Greater_Greater,Condition(function Trig_Golem_Frenzy_Greater_Greater_Conditions))
call TriggerAddAction(udg_trg_Golem_Frenzy_Greater_Greater,function Trig_Golem_Frenzy_Greater_Greater_Actions)
endfunction
function Trig_Volcano_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A030'))then
return false
endif
return true
endfunction
function Trig_Volcano_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'h01K',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"volcano",GetUnitLoc(GetTriggerUnit()))
endfunction
function InitTrig_Volcano takes nothing returns nothing
set udg_trg_Volcano=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Volcano,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Volcano,Condition(function Trig_Volcano_Conditions))
call TriggerAddAction(udg_trg_Volcano,function Trig_Volcano_Actions)
endfunction
function Trig_Volcano_pt2_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='ANvc'))then
return false
endif
return true
endfunction
function Trig_Volcano_pt2_Actions takes nothing returns nothing
call RemoveUnit(GetSpellAbilityUnit())
endfunction
function InitTrig_Volcano_pt2 takes nothing returns nothing
set udg_trg_Volcano_pt2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Volcano_pt2,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(udg_trg_Volcano_pt2,Condition(function Trig_Volcano_pt2_Conditions))
call TriggerAddAction(udg_trg_Volcano_pt2,function Trig_Volcano_pt2_Actions)
endfunction
function Trig_Entangling_roots_Func002C takes nothing returns boolean
if((GetUnitTypeId(GetAttacker())=='nenc'))then
return true
endif
if((GetUnitTypeId(GetAttacker())=='N01P'))then
return true
endif
return false
endfunction
function Trig_Entangling_roots_Conditions takes nothing returns boolean
if(not Trig_Entangling_roots_Func002C())then
return false
endif
return true
endfunction
function Trig_Entangling_roots_Actions takes nothing returns nothing
set udg_General_attacking_unit_pos=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLoc(1,'dDUM',GetOwningPlayer(GetAttacker()),udg_General_attacking_unit_pos,bj_UNIT_FACING)
call UnitAddAbility(GetLastCreatedUnit(),'AE03')
call IssueTargetOrderBJ(GetLastCreatedUnit(),"entanglingroots",GetAttackedUnitBJ())
call RemoveUnit(GetLastCreatedUnit())
call RemoveLocation(udg_General_attacking_unit_pos)
endfunction
function InitTrig_Entangling_roots takes nothing returns nothing
set udg_trg_Entangling_roots=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Entangling_roots,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(udg_trg_Entangling_roots,Condition(function Trig_Entangling_roots_Conditions))
call TriggerAddAction(udg_trg_Entangling_roots,function Trig_Entangling_roots_Actions)
endfunction
function Trig_Kaboom_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='Asds'))then
return false
endif
return true
endfunction
function Trig_Kaboom_Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetSpellAbilityUnit()),"Objects\\Spawnmodels\\Other\\ToonBoom\\ToonBoom.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function InitTrig_Kaboom takes nothing returns nothing
set udg_trg_Kaboom=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Kaboom,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Kaboom,Condition(function Trig_Kaboom_Conditions))
call TriggerAddAction(udg_trg_Kaboom,function Trig_Kaboom_Actions)
endfunction
function Trig_Rocket_Seal_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='h017'))then
return false
endif
return true
endfunction
function Trig_Rocket_Seal_Actions takes nothing returns nothing
call PlaySoundBJ(udg_snd_SealDeath)
call CreateTextTagUnitBJ("Incoming Missle",GetAttackedUnitBJ(),0,15.00,100,0.00,0.00,0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),5.00)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),3.00)
endfunction
function InitTrig_Rocket_Seal takes nothing returns nothing
set udg_trg_Rocket_Seal=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Rocket_Seal,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(udg_trg_Rocket_Seal,Condition(function Trig_Rocket_Seal_Conditions))
call TriggerAddAction(udg_trg_Rocket_Seal,function Trig_Rocket_Seal_Actions)
endfunction
function Trig_Rocket_Seal_Copy_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A026'))then
return false
endif
return true
endfunction
function Trig_Rocket_Seal_Copy_Actions takes nothing returns nothing
call PlaySoundBJ(udg_snd_SealWhat1)
endfunction
function InitTrig_Rocket_Seal_Copy takes nothing returns nothing
set udg_trg_Rocket_Seal_Copy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Rocket_Seal_Copy,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(udg_trg_Rocket_Seal_Copy,Condition(function Trig_Rocket_Seal_Copy_Conditions))
call TriggerAddAction(udg_trg_Rocket_Seal_Copy,function Trig_Rocket_Seal_Copy_Actions)
endfunction
function Trig_Zombie_Sleep_Effect_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A02E'))then
return false
endif
return true
endfunction
function Trig_Zombie_Sleep_Effect_Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetSpellAbilityUnit()),"Abilities\\Spells\\Undead\\ReplenishHealth\\ReplenishHealthCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function InitTrig_Zombie_Sleep_Effect takes nothing returns nothing
set udg_trg_Zombie_Sleep_Effect=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Zombie_Sleep_Effect,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(udg_trg_Zombie_Sleep_Effect,Condition(function Trig_Zombie_Sleep_Effect_Conditions))
call TriggerAddAction(udg_trg_Zombie_Sleep_Effect,function Trig_Zombie_Sleep_Effect_Actions)
endfunction
function Trig_Firelord_Attacks_Conditions takes nothing returns boolean
if((GetUnitAbilityLevel(GetAttacker(),'ACCK')>0))then
return true
endif
return false
endfunction
function Trig_Firelord_Attacks_Actions takes nothing returns nothing
set udg_Firelord_Pos=GetUnitLoc(GetAttacker())
set udg_Firelord_Temp_Region=RectFromCenterSizeBJ(udg_Firelord_Pos,600.00,600.00)
set udg_Firelord_Rand_Point=GetRandomLocInRect(udg_Firelord_Temp_Region)
set udg_Firelord_Attacked_Pos=GetUnitLoc(GetAttackedUnitBJ())
call CreateNUnitsAtLocBonuses(1,'h00J',GetOwningPlayer(GetAttacker()),udg_Firelord_Attacked_Pos,bj_UNIT_FACING)
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"flamestrike",udg_Firelord_Attacked_Pos)
call RemoveUnit(GetLastCreatedUnit())
call CreateNUnitsAtLocBonuses(1,'h00Z',GetOwningPlayer(GetAttacker()),udg_Firelord_Pos,bj_UNIT_FACING)
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"carrionswarm",udg_Firelord_Rand_Point)
call RemoveUnit(GetLastCreatedUnit())
call RemoveLocation(udg_Firelord_Pos)
call RemoveRect(udg_Firelord_Temp_Region)
call RemoveLocation(udg_Firelord_Rand_Point)
call RemoveLocation(udg_Firelord_Attacked_Pos)
endfunction
function InitTrig_Firelord_Attacks takes nothing returns nothing
set udg_trg_Firelord_Attacks=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Firelord_Attacks,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(udg_trg_Firelord_Attacks,Condition(function Trig_Firelord_Attacks_Conditions))
call TriggerAddAction(udg_trg_Firelord_Attacks,function Trig_Firelord_Attacks_Actions)
endfunction
function Trig_Fire_minion_Func002C takes nothing returns boolean
if((GetUnitTypeId(GetAttacker())=='nlv3'))then
return true
endif
if((GetUnitTypeId(GetAttacker())=='n01L'))then
return true
endif
return false
endfunction
function Trig_Fire_minion_Conditions takes nothing returns boolean
if(not Trig_Fire_minion_Func002C())then
return false
endif
return true
endfunction
function Trig_Fire_minion_Actions takes nothing returns nothing
set udg_Firelord_Attacked_Pos=GetUnitLoc(GetAttackedUnitBJ())
call IssuePointOrderLocBJ(GetAttacker(),"breathoffire",udg_Firelord_Attacked_Pos)
call RemoveLocation(udg_Firelord_Attacked_Pos)
endfunction
function InitTrig_Fire_minion takes nothing returns nothing
set udg_trg_Fire_minion=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Fire_minion,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(udg_trg_Fire_minion,Condition(function Trig_Fire_minion_Conditions))
call TriggerAddAction(udg_trg_Fire_minion,function Trig_Fire_minion_Actions)
endfunction
function Trig_Mount_Horse_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A00M'))then
return false
endif
if(not(GetUnitTypeId(GetSpellTargetUnit())=='hhdl'))then
return false
endif
return true
endfunction
function Trig_Mount_Horse_Func020C takes nothing returns boolean
if(not(GetUnitUserData(GetSpellAbilityUnit())==666))then
return false
endif
return true
endfunction
function Trig_Mount_Horse_Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetSpellAbilityUnit()),"Abilities\\Spells\\Orc\\Disenchant\\DisenchantSpecialArt.mdl")
call AddSpecialEffectLocBJ(GetUnitLoc(GetSpellTargetUnit()),"Abilities\\Spells\\Orc\\Disenchant\\DisenchantSpecialArt.mdl")
call ChangeUnit2(GetSpellAbilityUnit(),'hkni')
call RemoveUnit(GetSpellTargetUnit())
endfunction
function InitTrig_Mount_Horse takes nothing returns nothing
set udg_trg_Mount_Horse=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Mount_Horse,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(udg_trg_Mount_Horse,Condition(function Trig_Mount_Horse_Conditions))
call TriggerAddAction(udg_trg_Mount_Horse,function Trig_Mount_Horse_Actions)
endfunction
function Trig_Warrior_Evolve_Conditions takes nothing returns boolean
    if(not(GetSpellAbilityId()=='A0LG'))then
    return false
    endif
    return true
endfunction
    function Trig_Warrior_Evolve_Actions takes nothing returns nothing
    call AddSpecialEffectLocBJ(GetUnitLoc(GetSpellAbilityUnit()),"Abilities\\Spells\\Orc\\Disenchant\\DisenchantSpecialArt.mdl")
    call AddSpecialEffectLocBJ(GetUnitLoc(GetSpellTargetUnit()),"Abilities\\Spells\\Orc\\Disenchant\\DisenchantSpecialArt.mdl")
    call ChangeUnit2(GetSpellAbilityUnit(),'Harf')
endfunction
    function InitTrig_Warrior_Evolve takes nothing returns nothing
    set udg_trg_Warrior_Evolve=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(udg_trg_Warrior_Evolve,EVENT_PLAYER_UNIT_SPELL_CAST)
    call TriggerAddCondition(udg_trg_Warrior_Evolve,Condition(function Trig_Warrior_Evolve_Conditions))
    call TriggerAddAction(udg_trg_Warrior_Evolve,function Trig_Warrior_Evolve_Actions)
endfunction
function Trig_Mount_Horse_Copy_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A00R'))then
return false
endif
if(not(GetUnitTypeId(GetSpellTargetUnit())=='hhdl'))then
return false
endif
return true
endfunction
function Trig_Mount_Horse_Copy_Func019C takes nothing returns boolean
if(not(GetUnitUserData(GetSpellAbilityUnit())==666))then
return false
endif
return true
endfunction
function Trig_Mount_Horse_Copy_Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetSpellAbilityUnit()),"Abilities\\Spells\\Orc\\Disenchant\\DisenchantSpecialArt.mdl")
call AddSpecialEffectLocBJ(GetUnitLoc(GetSpellTargetUnit()),"Abilities\\Spells\\Orc\\Disenchant\\DisenchantSpecialArt.mdl")
call ChangeUnit2(GetSpellAbilityUnit(),'n00D')
call RemoveUnit(GetSpellTargetUnit())
endfunction
function InitTrig_Mount_Horse_Copy takes nothing returns nothing
set udg_trg_Mount_Horse_Copy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Mount_Horse_Copy,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(udg_trg_Mount_Horse_Copy,Condition(function Trig_Mount_Horse_Copy_Conditions))
call TriggerAddAction(udg_trg_Mount_Horse_Copy,function Trig_Mount_Horse_Copy_Actions)
endfunction
function Trig_Horse_movement_Actions takes nothing returns nothing
set udg_General_Point=GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds)
call IssuePointOrderLocBJ(udg_unit_hhdl_0061,"move",udg_General_Point)
call RemoveLocation(udg_General_Point)
set udg_General_Point=GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds)
call IssuePointOrderLocBJ(udg_unit_hhdl_0060,"move",udg_General_Point)
call RemoveLocation(udg_General_Point)
endfunction
function InitTrig_Horse_movement takes nothing returns nothing
set udg_trg_Horse_movement=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(udg_trg_Horse_movement,10.00)
call TriggerAddAction(udg_trg_Horse_movement,function Trig_Horse_movement_Actions)
endfunction
function Trig_Mount_hippogryph_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A00K'))then
return false
endif
if(not(GetUnitTypeId(GetSpellTargetUnit())=='ehip'))then
return false
endif
if(not(udg_NO_FLYING_UNITS==false))then
return false
endif
return true
endfunction
function Trig_Mount_hippogryph_Func022C takes nothing returns boolean
if(not(GetUnitUserData(GetSpellAbilityUnit())==666))then
return false
endif
return true
endfunction
function Trig_Mount_hippogryph_Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetSpellAbilityUnit()),"Abilities\\Spells\\Orc\\Disenchant\\DisenchantSpecialArt.mdl")
call AddSpecialEffectLocBJ(GetUnitLoc(GetSpellTargetUnit()),"Abilities\\Spells\\Orc\\Disenchant\\DisenchantSpecialArt.mdl")
call ChangeUnit2(GetSpellAbilityUnit(),'ehpr')
call RemoveUnit(GetSpellTargetUnit())
endfunction
function InitTrig_Mount_hippogryph takes nothing returns nothing
set udg_trg_Mount_hippogryph=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Mount_hippogryph,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(udg_trg_Mount_hippogryph,Condition(function Trig_Mount_hippogryph_Conditions))
call TriggerAddAction(udg_trg_Mount_hippogryph,function Trig_Mount_hippogryph_Actions)
endfunction
function Trig_Random_hippo_move_Actions takes nothing returns nothing
set udg_General_Point2=GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds)
call IssuePointOrderLocBJ(udg_unit_ehip_0093,"move",udg_General_Point2)
call RemoveLocation(udg_General_Point2)
set udg_General_Point2=GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds)
call IssuePointOrderLocBJ(udg_unit_ehip_0092,"move",udg_General_Point2)
call RemoveLocation(udg_General_Point2)
endfunction
function InitTrig_Random_hippo_move takes nothing returns nothing
set udg_trg_Random_hippo_move=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(udg_trg_Random_hippo_move,4.65)
call TriggerAddAction(udg_trg_Random_hippo_move,function Trig_Random_hippo_move_Actions)
endfunction
function SaveMorphBonuses_Condition takes nothing returns boolean
    return IsMorphAbilityId(GetSpellAbilityId())
endfunction

function ApplyDmgBonusesTimed takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local unit u = LoadUnitHandle(timerdata,GetHandleId(t),0)
    call ApplyDmgBonuses(u)
    call FlushChildHashtable(timerdata,GetHandleId(t))
    call DestroyTimer(t)
    set t = null
    set u = null
endfunction

function SaveMorphBonuses_Actions takes nothing returns nothing
    local timer t = CreateTimer()
    call SaveUnitHandle(timerdata,GetHandleId(t),0,GetTriggerUnit())
    call TimerStart(t,0.01,false,function ApplyDmgBonusesTimed)

    set t = null
endfunction
function InitTrig_SaveMorphBonuses takes nothing returns nothing
set udg_SaveMorphBonuses=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_SaveMorphBonuses,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddAction(udg_SaveMorphBonuses,function SaveMorphBonuses_Actions)
call TriggerAddCondition(udg_SaveMorphBonuses,Condition(function SaveMorphBonuses_Condition))
endfunction
function Trig_Flame_Sniper_2_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='H032'))then
return false
endif
return true
endfunction
function Trig_Flame_Sniper_2_Func002Func001C takes nothing returns boolean
if((udg_Sniper_Chance==5))then
return true
endif
if((udg_Sniper_Chance==4))then
return true
endif
return false
endfunction
function Trig_Flame_Sniper_2_Func002C takes nothing returns boolean
if(not Trig_Flame_Sniper_2_Func002Func001C())then
return false
endif
return true
endfunction
function Trig_Flame_Sniper_2_Actions takes nothing returns nothing
set udg_Sniper_Chance=GetRandomInt(1,10)
if(Trig_Flame_Sniper_2_Func002C())then
set udg_General_attacking_unit_pos=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLocBonuses(1,'h00J',Player(0),udg_General_attacking_unit_pos,bj_UNIT_FACING)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"firebolt",GetAttackedUnitBJ())
call RemoveUnit(GetLastCreatedUnit())
call RemoveLocation(udg_General_attacking_unit_pos)
else
endif
endfunction
function InitTrig_Flame_Sniper_2 takes nothing returns nothing
set udg_trg_Flame_Sniper_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Flame_Sniper_2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(udg_trg_Flame_Sniper_2,Condition(function Trig_Flame_Sniper_2_Conditions))
call TriggerAddAction(udg_trg_Flame_Sniper_2,function Trig_Flame_Sniper_2_Actions)
endfunction
function Trig_Skele_Spell_Wraith_Func002C takes nothing returns boolean
if((GetUnitTypeId(GetSpellAbilityUnit())=='u00E'))then
return true
endif
if((GetUnitTypeId(GetSpellAbilityUnit())=='U00J'))then
return true
endif
return false
endfunction
function Trig_Skele_Spell_Wraith_Conditions takes nothing returns boolean
if(not Trig_Skele_Spell_Wraith_Func002C())then
return false
endif
if(not(GetSpellAbilityId()=='A018'))then
return false
endif
return true
endfunction
function Trig_Skele_Spell_Wraith_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'h004',GetOwningPlayer(GetSpellAbilityUnit()),GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds),bj_UNIT_FACING)
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"stasistrap",GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds))
call RemoveUnit(GetLastCreatedUnit())
endfunction
function InitTrig_Skele_Spell_Wraith takes nothing returns nothing
set udg_trg_Skele_Spell_Wraith=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Skele_Spell_Wraith,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Skele_Spell_Wraith,Condition(function Trig_Skele_Spell_Wraith_Conditions))
call TriggerAddAction(udg_trg_Skele_Spell_Wraith,function Trig_Skele_Spell_Wraith_Actions)
endfunction
function Trig_Skeleton_spell_wraith_pt2_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='n00G'))then
return false
endif
if(not(IsUnitAlly(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker()))==false))then
return false
endif
return true
endfunction
function Trig_Skeleton_spell_wraith_pt2_Actions takes nothing returns nothing
set udg_General_attacked_unit_pos=GetUnitLoc(GetAttackedUnitBJ())
call CreateNUnitsAtLocBonuses(1,'u00F',GetOwningPlayer(GetAttacker()),udg_General_attacked_unit_pos,bj_UNIT_FACING)
call AddSpecialEffectLocBJ(GetUnitLoc(GetLastCreatedUnit()),"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call RemoveLocation(udg_General_attacked_unit_pos)
endfunction
function InitTrig_Skeleton_spell_wraith_pt2 takes nothing returns nothing
set udg_trg_Skeleton_spell_wraith_pt2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Skeleton_spell_wraith_pt2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(udg_trg_Skeleton_spell_wraith_pt2,Condition(function Trig_Skeleton_spell_wraith_pt2_Conditions))
call TriggerAddAction(udg_trg_Skeleton_spell_wraith_pt2,function Trig_Skeleton_spell_wraith_pt2_Actions)
endfunction
function Trig_Skeleton_spell_pt_2_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='nsko'))then
return false
endif
if(not(IsUnitAlly(GetAttackedUnitBJ(),GetOwningPlayer(GetAttacker()))==false))then
return false
endif
return true
endfunction
function Trig_Skeleton_spell_pt_2_Actions takes nothing returns nothing
set udg_General_attacked_unit_pos=GetUnitLoc(GetAttackedUnitBJ())
call CreateNUnitsAtLocBonuses(1,'uske',GetOwningPlayer(GetAttacker()),udg_General_attacked_unit_pos,bj_UNIT_FACING)
call AddSpecialEffectLocBJ(GetUnitLoc(GetLastCreatedUnit()),"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call RemoveLocation(udg_General_attacked_unit_pos)
endfunction
function InitTrig_Skeleton_spell_pt_2 takes nothing returns nothing
set udg_trg_Skeleton_spell_pt_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Skeleton_spell_pt_2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(udg_trg_Skeleton_spell_pt_2,Condition(function Trig_Skeleton_spell_pt_2_Conditions))
call TriggerAddAction(udg_trg_Skeleton_spell_pt_2,function Trig_Skeleton_spell_pt_2_Actions)
endfunction
function Trig_Skele_Spell_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='Arai'))then
return false
endif
if(not(GetUnitTypeId(GetSpellAbilityUnit())=='unec'))then
return false
endif
return true
endfunction
function Trig_Skele_Spell_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'h004',GetOwningPlayer(GetSpellAbilityUnit()),GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds),bj_UNIT_FACING)
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"ward",GetRandomLocInRect(udg_rct_Entire_map_excluding_out_of_bounds))
call RemoveUnit(GetLastCreatedUnit())
endfunction
function InitTrig_Skele_Spell takes nothing returns nothing
set udg_trg_Skele_Spell=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Skele_Spell,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Skele_Spell,Condition(function Trig_Skele_Spell_Conditions))
call TriggerAddAction(udg_trg_Skele_Spell,function Trig_Skele_Spell_Actions)
endfunction
function Trig_Cast_A_Knockback_Func001Func003Func001C takes nothing returns boolean
if(not(udg_KB_Units[udg_KB_GeneralIntegers[1]]==udg_KBA_TargetUnit))then
return false
endif
return true
endfunction
function Trig_Cast_A_Knockback_Func001Func004C takes nothing returns boolean
if(not(udg_KB_TotalKnockUnits>udg_KB_GeneralIntegers[1]))then
return false
endif
return true
endfunction
function Trig_Cast_A_Knockback_Func001Func007C takes nothing returns boolean
if(not(udg_KB_CountBuffs==0))then
return false
endif
return true
endfunction
function Trig_Cast_A_Knockback_Func001C takes nothing returns boolean
if(not(IsUnitInGroup(udg_KBA_TargetUnit,udg_KB_KnockbackedUnits)==true))then
return false
endif
return true
endfunction
function Trig_Cast_A_Knockback_Func002C takes nothing returns boolean
if(not(udg_KB_CountBuffs==0))then
return false
endif
return true
endfunction
function Trig_Cast_A_Knockback_Actions takes nothing returns nothing
if(Trig_Cast_A_Knockback_Func001C())then
call GroupRemoveUnitSimple(udg_KBA_TargetUnit,udg_KB_KnockbackedUnits)
set udg_KB_CountBuffs=(udg_KB_CountBuffs-1)
set udg_KB_GeneralIntegers[2]=1
loop
exitwhen udg_KB_GeneralIntegers[2]>udg_KB_TotalKnockUnits
if(Trig_Cast_A_Knockback_Func001Func003Func001C())then
set udg_KB_GeneralIntegers[1]=udg_KB_GeneralIntegers[2]
set udg_KB_GeneralIntegers[2]=udg_KB_TotalKnockUnits
else
endif
set udg_KB_GeneralIntegers[2]=udg_KB_GeneralIntegers[2]+1
endloop
if(Trig_Cast_A_Knockback_Func001Func004C())then
set udg_KB_Levels[udg_KB_GeneralIntegers[1]]=udg_KB_Levels[udg_KB_TotalKnockUnits]
set udg_KB_Units[udg_KB_GeneralIntegers[1]]=udg_KB_Units[udg_KB_TotalKnockUnits]
set udg_KB_Angle[udg_KB_GeneralIntegers[1]]=udg_KB_Angle[udg_KB_TotalKnockUnits]
set udg_KB_MaxDistance[udg_KB_GeneralIntegers[1]]=udg_KB_MaxDistance[udg_KB_TotalKnockUnits]
set udg_KB_ReachedDistance[udg_KB_GeneralIntegers[1]]=udg_KB_ReachedDistance[udg_KB_TotalKnockUnits]
set udg_KB_ReduceSpeedReal[udg_KB_GeneralIntegers[1]]=udg_KB_ReduceSpeedReal[udg_KB_TotalKnockUnits]
set udg_KB_SpecificSpeed[udg_KB_GeneralIntegers[1]]=udg_KB_SpecificSpeed[udg_KB_TotalKnockUnits]
set udg_KB_Effects_1[udg_KB_GeneralIntegers[1]]=udg_KB_Effects_1[udg_KB_TotalKnockUnits]
set udg_KB_Effects_2[udg_KB_GeneralIntegers[1]]=udg_KB_Effects_2[udg_KB_TotalKnockUnits]
set udg_KB_DestroyTrees[udg_KB_GeneralIntegers[1]]=udg_KB_DestroyTrees[udg_KB_TotalKnockUnits]
set udg_KB_EffectCounter[udg_KB_GeneralIntegers[1]]=udg_KB_EffectCounter[udg_KB_TotalKnockUnits]
set udg_KB_EffectCounter2[udg_KB_GeneralIntegers[1]]=udg_KB_EffectCounter2[udg_KB_TotalKnockUnits]
set udg_KB_GeneralIntegers[1]=(udg_KB_GeneralIntegers[1]-1)
else
endif
set udg_KB_Units[udg_KB_TotalKnockUnits]=null
set udg_KB_TotalKnockUnits=(udg_KB_TotalKnockUnits-1)
if(Trig_Cast_A_Knockback_Func001Func007C())then
set udg_KB_TotalKnockUnits=0
call DisableTrigger(udg_trg_Get_Knockback)
else
endif
else
endif
if(Trig_Cast_A_Knockback_Func002C())then
call EnableTrigger(udg_trg_Get_Knockback)
else
endif
set udg_KB_CountBuffs=(udg_KB_CountBuffs+1)
set udg_KB_TotalKnockUnits=(udg_KB_TotalKnockUnits+1)
set udg_KB_Casters[udg_KB_TotalKnockUnits]=udg_KBA_Caster
set udg_KB_Levels[udg_KB_TotalKnockUnits]=udg_KBA_Level
set udg_KB_Units[udg_KB_TotalKnockUnits]=udg_KBA_TargetUnit
set udg_KB_StartPositions[udg_KB_TotalKnockUnits]=udg_KBA_StartingPosition
set udg_KB_TempPoint[udg_KB_TotalKnockUnits]=GetUnitLoc(udg_KBA_TargetUnit)
set udg_KB_Angle[udg_KB_TotalKnockUnits]=AngleBetweenPoints(udg_KB_StartPositions[udg_KB_TotalKnockUnits],udg_KB_TempPoint[udg_KB_TotalKnockUnits])
set udg_KB_MaxDistance[udg_KB_TotalKnockUnits]=(udg_KBA_DistancePerLevel*I2R(udg_KBA_Level))
set udg_KB_ReachedDistance[udg_KB_TotalKnockUnits]=0.00
set udg_KB_ReduceSpeedReal[udg_KB_GeneralIntegers[1]]=0.00
set udg_KB_SpecificSpeed[udg_KB_TotalKnockUnits]=udg_KBA_Speed
set udg_KB_Effects_1[udg_KB_TotalKnockUnits]=udg_KBA_SpecialEffects[1]
set udg_KB_Effects_2[udg_KB_TotalKnockUnits]=udg_KBA_SpecialEffects[2]
set udg_KB_DestroyTrees[udg_KB_TotalKnockUnits]=udg_KBA_DestroyTrees
set udg_KB_EffectCounter[udg_KB_GeneralIntegers[1]]=0
set udg_KB_EffectCounter2[udg_KB_GeneralIntegers[1]]=0
call GroupAddUnitSimple(udg_KBA_TargetUnit,udg_KB_KnockbackedUnits)
call RemoveLocation(udg_KBA_StartingPosition)
call RemoveLocation(udg_KB_TempPoint[udg_KB_TotalKnockUnits])
call RemoveLocation(udg_KB_StartPositions[udg_KB_TotalKnockUnits])
endfunction
function InitTrig_Cast_A_Knockback takes nothing returns nothing
set udg_trg_Cast_A_Knockback=CreateTrigger()
call TriggerAddAction(udg_trg_Cast_A_Knockback,function Trig_Cast_A_Knockback_Actions)
endfunction
function Trig_Get_Knockback_Func001Func001Func002Func003C takes nothing returns boolean
if(not(udg_KB_TotalKnockUnits>udg_KB_GeneralIntegers[1]))then
return false
endif
return true
endfunction
function Trig_Get_Knockback_Func001Func001Func002Func006C takes nothing returns boolean
if(not(udg_KB_CountBuffs==0))then
return false
endif
return true
endfunction
function Trig_Get_Knockback_Func001Func001Func002Func014Func002A takes nothing returns nothing
if(IsTree(GetEnumDestructable())) then
call KillDestructable(GetEnumDestructable())
endif
endfunction
function Trig_Get_Knockback_Func001Func001Func002Func014C takes nothing returns boolean
if(not(udg_KB_DestroyTrees[udg_KB_GeneralIntegers[1]]==true))then
return false
endif
return true
endfunction
function Trig_Get_Knockback_Func001Func001Func002Func015C takes nothing returns boolean
if(not(udg_KB_EffectCounter[udg_KB_GeneralIntegers[1]]==6))then
return false
endif
return true
endfunction
function Trig_Get_Knockback_Func001Func001Func002Func016C takes nothing returns boolean
if(not(udg_KB_EffectCounter2[udg_KB_GeneralIntegers[1]]==8))then
return false
endif
return true
endfunction
function Trig_Get_Knockback_Func001Func001Func002C takes nothing returns boolean
if(not(udg_KB_ReachedDistance[udg_KB_GeneralIntegers[1]]>=udg_KB_MaxDistance[udg_KB_GeneralIntegers[1]]))then
return false
endif
return true
endfunction
function Trig_Get_Knockback_Func001Func001C takes nothing returns boolean
if(not(IsUnitInGroup(udg_KB_Units[udg_KB_GeneralIntegers[1]],udg_KB_KnockbackedUnits)==true))then
return false
endif
return true
endfunction
function Trig_Get_Knockback_Actions takes nothing returns nothing
set udg_KB_GeneralIntegers[1]=1
loop
exitwhen udg_KB_GeneralIntegers[1]>udg_KB_TotalKnockUnits
if(Trig_Get_Knockback_Func001Func001C())then
if(Trig_Get_Knockback_Func001Func001Func002C())then
call GroupRemoveUnitSimple(udg_KB_Units[udg_KB_GeneralIntegers[1]],udg_KB_KnockbackedUnits)
set udg_KB_CountBuffs=(udg_KB_CountBuffs-1)
if(Trig_Get_Knockback_Func001Func001Func002Func003C())then
set udg_KB_Levels[udg_KB_GeneralIntegers[1]]=udg_KB_Levels[udg_KB_TotalKnockUnits]
set udg_KB_Units[udg_KB_GeneralIntegers[1]]=udg_KB_Units[udg_KB_TotalKnockUnits]
set udg_KB_Angle[udg_KB_GeneralIntegers[1]]=udg_KB_Angle[udg_KB_TotalKnockUnits]
set udg_KB_MaxDistance[udg_KB_GeneralIntegers[1]]=udg_KB_MaxDistance[udg_KB_TotalKnockUnits]
set udg_KB_ReachedDistance[udg_KB_GeneralIntegers[1]]=udg_KB_ReachedDistance[udg_KB_TotalKnockUnits]
set udg_KB_ReduceSpeedReal[udg_KB_GeneralIntegers[1]]=udg_KB_ReduceSpeedReal[udg_KB_TotalKnockUnits]
set udg_KB_SpecificSpeed[udg_KB_GeneralIntegers[1]]=udg_KB_SpecificSpeed[udg_KB_TotalKnockUnits]
set udg_KB_Effects_1[udg_KB_GeneralIntegers[1]]=udg_KB_Effects_1[udg_KB_TotalKnockUnits]
set udg_KB_Effects_2[udg_KB_GeneralIntegers[1]]=udg_KB_Effects_2[udg_KB_TotalKnockUnits]
set udg_KB_DestroyTrees[udg_KB_GeneralIntegers[1]]=udg_KB_DestroyTrees[udg_KB_TotalKnockUnits]
set udg_KB_EffectCounter[udg_KB_GeneralIntegers[1]]=udg_KB_EffectCounter[udg_KB_TotalKnockUnits]
set udg_KB_EffectCounter2[udg_KB_GeneralIntegers[1]]=udg_KB_EffectCounter2[udg_KB_TotalKnockUnits]
set udg_KB_GeneralIntegers[1]=(udg_KB_GeneralIntegers[1]-1)
else
endif
set udg_KB_Units[udg_KB_TotalKnockUnits]=null
set udg_KB_TotalKnockUnits=(udg_KB_TotalKnockUnits-1)
if(Trig_Get_Knockback_Func001Func001Func002Func006C())then
set udg_KB_TotalKnockUnits=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
else
set udg_KB_ReducedReal=((udg_KB_SpecificSpeed[udg_KB_GeneralIntegers[1]]/ udg_KB_MaxDistance[udg_KB_GeneralIntegers[1]])*udg_KB_ReachedDistance[udg_KB_GeneralIntegers[1]])
set udg_KB_ReduceSpeedReal[udg_KB_GeneralIntegers[1]]=(udg_KB_ReducedReal-(udg_KB_ReduceSpeedReal[udg_KB_GeneralIntegers[1]]*0.10))
set udg_KB_TempReal=((udg_KB_SpecificSpeed[udg_KB_GeneralIntegers[1]]-udg_KB_ReduceSpeedReal[udg_KB_GeneralIntegers[1]])*2.00)
set udg_KB_TempPoint[1]=GetUnitLoc(udg_KB_Units[udg_KB_GeneralIntegers[1]])
set udg_KB_TempPoint[2]=PolarProjectionBJ(udg_KB_TempPoint[1],udg_KB_TempReal,udg_KB_Angle[udg_KB_GeneralIntegers[1]])
set udg_KB_EffectCounter[udg_KB_GeneralIntegers[1]]=(udg_KB_EffectCounter[udg_KB_GeneralIntegers[1]]+1)
set udg_KB_EffectCounter2[udg_KB_GeneralIntegers[1]]=(udg_KB_EffectCounter2[udg_KB_GeneralIntegers[1]]+1)
if(Trig_Get_Knockback_Func001Func001Func002Func014C())then
call EnumDestructablesInCircleBJ(200.00,udg_KB_TempPoint[2],function Trig_Get_Knockback_Func001Func001Func002Func014Func002A)
else
endif
if(Trig_Get_Knockback_Func001Func001Func002Func015C())then
set udg_KB_EffectCounter[udg_KB_GeneralIntegers[1]]=0
call AddSpecialEffectLocBJ(udg_KB_TempPoint[1],udg_KB_Effects_1[udg_KB_GeneralIntegers[1]])
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
endif
if(Trig_Get_Knockback_Func001Func001Func002Func016C())then
set udg_KB_EffectCounter2[udg_KB_GeneralIntegers[1]]=0
call AddSpecialEffectLocBJ(udg_KB_TempPoint[1],udg_KB_Effects_2[udg_KB_GeneralIntegers[1]])
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
endif

if(not IsTerrainPathable(GetLocationX(udg_KB_TempPoint[2]),GetLocationY(udg_KB_TempPoint[2]),PATHING_TYPE_WALKABILITY)) then
    call SetUnitX(udg_KB_Units[udg_KB_GeneralIntegers[1]],GetLocationX(udg_KB_TempPoint[2]))
    call SetUnitY(udg_KB_Units[udg_KB_GeneralIntegers[1]],GetLocationY(udg_KB_TempPoint[2]))
endif
call RemoveLocation(udg_KB_TempPoint[1])
call RemoveLocation(udg_KB_TempPoint[2])
set udg_KB_ReachedDistance[udg_KB_GeneralIntegers[1]]=(udg_KB_ReachedDistance[udg_KB_GeneralIntegers[1]]+udg_KB_TempReal)
endif
else
endif
set udg_KB_GeneralIntegers[1]=udg_KB_GeneralIntegers[1]+1
endloop
endfunction
function InitTrig_Get_Knockback takes nothing returns nothing
set udg_trg_Get_Knockback=CreateTrigger()
call DisableTrigger(udg_trg_Get_Knockback)
call TriggerRegisterTimerEventPeriodic(udg_trg_Get_Knockback,0.02)
call TriggerAddAction(udg_trg_Get_Knockback,function Trig_Get_Knockback_Actions)
endfunction
function Trig_Tauren_Stomp_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0JX'))then
return false
endif
return true
endfunction
function Trig_Tauren_Stomp_Func003002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Tauren_Stomp_Func003002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)
endfunction
function Trig_Tauren_Stomp_Func003002003002002001 takes nothing returns boolean
return(IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true)
endfunction
function Trig_Tauren_Stomp_Func003002003002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Tauren_Stomp_Func003002003002002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)
endfunction
function Trig_Tauren_Stomp_Func003002003002002002002002 takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Tauren_Stomp_Func003002003002002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))
endfunction
function Trig_Tauren_Stomp_Func003002003002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))
endfunction
function Trig_Tauren_Stomp_Func003002003002002 takes nothing returns boolean
return GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))
endfunction
function Trig_Tauren_Stomp_Func003002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))))
endfunction
function Trig_Tauren_Stomp_Func003002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Antidesync_temp_unit),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))))))
endfunction
function Trig_Tauren_Stomp_Func004A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Antidesync_temp_unit,GetEnumUnit(),100.00,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call CreateNUnitsAtLocBonuses(1,'e018',GetOwningPlayer(udg_Antidesync_temp_unit),udg_TempPoint,bj_UNIT_FACING)
call UnitAddAbilityBJ('A0JW',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"slow",GetEnumUnit())
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
endfunction
function Trig_Tauren_Stomp_Func008002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Tauren_Stomp_Func008002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Tauren_Stomp_Func008002003002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Tauren_Stomp_Func008002003002002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_Tauren_Stomp_Func008002003002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true))
endfunction
function Trig_Tauren_Stomp_Func008002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true))))
endfunction
function Trig_Tauren_Stomp_Func008002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true))))))
endfunction
function Trig_Tauren_Stomp_Func009A takes nothing returns nothing
if(IsTree(GetEnumDestructable())) then
call KillDestructable(GetEnumDestructable())
endif
endfunction
function Trig_Tauren_Stomp_Func014A takes nothing returns nothing
set udg_KBA_Caster=GetTriggerUnit()
set udg_KBA_TargetUnit=GetEnumUnit()
set udg_KBA_Level=GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())
set udg_KBA_StartingPosition=GetUnitLoc(GetTriggerUnit())
set udg_KBA_Speed=7.50
set udg_KBA_DistancePerLevel=700.00
set udg_KBA_SpecialEffects[1]="Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl"
set udg_KBA_SpecialEffects[2]="Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl"
set udg_KBA_DestroyTrees=true
call ConditionalTriggerExecute(udg_trg_Cast_A_Knockback)
endfunction
function Trig_Tauren_Stomp_Actions takes nothing returns nothing
set udg_Antidesync_temp_unit=GetTriggerUnit()
set udg_TempPoint=GetUnitLoc(udg_Antidesync_temp_unit)
set udg_TempGroup=GetUnitsInRangeOfLocMatching(575.00,udg_TempPoint,Condition(function Trig_Tauren_Stomp_Func003002003))
call ForGroupBJ(udg_TempGroup,function Trig_Tauren_Stomp_Func004A)
set udg_Sample_Point=GetUnitLoc(GetTriggerUnit())
set udg_Sample_Group=GetUnitsInRangeOfLocMatching(365.00,udg_Sample_Point,Condition(function Trig_Tauren_Stomp_Func008002003))
call EnumDestructablesInCircleBJ(200.00,udg_Sample_Point,function Trig_Tauren_Stomp_Func009A)
call AddSpecialEffectLocBJ(udg_Sample_Point,"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ForGroupBJ(udg_Sample_Group,function Trig_Tauren_Stomp_Func014A)
call RemoveLocation(udg_Sample_Point)
call DestroyGroup(udg_Sample_Group)
call RemoveLocation(udg_TempPoint)
call DestroyGroup(udg_TempGroup)
endfunction
function InitTrig_Tauren_Stomp takes nothing returns nothing
set udg_trg_Tauren_Stomp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Tauren_Stomp,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Tauren_Stomp,Condition(function Trig_Tauren_Stomp_Conditions))
call TriggerAddAction(udg_trg_Tauren_Stomp,function Trig_Tauren_Stomp_Actions)
endfunction
function Trig_Tauren_Taunt_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A01J'))then
return false
endif
return true
endfunction
function Trig_Tauren_Taunt_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'h00Z',GetOwningPlayer(GetSpellAbilityUnit()),GetUnitLoc(GetSpellAbilityUnit()),bj_UNIT_FACING)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"bloodlust",GetSpellAbilityUnit())
call RemoveUnit(GetLastCreatedUnit())
endfunction
function InitTrig_Tauren_Taunt takes nothing returns nothing
set udg_trg_Tauren_Taunt=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Tauren_Taunt,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Tauren_Taunt,Condition(function Trig_Tauren_Taunt_Conditions))
call TriggerAddAction(udg_trg_Tauren_Taunt,function Trig_Tauren_Taunt_Actions)
endfunction
function Trig_Tauren_Earthquake_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A01I'))then
return false
endif
return true
endfunction
function Trig_Tauren_Earthquake_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'h00Z',GetOwningPlayer(GetSpellAbilityUnit()),GetUnitLoc(GetSpellAbilityUnit()),bj_UNIT_FACING)
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"earthquake",GetUnitLoc(GetSpellTargetUnit()))
endfunction
function InitTrig_Tauren_Earthquake takes nothing returns nothing
set udg_trg_Tauren_Earthquake=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Tauren_Earthquake,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Tauren_Earthquake,Condition(function Trig_Tauren_Earthquake_Conditions))
call TriggerAddAction(udg_trg_Tauren_Earthquake,function Trig_Tauren_Earthquake_Actions)
endfunction
function Trig_Sample_Explosion_Spell_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A01S'))then
return false
endif
return true
endfunction
function Trig_Sample_Explosion_Spell_Func004002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Sample_Explosion_Spell_Func004002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Sample_Explosion_Spell_Func004002003002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Sample_Explosion_Spell_Func004002003002002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_Sample_Explosion_Spell_Func004002003002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true))
endfunction
function Trig_Sample_Explosion_Spell_Func004002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true))))
endfunction
function Trig_Sample_Explosion_Spell_Func004002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true))))))
endfunction
function Trig_Sample_Explosion_Spell_Func005A takes nothing returns nothing
if(IsTree(GetEnumDestructable())) then
call KillDestructable(GetEnumDestructable())
endif
endfunction
function Trig_Sample_Explosion_Spell_Func010A takes nothing returns nothing
set udg_KBA_Caster=GetTriggerUnit()
set udg_KBA_TargetUnit=GetEnumUnit()
set udg_KBA_StartingPosition=GetSpellTargetLoc()
set udg_KBA_Level=GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())
set udg_KBA_Speed=9.00
set udg_KBA_DistancePerLevel=650.00
set udg_KBA_SpecialEffects[1]="Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl"
set udg_KBA_SpecialEffects[2]="Abilities\\Weapons\\RedDragonBreath\\RedDragonMissile.mdl"
set udg_KBA_DestroyTrees=true
call ConditionalTriggerExecute(udg_trg_Cast_A_Knockback)
endfunction
function Trig_Sample_Explosion_Spell_Actions takes nothing returns nothing
set udg_Sample_Point=GetSpellTargetLoc()
set udg_Sample_Group=GetUnitsInRangeOfLocMatching(300.00,udg_Sample_Point,Condition(function Trig_Sample_Explosion_Spell_Func004002003))
call EnumDestructablesInCircleBJ(250.00,udg_Sample_Point,function Trig_Sample_Explosion_Spell_Func005A)
call AddSpecialEffectLocBJ(udg_Sample_Point,"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call ForGroupBJ(udg_Sample_Group,function Trig_Sample_Explosion_Spell_Func010A)
call RemoveLocation(udg_Sample_Point)
call DestroyGroup(udg_Sample_Group)
endfunction
function InitTrig_Sample_Explosion_Spell takes nothing returns nothing
set udg_trg_Sample_Explosion_Spell=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Sample_Explosion_Spell,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Sample_Explosion_Spell,Condition(function Trig_Sample_Explosion_Spell_Conditions))
call TriggerAddAction(udg_trg_Sample_Explosion_Spell,function Trig_Sample_Explosion_Spell_Actions)
endfunction
function Trig_Sample_Meele_Knockback_Spell_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='ANfl'))then
return false
endif
return true
endfunction
function Trig_Sample_Meele_Knockback_Spell_Actions takes nothing returns nothing
set udg_KBA_Caster=GetTriggerUnit()
set udg_KBA_TargetUnit=GetSpellTargetUnit()
set udg_KBA_StartingPosition=GetUnitLoc(GetTriggerUnit())
set udg_KBA_Level=GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())
set udg_KBA_Speed=15.00
set udg_KBA_DistancePerLevel=1000.00
set udg_KBA_SpecialEffects[1]="Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl"
set udg_KBA_SpecialEffects[2]="Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl"
set udg_KBA_DestroyTrees=true
call ConditionalTriggerExecute(udg_trg_Cast_A_Knockback)
endfunction
function InitTrig_Sample_Meele_Knockback_Spell takes nothing returns nothing
set udg_trg_Sample_Meele_Knockback_Spell=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Sample_Meele_Knockback_Spell,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(udg_trg_Sample_Meele_Knockback_Spell,Condition(function Trig_Sample_Meele_Knockback_Spell_Conditions))
call TriggerAddAction(udg_trg_Sample_Meele_Knockback_Spell,function Trig_Sample_Meele_Knockback_Spell_Actions)
endfunction
function Trig_GSkeleWarriorMETA_Func002C takes nothing returns boolean
if((GetUnitTypeId(GetAttacker())=='n00V'))then
return true
endif
if((GetUnitTypeId(GetAttacker())=='N00Q'))then
return true
endif
return false
endfunction
function Trig_GSkeleWarriorMETA_Conditions takes nothing returns boolean
if(not Trig_GSkeleWarriorMETA_Func002C())then
return false
endif
return true
endfunction
function Trig_GSkeleWarriorMETA_Actions takes nothing returns nothing
set udg_General_attacking_unit_pos=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLocBonuses(1,'h00Z',GetOwningPlayer(GetAttacker()),udg_General_attacking_unit_pos,bj_UNIT_FACING)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"forkedlightning",GetAttackedUnitBJ())
call RemoveUnit(GetLastCreatedUnit())
call RemoveLocation(udg_General_attacking_unit_pos)
endfunction
function InitTrig_GSkeleWarriorMETA takes nothing returns nothing
set udg_trg_GSkeleWarriorMETA=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_GSkeleWarriorMETA,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(udg_trg_GSkeleWarriorMETA,Condition(function Trig_GSkeleWarriorMETA_Conditions))
call TriggerAddAction(udg_trg_GSkeleWarriorMETA,function Trig_GSkeleWarriorMETA_Actions)
endfunction
function Trig_HydroJetCast_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A027'))then
return false
endif
return true
endfunction
function Trig_HydroJetCast_Actions takes nothing returns nothing
call GroupAddUnitSimple(GetTriggerUnit(),udg_HydroJetCasters)
call EnableTrigger(udg_trg_HydroJetWater)
endfunction
function InitTrig_HydroJetCast takes nothing returns nothing
set udg_trg_HydroJetCast=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_HydroJetCast,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_HydroJetCast,Condition(function Trig_HydroJetCast_Conditions))
call TriggerAddAction(udg_trg_HydroJetCast,function Trig_HydroJetCast_Actions)
endfunction
function Trig_HydroJetWater_Func001Func001C takes nothing returns boolean
if(not(GetUnitCurrentOrder(GetEnumUnit())==String2OrderIdBJ("stampede")))then
return false
endif
return true
endfunction
function Trig_HydroJetWater_Func001A takes nothing returns nothing
if(Trig_HydroJetWater_Func001Func001C())then
set udg_Caster=GetEnumUnit()
set udg_TempPoint=GetUnitLoc(udg_Caster)
call CreateNUnitsAtLocBonuses(1,'n00W',GetOwningPlayer(udg_Caster),udg_TempPoint,GetUnitFacing(udg_Caster))
call SaveUnitHandleBJ(udg_Caster,GetHandleIdBJ(GetLastCreatedUnit()),0,udg_Hashtable)
set udg_TempUnit=GetLastCreatedUnit()
call GroupAddUnitSimple(udg_TempUnit,udg_HydroJetProjectiles)
call PauseUnitBJ(true,udg_TempUnit)
call SetUnitUserData(udg_TempUnit,GetUnitAbilityLevelSwapped('A027',GetEnumUnit()))
set udg_TempUnit=null
call RemoveLocation(udg_TempPoint)
else
call GroupRemoveUnitSimple(GetTriggerUnit(),udg_HydroJetCasters)
endif
endfunction
function Trig_HydroJetWater_Func002Func023Func009C takes nothing returns boolean
if(not(DistanceBetweenPoints(udg_TempPoint,udg_TempPoint2)>=10))then
return false
endif
return true
endfunction
function Trig_HydroJetWater_Func002Func023Func011001003001001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_HydroJetWater_Func002Func023Func011001003001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_HydroJetWater_Func002Func023Func011001003001 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false))
endfunction
function Trig_HydroJetWater_Func002Func023Func011001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_TempUnit))==true)
endfunction
function Trig_HydroJetWater_Func002Func023Func011001003 takes nothing returns boolean
return GetBooleanAnd((GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false))),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_TempUnit))==true))
endfunction
function Trig_HydroJetWater_Func002Func023Func011Func001Func001C takes nothing returns boolean
if(not(udg_A_Bool==true))then
return false
endif
return true
endfunction
function Trig_HydroJetWater_Func002Func023Func011Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_TempUnit)==true))then
return false
endif
return true
endfunction
function Trig_HydroJetWater_Func002Func023Func011A takes nothing returns nothing
if(Trig_HydroJetWater_Func002Func023Func011Func001C())then
if(Trig_HydroJetWater_Func002Func023Func011Func001Func001C())then
set udg_TempPoint=GetUnitLoc(GetEnumUnit())
set udg_TempPoint3=PolarProjectionBJ(udg_TempPoint,udg_A_Real,GetUnitFacing(udg_TempUnit))
call SetUnitPositionLoc(GetEnumUnit(),udg_TempPoint3)
call RemoveLocation(udg_TempPoint)
call RemoveLocation(udg_TempPoint3)
else
endif
call UnitDamageTargetBJ(udg_Caster,GetEnumUnit(),udg_A_Damage,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call KillUnit(udg_TempUnit)
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call GroupRemoveUnitSimple(udg_TempUnit,udg_HydroJetProjectiles)
call RemoveUnit(udg_TempUnit)
else
endif
endfunction
function Trig_HydroJetWater_Func002Func023Func012C takes nothing returns boolean
if(not(GetUnitStateSwap(UNIT_STATE_MANA,udg_TempUnit)==0.00))then
return false
endif
return true
endfunction
function Trig_HydroJetWater_Func002Func023C takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_TempUnit)==true))then
return false
endif
return true
endfunction
function Trig_HydroJetWater_Func002Func027C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_HydroJetCasters)==0))then
return false
endif
if(not(CountUnitsInGroup(udg_HydroJetProjectiles)==0))then
return false
endif
return true
endfunction
function Trig_HydroJetWater_Func002A takes nothing returns nothing
set udg_TempUnit=GetEnumUnit()
set udg_TempHandle=GetEnumUnit()
set udg_SpellLevel=GetUnitUserData(udg_TempUnit)
set udg_Caster=LoadUnitHandleBJ(GetHandleIdBJ(udg_TempHandle),0,udg_Hashtable)
set udg_A_Speed=30.00
set udg_A_AoE=90.00
set udg_A_Bool=true
set udg_A_Real=(2.00*I2R(udg_SpellLevel))
set udg_A_Damage=(2.00*I2R(udg_SpellLevel))
if(Trig_HydroJetWater_Func002Func023C())then
set udg_TempPoint=GetUnitLoc(udg_TempUnit)
set udg_TempPoint2=PolarProjectionBJ(udg_TempPoint,udg_A_Speed,GetUnitFacing(udg_TempUnit))
call SetUnitPositionLoc(udg_TempUnit,udg_TempPoint2)
call SetUnitManaBJ(udg_TempUnit,(GetUnitStateSwap(UNIT_STATE_MANA,udg_TempUnit)-1.00))
call RemoveLocation(udg_TempPoint)
set udg_TempPoint=GetUnitLoc(udg_TempUnit)
if(Trig_HydroJetWater_Func002Func023Func009C())then
call GroupRemoveUnitSimple(udg_TempUnit,udg_HydroJetProjectiles)
call RemoveUnit(udg_TempUnit)
else
endif
call RemoveLocation(udg_TempPoint)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(udg_A_AoE,udg_TempPoint2,Condition(function Trig_HydroJetWater_Func002Func023Func011001003)),function Trig_HydroJetWater_Func002Func023Func011A)
if(Trig_HydroJetWater_Func002Func023Func012C())then
call PauseUnitBJ(false,udg_TempUnit)
call KillUnit(udg_TempUnit)
else
endif
call DestroyGroup(bj_lastCreatedGroup)
call RemoveLocation(udg_TempPoint2)
else
call GroupRemoveUnitSimple(udg_TempUnit,udg_HydroJetProjectiles)
call FlushChildHashtableBJ(GetHandleIdBJ(GetEnumUnit()),udg_Hashtable)
endif
set udg_TempUnit=null
set udg_TempUnit2=null
set udg_TempHandle=null
if(Trig_HydroJetWater_Func002Func027C())then
call DisableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function Trig_HydroJetWater_Actions takes nothing returns nothing
call ForGroupBJ(udg_HydroJetCasters,function Trig_HydroJetWater_Func001A)
call ForGroupBJ(udg_HydroJetProjectiles,function Trig_HydroJetWater_Func002A)
endfunction
function InitTrig_HydroJetWater takes nothing returns nothing
set udg_trg_HydroJetWater=CreateTrigger()
call DisableTrigger(udg_trg_HydroJetWater)
call TriggerRegisterTimerEventPeriodic(udg_trg_HydroJetWater,0.04)
call TriggerAddAction(udg_trg_HydroJetWater,function Trig_HydroJetWater_Actions)
endfunction
function Trig_SandStormCast_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A029'))then
return false
endif
return true
endfunction
function Trig_SandStormCast_Actions takes nothing returns nothing
set udg_TempPoint=GetUnitLoc(GetTriggerUnit())
set udg_TempInteger=0
set udg_TempGroup=CreateGroup()
loop
exitwhen udg_TempInteger==3
set udg_TempInteger=(udg_TempInteger+1)
set udg_TempPoint2=PolarProjectionBJ(udg_TempPoint,((150.00*I2R(udg_TempInteger))-300.00),(GetUnitFacing(GetTriggerUnit())+90.00))
call CreateNUnitsAtLocBonuses(1,'n00X',GetOwningPlayer(GetTriggerUnit()),udg_TempPoint2,GetUnitFacing(GetTriggerUnit()))
call SaveUnitHandleBJ(GetTriggerUnit(),GetHandleIdBJ(GetLastCreatedUnit()),0,udg_Hashtable)
call SaveGroupHandleBJ(udg_TempGroup,GetHandleIdBJ(GetLastCreatedUnit()),1,udg_Hashtable)
call SetUnitManaBJ(GetLastCreatedUnit(),((50.00*I2R(GetUnitAbilityLevelSwapped('A00F',GetTriggerUnit())))+40.00))
call GroupAddUnitSimple(GetLastCreatedUnit(),udg_SandStorm)
call UnitApplyTimedLifeBJ(2.00,'BTLF',GetLastCreatedUnit())
call RemoveLocation(udg_TempPoint2)
endloop
call RemoveLocation(udg_TempPoint)
set udg_TempInteger=0
call EnableTrigger(udg_trg_SandStormMovement)
endfunction
function InitTrig_SandStormCast takes nothing returns nothing
set udg_trg_SandStormCast=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_SandStormCast,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_SandStormCast,Condition(function Trig_SandStormCast_Conditions))
call TriggerAddAction(udg_trg_SandStormCast,function Trig_SandStormCast_Actions)
endfunction
function Trig_SandStormMovement_Func001Func002Func009C takes nothing returns boolean
if(not(DistanceBetweenPoints(udg_TempPoint,udg_TempPoint2)>=10))then
return false
endif
return true
endfunction
function Trig_SandStormMovement_Func001Func002Func017001003001001001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_SandStormMovement_Func001Func002Func017001003001001002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_SandStormMovement_Func001Func002Func017001003001001 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitAliveBJ(GetFilterUnit())==true))
endfunction
function Trig_SandStormMovement_Func001Func002Func017001003001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_GROUND)==true)
endfunction
function Trig_SandStormMovement_Func001Func002Func017001003001 takes nothing returns boolean
return GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitAliveBJ(GetFilterUnit())==true))),(IsUnitType(GetFilterUnit(),UNIT_TYPE_GROUND)==true))
endfunction
function Trig_SandStormMovement_Func001Func002Func017001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_TempUnit))==true)
endfunction
function Trig_SandStormMovement_Func001Func002Func017001003 takes nothing returns boolean
return GetBooleanAnd((GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitAliveBJ(GetFilterUnit())==true))),(IsUnitType(GetFilterUnit(),UNIT_TYPE_GROUND)==true))),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_TempUnit))==true))
endfunction
function Trig_SandStormMovement_Func001Func002Func017Func001C takes nothing returns boolean
if(not(IsUnitInGroup(GetEnumUnit(),udg_TempGroup)==false))then
return false
endif
return true
endfunction
function Trig_SandStormMovement_Func001Func002Func017A takes nothing returns nothing
if(Trig_SandStormMovement_Func001Func002Func017Func001C())then
call UnitDamageTargetBJ(udg_TempUnit2,GetEnumUnit(),udg_Amount,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
call GroupAddUnitSimple(GetEnumUnit(),udg_TempGroup)
else
endif
set udg_TempPoint2=GetUnitLoc(GetEnumUnit())
set udg_TempPoint3=PolarProjectionBJ(udg_TempPoint,50.00,(AngleBetweenPoints(udg_TempPoint,udg_TempPoint2)+60.00))
call SetUnitPathing(GetEnumUnit(),false)
call SetUnitPositionLocFacingBJ(GetEnumUnit(),udg_TempPoint3,(GetUnitFacing(GetEnumUnit())+60.00))
call SetUnitPathing(GetEnumUnit(),true)
call RemoveLocation(udg_TempPoint2)
call RemoveLocation(udg_TempPoint3)
endfunction
function Trig_SandStormMovement_Func001Func002Func020Func001C takes nothing returns boolean
if(not(GetDestructableTypeId(GetEnumDestructable())=='LTlt'))then
return false
endif
if(not(IsDestructableAliveBJ(GetEnumDestructable())==true))then
return false
endif
return true
endfunction
function Trig_SandStormMovement_Func001Func002Func020A takes nothing returns nothing
if(Trig_SandStormMovement_Func001Func002Func020Func001C())then
if(IsTree(GetEnumDestructable())) then
call KillDestructable(GetEnumDestructable())
endif
else
endif
endfunction
function Trig_SandStormMovement_Func001Func002Func023C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_SandStorm)==0))then
return false
endif
if(not(CountUnitsInGroup(udg_TempGroup)==0))then
return false
endif
return true
endfunction
function Trig_SandStormMovement_Func001Func002C takes nothing returns boolean
if(not(IsUnitDeadBJ(udg_TempUnit)==true))then
return false
endif
return true
endfunction
function Trig_SandStormMovement_Func001A takes nothing returns nothing
set udg_TempUnit=GetEnumUnit()
if(Trig_SandStormMovement_Func001Func002C())then
call GroupRemoveUnitSimple(udg_TempUnit,udg_SandStorm)
call RemoveUnit(udg_TempUnit)
set udg_TempUnit=null
call FlushChildHashtableBJ(GetHandleIdBJ(GetEnumUnit()),udg_Hashtable)
else
set udg_TempPoint=GetUnitLoc(udg_TempUnit)
set udg_TempPoint2=PolarProjectionBJ(udg_TempPoint,16.00,GetUnitFacing(udg_TempUnit))
call CreateNUnitsAtLocBonuses(1,'n00Y',GetOwningPlayer(udg_TempUnit),udg_TempPoint,bj_UNIT_FACING)
call SetUnitVertexColorBJ(GetLastCreatedUnit(),100,100,100,100.00)
call KillUnit(GetLastCreatedUnit())
call RemoveLocation(udg_TempPoint)
call SetUnitPositionLoc(udg_TempUnit,udg_TempPoint2)
set udg_TempPoint=GetUnitLoc(udg_TempUnit)
if(Trig_SandStormMovement_Func001Func002Func009C())then
call GroupRemoveUnitSimple(GetEnumUnit(),udg_SandStorm)
call RemoveUnit(GetEnumUnit())
else
endif
call RemoveLocation(udg_TempPoint2)
set bj_wantDestroyGroup=true
set udg_TempHandle=GetEnumUnit()
set udg_TempGroup=LoadGroupHandleBJ(GetHandleIdBJ(udg_TempHandle),1,udg_Hashtable)
set udg_TempUnit2=LoadUnitHandleBJ(GetHandleIdBJ(udg_TempHandle),0,udg_Hashtable)
set udg_Amount=GetUnitStateSwap(UNIT_STATE_MANA,udg_TempUnit)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(150.00,udg_TempPoint,Condition(function Trig_SandStormMovement_Func001Func002Func017001003)),function Trig_SandStormMovement_Func001Func002Func017A)
call SaveGroupHandleBJ(udg_TempGroup,GetHandleIdBJ(udg_TempHandle),1,udg_Hashtable)
call EnumDestructablesInCircleBJ(150.00,udg_TempPoint,function Trig_SandStormMovement_Func001Func002Func020A)
call RemoveLocation(udg_TempPoint)
set udg_TempUnit=null
if(Trig_SandStormMovement_Func001Func002Func023C())then
call DisableTrigger(GetTriggeringTrigger())
else
endif
endif
endfunction
function Trig_SandStormMovement_Actions takes nothing returns nothing
call ForGroupBJ(udg_SandStorm,function Trig_SandStormMovement_Func001A)
endfunction
function InitTrig_SandStormMovement takes nothing returns nothing
set udg_trg_SandStormMovement=CreateTrigger()
call DisableTrigger(udg_trg_SandStormMovement)
call TriggerRegisterTimerEventPeriodic(udg_trg_SandStormMovement,0.04)
call TriggerAddAction(udg_trg_SandStormMovement,function Trig_SandStormMovement_Actions)
endfunction
function Trig_blizzard_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='nndr'))then
return false
endif
return true
endfunction
function Trig_blizzard_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'h00J',GetOwningPlayer(GetAttacker()),GetUnitLoc(GetAttacker()),bj_UNIT_FACING)
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"blizzard",GetUnitLoc(GetAttackedUnitBJ()))
call RemoveUnit(GetLastCreatedUnit())
endfunction
function InitTrig_blizzard takes nothing returns nothing
set udg_trg_blizzard=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_blizzard,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(udg_trg_blizzard,Condition(function Trig_blizzard_Conditions))
call TriggerAddAction(udg_trg_blizzard,function Trig_blizzard_Actions)
endfunction
function Trig_blizzard_Copy_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='n01D'))then
return false
endif
return true
endfunction
function Trig_blizzard_Copy_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'h00J',GetOwningPlayer(GetAttacker()),GetUnitLoc(GetAttacker()),bj_UNIT_FACING)
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"blizzard",GetUnitLoc(GetAttackedUnitBJ()))
call RemoveUnit(GetLastCreatedUnit())
endfunction
function InitTrig_blizzard_Copy takes nothing returns nothing
set udg_trg_blizzard_Copy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_blizzard_Copy,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(udg_trg_blizzard_Copy,Condition(function Trig_blizzard_Copy_Conditions))
call TriggerAddAction(udg_trg_blizzard_Copy,function Trig_blizzard_Copy_Actions)
endfunction
function Trig_blizzard_Copy_Copy_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetAttacker())=='N01T'))then
return false
endif
return true
endfunction
function Trig_blizzard_Copy_Copy_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'h00J',GetOwningPlayer(GetAttacker()),GetUnitLoc(GetAttacker()),bj_UNIT_FACING)
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"blizzard",GetUnitLoc(GetAttackedUnitBJ()))
call RemoveUnit(GetLastCreatedUnit())
endfunction
function InitTrig_blizzard_Copy_Copy takes nothing returns nothing
set udg_trg_blizzard_Copy_Copy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_blizzard_Copy_Copy,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(udg_trg_blizzard_Copy_Copy,Condition(function Trig_blizzard_Copy_Copy_Conditions))
call TriggerAddAction(udg_trg_blizzard_Copy_Copy,function Trig_blizzard_Copy_Copy_Actions)
endfunction
function Trig_Poison_Nova_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A07O'))then
return false
endif
return true
endfunction
function Trig_Poison_Nova_Actions takes nothing returns nothing
set udg_TargetLoc=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocBonuses(1,'h02R',GetOwningPlayer(GetTriggerUnit()),udg_TargetLoc,bj_UNIT_FACING)
call SetUnitTimeScalePercent(GetLastCreatedUnit(),25.00)
call UnitApplyTimedLifeBJ(0.25,'BTLF',GetLastCreatedUnit())
set udg_PN_Int=1
loop
exitwhen udg_PN_Int>13
set udg_TempLoc=PolarProjectionBJ(udg_TargetLoc,-600.00,(I2R(udg_PN_Int)*28.00))
call CreateNUnitsAtLocFacingLocBJ(1,'h02Q',GetOwningPlayer(GetTriggerUnit()),udg_TargetLoc,udg_TempLoc)
call SetUnitAbilityLevelSwapped('A07N',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A07O',GetTriggerUnit()))
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"move",udg_TempLoc)
call UnitApplyTimedLifeBJ(1.50,'BTLF',GetLastCreatedUnit())
call RemoveLocation(udg_TempLoc)
set udg_PN_Int=udg_PN_Int+1
endloop
call RemoveLocation(udg_TargetLoc)
endfunction
function InitTrig_Poison_Nova takes nothing returns nothing
set udg_trg_Poison_Nova=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Poison_Nova,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Poison_Nova,Condition(function Trig_Poison_Nova_Conditions))
call TriggerAddAction(udg_trg_Poison_Nova,function Trig_Poison_Nova_Actions)
endfunction
function Trig_Eggs_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='h02S'))then
return false
endif
return true
endfunction
function Trig_Eggs_Actions takes nothing returns nothing
call UnitApplyTimedLifeBJ(30.00,'BTLF',GetTriggerUnit())
endfunction
function InitTrig_Eggs takes nothing returns nothing
set udg_trg_Eggs=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_Eggs,GetEntireMapRect())
call TriggerAddCondition(udg_trg_Eggs,Condition(function Trig_Eggs_Conditions))
call TriggerAddAction(udg_trg_Eggs,function Trig_Eggs_Actions)
endfunction
function Trig_Eggs_Copy_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='h02S'))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_GROUND)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_FLYING)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_ATTACKS_GROUND)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_ATTACKS_FLYING)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_MELEE_ATTACKER)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_RANGED_ATTACKER)==false))then
return false
endif
return true
endfunction
function Trig_Eggs_Copy_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'z001',GetOwningPlayer(GetDyingUnit()),GetUnitLoc(GetDyingUnit()),bj_UNIT_FACING)
call CreateNUnitsAtLocBonuses(1,'z001',GetOwningPlayer(GetDyingUnit()),GetUnitLoc(GetDyingUnit()),bj_UNIT_FACING)
endfunction
function InitTrig_Eggs_Copy takes nothing returns nothing
set udg_trg_Eggs_Copy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Eggs_Copy,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Eggs_Copy,Condition(function Trig_Eggs_Copy_Conditions))
call TriggerAddAction(udg_trg_Eggs_Copy,function Trig_Eggs_Copy_Actions)
endfunction
function Trig_Eggs_2_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='h02U'))then
return false
endif
return true
endfunction
function Trig_Eggs_2_Actions takes nothing returns nothing
call UnitApplyTimedLifeBJ(25.00,'BTLF',GetTriggerUnit())
endfunction
function InitTrig_Eggs_2 takes nothing returns nothing
set udg_trg_Eggs_2=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_Eggs_2,GetEntireMapRect())
call TriggerAddCondition(udg_trg_Eggs_2,Condition(function Trig_Eggs_2_Conditions))
call TriggerAddAction(udg_trg_Eggs_2,function Trig_Eggs_2_Actions)
endfunction
function Trig_Eggs_Hatch_2_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='h02U'))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_GROUND)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_FLYING)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_ATTACKS_GROUND)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_ATTACKS_FLYING)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_MELEE_ATTACKER)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_RANGED_ATTACKER)==false))then
return false
endif
return true
endfunction
function Trig_Eggs_Hatch_2_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'z00A',GetOwningPlayer(GetDyingUnit()),GetUnitLoc(GetDyingUnit()),bj_UNIT_FACING)
call CreateNUnitsAtLocBonuses(1,'z00A',GetOwningPlayer(GetDyingUnit()),GetUnitLoc(GetDyingUnit()),bj_UNIT_FACING)
endfunction
function InitTrig_Eggs_Hatch_2 takes nothing returns nothing
set udg_trg_Eggs_Hatch_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Eggs_Hatch_2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Eggs_Hatch_2,Condition(function Trig_Eggs_Hatch_2_Conditions))
call TriggerAddAction(udg_trg_Eggs_Hatch_2,function Trig_Eggs_Hatch_2_Actions)
endfunction
function Trig_Greater_Eggs_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='h02T'))then
return false
endif
return true
endfunction
function Trig_Greater_Eggs_Actions takes nothing returns nothing
call UnitApplyTimedLifeBJ(20.00,'BTLF',GetTriggerUnit())
endfunction
function InitTrig_Greater_Eggs takes nothing returns nothing
set udg_trg_Greater_Eggs=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_Greater_Eggs,GetEntireMapRect())
call TriggerAddCondition(udg_trg_Greater_Eggs,Condition(function Trig_Greater_Eggs_Conditions))
call TriggerAddAction(udg_trg_Greater_Eggs,function Trig_Greater_Eggs_Actions)
endfunction
function Trig_Greater_Eggs_hatch_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='h02T'))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_GROUND)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_STRUCTURE)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_FLYING)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_ATTACKS_GROUND)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_ATTACKS_FLYING)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_MELEE_ATTACKER)==false))then
return false
endif
if(not(IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_RANGED_ATTACKER)==false))then
return false
endif
return true
endfunction
function Trig_Greater_Eggs_hatch_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,udg_Random_Zerg[GetRandomInt(1,10)],GetOwningPlayer(GetDyingUnit()),GetUnitLoc(GetDyingUnit()),bj_UNIT_FACING)
call CreateNUnitsAtLocBonuses(1,udg_Random_Zerg[GetRandomInt(1,10)],GetOwningPlayer(GetDyingUnit()),GetUnitLoc(GetDyingUnit()),bj_UNIT_FACING)
endfunction
function InitTrig_Greater_Eggs_hatch takes nothing returns nothing
set udg_trg_Greater_Eggs_hatch=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Greater_Eggs_hatch,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Greater_Eggs_hatch,Condition(function Trig_Greater_Eggs_hatch_Conditions))
call TriggerAddAction(udg_trg_Greater_Eggs_hatch,function Trig_Greater_Eggs_hatch_Actions)
endfunction
function Trig_Taste_of_Death_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0CI'))then
return false
endif
return true
endfunction
function Trig_Taste_of_Death_Func029002003001 takes nothing returns boolean
return(IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),udg_ToD_Owner)==true)
endfunction
function Trig_Taste_of_Death_Func029002003002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Taste_of_Death_Func029002003 takes nothing returns boolean
return GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),udg_ToD_Owner)==true),(IsUnitAliveBJ(GetFilterUnit())==true))
endfunction
function Trig_Taste_of_Death_Func032A takes nothing returns nothing
set udg_ToD_Unit_Counter=CountUnitsInGroup(udg_ToD_Heal_Group)
endfunction
function Trig_Taste_of_Death_Func033C takes nothing returns boolean
if(not(udg_ToD_Unit_Counter>0))then
return false
endif
return true
endfunction
function Trig_Taste_of_Death_Func041C takes nothing returns boolean
if(not(GetRandomInt(1,100)<=(udg_ToD_Base_Chance*udg_ToD_Ability)))then
return false
endif
return true
endfunction
function Trig_Taste_of_Death_Actions takes nothing returns nothing
local integer heal = 0
set udg_ToD_Caster=GetTriggerUnit()
set udg_ToD_Owner=GetOwningPlayer(udg_ToD_Caster)
set udg_ToD_Position=GetUnitLoc(udg_ToD_Caster)
set udg_ToD_Base_Heal=15.00
set udg_ToD_Base_base_Heal=300
set udg_ToD_Ability=GetUnitAbilityLevelSwapped(GetSpellAbilityId(),udg_ToD_Caster)
set udg_ToD_Base_Chance=10
set udg_ToD_Area_of_Effect=600.00
set udg_ToD_Dummy_Ability='A0CK'
set udg_ToD_Dummy_Ability_Frenzy='A0CJ'
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=36
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_ToD_Target_Location=PolarProjectionBJ(udg_ToD_Position,50.00,(10.00*I2R(GetForLoopIndexA())))
call CreateNUnitsAtLocBonuses(1,'h054',udg_ToD_Owner,udg_ToD_Position,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.50,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ(udg_ToD_Dummy_Ability,GetLastCreatedUnit())
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"carrionswarm",udg_ToD_Target_Location)
call RemoveLocation(udg_ToD_Target_Location)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_ToD_Heal_Group=GetUnitsInRangeOfLocMatching(udg_ToD_Area_of_Effect,udg_ToD_Position,Condition(function Trig_Taste_of_Death_Func029002003))
call ForGroupBJ(udg_ToD_Heal_Group,function Trig_Taste_of_Death_Func032A)
if(Trig_Taste_of_Death_Func033C())then
set heal = R2I(udg_ToD_Base_Heal*udg_ToD_Ability*udg_ToD_Unit_Counter+udg_ToD_Base_base_Heal)
call SetWidgetLife(udg_ToD_Caster,GetWidgetLife(udg_ToD_Caster)+heal)
call AddSpecialEffectTargetUnitBJ("origin",udg_ToD_Caster,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateTextTagUnitBJ("+"+I2S(heal),udg_ToD_Caster,0,10,0.00,50.00,10.00,0)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),3.00)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),5.00)
else
endif
set udg_ToD_Unit_Counter=0
call DestroyGroup(udg_ToD_Heal_Group)
if(Trig_Taste_of_Death_Func041C())then
call CreateNUnitsAtLocBonuses(1,'h054',udg_ToD_Owner,udg_ToD_Position,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.50,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ(udg_ToD_Dummy_Ability_Frenzy,GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped(udg_ToD_Dummy_Ability_Frenzy,GetLastCreatedUnit(),udg_ToD_Ability)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"unholyfrenzy",udg_ToD_Caster)
else
endif
call RemoveLocation(udg_ToD_Position)
endfunction
function InitTrig_Taste_of_Death takes nothing returns nothing
set udg_trg_Taste_of_Death=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Taste_of_Death,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Taste_of_Death,Condition(function Trig_Taste_of_Death_Conditions))
call TriggerAddAction(udg_trg_Taste_of_Death,function Trig_Taste_of_Death_Actions)
endfunction
function Trig_Lightning_Strike_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A05O'))then
return false
endif
return true
endfunction
function Trig_Lightning_Strike_Func002C takes nothing returns boolean
if(not(udg_LS_Index_Size==0))then
return false
endif
return true
endfunction
function Trig_Lightning_Strike_Func004C takes nothing returns boolean
if(not(udg_LS_Index_Size>udg_LS_Index_maxSize))then
return false
endif
return true
endfunction
function Trig_Lightning_Strike_Actions takes nothing returns nothing
if(Trig_Lightning_Strike_Func002C())then
call EnableTrigger(udg_trg_Lightning_Strike_Loop)
else
endif
set udg_LS_Index_Size=(udg_LS_Index_Size+1)
if(Trig_Lightning_Strike_Func004C())then
set udg_LS_Index[udg_LS_Index_Size]=udg_LS_Index_Size
set udg_LS_Index_maxSize=udg_LS_Index_Size
else
endif
set udg_LS_TempInt=udg_LS_Index[udg_LS_Index_Size]
set udg_LS_Dur[udg_LS_TempInt]=15.00
set udg_LS_Damage[udg_LS_TempInt]=(I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))*50.00)
set udg_LS_Offset[udg_LS_TempInt]=500.00
set udg_LS_AoE[udg_LS_TempInt]=100.00
set udg_LS_Degrees[udg_LS_TempInt]=GetRandomDirectionDeg()
set udg_LS_DegreeLength[udg_LS_TempInt]=15.00
set udg_LS_Caster[udg_LS_TempInt]=GetTriggerUnit()
set udg_LS_TempLoc2[udg_LS_TempInt]=GetUnitLoc(GetTriggerUnit())
set udg_LS_TempLoc[udg_LS_TempInt]=PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),udg_LS_Offset[udg_LS_TempInt],udg_LS_Degrees[udg_LS_TempInt])
endfunction
function InitTrig_Lightning_Strike takes nothing returns nothing
set udg_trg_Lightning_Strike=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Lightning_Strike,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Lightning_Strike,Condition(function Trig_Lightning_Strike_Conditions))
call TriggerAddAction(udg_trg_Lightning_Strike,function Trig_Lightning_Strike_Actions)
endfunction
function Trig_Lightning_Strike_Loop_Func001Func002Func010Func001Func001C takes nothing returns boolean
if(not(IsUnitEnemy(udg_LS_Caster[udg_LS_TempInt],GetOwningPlayer(GetEnumUnit()))==true))then
return false
endif
if(not(GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())>0.41))then
return false
endif
return true
endfunction
function Trig_Lightning_Strike_Loop_Func001Func002Func010Func001C takes nothing returns boolean
if(not Trig_Lightning_Strike_Loop_Func001Func002Func010Func001Func001C())then
return false
endif
return true
endfunction
function Trig_Lightning_Strike_Loop_Func001Func002Func010A takes nothing returns nothing
if(Trig_Lightning_Strike_Loop_Func001Func002Func010Func001C())then
call UnitDamageTargetBJ(udg_LS_Caster[udg_LS_TempInt],GetEnumUnit(),udg_LS_Damage[udg_LS_TempInt],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
else
endif
endfunction
function Trig_Lightning_Strike_Loop_Func001Func002C takes nothing returns boolean
if(not(udg_LS_Dur[udg_LS_TempInt]>0.00))then
return false
endif
return true
endfunction
function Trig_Lightning_Strike_Loop_Func002C takes nothing returns boolean
if(not(udg_LS_Index_Size==0))then
return false
endif
return true
endfunction
function Trig_Lightning_Strike_Loop_Actions takes nothing returns nothing
set udg_LS_LOOP=1
loop
exitwhen udg_LS_LOOP>udg_LS_Index_Size
set udg_LS_TempInt=udg_LS_Index[udg_LS_LOOP]
if(Trig_Lightning_Strike_Loop_Func001Func002C())then
set udg_LS_Dur[udg_LS_TempInt]=(udg_LS_Dur[udg_LS_TempInt]-0.06)
set udg_LS_Degrees[udg_LS_TempInt]=(udg_LS_Degrees[udg_LS_TempInt]+udg_LS_DegreeLength[udg_LS_TempInt])
set udg_LS_TempLoc2[udg_LS_TempInt]=GetUnitLoc(udg_LS_Caster[udg_LS_TempInt])
set udg_LS_TempLoc[udg_LS_TempInt]=PolarProjectionBJ(udg_LS_TempLoc2[udg_LS_TempInt],udg_LS_Offset[udg_LS_TempInt],udg_LS_Degrees[udg_LS_TempInt])
call AddSpecialEffectLocBJ(udg_LS_TempLoc[udg_LS_TempInt],"Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocAll(udg_LS_AoE[udg_LS_TempInt],udg_LS_TempLoc[udg_LS_TempInt]),function Trig_Lightning_Strike_Loop_Func001Func002Func010A)
call RemoveLocation(udg_LS_TempLoc[udg_LS_TempInt])
call RemoveLocation(udg_LS_TempLoc2[udg_LS_TempInt])
else
call RemoveLocation(udg_LS_TempLoc[udg_LS_TempInt])
call RemoveLocation(udg_LS_TempLoc2[udg_LS_TempInt])
set udg_LS_Index[udg_LS_LOOP]=udg_LS_Index[udg_LS_Index_Size]
set udg_LS_Index[udg_LS_Index_Size]=udg_LS_TempInt
set udg_LS_Index_Size=(udg_LS_Index_Size-1)
set udg_LS_LOOP=(udg_LS_LOOP-1)
endif
set udg_LS_LOOP=udg_LS_LOOP+1
endloop
if(Trig_Lightning_Strike_Loop_Func002C())then
call DisableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function InitTrig_Lightning_Strike_Loop takes nothing returns nothing
set udg_trg_Lightning_Strike_Loop=CreateTrigger()
call DisableTrigger(udg_trg_Lightning_Strike_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_Lightning_Strike_Loop,0.06)
call TriggerAddAction(udg_trg_Lightning_Strike_Loop,function Trig_Lightning_Strike_Loop_Actions)
endfunction
function Trig_Freezing_Spiral_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A05M'))then
return false
endif
return true
endfunction
function Trig_Freezing_Spiral_Func003C takes nothing returns boolean
if(not(udg_FD_Index_Size==0))then
return false
endif
return true
endfunction
function Trig_Freezing_Spiral_Func006C takes nothing returns boolean
if(not(udg_FD_Index_Size>udg_FD_Index_maxSize))then
return false
endif
return true
endfunction
function Trig_Freezing_Spiral_Actions takes nothing returns nothing
if(Trig_Freezing_Spiral_Func003C())then
call EnableTrigger(udg_trg_Freezing_Spiral_Loop)
else
endif
set udg_FD_Index_Size=(udg_FD_Index_Size+1)
if(Trig_Freezing_Spiral_Func006C())then
set udg_FD_Index[udg_FD_Index_Size]=udg_FD_Index_Size
set udg_FD_Index_maxSize=udg_FD_Index_Size
else
endif
set udg_FD_TempInt=udg_FD_Index[udg_FD_Index_Size]
set udg_FD_Offset[udg_FD_TempInt]=10.00
set udg_FD_AoE[udg_FD_TempInt]=150.00
set udg_FD_DegreeInterval[udg_FD_TempInt]=20.00
set udg_FD_Degrees[udg_FD_TempInt]=GetRandomDirectionDeg()
set udg_FD_Duration[udg_FD_TempInt]=0.75
set udg_FD_Damage[udg_FD_TempInt]=(100.00*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())))
set udg_FD_TempLoc[udg_FD_TempInt]=GetUnitLoc(GetTriggerUnit())
set udg_FD_TempLoc3[udg_FD_TempInt]=PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),udg_FD_Offset[udg_FD_TempInt],udg_FD_Degrees[udg_FD_TempInt])
set udg_FD_Caster[udg_FD_TempInt]=GetTriggerUnit()
call CreateNUnitsAtLocBonuses(1,'n01R',GetOwningPlayer(GetTriggerUnit()),udg_FD_TempLoc3[udg_FD_TempInt],bj_UNIT_FACING)
set udg_FD_Dummy[udg_FD_TempInt]=GetLastCreatedUnit()
endfunction
function InitTrig_Freezing_Spiral takes nothing returns nothing
set udg_trg_Freezing_Spiral=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Freezing_Spiral,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Freezing_Spiral,Condition(function Trig_Freezing_Spiral_Conditions))
call TriggerAddAction(udg_trg_Freezing_Spiral,function Trig_Freezing_Spiral_Actions)
endfunction
function Trig_Freezing_Spiral_Loop_Func001Func002Func013Func001Func002C takes nothing returns boolean
if(not(IsUnitEnemy(udg_FD_Caster[udg_FD_TempInt],GetOwningPlayer(GetEnumUnit()))==true))then
return false
endif
if(not(GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())>0.41))then
return false
endif
return true
endfunction
function Trig_Freezing_Spiral_Loop_Func001Func002Func013Func001C takes nothing returns boolean
if(not Trig_Freezing_Spiral_Loop_Func001Func002Func013Func001Func002C())then
return false
endif
return true
endfunction
function Trig_Freezing_Spiral_Loop_Func001Func002Func013A takes nothing returns nothing
if(Trig_Freezing_Spiral_Loop_Func001Func002Func013Func001C())then
call UnitDamageTargetBJ(udg_FD_Caster[udg_FD_TempInt],GetEnumUnit(),udg_FD_Damage[udg_FD_TempInt],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
else
endif
endfunction
function Trig_Freezing_Spiral_Loop_Func001Func002C takes nothing returns boolean
if(not(udg_FD_Duration[udg_FD_TempInt]>0.00))then
return false
endif
return true
endfunction
function Trig_Freezing_Spiral_Loop_Func002C takes nothing returns boolean
if(not(udg_FD_Index_Size==0))then
return false
endif
return true
endfunction
function Trig_Freezing_Spiral_Loop_Actions takes nothing returns nothing
set udg_FD_LOOP=1
loop
exitwhen udg_FD_LOOP>udg_FD_Index_Size
set udg_FD_TempInt=udg_FD_Index[udg_FD_LOOP]
if(Trig_Freezing_Spiral_Loop_Func001Func002C())then
set udg_FD_Duration[udg_FD_TempInt]=(udg_FD_Duration[udg_FD_TempInt]-0.03)
set udg_FD_Degrees[udg_FD_TempInt]=(udg_FD_Degrees[udg_FD_TempInt]+udg_FD_DegreeInterval[udg_FD_TempInt])
set udg_FD_Offset[udg_FD_TempInt]=(udg_FD_Offset[udg_FD_TempInt]+20.00)
set udg_FD_TempLoc[udg_FD_TempInt]=GetUnitLoc(udg_FD_Caster[udg_FD_TempInt])
set udg_FD_TempLoc3[udg_FD_TempInt]=PolarProjectionBJ(GetUnitLoc(udg_FD_Caster[udg_FD_TempInt]),udg_FD_Offset[udg_FD_TempInt],udg_FD_Degrees[udg_FD_TempInt])
call SetUnitPositionLoc(udg_FD_Dummy[udg_FD_TempInt],udg_FD_TempLoc3[udg_FD_TempInt])
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocAll(udg_FD_AoE[udg_FD_TempInt],udg_FD_TempLoc3[udg_FD_TempInt]),function Trig_Freezing_Spiral_Loop_Func001Func002Func013A)
call AddSpecialEffectLocBJ(udg_FD_TempLoc3[udg_FD_TempInt],"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_FD_TempLoc[udg_FD_TempInt])
call RemoveLocation(udg_FD_TempLoc3[udg_FD_TempInt])
else
call RemoveLocation(udg_FD_TempLoc[udg_FD_TempInt])
call RemoveLocation(udg_FD_TempLoc3[udg_FD_TempInt])
call RemoveUnit(udg_FD_Dummy[udg_FD_TempInt])
set udg_FD_Index[udg_FD_LOOP]=udg_FD_Index[udg_FD_Index_Size]
set udg_FD_Index[udg_FD_Index_Size]=udg_FD_TempInt
set udg_FD_Index_Size=(udg_FD_Index_Size-1)
set udg_FD_LOOP=(udg_FD_LOOP-1)
endif
set udg_FD_LOOP=udg_FD_LOOP+1
endloop
if(Trig_Freezing_Spiral_Loop_Func002C())then
call DisableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function InitTrig_Freezing_Spiral_Loop takes nothing returns nothing
set udg_trg_Freezing_Spiral_Loop=CreateTrigger()
call DisableTrigger(udg_trg_Freezing_Spiral_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_Freezing_Spiral_Loop,0.03)
call TriggerAddAction(udg_trg_Freezing_Spiral_Loop,function Trig_Freezing_Spiral_Loop_Actions)
endfunction
function Trig_Shadow_Walk_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A051'))then
return false
endif
return true
endfunction
function Trig_Shadow_Walk_Actions takes nothing returns nothing
local unit u=GetTriggerUnit()
local player p=GetOwningPlayer(u)
local integer i=GetUnitAbilityLevelSwapped(GetSpellAbilityId(),u)
local integer s='A059'
local real t1=4.
local real t2=(t1*I2R(i))
local string a="chest"
local string e="Abilities\\Spells\\Human\\Invisibility\\InvisibilityTarget.mdl"
call UnitRemoveBuffs(u,false,true)
call SetUnitVertexColor(u,0,0,0,125)
call DestroyEffect(AddSpecialEffectTarget(e,u,a))
call UnitAddAbility(u,s)
call SetUnitAbilityLevelSwapped(s,u,i)
call SetPlayerAbilityAvailable(p,s,false)
call TriggerSleepAction(t2)
call UnitRemoveAbility(u,s)
call SetPlayerAbilityAvailable(p,s,true)
call DestroyEffect(AddSpecialEffectTarget(e,u,a))
call SetUnitVertexColor(u,255,255,255,255)
set u=null
endfunction
function InitTrig_Shadow_Walk takes nothing returns nothing
set udg_trg_Shadow_Walk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Shadow_Walk,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Shadow_Walk,Condition(function Trig_Shadow_Walk_Conditions))
call TriggerAddAction(udg_trg_Shadow_Walk,function Trig_Shadow_Walk_Actions)
endfunction
function Trig_init_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0B8'))then
return false
endif
return true
endfunction
function Trig_init_Func001C takes nothing returns boolean
if(not(udg_first_integer==0))then
return false
endif
return true
endfunction
function Trig_init_Actions takes nothing returns nothing
if(Trig_init_Func001C())then
call EnableTrigger(udg_trg_loop)
else
endif
set udg_first_integer=(udg_first_integer+1)
set udg_BE_integer=(udg_BE_integer+1)
set udg_BE_array=udg_BE_integer
set udg_BE_caster[udg_BE_array]=GetSpellAbilityUnit()
set udg_BE_point1[0]=GetUnitLoc(udg_BE_caster[udg_BE_array])
set udg_BE_target[0]=GetSpellTargetLoc()
set udg_bounces[udg_BE_array]=80
set udg_BE_speed[udg_BE_array]=20
set udg_damage[udg_BE_array]=(GetUnitAbilityLevelSwapped('A0B8',udg_BE_caster[udg_BE_array])*20)
set udg_damage1[udg_BE_array]=(GetUnitAbilityLevelSwapped('A0B8',udg_BE_caster[udg_BE_array])*150)
set udg_BE_angle[udg_BE_array]=AngleBetweenPoints(udg_BE_point1[0],udg_BE_target[0])
call CreateNUnitsAtLocBonuses(1,'h047',GetOwningPlayer(udg_BE_caster[udg_BE_array]),udg_BE_point1[0],udg_BE_angle[udg_BE_array])
set udg_BE_dummy[udg_BE_array]=GetLastCreatedUnit()
set udg_BE_distance[udg_BE_array]=DistanceBetweenPoints(udg_BE_point1[0],udg_BE_target[0])
call RemoveLocation(udg_BE_point1[0])
call RemoveLocation(udg_BE_target[0])
endfunction
function InitTrig_init2 takes nothing returns nothing
set udg_trg_init=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_init,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_init,Condition(function Trig_init_Conditions))
call TriggerAddAction(udg_trg_init,function Trig_init_Actions)
endfunction
function Trig_loop_Func001Func001Func009002003 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_BE_caster[udg_BE_array2]))==true)
endfunction
function Trig_loop_Func001Func001Func010A takes nothing returns nothing
call UnitDamageTargetBJ(udg_BE_caster[udg_BE_array2],GetEnumUnit(),I2R(udg_damage[udg_BE_array2]),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function Trig_loop_Func001Func001Func024Func002002003 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_BE_caster[udg_BE_array2]))==true)
endfunction
function Trig_loop_Func001Func001Func024Func003A takes nothing returns nothing
call UnitDamageTargetBJ(udg_BE_caster[udg_BE_array2],GetEnumUnit(),I2R(udg_damage1[udg_BE_array2]),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function Trig_loop_Func001Func001Func024C takes nothing returns boolean
if(not(udg_BE_MAX[udg_BE_array2]>=R2I(udg_BE_distance[udg_BE_array2])))then
return false
endif
return true
endfunction
function Trig_loop_Func001Func001Func033Func005C takes nothing returns boolean
if(not(udg_first_integer==0))then
return false
endif
return true
endfunction
function Trig_loop_Func001Func001Func033C takes nothing returns boolean
if(not(udg_bounces[udg_BE_array2]<=0))then
return false
endif
return true
endfunction
function Trig_loop_Func001Func001C takes nothing returns boolean
if(not(udg_bounces[udg_BE_array2]>0))then
return false
endif
return true
endfunction
function Trig_loop_Actions takes nothing returns nothing
set udg_BE_array2=1
loop
exitwhen udg_BE_array2>udg_BE_integer
if(Trig_loop_Func001Func001C())then
set udg_bounces[udg_BE_array2]=(udg_bounces[udg_BE_array2]-1)
set udg_BE_point1[udg_BE_array2]=GetUnitLoc(udg_BE_dummy[udg_BE_array2])
set udg_BE_move[udg_BE_array2]=PolarProjectionBJ(udg_BE_point1[udg_BE_array2],I2R(udg_BE_speed[udg_BE_array2]),udg_BE_angle[udg_BE_array2])
call SetUnitPositionLoc(udg_BE_dummy[udg_BE_array2],udg_BE_move[udg_BE_array2])
set udg_BE_group[udg_BE_array2]=GetUnitsInRangeOfLocMatching(300.00,udg_BE_move[udg_BE_array2],Condition(function Trig_loop_Func001Func001Func009002003))
call ForGroupBJ(udg_BE_group[udg_BE_array2],function Trig_loop_Func001Func001Func010A)
call DestroyGroup(udg_BE_group[udg_BE_array2])
call AddSpecialEffectLocBJ(udg_BE_move[udg_BE_array2],"Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set udg_BE_MAX[udg_BE_array2]=(udg_BE_MAX[udg_BE_array2]+udg_BE_speed[udg_BE_array2])
if(Trig_loop_Func001Func001Func024C())then
set udg_BE_group[udg_BE_array2]=GetUnitsInRangeOfLocMatching(400.00,udg_BE_move[udg_BE_array2],Condition(function Trig_loop_Func001Func001Func024Func002002003))
call ForGroupBJ(udg_BE_group[udg_BE_array2],function Trig_loop_Func001Func001Func024Func003A)
call DestroyGroup(udg_BE_group[udg_BE_array2])
set udg_bounces[udg_BE_array2]=0
call RemoveUnit(udg_BE_dummy[udg_BE_array2])
call CreateNUnitsAtLocBonuses(1,'h048',GetOwningPlayer(udg_BE_caster[udg_BE_array2]),udg_BE_move[udg_BE_array2],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.00,'BTLF',GetLastCreatedUnit())
else
endif
call RemoveLocation(udg_BE_point1[udg_BE_array2])
call RemoveLocation(udg_BE_move[udg_BE_array2])
if(Trig_loop_Func001Func001Func033C())then
set udg_BE_MAX[udg_BE_array2]=0
set udg_first_integer=(udg_first_integer-1)
if(Trig_loop_Func001Func001Func033Func005C())then
set udg_BE_integer=0
set udg_first_integer=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
else
endif
else
endif
set udg_BE_array2=udg_BE_array2+1
endloop
endfunction
function InitTrig_loop takes nothing returns nothing
set udg_trg_loop=CreateTrigger()
call DisableTrigger(udg_trg_loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_loop,0.03)
call TriggerAddAction(udg_trg_loop,function Trig_loop_Actions)
endfunction
function Trig_OOW_Main_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0B9'))then
return false
endif
return true
endfunction
function Trig_OOW_Main_Actions takes nothing returns nothing
set udg_OOW_CastCount=(udg_OOW_CastCount+1)
set udg_OOW_OrbLifeTime=20.00
set udg_OOW_MaxFlyHeight=150.00
set udg_OOW_DamageBase=80.00
set udg_OOW_DamageInc=15.00
set udg_OOW_SphereRadius=250.00
set udg_OOW_OrbSpeed=10.00
set udg_OOW_Caster[udg_OOW_CastCount]=GetTriggerUnit()
set udg_OOW_Angle[udg_OOW_CastCount]=GetRandomDirectionDeg()
set udg_OOW_HitGroup[udg_OOW_CastCount]=CreateGroup()
set udg_OOW_LeakPoint[1]=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLocBonuses(1,'h049',GetOwningPlayer(GetTriggerUnit()),udg_OOW_LeakPoint[1],bj_UNIT_FACING)
set udg_OOW_Dummy[udg_OOW_CastCount]=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(udg_OOW_OrbLifeTime,'BTLF',GetLastCreatedUnit())
set udg_OOW_LeakPoint[2]=PolarProjectionBJ(udg_OOW_LeakPoint[1],udg_OOW_SphereRadius,udg_OOW_Angle[udg_OOW_CastCount])
call SetUnitPositionLoc(udg_OOW_Dummy[udg_OOW_CastCount],udg_OOW_LeakPoint[2])
call RemoveLocation(udg_OOW_LeakPoint[1])
call RemoveLocation(udg_OOW_LeakPoint[2])
call EnableTrigger(udg_trg_OOW_Dummies)
call EnableTrigger(udg_trg_OOW_Units)
endfunction
function InitTrig_OOW_Main takes nothing returns nothing
set udg_trg_OOW_Main=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_OOW_Main,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_OOW_Main,Condition(function Trig_OOW_Main_Conditions))
call TriggerAddAction(udg_trg_OOW_Main,function Trig_OOW_Main_Actions)
endfunction
function Trig_GandalfTeleport_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A0LY' ) ) then
        return false
    endif
    if ( not ( GetUnitAbilityLevelSwapped('ACC1', GetSpellTargetUnit()) == 0 ) ) then
        return false
    endif
    if ( not ( GetUnitAbilityLevelSwapped('ACC6', GetSpellTargetUnit()) == 0 ) ) then
        return false
    endif
    if ( not ( GetUnitAbilityLevelSwapped('ACC5', GetSpellTargetUnit()) == 0 ) ) then
        return false
    endif
    return true
endfunction

function Trig_GandalfTeleport_Func002C takes nothing returns boolean
    if ( not ( GetOwningPlayer(GetTriggerUnit()) == GetLocalPlayer() ) ) then
        return false
    endif
    return true
endfunction

function Trig_GandalfTeleport_Actions takes nothing returns nothing
    call IssueImmediateOrder(GetSpellAbilityUnit(), "stop")
    if ( Trig_GandalfTeleport_Func002C() ) then
        call Print("Incorrect target. Must swap with allied boss or hero that costs lives")
    else
    endif
endfunction


function InitTrig_GandalfTeleport takes nothing returns nothing
    set gg_trg_GandalfTeleport=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_GandalfTeleport, EVENT_PLAYER_UNIT_SPELL_CHANNEL)
    call TriggerAddCondition(gg_trg_GandalfTeleport, Condition(function Trig_GandalfTeleport_Conditions))
    call TriggerAddAction(gg_trg_GandalfTeleport, function Trig_GandalfTeleport_Actions)
endfunction




function Trig_GandalfTeleport_Effect_Conditions takes nothing returns boolean
    if ( not ( GetSpellAbilityId() == 'A0LY' ) ) then
        return false
    endif
    return true
endfunction

function Trig_GandalfTeleport_Effect_Actions takes nothing returns nothing
    local unit u1= GetSpellTargetUnit()
    local unit u2= GetTriggerUnit()
    local real x1= GetUnitX(u1)
    local real x2= GetUnitX(u2)
    local real y1= GetUnitY(u1)
    local real y2= GetUnitY(u2)
    if(not IsUnitMovementDisabled(u2)) then
        call SetUnitX(u2,x1)
        call UnitRemoveAbility(u2,'B02U')
        call SetUnitY(u2,y1)
        call SetUnitPosition(u1, x2, y2)
    endif
    set u1=null
    set u2=null

    
endfunction


function InitTrig_GandalfTeleport_Effect takes nothing returns nothing
    set gg_trg_GandalfTeleport_Effect=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_GandalfTeleport_Effect, EVENT_PLAYER_UNIT_SPELL_EFFECT)
    call TriggerAddCondition(gg_trg_GandalfTeleport_Effect, Condition(function Trig_GandalfTeleport_Effect_Conditions))
    call TriggerAddAction(gg_trg_GandalfTeleport_Effect, function Trig_GandalfTeleport_Effect_Actions)
endfunction
function Trig_ForceFieldTLF_Conditions takes nothing returns boolean
    if ( not ( GetUnitTypeId(GetTriggerUnit()) == 'h07X' ) ) then
        return false
    endif
    return true
endfunction

function Trig_ForceFieldTLF_Actions takes nothing returns nothing
    call UnitApplyTimedLifeBJ(5.00, 'BTLF', GetTriggerUnit())
    call UnitSetConstructionProgress(GetTriggerUnit(), 100)
    call ShowUnitHide(GetTriggerUnit())
    call ShowUnitShow(GetTriggerUnit())
endfunction


function InitTrig_ForceFieldTLF takes nothing returns nothing
    set gg_trg_ForceFieldTLF=CreateTrigger()
    call TriggerRegisterAnyUnitEventBJ(gg_trg_ForceFieldTLF, EVENT_PLAYER_UNIT_CONSTRUCT_START)
    call TriggerAddCondition(gg_trg_ForceFieldTLF, Condition(function Trig_ForceFieldTLF_Conditions))
    call TriggerAddAction(gg_trg_ForceFieldTLF, function Trig_ForceFieldTLF_Actions)
endfunction
function Trig_OOW_Dummies_Func001Func001Func001A takes nothing returns nothing
call GroupRemoveUnitSimple(GetEnumUnit(),udg_OOW_HitGroup[udg_OOW_LoopInteger])
call PauseUnitBJ(false,GetEnumUnit())
call SetUnitFlyHeightBJ(GetEnumUnit(),GetUnitDefaultFlyHeight(GetEnumUnit()),1000.00)
endfunction
function Trig_OOW_Dummies_Func001Func001Func009C takes nothing returns boolean
if(not(udg_OOW_CastCount==0))then
return false
endif
return true
endfunction
function Trig_OOW_Dummies_Func001Func001Func014001003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_OOW_Dummies_Func001Func001Func014001003002001001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_OOW_Dummies_Func001Func001Func014001003002001002 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),udg_OOW_HitGroup[udg_OOW_LoopInteger])==false)
endfunction
function Trig_OOW_Dummies_Func001Func001Func014001003002001 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitInGroup(GetFilterUnit(),udg_OOW_HitGroup[udg_OOW_LoopInteger])==false))
endfunction
function Trig_OOW_Dummies_Func001Func001Func014001003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_OOW_Caster[udg_OOW_LoopInteger]))==true)
endfunction
function Trig_OOW_Dummies_Func001Func001Func014001003002 takes nothing returns boolean
return GetBooleanAnd((GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitInGroup(GetFilterUnit(),udg_OOW_HitGroup[udg_OOW_LoopInteger])==false))),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_OOW_Caster[udg_OOW_LoopInteger]))==true))
endfunction
function Trig_OOW_Dummies_Func001Func001Func014001003 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitInGroup(GetFilterUnit(),udg_OOW_HitGroup[udg_OOW_LoopInteger])==false))),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_OOW_Caster[udg_OOW_LoopInteger]))==true))))
endfunction
function Trig_OOW_Dummies_Func001Func001Func014A takes nothing returns nothing
call UnitDamageTargetBJ(udg_OOW_Caster[udg_OOW_LoopInteger],GetEnumUnit(),(udg_OOW_DamageBase+((I2R(GetUnitAbilityLevelSwapped('A0B9',udg_OOW_Caster[udg_OOW_LoopInteger]))-1)*udg_OOW_DamageInc)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
call GroupAddUnitSimple(GetEnumUnit(),udg_OOW_HitGroup[udg_OOW_LoopInteger])
call PauseUnitBJ(true,GetEnumUnit())
call UnitAddAbilityBJ('Aave',GetEnumUnit())
call UnitRemoveAbilityBJ('Aave',GetEnumUnit())
call SetUnitFlyHeightBJ(GetEnumUnit(),0.00,0.00)
endfunction
function Trig_OOW_Dummies_Func001Func001Func017C takes nothing returns boolean
if(not(udg_OOW_Angle[udg_OOW_LoopInteger]==360.00))then
return false
endif
return true
endfunction
function Trig_OOW_Dummies_Func001Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_OOW_Dummy[udg_OOW_LoopInteger])==true))then
return false
endif
return true
endfunction
function Trig_OOW_Dummies_Actions takes nothing returns nothing
set udg_OOW_LoopInteger=1
loop
exitwhen udg_OOW_LoopInteger>udg_OOW_CastCount
if(Trig_OOW_Dummies_Func001Func001C())then
set udg_OOW_LeakPoint[1]=GetUnitLoc(udg_OOW_Caster[udg_OOW_LoopInteger])
set udg_OOW_LeakPoint[2]=PolarProjectionBJ(udg_OOW_LeakPoint[1],udg_OOW_SphereRadius,udg_OOW_Angle[udg_OOW_LoopInteger])
call SetUnitPositionLoc(udg_OOW_Dummy[udg_OOW_LoopInteger],udg_OOW_LeakPoint[2])
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocMatching(150.00,udg_OOW_LeakPoint[2],Condition(function Trig_OOW_Dummies_Func001Func001Func014001003)),function Trig_OOW_Dummies_Func001Func001Func014A)
call RemoveLocation(udg_OOW_LeakPoint[1])
call RemoveLocation(udg_OOW_LeakPoint[2])
if(Trig_OOW_Dummies_Func001Func001Func017C())then
set udg_OOW_Angle[udg_OOW_LoopInteger]=0.00
else
set udg_OOW_Angle[udg_OOW_LoopInteger]=(udg_OOW_Angle[udg_OOW_LoopInteger]+udg_OOW_OrbSpeed)
endif
else
call ForGroupBJ(udg_OOW_HitGroup[udg_OOW_LoopInteger],function Trig_OOW_Dummies_Func001Func001Func001A)
call GroupClear(udg_OOW_HitGroup[udg_OOW_LoopInteger])
call GroupAddGroup(udg_OOW_HitGroup[udg_OOW_CastCount],udg_OOW_HitGroup[udg_OOW_LoopInteger])
call DestroyGroup(udg_OOW_HitGroup[udg_OOW_LoopInteger])
set udg_OOW_Angle[udg_OOW_LoopInteger]=udg_OOW_Angle[udg_OOW_CastCount]
set udg_OOW_Caster[udg_OOW_LoopInteger]=udg_OOW_Caster[udg_OOW_CastCount]
set udg_OOW_Dummy[udg_OOW_LoopInteger]=udg_OOW_Dummy[udg_OOW_CastCount]
set udg_OOW_CastCount=(udg_OOW_CastCount-1)
if(Trig_OOW_Dummies_Func001Func001Func009C())then
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(udg_trg_OOW_Units)
else
endif
endif
set udg_OOW_LoopInteger=udg_OOW_LoopInteger+1
endloop
endfunction
function InitTrig_OOW_Dummies takes nothing returns nothing
set udg_trg_OOW_Dummies=CreateTrigger()
call DisableTrigger(udg_trg_OOW_Dummies)
call TriggerRegisterTimerEventPeriodic(udg_trg_OOW_Dummies,0.05)
call TriggerAddAction(udg_trg_OOW_Dummies,function Trig_OOW_Dummies_Actions)
endfunction
function Trig_OOW_Units_Func001Func001Func001C takes nothing returns boolean
if(not(GetUnitFlyHeight(GetEnumUnit())<udg_OOW_MaxFlyHeight))then
return false
endif
return true
endfunction
function Trig_OOW_Units_Func001Func001A takes nothing returns nothing
if(Trig_OOW_Units_Func001Func001Func001C())then
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitFlyHeightBJ(GetEnumUnit(),(GetUnitFlyHeight(GetEnumUnit())+10.00),0.00)
else
call GroupRemoveUnitSimple(GetEnumUnit(),udg_OOW_HitGroup[udg_OOW_LoopInteger])
call PauseUnitBJ(false,GetEnumUnit())
call SetUnitFlyHeightBJ(GetEnumUnit(),GetUnitDefaultFlyHeight(GetEnumUnit()),1000.00)
endif
endfunction
function Trig_OOW_Units_Actions takes nothing returns nothing
set udg_OOW_LoopInteger=1
loop
exitwhen udg_OOW_LoopInteger>udg_OOW_CastCount
call ForGroupBJ(udg_OOW_HitGroup[udg_OOW_LoopInteger],function Trig_OOW_Units_Func001Func001A)
set udg_OOW_LoopInteger=udg_OOW_LoopInteger+1
endloop
endfunction
function InitTrig_OOW_Units takes nothing returns nothing
set udg_trg_OOW_Units=CreateTrigger()
call DisableTrigger(udg_trg_OOW_Units)
call TriggerRegisterTimerEventPeriodic(udg_trg_OOW_Units,0.05)
call TriggerAddAction(udg_trg_OOW_Units,function Trig_OOW_Units_Actions)
endfunction
function Trig_Elune_Arrow_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A05U'))then
return false
endif
return true
endfunction
function Trig_Elune_Arrow_Func003C takes nothing returns boolean
if(not(udg_Arrow_Counts>udg_Arrow_CountMaxSize))then
return false
endif
return true
endfunction
function Trig_Elune_Arrow_Actions takes nothing returns nothing
set udg_Arrow_Counts=(udg_Arrow_Counts+1)
set udg_Arrow_CountMaxSize=8191
if(Trig_Elune_Arrow_Func003C())then
set udg_Arrow_Counts=1
else
endif
set udg_Arrow_Caster[udg_Arrow_Counts]=GetSpellAbilityUnit()
set udg_Arrow_CasterLoc=GetUnitLoc(udg_Arrow_Caster[udg_Arrow_Counts])
set udg_Arrow_TargetPoint=GetSpellTargetLoc()
set udg_Arrow_Angle=AngleBetweenPoints(udg_Arrow_CasterLoc,udg_Arrow_TargetPoint)
call CreateNUnitsAtLocBonuses(1,'e00A',GetOwningPlayer(udg_Arrow_Caster[udg_Arrow_Counts]),udg_Arrow_CasterLoc,udg_Arrow_Angle)
call SetUnitUserData(GetLastCreatedUnit(),udg_Arrow_Counts)
call GroupAddUnitSimple(GetLastCreatedUnit(),udg_Arrow_StartGroup)
set udg_Arrow_Distance[udg_Arrow_Counts]=2300.00
set udg_Arrow_DistanceTravel[udg_Arrow_Counts]=0.00
set udg_Arrow_StunDuration[udg_Arrow_Counts]=1
set udg_Arrow_DistanceCount[udg_Arrow_Counts]=0.00
call EnableTrigger(udg_trg_Elune_Arrow_Move)
call RemoveLocation(udg_Arrow_CasterLoc)
call RemoveLocation(udg_Arrow_TargetPoint)
endfunction
function InitTrig_Elune_Arrow takes nothing returns nothing
set udg_trg_Elune_Arrow=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Elune_Arrow,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Elune_Arrow,Condition(function Trig_Elune_Arrow_Conditions))
call TriggerAddAction(udg_trg_Elune_Arrow,function Trig_Elune_Arrow_Actions)
endfunction
function Trig_Elune_Arrow_Move_Func001Func007C takes nothing returns boolean
if(not(udg_Arrow_DistanceCount[udg_Arrow_CusValue]>=225.00))then
return false
endif
return true
endfunction
function Trig_Elune_Arrow_Move_Func001Func008002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)
endfunction
function Trig_Elune_Arrow_Move_Func001Func008002003002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Elune_Arrow_Move_Func001Func008002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Arrow_Caster[udg_Arrow_CusValue]))==true)
endfunction
function Trig_Elune_Arrow_Move_Func001Func008002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Arrow_Caster[udg_Arrow_CusValue]))==true))
endfunction
function Trig_Elune_Arrow_Move_Func001Func008002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Arrow_Caster[udg_Arrow_CusValue]))==true))))
endfunction
function Trig_Elune_Arrow_Move_Func001Func010A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Arrow_Caster[udg_Arrow_CusValue],GetEnumUnit(),(90.00*I2R(GetUnitAbilityLevelSwapped('A05U',udg_Arrow_Caster[udg_Arrow_CusValue]))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call CreateNUnitsAtLocBonuses(1,'e009',GetOwningPlayer(udg_Arrow_Caster[udg_Arrow_CusValue]),udg_Arrow_Movement,bj_UNIT_FACING)
call UnitAddAbilityBJ('A05V',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A05V',GetLastCreatedUnit(),udg_Arrow_StunDuration[udg_Arrow_CusValue])
call IssueTargetOrderBJ(GetLastCreatedUnit(),"thunderbolt",GetEnumUnit())
call UnitApplyTimedLifeBJ(1.50,'BTLF',GetLastCreatedUnit())
endfunction
function Trig_Elune_Arrow_Move_Func001Func011Func001C takes nothing returns boolean
if((udg_Arrow_DistanceTravel[udg_Arrow_CusValue]>=udg_Arrow_Distance[udg_Arrow_CusValue]))then
return true
endif
if((CountUnitsInGroup(udg_Arrow_UnitGroup)>0))then
return true
endif
return false
endfunction
function Trig_Elune_Arrow_Move_Func001Func011C takes nothing returns boolean
if(not Trig_Elune_Arrow_Move_Func001Func011Func001C())then
return false
endif
return true
endfunction
function Trig_Elune_Arrow_Move_Func001A takes nothing returns nothing
set udg_Arrow_CusValue=GetUnitUserData(GetEnumUnit())
set udg_Arrow_DummyLoc=GetUnitLoc(GetEnumUnit())
set udg_Arrow_Movement=PolarProjectionBJ(udg_Arrow_DummyLoc,20.00,GetUnitFacing(GetEnumUnit()))
call SetUnitPositionLoc(GetEnumUnit(),udg_Arrow_Movement)
set udg_Arrow_DistanceTravel[udg_Arrow_CusValue]=(udg_Arrow_DistanceTravel[udg_Arrow_CusValue]+18.00)
set udg_Arrow_DistanceCount[udg_Arrow_CusValue]=(udg_Arrow_DistanceCount[udg_Arrow_CusValue]+18.00)
if(Trig_Elune_Arrow_Move_Func001Func007C())then
set udg_Arrow_StunDuration[udg_Arrow_CusValue]=(udg_Arrow_StunDuration[udg_Arrow_CusValue]+1)
set udg_Arrow_DistanceCount[udg_Arrow_CusValue]=0.00
else
endif
set udg_Arrow_UnitGroup=GetUnitsInRangeOfLocMatching(150.00,udg_Arrow_Movement,Condition(function Trig_Elune_Arrow_Move_Func001Func008002003))
set udg_Arrow_RandomUnit=GetRandomSubGroup(1,udg_Arrow_UnitGroup)
call ForGroupBJ(udg_Arrow_RandomUnit,function Trig_Elune_Arrow_Move_Func001Func010A)
if(Trig_Elune_Arrow_Move_Func001Func011C())then
call KillUnit(GetEnumUnit())
call GroupRemoveUnitSimple(GetEnumUnit(),udg_Arrow_StartGroup)
else
endif
call RemoveLocation(udg_Arrow_DummyLoc)
call RemoveLocation(udg_Arrow_Movement)
call DestroyGroup(udg_Arrow_UnitGroup)
call DestroyGroup(udg_Arrow_RandomUnit)
endfunction
function Trig_Elune_Arrow_Move_Func002C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_Arrow_StartGroup)==0))then
return false
endif
return true
endfunction
function Trig_Elune_Arrow_Move_Actions takes nothing returns nothing
call ForGroupBJ(udg_Arrow_StartGroup,function Trig_Elune_Arrow_Move_Func001A)
if(Trig_Elune_Arrow_Move_Func002C())then
call DisableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function InitTrig_Elune_Arrow_Move takes nothing returns nothing
set udg_trg_Elune_Arrow_Move=CreateTrigger()
call DisableTrigger(udg_trg_Elune_Arrow_Move)
call TriggerRegisterTimerEventPeriodic(udg_trg_Elune_Arrow_Move,0.02)
call TriggerAddAction(udg_trg_Elune_Arrow_Move,function Trig_Elune_Arrow_Move_Actions)
endfunction
function Trig_Agility_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0GW'))then
return false
endif
return true
endfunction
function Trig_Agility_Actions takes nothing returns nothing
set udg_AGI_Count=(udg_AGI_Count+1)
set udg_AGI_Instances=(udg_AGI_Instances+1)
set udg_AGI_Unit[udg_AGI_Count]=GetTriggerUnit()
set udg_AGI_Duration[udg_AGI_Count]=(15.00+(0.15*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,udg_AGI_Unit[udg_AGI_Count],true))))
set udg_AGI_Damage[udg_AGI_Count]=(20.00+((0.08*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,udg_AGI_Unit[udg_AGI_Count],true)))+(0.06*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,udg_AGI_Unit[udg_AGI_Count],true)))))
set udg_AGI_Original_MoveSpeed[udg_AGI_Count]=GetUnitDefaultMoveSpeed(udg_AGI_Unit[udg_AGI_Count])
call h__SetUnitMoveSpeed(udg_AGI_Unit[udg_AGI_Count],750.00)
set udg_AGI_Timer[udg_AGI_Count]=0
call EnableTrigger(udg_trg_Agility_Loop)
endfunction
function InitTrig_Agility takes nothing returns nothing
set udg_trg_Agility=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Agility,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Agility,Condition(function Trig_Agility_Conditions))
call TriggerAddAction(udg_trg_Agility,function Trig_Agility_Actions)
endfunction
function Trig_Agility_Loop_Func002Func001Func001Func002C takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_AGI_Unit[udg_AGI_Integer])==true))then
return false
endif
return true
endfunction
function Trig_Agility_Loop_Func002Func001Func001C takes nothing returns boolean
if(not(udg_AGI_Timer[udg_AGI_Count]>=R2I(udg_AGI_Duration[udg_AGI_Count])))then
return false
endif
return true
endfunction
function Trig_Agility_Loop_Func002Func001Func004002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Agility_Loop_Func002Func001Func004002003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_AGI_Unit[udg_AGI_Integer]))==true)
endfunction
function Trig_Agility_Loop_Func002Func001Func004002003002002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Agility_Loop_Func002Func001Func004002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_AGI_Unit[udg_AGI_Integer]))==true),(IsUnitAliveBJ(GetFilterUnit())==true))
endfunction
function Trig_Agility_Loop_Func002Func001Func004002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_AGI_Unit[udg_AGI_Integer]))==true),(IsUnitAliveBJ(GetFilterUnit())==true))))
endfunction
function Trig_Agility_Loop_Func002Func001Func005A takes nothing returns nothing
set udg_AGI_Target_Point[udg_AGI_Integer]=GetUnitLoc(GetEnumUnit())
call UnitDamageTargetBJ(udg_AGI_Unit[udg_AGI_Integer],GetEnumUnit(),udg_AGI_Damage[udg_AGI_Count],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call AddSpecialEffectLocBJ(udg_AGI_Target_Point[udg_AGI_Integer],"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_AGI_Target_Point[udg_AGI_Integer])
endfunction
function Trig_Agility_Loop_Func002Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_AGI_Unit[udg_AGI_Integer])==true))then
return false
endif
if(not(udg_AGI_Timer[udg_AGI_Count]<R2I(udg_AGI_Duration[udg_AGI_Count])))then
return false
endif
return true
endfunction
function Trig_Agility_Loop_Func003C takes nothing returns boolean
if(not(udg_AGI_Instances==0))then
return false
endif
return true
endfunction
function Trig_Agility_Loop_Actions takes nothing returns nothing
set udg_AGI_Integer=1
loop
exitwhen udg_AGI_Integer>udg_AGI_Count
if(Trig_Agility_Loop_Func002Func001C())then
set udg_AGI_Timer[udg_AGI_Integer]=(udg_AGI_Timer[udg_AGI_Integer]+1)
set udg_AGI_Point[udg_AGI_Integer]=GetUnitLoc(udg_AGI_Unit[udg_AGI_Integer])
set udg_AGI_Targets[udg_AGI_Integer]=GetUnitsInRangeOfLocMatching(140.00,udg_AGI_Point[udg_AGI_Integer],Condition(function Trig_Agility_Loop_Func002Func001Func004002003))
call ForGroupBJ(udg_AGI_Targets[udg_AGI_Integer],function Trig_Agility_Loop_Func002Func001Func005A)
call AddSpecialEffectLocBJ(udg_AGI_Point[udg_AGI_Integer],"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call DestroyGroup(udg_AGI_Targets[udg_AGI_Integer])
call RemoveLocation(udg_AGI_Point[udg_AGI_Integer])
else
if(Trig_Agility_Loop_Func002Func001Func001C())then
set udg_AGI_Timer[udg_AGI_Integer]=(udg_AGI_Timer[udg_AGI_Integer]+1)
if(Trig_Agility_Loop_Func002Func001Func001Func002C())then
call h__SetUnitMoveSpeed(udg_AGI_Unit[udg_AGI_Integer],udg_AGI_Original_MoveSpeed[udg_AGI_Integer])
else
endif
set udg_AGI_Instances=(udg_AGI_Instances-1)
else
endif
endif
set udg_AGI_Integer=udg_AGI_Integer+1
endloop
if(Trig_Agility_Loop_Func003C())then
set udg_AGI_Count=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function InitTrig_Agility_Loop takes nothing returns nothing
set udg_trg_Agility_Loop=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(udg_trg_Agility_Loop,0.33)
call TriggerAddAction(udg_trg_Agility_Loop,function Trig_Agility_Loop_Actions)
endfunction
constant function SurfS__DURATION takes integer level returns integer
return 6+level*1
endfunction
constant function SurfS__BONUS_SPEED takes integer level returns real
return 500.
endfunction
constant function SurfS__FILTER_UNITS takes unit u returns boolean
return IsUnitEnemy(u,GetOwningPlayer(udg_SurfS__CASTER))
endfunction
function SurfS__FilterActions takes nothing returns boolean
local unit u=GetFilterUnit()
local real x1=GetUnitX(udg_SurfS__CASTER)
local real y1=GetUnitY(udg_SurfS__CASTER)
local real x2=GetUnitX(u)
local real y2=GetUnitY(u)
local real a=bj_RADTODEG*Atan2(y2-y1,x2-x1)
if UnitAlive(u)then
if(IsUnitType(u,UNIT_TYPE_STRUCTURE)==false)then
if(IsUnitEnemy((u),GetOwningPlayer(udg_SurfS__CASTER)))then
call KBS_BeginEx(u,SurfS__KB_DISTANCE,SurfS__KB_DURATION,a,SurfS__KB_SFX,SurfS__TREE_AOE,SurfS__ALLOW_MOVE,SurfS__CHECK_PATHING)
endif
endif
endif
set u=null
return false
endfunction
function SurfS__Handler takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer data=(LoadInteger(udg_TimerUtils__ht,0,GetHandleId((t))))
local real x1=udg_s__SurfS__Surf_x[data]
local real y1=udg_s__SurfS__Surf_y[data]
local real x2=GetUnitX(udg_s__SurfS__Surf_cast[data])
local real y2=GetUnitY(udg_s__SurfS__Surf_cast[data])
local real d=(x2-x1)*(x2-x1)+(y2-y1)*(y2-y1)
local unit u
if udg_s__SurfS__Surf_dur[data]<=0 then
call DestroyEffect(udg_s__SurfS__Surf_attach[data])
if SurfS__ALLOW_NO_COLLISION then
call SetUnitPathing(udg_s__SurfS__Surf_cast[data],true)
endif
call UnitRemoveAbility(udg_s__SurfS__Surf_cast[data],SurfS__MOVE_ID)
call s__SurfS__Surf_deallocate(data)
call ReleaseTimer(t)
else
set udg_SurfS__CASTER=udg_s__SurfS__Surf_cast[data]
call GroupEnumUnitsInRange(SurfS__GROUP,GetUnitX(udg_s__SurfS__Surf_cast[data]),GetUnitY(udg_s__SurfS__Surf_cast[data]),SurfS__KB_AOE,Filter(function SurfS__FilterActions))
if d>=SurfS__MINIMUM_DISTANCE*SurfS__MINIMUM_DISTANCE then
set u=CreateUnit(GetOwningPlayer(udg_s__SurfS__Surf_cast[data]),SurfS__UNIT_ID,x2,y2,0.)
call SetUnitAbilityLevel(u,SurfS__SLOW_ID,GetUnitAbilityLevel(udg_s__SurfS__Surf_cast[data],SurfS__ABIL_ID))
call SetUnitAbilityLevel(u,SurfS__DMG_ID,GetUnitAbilityLevel(udg_s__SurfS__Surf_cast[data],SurfS__ABIL_ID))
call IssueImmediateOrderById(u,SurfS__ORDER_ID)
call UnitApplyTimedLife(u,'BTLF',(20))
set udg_s__SurfS__Surf_x[data]=x2
set udg_s__SurfS__Surf_y[data]=y2
endif
set udg_s__SurfS__Surf_dur[data]=udg_s__SurfS__Surf_dur[data]-1
call SaveInteger(udg_TimerUtils__ht,0,GetHandleId((t)),(data))
call TimerStart(t,1./ SurfS__TIMER_INTERVAL,false,function SurfS__Handler)
endif
set t=null
set u=null
endfunction
function SurfS__Actions takes nothing returns nothing
local integer data=s__SurfS__Surf__allocate()
set udg_s__SurfS__Surf_cast[data]=GetTriggerUnit()
set udg_s__SurfS__Surf_x[data]=GetUnitX(udg_s__SurfS__Surf_cast[data])
set udg_s__SurfS__Surf_y[data]=GetUnitY(udg_s__SurfS__Surf_cast[data])
set udg_s__SurfS__Surf_attach[data]=AddSpecialEffectTarget(SurfS__EFFECT,udg_s__SurfS__Surf_cast[data],SurfS__ATTACH)
set udg_s__SurfS__Surf_dur[data]=50*(12+(GetUnitAbilityLevel(udg_s__SurfS__Surf_cast[data],SurfS__ABIL_ID))*2)
call UnitAddAbility(udg_s__SurfS__Surf_cast[data],SurfS__MOVE_ID)
if SurfS__ALLOW_NO_COLLISION then
call SetUnitPathing(udg_s__SurfS__Surf_cast[data],false)
endif
call TimerStart(NewTimerEx(data),1/ SurfS__TIMER_INTERVAL,false,function SurfS__Handler)
endfunction
function SurfS__OnSpell takes nothing returns boolean
if GetSpellAbilityId()==SurfS__ABIL_ID then
call SurfS__Actions()
endif
return false
endfunction
function SurfS__OnInit takes nothing returns nothing
local trigger trig=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(trig,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(trig,Condition(function SurfS__OnSpell))
set trig=null
endfunction
function GrapCondition takes unit a,unit b returns boolean
return(IsPlayerEnemy(GetOwningPlayer(a),GetOwningPlayer(b))and IsUnitVisible(a,GetOwningPlayer(b)))
endfunction
function PlantDuration takes integer level returns real
return 5+2*(I2R(level))
endfunction
function TendrilsPerLevel takes integer level returns real
return I2R(level)
endfunction
function Plant__RunCondition takes nothing returns boolean
return GetSpellAbilityId()==udg_Plant__HeroAbility
endfunction
function Plant_UnitFilter takes nothing returns boolean
local boolean ret=false
if(GetWidgetLife(GetFilterUnit())>0.405)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)then
set ret=(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)and(GetUnitFlyHeight(GetFilterUnit())==0)
endif
return ret
endfunction
function s__Tendril_create takes nothing returns integer
local integer data=s__Tendril__allocate()
set udg_s__Tendril_Data[udg_s__Tendril_Index]=data
set udg_s__Tendril_Index=udg_s__Tendril_Index+1
return data
endfunction
function GetNearestUnit takes location attach,location loc,location loc2,real radius,unit attachunit returns unit
local unit ret=null
local real x1=GetLocationX(loc)
local real x2=0.00
local real x3=GetLocationX(loc2)
local real y1=GetLocationY(loc)
local real y2=0.00
local real y3=GetLocationY(loc2)
local unit a=null
local unit b=null
local real MinD=radius
local real D=0.00
local real r=0.00
call GroupEnumUnitsInRangeOfLoc(udg_Plant__g,loc,radius,udg_Plant__filter)
loop
set a=FirstOfGroup(udg_Plant__g)
exitwhen a==null
call GroupRemoveUnit(udg_Plant__g,a)
set r=SquareRoot((GetLocationX(attach)-GetUnitX(a))*(GetLocationX(attach)-GetUnitX(a))+(GetLocationY(attach)-GetUnitY(a))*(GetLocationY(attach)-GetUnitY(a)))
set x2=GetUnitX(a)
set y2=GetUnitY(a)
set D=SquareRoot((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1))
if r>=(udg_Plant__TendrilLength*udg_Plant__TendrilDefaultPosition)and(D<MinD)and(SquareRoot((x2-x3)*(x2-x3)+(y2-y3)*(y2-y3))<udg_Plant__TendrilLength)and not(IsUnitInGroup(a,udg_Plant__PulledUnits))and GrapCondition(a,attachunit)==true then
set MinD=D
set b=a
endif
endloop
call GroupClear(udg_Plant__g)
set a=null
return b
endfunction
function GetDistanceCoordinates takes real x,real y,real xx,real yy returns real
return SquareRoot((x-xx)*(x-xx)+(y-yy)*(y-yy))+0.5
endfunction
function SetUnitZFacing takes unit whichUnit,real facingAngle returns nothing
local integer i=R2I((facingAngle+udg_Plant__OffsetAngle)*0.7+0.5)
if i>0 then
call SetUnitAnimationByIndex(whichUnit,i)
else
call SetUnitAnimationByIndex(whichUnit,i+252)
endif
endfunction
function Abs takes real a returns real
local real ret=0
if(a>=0)then
set ret=a
else
set ret=-a
endif
return ret
endfunction
function adjust takes real start,real target,real step returns real
local real ret=0.00
if Abs(Abs(target)-Abs(start))<=step then
set ret=target
elseif target>start then
set ret=start+step
elseif target<start then
set ret=start-step
endif
return ret
endfunction
function adjustloc takes location loc,location loc2,real step returns location
local location ret
local real x=GetLocationX(loc)
local real xx=GetLocationX(loc2)
local real y=GetLocationY(loc)
local real yy=GetLocationY(loc2)
local real angle=bj_RADTODEG*Atan2(yy-y,xx-x)
if SquareRoot((x-xx)*(x-xx)+(y-yy)*(y-yy))<step then
set ret=loc2
else
set ret=Location(x+step*Cos(angle*bj_DEGTORAD),y+step*Sin(angle*bj_DEGTORAD))
endif
return ret
endfunction
function GetDistance takes location loc,real x,real y returns real
return SquareRoot((GetLocationX(loc)-x)*(GetLocationX(loc)-x)+(GetLocationY(loc)-y)*(GetLocationX(loc)-y))+0.5
endfunction
function Plant_callback takes nothing returns nothing
local integer data
local integer run=1
local integer i=0
local integer ii=0
local real x=0.00
local integer a=1
local real r=1
local real xx=0.00
local unit b=null
local real d=0.00
local location loc
local location loc2
loop
exitwhen i>=udg_s__Tendril_Index
set run=1
set data=udg_s__Tendril_Data[i]
set x=udg_s__Tendril_Distance[data]
set udg_s__Tendril_ExecutionsLeft[data]=udg_s__Tendril_ExecutionsLeft[data]-1
if udg_s__Tendril_ExecutionsLeft[data]==0 then
set udg_s__Tendril_Phase[data]=5
endif
if udg_s__Tendril_Phase[data]==0 and run==1 then
set r=udg_Plant__PlantHeight+udg_Plant__DefaultSinusHeight+udg_Plant__TendrilDefaultHeight*(1-udg_Plant__TendrilDefaultPosition)*(udg_s__Tendril_Distance[data]/(udg_Plant__TendrilLength*udg_Plant__TendrilDefaultPosition))
set udg_s__Tendril_Distance[data]=adjust(udg_s__Tendril_Distance[data],udg_Plant__TendrilLength*udg_Plant__TendrilDefaultPosition,udg_Plant__BirthAnimationSpeed)
set a=1
loop
exitwhen a>udg_Plant__TendrilPartsNumber
set xx=I2R(a)/ I2R(udg_Plant__TendrilPartsNumber)
call SetUnitFlyHeight(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],Sin(xx*bj_PI)*r+(xx*udg_Plant__TendrilDefaultHeightGround)+udg_Plant__TendrilStartHeight,0.00)
call SetUnitX(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],GetUnitX(udg_s__Tendril_AttachUnit[data])+xx*udg_s__Tendril_Distance[data]*Cos(udg_s__Tendril_angle[data]*bj_DEGTORAD))
call SetUnitY(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],GetUnitY(udg_s__Tendril_AttachUnit[data])+xx*udg_s__Tendril_Distance[data]*Sin(udg_s__Tendril_angle[data]*bj_DEGTORAD))
call SetUnitZFacing(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],-90+Rad2Deg(Atan(r/(udg_s__Tendril_Distance[data])*bj_PI*Cos(xx*bj_PI))))
set a=a+1
endloop
if udg_s__Tendril_Distance[data]==(udg_Plant__TendrilLength*udg_Plant__TendrilDefaultPosition)then
set udg_s__Tendril_Phase[data]=1
endif
set run=0
endif
if udg_s__Tendril_Phase[data]==1 and run==1 then
set r=udg_Plant__PlantHeight+udg_Plant__DefaultSinusHeight+(udg_Plant__TendrilDefaultHeight*(1-(udg_s__Tendril_Distance[data]/ udg_Plant__TendrilLength)))
set udg_s__Tendril_DefaultMovement[data]=udg_s__Tendril_DefaultMovement[data]+udg_Plant__DefaultMovementSpeed
set a=1
if udg_s__Tendril_DefaultMovement[data]>(2*bj_PI)then
set udg_s__Tendril_DefaultMovement[data]=udg_s__Tendril_DefaultMovement[data]-(2*bj_PI)
endif
loop
exitwhen a>udg_Plant__TendrilPartsNumber
set xx=I2R(a)/ I2R(udg_Plant__TendrilPartsNumber)
call SetUnitFlyHeight(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],(xx*udg_Plant__TendrilTargetHeight)+Sin(xx*bj_PI)*(r+(udg_Plant__DefaultMovementAmplitude*Sin(udg_s__Tendril_DefaultMovement[data]-3.14)))+(xx*udg_Plant__TendrilDefaultHeightGround)+udg_Plant__TendrilStartHeight,500000.00)
call SetUnitX(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],GetUnitX(udg_s__Tendril_AttachUnit[data])+xx*(udg_s__Tendril_Distance[data]+(udg_Plant__DefaultMovementAmplitude*Sin(udg_s__Tendril_DefaultMovement[data]-3.14)))*Cos(udg_s__Tendril_angle[data]*bj_DEGTORAD))
call SetUnitY(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],GetUnitY(udg_s__Tendril_AttachUnit[data])+xx*(udg_s__Tendril_Distance[data]+(udg_Plant__DefaultMovementAmplitude*Sin(udg_s__Tendril_DefaultMovement[data]-3.14)))*Sin(udg_s__Tendril_angle[data]*bj_DEGTORAD))
call SetUnitZFacing(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],-90+Rad2Deg(Atan(r/(udg_s__Tendril_Distance[data])*bj_PI*Cos(xx*bj_PI))))
set a=a+1
endloop
set loc=GetUnitLoc(udg_s__Tendril_AttachUnit[data])
set udg_s__Tendril_TendrilLoc[data]=Location(GetUnitX(udg_s__Tendril_AttachUnit[data])+udg_s__Tendril_Distance[data]*Cos(udg_s__Tendril_angle[data]*bj_DEGTORAD),GetUnitY(udg_s__Tendril_AttachUnit[data])+udg_s__Tendril_Distance[data]*Sin(udg_s__Tendril_angle[data]*bj_DEGTORAD))
set loc2=GetUnitLoc(udg_s__Tendril_AttachUnit[data])
set b=GetNearestUnit(loc2,udg_s__Tendril_TendrilLoc[data],loc,udg_Plant__TendrilLength,udg_s__Tendril_AttachUnit[data])
if b!=null then
set udg_s__Tendril_TargetUnit[data]=b
call GroupAddUnit(udg_Plant__PulledUnits,udg_s__Tendril_TargetUnit[data])
set udg_s__Tendril_DefaultMovement[data]=0
set udg_s__Tendril_Phase[data]=2
endif
set b=null
call RemoveLocation(loc)
set loc=null
set run=0
endif
set a=1
if udg_s__Tendril_Phase[data]==2 and run==1 then
set loc=GetUnitLoc(udg_s__Tendril_TargetUnit[data])
set udg_s__Tendril_TendrilLoc[data]=adjustloc(udg_s__Tendril_TendrilLoc[data],loc,udg_Plant__TendrilSpeed)
set udg_s__Tendril_angle[data]=(bj_RADTODEG*Atan2(GetLocationY(udg_s__Tendril_TendrilLoc[data])-GetUnitY(udg_s__Tendril_AttachUnit[data]),GetLocationX(udg_s__Tendril_TendrilLoc[data])-GetUnitX(udg_s__Tendril_AttachUnit[data])))
set udg_s__Tendril_Distance[data]=SquareRoot((GetLocationX(udg_s__Tendril_TendrilLoc[data])-GetUnitX(udg_s__Tendril_AttachUnit[data]))*(GetLocationX(udg_s__Tendril_TendrilLoc[data])-GetUnitX(udg_s__Tendril_AttachUnit[data]))+(GetLocationY(udg_s__Tendril_TendrilLoc[data])-GetUnitY(udg_s__Tendril_AttachUnit[data]))*(GetLocationY(udg_s__Tendril_TendrilLoc[data])-GetUnitY(udg_s__Tendril_AttachUnit[data])))
set d=GetDistanceCoordinates(GetUnitX(udg_s__Tendril_AttachUnit[data]),GetUnitY(udg_s__Tendril_AttachUnit[data]),GetUnitX(udg_s__Tendril_TargetUnit[data]),GetUnitY(udg_s__Tendril_TargetUnit[data]))
if d>=udg_Plant__TendrilLength+udg_Plant__TendrilBendLenght then
call GroupRemoveUnit(udg_Plant__PulledUnits,udg_s__Tendril_TargetUnit[data])
set udg_s__Tendril_TargetUnit[data]=null
set udg_s__Tendril_Phase[data]=4
endif
if GetLocationX(loc)==GetLocationX(udg_s__Tendril_TendrilLoc[data])and GetLocationY(loc)==GetLocationY(udg_s__Tendril_TendrilLoc[data])then
set udg_s__Tendril_Phase[data]=3
endif
set r=udg_Plant__PlantHeight+udg_Plant__DefaultSinusHeight+udg_Plant__TendrilDefaultHeight*(1-(udg_s__Tendril_Distance[data]/ udg_Plant__TendrilLength))
loop
exitwhen a>udg_Plant__TendrilPartsNumber
set xx=I2R(a)/ I2R(udg_Plant__TendrilPartsNumber)
call SetUnitFacing(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],udg_s__Tendril_angle[data])
call SetUnitFlyHeight(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],Sin(xx*bj_PI)*r+(xx*udg_Plant__TendrilTargetHeight)+(xx*udg_Plant__TendrilDefaultHeightGround*(1-(udg_s__Tendril_Distance[data]/ d)))+udg_Plant__TendrilStartHeight,0.00)
call SetUnitX(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],GetUnitX(udg_s__Tendril_AttachUnit[data])+xx*udg_s__Tendril_Distance[data]*Cos(udg_s__Tendril_angle[data]*bj_DEGTORAD))
call SetUnitY(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],GetUnitY(udg_s__Tendril_AttachUnit[data])+xx*udg_s__Tendril_Distance[data]*Sin(udg_s__Tendril_angle[data]*bj_DEGTORAD))
call SetUnitZFacing(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],-90+Rad2Deg(Atan(r/(udg_s__Tendril_Distance[data])*bj_PI*Cos(xx*bj_PI))))
set a=a+1
endloop
set run=0
endif
if udg_s__Tendril_Phase[data]==3 and run==1 then
set r=udg_Plant__PlantHeight+udg_Plant__DefaultSinusHeight+udg_Plant__TendrilDefaultHeight*(1-(udg_s__Tendril_Distance[data]/ udg_Plant__TendrilLength))
set loc=GetUnitLoc(udg_s__Tendril_AttachUnit[data])
set udg_s__Tendril_Distance[data]=adjust(udg_s__Tendril_Distance[data],udg_Plant__PullRange,udg_Plant__TendrilSpeed)
if udg_s__Tendril_Distance[data]==(udg_Plant__PullRange)or(GrapCondition(udg_s__Tendril_TargetUnit[data],udg_s__Tendril_AttachUnit[data])==false)then
set udg_s__Tendril_Phase[data]=4
call GroupRemoveUnit(udg_Plant__PulledUnits,udg_s__Tendril_TargetUnit[data])
set udg_s__Tendril_TargetUnit[data]=null
endif
loop
exitwhen a>udg_Plant__TendrilPartsNumber
set xx=I2R(a)/ I2R(udg_Plant__TendrilPartsNumber)
call SetUnitFlyHeight(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],Sin(xx*bj_PI)*r+(xx*udg_Plant__TendrilTargetHeight)+udg_Plant__TendrilStartHeight,0.00)
call SetUnitX(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],GetUnitX(udg_s__Tendril_AttachUnit[data])+xx*udg_s__Tendril_Distance[data]*Cos(udg_s__Tendril_angle[data]*bj_DEGTORAD))
call SetUnitY(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],GetUnitY(udg_s__Tendril_AttachUnit[data])+xx*udg_s__Tendril_Distance[data]*Sin(udg_s__Tendril_angle[data]*bj_DEGTORAD))
call SetUnitZFacing(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],-90+Rad2Deg(Atan(r/(udg_s__Tendril_Distance[data])*bj_PI*Cos(xx*bj_PI))))
set a=a+1
endloop
call SetUnitX(udg_s__Tendril_TargetUnit[data],GetUnitX(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+udg_Plant__TendrilPartsNumber]))
call SetUnitY(udg_s__Tendril_TargetUnit[data],GetUnitY(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+udg_Plant__TendrilPartsNumber]))
set run=0
endif
if udg_s__Tendril_Phase[data]==4 and run==1 then
set r=udg_Plant__PlantHeight+udg_Plant__DefaultSinusHeight+udg_Plant__TendrilDefaultHeight*(1-(udg_s__Tendril_Distance[data]/ udg_Plant__TendrilLength))
set udg_s__Tendril_TendrilLoc[data]=Location(GetUnitX(udg_s__Tendril_AttachUnit[data])+udg_s__Tendril_Distance[data]*Cos(udg_s__Tendril_angle[data]*bj_DEGTORAD),GetUnitY(udg_s__Tendril_AttachUnit[data])+udg_s__Tendril_Distance[data]*Sin(udg_s__Tendril_angle[data]*bj_DEGTORAD))
set d=adjust(GetUnitFlyHeight(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+udg_Plant__TendrilPartsNumber]),udg_Plant__TendrilDefaultHeightGround,15)
set udg_s__Tendril_Distance[data]=adjust(udg_s__Tendril_Distance[data],udg_Plant__TendrilLength*udg_Plant__TendrilDefaultPosition,udg_Plant__TendrilSpeed)
if udg_s__Tendril_Distance[data]==(udg_Plant__TendrilLength*udg_Plant__TendrilDefaultPosition)then
set udg_s__Tendril_Phase[data]=1
endif
loop
exitwhen a>udg_Plant__TendrilPartsNumber
set xx=I2R(a)/ I2R(udg_Plant__TendrilPartsNumber)
call SetUnitFlyHeight(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],Sin(xx*bj_PI)*r+(xx*d)+udg_Plant__TendrilStartHeight,0.00)
call SetUnitX(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],GetUnitX(udg_s__Tendril_AttachUnit[data])+xx*udg_s__Tendril_Distance[data]*Cos(udg_s__Tendril_angle[data]*bj_DEGTORAD))
call SetUnitY(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],GetUnitY(udg_s__Tendril_AttachUnit[data])+xx*udg_s__Tendril_Distance[data]*Sin(udg_s__Tendril_angle[data]*bj_DEGTORAD))
call SetUnitZFacing(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],-90+Rad2Deg(Atan(r/(udg_s__Tendril_Distance[data])*bj_PI*Cos(xx*bj_PI))))
set a=a+1
endloop
set loc=GetUnitLoc(udg_s__Tendril_AttachUnit[data])
set loc2=GetUnitLoc(udg_s__Tendril_AttachUnit[data])
set b=GetNearestUnit(loc2,udg_s__Tendril_TendrilLoc[data],loc,udg_Plant__TendrilLength,udg_s__Tendril_AttachUnit[data])
if b!=null then
set udg_s__Tendril_TargetUnit[data]=b
call GroupAddUnit(udg_Plant__PulledUnits,udg_s__Tendril_TargetUnit[data])
set udg_s__Tendril_Phase[data]=2
endif
if b==null then
endif
set b=null
call RemoveLocation(loc)
set loc=null
set run=0
endif
if udg_s__Tendril_Phase[data]==5 then
set udg_s__Tendril_rem[data]=udg_s__Tendril_rem[data]+2
set xx=I2R(udg_s__Tendril_rem[data])/(5*I2R(udg_Plant__TendrilPartsNumber))
call DestroyEffect(udg_s___Tendril_TendrilModel[udg_s__Tendril_TendrilModel[data]+udg_s__Tendril_rem[data]-1])
call RemoveUnit(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+udg_s__Tendril_rem[data]-1])
call DestroyEffect(udg_s___Tendril_TendrilModel[udg_s__Tendril_TendrilModel[data]+udg_s__Tendril_rem[data]-2])
call RemoveUnit(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+udg_s__Tendril_rem[data]-2])
set udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+udg_s__Tendril_rem[data]-2]=null
set udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+udg_s__Tendril_rem[data]-1]=null
set udg_s__Tendril_Distance[data]=udg_s__Tendril_Distance[data]-(udg_s__Tendril_Distance[data]*xx)
set r=(udg_Plant__PlantHeight+udg_Plant__DefaultSinusHeight+udg_Plant__TendrilDefaultHeight*(1-(udg_s__Tendril_Distance[data]/ udg_Plant__TendrilLength)))*(1-I2R(udg_s__Tendril_rem[data])/ udg_Plant__TendrilPartsNumber)
set udg_s__Tendril_TendrilLoc[data]=Location(GetUnitX(udg_s__Tendril_AttachUnit[data])+udg_s__Tendril_Distance[data]*Cos(udg_s__Tendril_angle[data]*bj_DEGTORAD),GetUnitY(udg_s__Tendril_AttachUnit[data])+udg_s__Tendril_Distance[data]*Sin(udg_s__Tendril_angle[data]*bj_DEGTORAD))
set d=adjust(GetUnitFlyHeight(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+udg_Plant__TendrilPartsNumber]),udg_Plant__TendrilDefaultHeightGround,15)
set a=udg_s__Tendril_rem[data]
if udg_s__Tendril_rem[data]!=udg_Plant__TendrilPartsNumber then
loop
exitwhen a>udg_Plant__TendrilPartsNumber
set xx=I2R(a-udg_s__Tendril_rem[data])/ I2R(udg_Plant__TendrilPartsNumber-udg_s__Tendril_rem[data])
call SetUnitFlyHeight(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],Sin(xx*bj_PI)*r+(xx*d)+udg_Plant__TendrilStartHeight,0.00)
call SetUnitX(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],GetUnitX(udg_s__Tendril_AttachUnit[data])+xx*udg_s__Tendril_Distance[data]*Cos(udg_s__Tendril_angle[data]*bj_DEGTORAD))
call SetUnitY(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],GetUnitY(udg_s__Tendril_AttachUnit[data])+xx*udg_s__Tendril_Distance[data]*Sin(udg_s__Tendril_angle[data]*bj_DEGTORAD))
call SetUnitZFacing(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+a],-90+Rad2Deg(Atan(r/(udg_s__Tendril_Distance[data]+1)*bj_PI*Cos(xx*bj_PI))))
set a=a+1
endloop
endif
if udg_s__Tendril_rem[data]>=udg_Plant__TendrilPartsNumber then
call DestroyEffect(udg_s___Tendril_TendrilModel[udg_s__Tendril_TendrilModel[data]+udg_s__Tendril_rem[data]])
call RemoveUnit(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+udg_s__Tendril_rem[data]])
set udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[data]+udg_s__Tendril_rem[data]]=null
if udg_s__Tendril_base[data]==true and udg_Plant__CreatePlant==true then
call DestroyEffect(AddSpecialEffect(udg_Plant__TendrilEffect,GetUnitX(udg_s__Tendril_AttachUnit[data]),GetUnitY(udg_s__Tendril_AttachUnit[data])))
call RemoveUnit(udg_s__Tendril_AttachUnit[data])
else
call UnitRemoveAbility(udg_s__Tendril_AttachUnit[data],udg_Plant__PlantSkill)
call UnitRemoveAbility(udg_s__Tendril_AttachUnit[data],udg_Plant__PlantSkill2)
endif
call DestroyEffect(udg_s__Tendril_PlantEffect[data])
call DestroyEffect(udg_s__Tendril_PlantEffect2[data])
call GroupRemoveUnit(udg_Plant__PulledUnits,udg_s__Tendril_TargetUnit[data])
call RemoveLocation(udg_s__Tendril_TendrilLoc[data])
set udg_s__Tendril_TendrilLoc[data]=null
set udg_s__Tendril_AttachUnit[data]=null
set udg_s__Tendril_TargetUnit[data]=null
set ii=i
loop
exitwhen ii==udg_s__Tendril_Index
set udg_s__Tendril_Data[ii]=udg_s__Tendril_Data[ii+1]
set ii=ii+1
endloop
set udg_s__Tendril_Data[udg_s__Tendril_Index]=0
set i=i-1
set udg_s__Tendril_Index=udg_s__Tendril_Index-1
call s__Tendril_deallocate(data)
else
endif
endif
set i=i+1
endloop
if udg_s__Tendril_Index>0 then
call TimerStart(udg_Plant__tt,udg_Plant__TimerPeriod,false,function Plant_callback)
else
endif
endfunction
function Plant_ManEatingPlant takes nothing returns nothing
local integer i=1
local integer ii=0
local real angle
local location loc=GetSpellTargetLoc()
local real x=0.00
local integer a=1
local integer level=GetUnitAbilityLevel(GetTriggerUnit(),GetSpellAbilityId())
local boolean base=true
local unit l__Plant__Plant=null
loop
exitwhen ii==(I2R((level)))
set angle=GetRandomReal(0.00,360.00)
call s__Tendril_create()
set udg_s__Tendril_angle[udg_s__Tendril_Data[udg_s__Tendril_Index-1]]=angle
if udg_Plant__CreatePlant==true then
if base==true then
set udg_s__Tendril_AttachUnit[udg_s__Tendril_Data[udg_s__Tendril_Index-1]]=CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()),udg_Plant__DummyID,loc,angle)
set l__Plant__Plant=udg_s__Tendril_AttachUnit[udg_s__Tendril_Data[udg_s__Tendril_Index-1]]
set udg_s__Tendril_PlantEffect[udg_s__Tendril_Data[udg_s__Tendril_Index-1]]=AddSpecialEffectTarget(udg_Plant__PlantDummyEffect,l__Plant__Plant,"origin")
set udg_s__Tendril_PlantEffect2[udg_s__Tendril_Data[udg_s__Tendril_Index-1]]=AddSpecialEffectTarget(udg_Plant__PlantDummyEffect2,l__Plant__Plant,"origin")
call SetUnitScale(udg_s__Tendril_AttachUnit[udg_s__Tendril_Data[udg_s__Tendril_Index-1]],udg_Plant__PlantSize,udg_Plant__PlantSize,udg_Plant__PlantSize)
call SetUnitFlyHeight(udg_s__Tendril_AttachUnit[udg_s__Tendril_Data[udg_s__Tendril_Index-1]],udg_Plant__PlantHeight,500)
call SetUnitZFacing(udg_s__Tendril_AttachUnit[udg_s__Tendril_Data[udg_s__Tendril_Index-1]],0)
else
set udg_s__Tendril_AttachUnit[udg_s__Tendril_Data[udg_s__Tendril_Index-1]]=l__Plant__Plant
set udg_s__Tendril_PlantEffect[udg_s__Tendril_Data[udg_s__Tendril_Index-1]]=AddSpecialEffectTarget(udg_Plant__PlantDummyEffect2,udg_s__Tendril_AttachUnit[udg_s__Tendril_Data[udg_s__Tendril_Index-1]],"origin")
set udg_s__Tendril_PlantEffect[udg_s__Tendril_Data[udg_s__Tendril_Index-1]]=AddSpecialEffectTarget(udg_Plant__PlantDummyEffect,udg_s__Tendril_AttachUnit[udg_s__Tendril_Data[udg_s__Tendril_Index-1]],"origin")
endif
else
set udg_s__Tendril_AttachUnit[udg_s__Tendril_Data[udg_s__Tendril_Index-1]]=GetTriggerUnit()
if base==true then
set udg_s__Tendril_PlantEffect[udg_s__Tendril_Data[udg_s__Tendril_Index-1]]=AddSpecialEffectTarget(udg_Plant__PlantDummyEffect,l__Plant__Plant,"origin")
set udg_s__Tendril_PlantEffect2[udg_s__Tendril_Data[udg_s__Tendril_Index-1]]=AddSpecialEffectTarget(udg_Plant__PlantDummyEffect2,l__Plant__Plant,"origin")
endif
endif
call DestroyEffect(AddSpecialEffect(udg_Plant__TendrilEffect,GetUnitX(udg_s__Tendril_AttachUnit[udg_s__Tendril_Data[udg_s__Tendril_Index-1]]),GetUnitY(udg_s__Tendril_AttachUnit[udg_s__Tendril_Data[udg_s__Tendril_Index-1]])))
call UnitAddAbility(udg_s__Tendril_AttachUnit[udg_s__Tendril_Data[udg_s__Tendril_Index-1]],udg_Plant__PlantSkill)
call SetUnitAbilityLevel(udg_s__Tendril_AttachUnit[udg_s__Tendril_Data[udg_s__Tendril_Index-1]],udg_Plant__PlantSkill,level)
call UnitAddAbility(udg_s__Tendril_AttachUnit[udg_s__Tendril_Data[udg_s__Tendril_Index-1]],udg_Plant__PlantSkill2)
call SetUnitAbilityLevel(udg_s__Tendril_AttachUnit[udg_s__Tendril_Data[udg_s__Tendril_Index-1]],udg_Plant__PlantSkill2,level)
set udg_s__Tendril_Distance[udg_s__Tendril_Data[udg_s__Tendril_Index-1]]=udg_Plant__BirthStartRange
set udg_s__Tendril_base[udg_s__Tendril_Data[udg_s__Tendril_Index-1]]=base
set udg_s__Tendril_Phase[udg_s__Tendril_Data[udg_s__Tendril_Index-1]]=0
loop
exitwhen i>udg_Plant__TendrilPartsNumber
set x=I2R(i)/ I2R(udg_Plant__TendrilPartsNumber)
set udg_s__Tendril_ExecutionsLeft[udg_s__Tendril_Data[udg_s__Tendril_Index-1]]=R2I((7+2*(I2R((level))))/ udg_Plant__TimerPeriod)
set udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[udg_s__Tendril_Data[udg_s__Tendril_Index-1]]+i]=CreateUnit(GetOwningPlayer(GetTriggerUnit()),udg_Plant__DummyID,GetUnitX(udg_s__Tendril_AttachUnit[udg_s__Tendril_Data[udg_s__Tendril_Index-1]])+x*udg_s__Tendril_Distance[udg_s__Tendril_Data[udg_s__Tendril_Index-1]]*Cos(angle*bj_DEGTORAD),GetUnitY(udg_s__Tendril_AttachUnit[udg_s__Tendril_Data[udg_s__Tendril_Index-1]])+x*udg_s__Tendril_Distance[udg_s__Tendril_Data[udg_s__Tendril_Index-1]]*Sin(angle*bj_DEGTORAD),angle)
call SetUnitZFacing(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[udg_s__Tendril_Data[udg_s__Tendril_Index-1]]+i],-90+Rad2Deg(Atan(udg_Plant__TendrilDefaultHeight/(udg_Plant__TendrilDefaultPosition*udg_Plant__TendrilLength)*bj_PI*Cos(x*bj_PI))))
set udg_s___Tendril_TendrilModel[udg_s__Tendril_TendrilModel[udg_s__Tendril_Data[udg_s__Tendril_Index-1]]+i]=AddSpecialEffectTarget(udg_Plant__TendrilDummyEffect,udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[udg_s__Tendril_Data[udg_s__Tendril_Index-1]]+i],"origin")
call SetUnitScale(udg_s___Tendril_TendrilPart[udg_s__Tendril_TendrilPart[udg_s__Tendril_Data[udg_s__Tendril_Index-1]]+i],udg_Plant__TendrilSize-(i*udg_Plant__TendrilSizeReduction),udg_Plant__TendrilSize-(i*udg_Plant__TendrilSizeReduction),udg_Plant__TendrilSize-(i*udg_Plant__TendrilSizeReduction))
set i=i+1
endloop
set i=1
if udg_s__Tendril_Index==1 then
call TimerStart(udg_Plant__tt,udg_Plant__TimerPeriod,false,function Plant_callback)
endif
set base=false
set ii=ii+1
endloop
call RemoveLocation(loc)
set loc=null
endfunction
function Plant_Init takes nothing returns nothing
local trigger tr=CreateTrigger()
set udg_Plant__filter=Filter(function Plant_UnitFilter)
call TriggerRegisterAnyUnitEventBJ(tr,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(tr,Condition(function Plant__RunCondition))
call TriggerAddAction(tr,function Plant_ManEatingPlant)
endfunction
constant function FireRun__Lasts takes integer level returns real
return level+3.0
endfunction
constant function FireRun__SpellDuration takes integer level returns real
return 4.0+4.0*level
endfunction
function FireRun__RunCondition takes nothing returns boolean
return GetSpellAbilityId()==FireRun__Spell
endfunction
function FireRun__CreateFlame takes integer level,unit u,real x,real y,real angle returns nothing
local unit flame=CreateUnit(GetOwningPlayer(u),FireRun__DummyID,x,y,bj_RADTODEG*angle)
call UnitAddAbility(flame,FireRun__PassiveEffect1)
call SetUnitAbilityLevel(flame,FireRun__PassiveEffect1,level)
call UnitAddAbility(flame,FireRun__PassiveEffect2)
call SetUnitAbilityLevel(flame,FireRun__PassiveEffect2,level)
call PlanUnitRemoval(flame,(level)+4.5)
set flame=null
return
endfunction
function FireRun__callback takes nothing returns nothing
local integer i=0
loop
exitwhen i>=udg_s__F_Index
call sc__F_move(udg_s__F_Data[i])
set i=i+1
endloop
if udg_s__F_Index!=0 then
call TimerStart(udg_FireRun__t,FireRun__TimerPeriod,true,function FireRun__callback)
endif
endfunction
function s__F_create takes unit u,integer level returns integer
local integer d=s__F__allocate()
set udg_s__F_Data[udg_s__F_Index]=d
set udg_s__F_dur[d]=R2I((4.0+4.0*(level))/ FireRun__TimerPeriod)
set udg_s__F_in[d]=udg_s__F_Index
set udg_s__F_u[d]=u
set udg_s__F_level[d]=level
set udg_s__F_Index=udg_s__F_Index+1
set udg_s__F_lx[d]=GetUnitX(u)
set udg_s__F_ly[d]=GetUnitY(u)
if udg_s__F_Index==1 then
call TimerStart(udg_FireRun__t,FireRun__TimerPeriod,true,function FireRun__callback)
endif
return d
endfunction
function s__F_move takes integer this returns nothing
local integer ii=0
local real x=GetUnitX(udg_s__F_u[this])
local real y=GetUnitY(udg_s__F_u[this])
local real d
local real a
set udg_s__F_dur[this]=udg_s__F_dur[this]-1
if udg_s__F_dur[this]<=0 or GetWidgetLife(udg_s__F_u[this])<=0.405 or GetUnitAbilityLevel(udg_s__F_u[this],FireRun__Buff)==0 then
set udg_s__F_u[this]=null
set ii=udg_s__F_in[this]
call s__F_deallocate(this)
set udg_s__F_Index=udg_s__F_Index-1
set udg_s__F_Data[ii]=udg_s__F_Data[udg_s__F_Index]
set udg_s__F_in[udg_s__F_Data[ii]]=ii
return
endif
set a=Atan2(y-udg_s__F_ly[this],x-udg_s__F_lx[this])
set d=SquareRoot((x-udg_s__F_lx[this])*(x-udg_s__F_lx[this])+(y-udg_s__F_ly[this])*(y-udg_s__F_ly[this]))
if d>FireRun__CreationRange then
if d<FireRun__MaxDistance then
set ii=0
loop
exitwhen ii==1
set udg_s__F_lx[this]=udg_s__F_lx[this]+FireRun__CreationRange*Cos(a)
set udg_s__F_ly[this]=udg_s__F_ly[this]+FireRun__CreationRange*Sin(a)
call sc___prototype41_execute(1,udg_s__F_level[this],udg_s__F_u[this],udg_s__F_lx[this],udg_s__F_ly[this],a)
set d=d-FireRun__CreationRange
if d<FireRun__CreationRange then
set ii=1
endif
endloop
else
set udg_s__F_lx[this]=x
set udg_s__F_ly[this]=y
endif
endif
endfunction
function FireRun__Actions takes nothing returns nothing
call s__F_create(GetTriggerUnit(),GetUnitAbilityLevel(GetTriggerUnit(),FireRun__Spell))
endfunction
function FireRun__Init takes nothing returns nothing
local trigger tr=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(tr,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(tr,Condition(function FireRun__RunCondition))
call TriggerAddAction(tr,function FireRun__Actions)
endfunction
constant function TimeStop__Duration takes integer level returns real
return 2.+(0.5*level)
endfunction
constant function TimeStop__AreaOfEffect takes integer level returns real
return 150.+(150.*level)
endfunction
function TimeStop__AllowedTargets takes unit caster,unit target returns boolean
return IsUnitEnemy(target,GetOwningPlayer(caster))and GetWidgetLife(target)>0.405 and IsUnitType(target,UNIT_TYPE_MAGIC_IMMUNE)==false and IsUnitType(target,UNIT_TYPE_STRUCTURE)==false and IsUnitType(target,UNIT_TYPE_MECHANICAL)==false and true
endfunction
function TimeStop__AdditionalSpecialEffects takes unit Effect,real casters_current_height returns nothing
call SetUnitScale(Effect,2.,2.,2.)
call SetUnitFlyHeight(Effect,casters_current_height+100.,0.)
endfunction
function TimeStop__RevertTimeScale takes unit target returns nothing
call SetUnitTimeScale(target,1.)
endfunction
function TimeStop__PreloadTimeStop takes nothing returns nothing
set bj_lastCreatedUnit=CreateUnit(Player(15),TimeStop__DUMMY_ID,0,0,0)
call UnitAddAbility(bj_lastCreatedUnit,TimeStop__SPELL_ID)
call KillUnit(bj_lastCreatedUnit)
endfunction
function TimeStop__Pick takes nothing returns boolean
return TimeStop__AllowedTargets(udg_TimeStop__TemporareCaster,GetFilterUnit())
endfunction
constant function TimeStop__AntiLeakFilter takes nothing returns boolean
return true
endfunction
function TimeStop__Conditions takes nothing returns boolean
return GetSpellAbilityId()==TimeStop__SPELL_ID
endfunction
function TimeStop__Bugfix_Conditions takes nothing returns boolean
return LoadInteger(udg_TimeStop__Hash,1,GetHandleId(GetTriggerUnit()))>0
endfunction
function TimeStop__PauseTargets takes nothing returns nothing
local unit enum=GetEnumUnit()
call SaveInteger(udg_TimeStop__Hash,1,GetHandleId(enum),LoadInteger(udg_TimeStop__Hash,1,GetHandleId(enum))+1)
call PauseUnitEx(enum,true)
call SetUnitTimeScale(enum,0.)
set enum=null
endfunction
function TimeStop__UnpauseTargets takes nothing returns nothing
local unit enum=GetEnumUnit()
local integer enum_id=GetHandleId(enum)
call PauseUnitEx(enum,false)
call SaveInteger(udg_TimeStop__Hash,1,enum_id,LoadInteger(udg_TimeStop__Hash,1,enum_id)-1)
if LoadInteger(udg_TimeStop__Hash,1,enum_id)<=0 then
call RemoveSavedInteger(udg_TimeStop__Hash,1,enum_id)
call SetUnitTimeScale((enum),1.)
endif
set enum=null
endfunction
function TimeStop__ActionsContinued takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer t_dat=GetHandleId(t)
call ForGroup(LoadGroupHandle(udg_TimeStop__Hash,2,t_dat),function TimeStop__UnpauseTargets)
call SetUnitTimeScale(LoadUnitHandle(udg_TimeStop__Hash,3,t_dat),5.)
set udg_TimeStop__ReferanceCounter=udg_TimeStop__ReferanceCounter-1
if udg_TimeStop__ReferanceCounter<=0. then
set udg_TimeStop__ReferanceCounter=0
call DisableTrigger(udg_TimeStop__BugfixTrigger)
endif
call ReleaseGroup(LoadGroupHandle(udg_TimeStop__Hash,2,t_dat))
call ReleaseTimer(t)
call RemoveSavedHandle(udg_TimeStop__Hash,2,t_dat)
call RemoveSavedHandle(udg_TimeStop__Hash,3,t_dat)
set t=null
endfunction
function TimeStop__Actions takes nothing returns nothing
local unit caster=GetTriggerUnit()
local integer caster_id=GetHandleId(caster)
local real casterX=GetUnitX(caster)
local real casterY=GetUnitY(caster)
local integer level=GetUnitAbilityLevel(caster,TimeStop__SPELL_ID)
local real duration=(2.+(0.5*(level)))
local real caster_fly=GetUnitFlyHeight(caster)
local timer t=(NewTimerEx(0))
local unit dummy=CreateUnit(GetOwningPlayer(caster),TimeStop__EFFECT_DUMMY_ID,casterX,casterY,0.00)
local group g=NewGroup()
set udg_TimeStop__TemporareCaster=caster
set udg_TimeStop__ReferanceCounter=udg_TimeStop__ReferanceCounter+1
call EnableTrigger(udg_TimeStop__BugfixTrigger)
call SaveUnitHandle(udg_TimeStop__Hash,3,caster_id,dummy)
call TimeStop__AdditionalSpecialEffects(dummy,caster_fly)
call UnitApplyTimedLife(dummy,'BTLF',duration)
call SetUnitTimeScale(dummy,1./ duration)
call GroupEnumUnitsInRange(g,casterX,casterY,(150.+(150.*(level))),udg_TimeStop__Target_Checker)
call SaveGroupHandle(udg_TimeStop__Hash,2,GetHandleId(t),g)
call ForGroup(g,function TimeStop__PauseTargets)
call TimerStart(t,duration,false,function TimeStop__ActionsContinued)
set caster=null
set dummy=null
set t=null
set g=null
endfunction
function TimeStop__Bugfix_Actions takes nothing returns nothing
call SetUnitTimeScale((GetTriggerUnit()),1.)
endfunction
function TimeStop__Initialize takes nothing returns nothing
local integer ForLoop=0
local trigger spell=CreateTrigger()
set udg_TimeStop__BugfixTrigger=CreateTrigger()
set udg_TimeStop__Target_Checker=Condition(function TimeStop__Pick)
set udg_TimeStop__DummyFilter=Condition(function TimeStop__AntiLeakFilter)
set udg_TimeStop__Hash=InitHashtable()
call DisableTrigger(udg_TimeStop__BugfixTrigger)
call TimeStop__PreloadTimeStop()
loop
exitwhen ForLoop>15
call TriggerRegisterPlayerUnitEvent(spell,Player(ForLoop),EVENT_PLAYER_UNIT_SPELL_EFFECT,udg_TimeStop__DummyFilter)
call TriggerRegisterPlayerUnitEvent(udg_TimeStop__BugfixTrigger,Player(ForLoop),EVENT_PLAYER_UNIT_DEATH,udg_TimeStop__DummyFilter)
set ForLoop=ForLoop+1
endloop
call TriggerAddCondition(spell,Condition(function TimeStop__Conditions))
call TriggerAddAction(spell,function TimeStop__Actions)
call TriggerAddCondition(udg_TimeStop__BugfixTrigger,Condition(function TimeStop__Bugfix_Conditions))
call TriggerAddAction(udg_TimeStop__BugfixTrigger,function TimeStop__Bugfix_Actions)
endfunction
function Trig_Secret_Hero_5_Conditions takes nothing returns boolean
if(not(GetItemTypeId(GetManipulatedItem())=='I02Q'))then
return false
endif
return true
endfunction
function Trig_Secret_Hero_5_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'H00B',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),GetUnitFacing(GetTriggerUnit()))
call RemoveUnit(GetTriggerUnit())
call DisableTrigger(udg_trg_Infernal_Partner_Copy_Copy)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Secret_Hero_5 takes nothing returns nothing
set udg_trg_Secret_Hero_5=CreateTrigger()
call DisableTrigger(udg_trg_Secret_Hero_5)
call TriggerRegisterPlayerUnitEventSimple(udg_trg_Secret_Hero_5,Player(6),EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(udg_trg_Secret_Hero_5,Condition(function Trig_Secret_Hero_5_Conditions))
call TriggerAddAction(udg_trg_Secret_Hero_5,function Trig_Secret_Hero_5_Actions)
endfunction
constant function Haunt__HAUNTDAMAGE takes integer LVL returns real
return 10.*LVL+20
endfunction
function Haunt__HSCond takes nothing returns boolean
return UnitAlive(GetFilterUnit())and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_ETHEREAL))
endfunction
function s__Haunt__HauntSReturn_onDestroy takes integer this returns nothing
set udg_s__Haunt__HauntSReturn_a[this]=null
set udg_s__Haunt__HauntSReturn_b[this]=null
set udg_s__Haunt__HauntSReturn_c[this]=null
set udg_s__Haunt__HauntSReturn_damage[this]=0
set udg_s__Haunt__HauntSReturn_mD[this]=0
set udg_s__Haunt__HauntSReturn_speedMultiplier[this]=0
endfunction
function s__Haunt__HauntSReturn_deallocate takes integer this returns nothing
if this==null then
return
elseif(udg_si__Haunt__HauntSReturn_V[this]!=-1)then
return
endif
call s__Haunt__HauntSReturn_onDestroy(this)
set udg_si__Haunt__HauntSReturn_V[this]=udg_si__Haunt__HauntSReturn_F
set udg_si__Haunt__HauntSReturn_F=this
endfunction
function s__Haunt__HauntSReturn_periodic takes integer this returns nothing
local real x=GetUnitX(udg_s__Haunt__HauntSReturn_c[this])
local real y=GetUnitY(udg_s__Haunt__HauntSReturn_c[this])
local real dx=GetUnitX(udg_s__Haunt__HauntSReturn_a[this])
local real dy=GetUnitY(udg_s__Haunt__HauntSReturn_a[this])
local real distX=dx-x
local real distY=dy-y
local real ang=Atan2(distY,distX)
local real dist=distX*distX+distY*distY
local real newX=x+(udg_s__Haunt__HauntSReturn_mD[this]/ Haunt__GHOSTVELOCITY)*Cos(ang)*udg_s__Haunt__HauntSReturn_speedMultiplier[this]
local real newY=y+(udg_s__Haunt__HauntSReturn_mD[this]/ Haunt__GHOSTVELOCITY)*Sin(ang)*udg_s__Haunt__HauntSReturn_speedMultiplier[this]
call SetUnitX(udg_s__Haunt__HauntSReturn_c[this],newX)
call SetUnitY(udg_s__Haunt__HauntSReturn_c[this],newY)
if dist<Haunt__EXITTIMER_DISTANCE or udg_s__Haunt__HauntSReturn_speedMultiplier[this]>=((Haunt__emergencyExitGhost/ 0.03125)*.1)then
call SetUnitX(udg_s__Haunt__HauntSReturn_c[this],dx)
call SetUnitY(udg_s__Haunt__HauntSReturn_c[this],dy)
call DestroyEffect(AddSpecialEffect(Haunt__ONHITSFX,dx,dy))
call DestroyEffect(udg_s__Haunt__HauntSReturn_e[this])
call RemoveUnit(udg_s__Haunt__HauntSReturn_c[this])
call SetWidgetLife(udg_s__Haunt__HauntSReturn_a[this],GetWidgetLife(udg_s__Haunt__HauntSReturn_a[this])+udg_s__Haunt__HauntSReturn_damage[this])
call sc__Haunt__HauntSReturn_stopPeriodic(this)
call s__Haunt__HauntSReturn_deallocate(this)
endif
set udg_s__Haunt__HauntSReturn_speedMultiplier[this]=udg_s__Haunt__HauntSReturn_speedMultiplier[this]+.1
endfunction
function s__Haunt__HauntSReturn_T32x__PeriodicLoop takes nothing returns boolean
local integer this=udg_s__Haunt__HauntSReturn_T32x__next[(0)]
loop
exitwhen this==0
call s__Haunt__HauntSReturn_periodic(this)
set this=udg_s__Haunt__HauntSReturn_T32x__next[this]
endloop
return false
endfunction
function s__Haunt__HauntSReturn_startPeriodic takes integer this returns nothing
set udg_s__Haunt__HauntSReturn_T32x__prev[udg_s__Haunt__HauntSReturn_T32x__next[(0)]]=this
set udg_s__Haunt__HauntSReturn_T32x__next[this]=udg_s__Haunt__HauntSReturn_T32x__next[(0)]
set udg_s__Haunt__HauntSReturn_T32x__next[(0)]=this
set udg_s__Haunt__HauntSReturn_T32x__prev[this]=(0)
endfunction
function s__Haunt__HauntSReturn_stopPeriodic takes integer this returns nothing
set udg_s__Haunt__HauntSReturn_T32x__next[udg_s__Haunt__HauntSReturn_T32x__prev[this]]=udg_s__Haunt__HauntSReturn_T32x__next[this]
set udg_s__Haunt__HauntSReturn_T32x__prev[udg_s__Haunt__HauntSReturn_T32x__next[this]]=udg_s__Haunt__HauntSReturn_T32x__prev[this]
endfunction
function s__Haunt__HauntSReturn_T32x__onInit takes nothing returns nothing
call TriggerAddCondition(udg_T32__Trig,Condition(function s__Haunt__HauntSReturn_T32x__PeriodicLoop))
endfunction
function s__Haunt__HauntSReturn_create takes unit caster,unit target,real damageTar returns integer
local integer this=s__Haunt__HauntSReturn__allocate()
local real x=GetUnitX(target)-GetUnitX(caster)
local real y=GetUnitY(target)-GetUnitY(caster)
local real f=(bj_RADTODEG*Atan2(y,x))+180
set udg_s__Haunt__HauntSReturn_a[this]=caster
set udg_s__Haunt__HauntSReturn_b[this]=target
call SetUnitPathing(target,false)
set udg_s__Haunt__HauntSReturn_c[this]=CreateUnitBonuses(Player(15),GetUnitTypeId(udg_s__Haunt__HauntSReturn_b[this]),GetUnitX(udg_s__Haunt__HauntSReturn_b[this]),GetUnitY(udg_s__Haunt__HauntSReturn_b[this]),f)
set udg_s__Haunt__HauntSReturn_damage[this]=damageTar
set udg_s__Haunt__HauntSReturn_mD[this]=SquareRoot(x*x+y*y)
set udg_s__Haunt__HauntSReturn_e[this]=AddSpecialEffectTarget(Haunt__DRAINSFX,udg_s__Haunt__HauntSReturn_c[this],"origin")
set udg_s__Haunt__HauntSReturn_speedMultiplier[this]=1
call SetUnitColor(udg_s__Haunt__HauntSReturn_c[this],GetPlayerColor(GetOwningPlayer(udg_s__Haunt__HauntSReturn_b[this])))
call UnitAddAbility(udg_s__Haunt__HauntSReturn_c[this],'Amrf')
call SetUnitPathing(udg_s__Haunt__HauntSReturn_c[this],false)
call UnitAddAbility(udg_s__Haunt__HauntSReturn_c[this],'Aloc')
call UnitAddAbility(udg_s__Haunt__HauntSReturn_c[this],'Avul')
call SetUnitFlyHeight(udg_s__Haunt__HauntSReturn_c[this],Haunt__GHOSTHEIGHT,0)
call PauseUnit(udg_s__Haunt__HauntSReturn_c[this],true)
call SetUnitVertexColor(udg_s__Haunt__HauntSReturn_c[this],Haunt__SOULRED,Haunt__SOULGREEN,Haunt__SOULBLUE,Haunt__TRANSPARENCY)
call SetUnitPathing(target,true)
return this
endfunction
function s__Haunt__HauntSGmove_onDestroy takes integer this returns nothing
set udg_s__Haunt__HauntSGmove_a[this]=null
set udg_s__Haunt__HauntSGmove_b[this]=null
set udg_s__Haunt__HauntSGmove_c[this]=null
set udg_s__Haunt__HauntSGmove_d[this]=null
set udg_s__Haunt__HauntSGmove_mD[this]=0
endfunction
function s__Haunt__HauntSGmove_deallocate takes integer this returns nothing
if this==null then
return
elseif(udg_si__Haunt__HauntSGmove_V[this]!=-1)then
return
endif
call s__Haunt__HauntSGmove_onDestroy(this)
set udg_si__Haunt__HauntSGmove_V[this]=udg_si__Haunt__HauntSGmove_F
set udg_si__Haunt__HauntSGmove_F=this
endfunction
function s__Haunt__HauntSGmove_periodic takes integer this returns nothing
local real x=GetUnitX(udg_s__Haunt__HauntSGmove_a[this])
local real y=GetUnitY(udg_s__Haunt__HauntSGmove_a[this])
local real tx=GetUnitX(udg_s__Haunt__HauntSGmove_b[this])
local real ty=GetUnitY(udg_s__Haunt__HauntSGmove_b[this])
local real distX=tx-x
local real distY=ty-y
local real ang=Atan2(distY,distX)
local real dist=distX*distX+distY*distY
local real newX=x+(udg_s__Haunt__HauntSGmove_mD[this]/ Haunt__SOULVELOCITY)*Cos(ang)
local real newY=y+(udg_s__Haunt__HauntSGmove_mD[this]/ Haunt__SOULVELOCITY)*Sin(ang)
call SetUnitX(udg_s__Haunt__HauntSGmove_a[this],newX)
call SetUnitY(udg_s__Haunt__HauntSGmove_a[this],newY)
if dist<Haunt__EXITTIMER_DISTANCE or udg_s__Haunt__HauntSGmove_SCount[this]>=(Haunt__emergencyExitSoul/ 0.03125)then
call SetUnitX(udg_s__Haunt__HauntSGmove_a[this],tx)
call SetUnitY(udg_s__Haunt__HauntSGmove_a[this],ty)
call DestroyEffect(AddSpecialEffect(Haunt__ONHITSFX,tx,ty))
call UnitDamageTarget(udg_s__Haunt__HauntSGmove_a[this],udg_s__Haunt__HauntSGmove_b[this],(10.*(GetUnitAbilityLevel(udg_s__Haunt__HauntSGmove_d[this],Haunt__RAWCODE))+20),true,false,Haunt__ATTACKTYPE,Haunt__DAMAGETYPE,Haunt__WEAPONTYPE)
call DestroyEffect(udg_s__Haunt__HauntSGmove_c[this])
call UnitRemoveAbility(udg_s__Haunt__HauntSGmove_a[this],'Aloc')
call ShowUnit(udg_s__Haunt__HauntSGmove_a[this],false)
call s__Haunt__HauntSReturn_startPeriodic(s__Haunt__HauntSReturn_create(udg_s__Haunt__HauntSGmove_d[this],udg_s__Haunt__HauntSGmove_b[this],(10.*(GetUnitAbilityLevel(udg_s__Haunt__HauntSGmove_d[this],Haunt__RAWCODE))+20)))
call sc__Haunt__HauntSGmove_stopPeriodic(this)
call s__Haunt__HauntSGmove_deallocate(this)
endif
set udg_s__Haunt__HauntSGmove_SCount[this]=udg_s__Haunt__HauntSGmove_SCount[this]+1
endfunction
function s__Haunt__HauntSGmove_T32x__PeriodicLoop takes nothing returns boolean
local integer this=udg_s__Haunt__HauntSGmove_T32x__next[(0)]
loop
exitwhen this==0
call s__Haunt__HauntSGmove_periodic(this)
set this=udg_s__Haunt__HauntSGmove_T32x__next[this]
endloop
return false
endfunction
function s__Haunt__HauntSGmove_startPeriodic takes integer this returns nothing
set udg_s__Haunt__HauntSGmove_T32x__prev[udg_s__Haunt__HauntSGmove_T32x__next[(0)]]=this
set udg_s__Haunt__HauntSGmove_T32x__next[this]=udg_s__Haunt__HauntSGmove_T32x__next[(0)]
set udg_s__Haunt__HauntSGmove_T32x__next[(0)]=this
set udg_s__Haunt__HauntSGmove_T32x__prev[this]=(0)
endfunction
function s__Haunt__HauntSGmove_stopPeriodic takes integer this returns nothing
set udg_s__Haunt__HauntSGmove_T32x__next[udg_s__Haunt__HauntSGmove_T32x__prev[this]]=udg_s__Haunt__HauntSGmove_T32x__next[this]
set udg_s__Haunt__HauntSGmove_T32x__prev[udg_s__Haunt__HauntSGmove_T32x__next[this]]=udg_s__Haunt__HauntSGmove_T32x__prev[this]
endfunction
function s__Haunt__HauntSGmove_T32x__onInit takes nothing returns nothing
call TriggerAddCondition(udg_T32__Trig,Condition(function s__Haunt__HauntSGmove_T32x__PeriodicLoop))
endfunction
function s__Haunt__HauntSGmove_create takes unit u,unit tar,effect E,unit caster returns integer
local integer this=s__Haunt__HauntSGmove__allocate()
local real x=GetUnitX(tar)-GetUnitX(u)
local real y=GetUnitY(tar)-GetUnitY(u)
set udg_s__Haunt__HauntSGmove_a[this]=u
set udg_s__Haunt__HauntSGmove_b[this]=tar
set udg_s__Haunt__HauntSGmove_c[this]=E
set udg_s__Haunt__HauntSGmove_d[this]=caster
set udg_s__Haunt__HauntSGmove_mD[this]=SquareRoot(x*x+y*y)
return this
endfunction
function s__Haunt__HauntS_onDestroy takes integer this returns nothing
local integer i=0
loop
exitwhen i==(Haunt__DSPAWNS)
if(not IsUnitHidden(udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i]))then
call DestroyEffect(AddSpecialEffect(Haunt__DUMMYSFX,GetUnitX(udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i]),GetUnitY(udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i])))
endif
call DestroyEffect(udg_s___Haunt__HauntS_sfx[udg_s__Haunt__HauntS_sfx[this]+i])
call UnitRemoveAbility(udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i],'Aloc')
call ShowUnit(udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i],false)
set udg_s___Haunt__HauntS_sfx[udg_s__Haunt__HauntS_sfx[this]+i]=null
set i=i+1
endloop
set udg_s__Haunt__HauntS_x[this]=0
set udg_s__Haunt__HauntS_y[this]=0
set udg_s__Haunt__HauntS_DURATIONx[this]=0
set udg_s__Haunt__HauntS_ENUMERATE[this]=0
endfunction
function s__Haunt__HauntS_deallocate takes integer this returns nothing
if this==null then
return
elseif(udg_si__Haunt__HauntS_V[this]!=-1)then
return
endif
call s__Haunt__HauntS_onDestroy(this)
set udg_si__Haunt__HauntS_V[this]=udg_si__Haunt__HauntS_F
set udg_si__Haunt__HauntS_F=this
endfunction
function s__Haunt__HauntS_periodic takes integer this returns nothing
local integer i=0
local real dumX
local real dumY
local real x=GetUnitX(udg_s__Haunt__HauntS_u[this])
local real y=GetUnitY(udg_s__Haunt__HauntS_u[this])
local real ang=0
local unit FoG
set udg_s__Haunt__HauntS_ENUMERATE[this]=udg_s__Haunt__HauntS_ENUMERATE[this]+1
loop
exitwhen i==(Haunt__DSPAWNS)
if udg_s___Haunt__HauntS_b[udg_s__Haunt__HauntS_b[this]+i]==true then
set ang=Atan2(GetUnitY(udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i])-y,GetUnitX(udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i])-x)+Haunt__angINCFACTOR
set dumX=x+Haunt__RADIUS*Cos(ang)
set dumY=y+Haunt__RADIUS*Sin(ang)
call SetUnitX(udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i],dumX)
call SetUnitY(udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i],dumY)
if udg_s__Haunt__HauntS_ENUMERATE[this]>=(Haunt__waitBeforeEnum/ 0.035)then
call GroupEnumUnitsInRange(udg_Haunt__HauntG,dumX,dumY,Haunt__SOULRAD,Condition(function Haunt__HSCond))
set FoG=FirstOfGroup(udg_Haunt__HauntG)
if FoG!=null and(not IsUnitAlly(FoG,GetOwningPlayer(udg_s__Haunt__HauntS_u[this])))and(not IsUnitHidden(udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i]))then
call s__Haunt__HauntSGmove_startPeriodic(s__Haunt__HauntSGmove_create(udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i],FoG,udg_s___Haunt__HauntS_sfx[udg_s__Haunt__HauntS_sfx[this]+i],udg_s__Haunt__HauntS_u[this]))
set udg_s___Haunt__HauntS_b[udg_s__Haunt__HauntS_b[this]+i]=false
endif
endif
endif
set i=i+1
endloop
set udg_s__Haunt__HauntS_DURATIONx[this]=udg_s__Haunt__HauntS_DURATIONx[this]-0.035
if udg_s__Haunt__HauntS_DURATIONx[this]<=0 then
call sc__Haunt__HauntS_stopPeriodic(this)
call s__Haunt__HauntS_deallocate(this)
endif
set FoG=null
endfunction
function s__Haunt__HauntS_T32x__PeriodicLoop takes nothing returns boolean
local integer this=udg_s__Haunt__HauntS_T32x__next[(0)]
loop
exitwhen this==0
call s__Haunt__HauntS_periodic(this)
set this=udg_s__Haunt__HauntS_T32x__next[this]
endloop
return false
endfunction
function s__Haunt__HauntS_startPeriodic takes integer this returns nothing
set udg_s__Haunt__HauntS_T32x__prev[udg_s__Haunt__HauntS_T32x__next[(0)]]=this
set udg_s__Haunt__HauntS_T32x__next[this]=udg_s__Haunt__HauntS_T32x__next[(0)]
set udg_s__Haunt__HauntS_T32x__next[(0)]=this
set udg_s__Haunt__HauntS_T32x__prev[this]=(0)
endfunction
function s__Haunt__HauntS_stopPeriodic takes integer this returns nothing
set udg_s__Haunt__HauntS_T32x__next[udg_s__Haunt__HauntS_T32x__prev[this]]=udg_s__Haunt__HauntS_T32x__next[this]
set udg_s__Haunt__HauntS_T32x__prev[udg_s__Haunt__HauntS_T32x__next[this]]=udg_s__Haunt__HauntS_T32x__prev[this]
endfunction
function s__Haunt__HauntS_T32x__onInit takes nothing returns nothing
call TriggerAddCondition(udg_T32__Trig,Condition(function s__Haunt__HauntS_T32x__PeriodicLoop))
endfunction
function s__Haunt__HauntS_create takes unit a returns integer
local integer this=s__Haunt__HauntS__allocate()
local integer i=0
local real angle=360/ Haunt__DSPAWNS
local real dumX
local real dumY
set udg_s__Haunt__HauntS_u[this]=a
set udg_s__Haunt__HauntS_x[this]=GetUnitX(a)
set udg_s__Haunt__HauntS_y[this]=GetUnitY(a)
set udg_s__Haunt__HauntS_DURATIONx[this]=Haunt__DURATION
set udg_s__Haunt__HauntS_ENUMERATE[this]=0
loop
exitwhen i>=(Haunt__DSPAWNS)
set dumX=udg_s__Haunt__HauntS_x[this]+Haunt__RADIUS*Cos((i*angle)*bj_DEGTORAD)
set dumY=udg_s__Haunt__HauntS_y[this]+Haunt__RADIUS*Sin((i*angle)*bj_DEGTORAD)
set udg_s___Haunt__HauntS_b[udg_s__Haunt__HauntS_b[this]+i]=true
if(not IsUnitHidden(udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i]))or udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i]==null then
set udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i]=CreateUnit(Player(15),Haunt__DUMCODE,dumX,dumY,270)
else
call ShowUnit(udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i],true)
call SetUnitX(udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i],dumX)
call SetUnitY(udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i],dumY)
endif
set udg_s___Haunt__HauntS_sfx[udg_s__Haunt__HauntS_sfx[this]+i]=AddSpecialEffectTarget(Haunt__DUMMYSFX,udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i],"origin")
call UnitAddAbility(udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i],'Aloc')
call UnitAddAbility(udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i],'Amrf')
call SetUnitFlyHeight(udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i],Haunt__SOULHEIGHT,0)
set i=i+1
endloop
return this
endfunction
function Haunt__Cond takes nothing returns boolean
if GetSpellAbilityId()==Haunt__RAWCODE then
call s__Haunt__HauntS_startPeriodic(s__Haunt__HauntS_create(GetTriggerUnit()))
endif
return false
endfunction
function Haunt__Init takes nothing returns nothing
local trigger l__Haunt__t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(l__Haunt__t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(l__Haunt__t,Condition(function Haunt__Cond))
set l__Haunt__t=null
endfunction
function Trig_Dark_Plasma_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0IP'))then
return false
endif
return true
endfunction
function Trig_Dark_Plasma_Func001C takes nothing returns boolean
if(not(udg_DP_Index[1]==0))then
return false
endif
return true
endfunction
function Trig_Dark_Plasma_Func004Func001Func001C takes nothing returns boolean
if(not(udg_DP_Index_Selected==false))then
return false
endif
if(not(udg_DP_Index_Is_Empty[udg_DP_Index[0]]==true))then
return false
endif
return true
endfunction
function Trig_Dark_Plasma_Func004C takes nothing returns boolean
if(not(udg_DP_Dyn_Index<udg_DP_Index[2]))then
return false
endif
if(not(udg_DP_Index_Is_Empty[udg_CG_Dyn_Index]==true))then
return false
endif
if(not(udg_DP_Dyn_Index!=0))then
return false
endif
return true
endfunction
function Trig_Dark_Plasma_Func005C takes nothing returns boolean
if(not(udg_DP_Index_Selected==false))then
return false
endif
return true
endfunction
function Trig_Dark_Plasma_Actions takes nothing returns nothing
if(Trig_Dark_Plasma_Func001C())then
call EnableTrigger(udg_trg_DPloop)
else
endif
set udg_DP_Index[1]=(udg_DP_Index[1]+1)
set udg_DP_Index_Selected=false
if(Trig_Dark_Plasma_Func004C())then
set udg_DP_Index_Selected=true
else
set udg_DP_Index[0]=1
loop
exitwhen udg_DP_Index[0]>udg_DP_Index[2]
if(Trig_Dark_Plasma_Func004Func001Func001C())then
set udg_DP_Dyn_Index=udg_DP_Index[0]
set udg_DP_Index_Selected=true
else
endif
set udg_DP_Index[0]=udg_DP_Index[0]+1
endloop
endif
if(Trig_Dark_Plasma_Func005C())then
set udg_DP_Index[2]=(udg_DP_Index[2]+1)
set udg_DP_Dyn_Index=udg_DP_Index[2]
else
endif
set udg_DP_Index_Is_Empty[udg_DP_Dyn_Index]=false
set udg_DP_Duration[udg_DP_Dyn_Index]=8.00
set udg_DP_Unit[udg_DP_Dyn_Index]=GetTriggerUnit()
call UnitAddAbilityBJ('A0IO',GetTriggerUnit())
call SetUnitAbilityLevelSwapped('A0IO',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0IP',GetTriggerUnit()))
endfunction
function InitTrig_Dark_Plasma takes nothing returns nothing
set udg_trg_Dark_Plasma=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Dark_Plasma,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Dark_Plasma,Condition(function Trig_Dark_Plasma_Conditions))
call TriggerAddAction(udg_trg_Dark_Plasma,function Trig_Dark_Plasma_Actions)
endfunction
function Trig_DPloop_Func001Func001Func002C takes nothing returns boolean
if(not(udg_DP_Index[1]!=0))then
return false
endif
if(not(udg_DP_Index[3]==udg_DP_Index[2]))then
return false
endif
return true
endfunction
function Trig_DPloop_Func001Func001Func006Func005C takes nothing returns boolean
if(not(udg_DP_Index_Selected==false))then
return false
endif
return true
endfunction
function Trig_DPloop_Func001Func001Func006Func006C takes nothing returns boolean
if(not(udg_DP_Index[1]!=0))then
return false
endif
if(not(udg_DP_Index[3]==udg_DP_Index[2]))then
return false
endif
return true
endfunction
function Trig_DPloop_Func001Func001Func006Func007C takes nothing returns boolean
if(not(udg_DP_Index[1]==0))then
return false
endif
return true
endfunction
function Trig_DPloop_Func001Func001Func006C takes nothing returns boolean
if(not(udg_DP_Duration[udg_DP_Index[3]]<=0.00))then
return false
endif
return true
endfunction
function Trig_DPloop_Func001Func001C takes nothing returns boolean
if(not(udg_DP_Duration[udg_DP_Index[3]]>0.00))then
return false
endif
return true
endfunction
function Trig_DPloop_Actions takes nothing returns nothing
set udg_DP_Index[3]=1
loop
exitwhen udg_DP_Index[3]>udg_DP_Index[2]
if(Trig_DPloop_Func001Func001C())then
set udg_DP_Duration[udg_DP_Index[3]]=(udg_DP_Duration[udg_DP_Index[3]]-0.10)
set udg_DP_UnitPoint[udg_DP_Index[3]]=GetUnitLoc(udg_DP_Unit[udg_DP_Index[3]])
call RemoveLocation(udg_DP_UnitPoint[udg_DP_Index[3]])
if(Trig_DPloop_Func001Func001Func006C())then
call UnitRemoveAbilityBJ('A0IO',udg_DP_Unit[udg_DP_Index[3]])
set udg_DP_Index[1]=(udg_DP_Index[1]-1)
set udg_DP_Index_Is_Empty[udg_DP_Index[3]]=true
if(Trig_DPloop_Func001Func001Func006Func005C())then
set udg_DP_Dyn_Index=udg_DP_Index[3]
set udg_DP_Index_Selected=true
else
endif
if(Trig_DPloop_Func001Func001Func006Func006C())then
set udg_DP_Index[2]=(udg_DP_Index[2]-1)
else
endif
if(Trig_DPloop_Func001Func001Func006Func007C())then
set udg_DP_Index[2]=0
set udg_DP_Dyn_Index=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
else
endif
else
if(Trig_DPloop_Func001Func001Func002C())then
set udg_DP_Index[2]=(udg_DP_Index[2]-1)
else
endif
endif
set udg_DP_Index[3]=udg_DP_Index[3]+1
endloop
endfunction
function InitTrig_DPloop takes nothing returns nothing
set udg_trg_DPloop=CreateTrigger()
call DisableTrigger(udg_trg_DPloop)
call TriggerRegisterTimerEventPeriodic(udg_trg_DPloop,0.10)
call TriggerAddAction(udg_trg_DPloop,function Trig_DPloop_Actions)
endfunction
function Trig_Death_Fall_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0IQ'))then
return false
endif
return true
endfunction
function Trig_Death_Fall_Func003C takes nothing returns boolean
if(not(udg_DF_index[1]==0))then
return false
endif
return true
endfunction
function Trig_Death_Fall_Actions takes nothing returns nothing
if(Trig_Death_Fall_Func003C())then
call EnableTrigger(udg_trg_Death_Fall_loop)
else
endif
set udg_DF_index[1]=(udg_DF_index[1]+1)
set udg_DF_index[2]=(udg_DF_index[2]+1)
set udg_DF_Caster[udg_DF_index[2]]=GetSpellAbilityUnit()
set udg_DF_Target[udg_DF_index[2]]=GetSpellTargetLoc()
set udg_DF_Boolean[udg_DF_index[2]]=false
set udg_DF_Boolean2[udg_DF_index[2]]=false
set udg_DF_Real[udg_DF_index[2]]=0.00
set udg_DF_Real2[udg_DF_index[2]]=0.00
set udg_DF_Timer[udg_DF_index[2]]=30
set udg_DF_Timer2[udg_DF_index[2]]=8
set udg_DF_Fallspeed[udg_DF_index[2]]=10.00
set udg_DF_Damage[udg_DF_index[2]]=275.00
set udg_DF_Damage2[udg_DF_index[2]]=15.00
set udg_DF_Range[udg_DF_index[2]]=550.00
set udg_DF_FriendlyDamage[udg_DF_index[2]]=false
call CreateNUnitsAtLocBonuses(1,'h07C',Player(PLAYER_NEUTRAL_PASSIVE),udg_DF_Target[udg_DF_index[2]],270.00)
set udg_DF_Dummy[udg_DF_index[2]]=GetLastCreatedUnit()
call SetUnitFlyHeightBJ(udg_DF_Dummy[udg_DF_index[2]],800.00,999999.00)
call AddSpecialEffectTargetUnitBJ("origin",udg_DF_Dummy[udg_DF_index[2]],"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilMissile.mdl")
set udg_DF_SEffect1[udg_DF_index[2]]=GetLastCreatedEffectBJ()
call SetUnitScalePercent(udg_DF_Dummy[udg_DF_index[2]],600.00,600.00,600.00)
call CreateNUnitsAtLocBonuses(1,'h07C',Player(PLAYER_NEUTRAL_PASSIVE),udg_DF_Target[udg_DF_index[2]],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(6.00,'BTLF',GetLastCreatedUnit())
call SetUnitFlyHeightBJ(GetLastCreatedUnit(),0.00,0.00)
call SetUnitScalePercent(GetLastCreatedUnit(),800.00,800.00,800.00)
call AddSpecialEffectTargetUnitBJ("origin",GetLastCreatedUnit(),"Abilities\\Spells\\NightElf\\TargetArtLumber\\TargetArtLumber.mdl")
set udg_DF_SEffect2[udg_DF_index[2]]=GetLastCreatedEffectBJ()
endfunction
function InitTrig_Death_Fall takes nothing returns nothing
set udg_trg_Death_Fall=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Death_Fall,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Death_Fall,Condition(function Trig_Death_Fall_Conditions))
call TriggerAddAction(udg_trg_Death_Fall,function Trig_Death_Fall_Actions)
endfunction
function Trig_Death_Fall_loop_Func003Func001Func001Func002Func003Func005C takes nothing returns boolean
if(not(udg_DF_index[1]==0))then
return false
endif
return true
endfunction
function Trig_Death_Fall_loop_Func003Func001Func001Func002Func003Func007Func005Func002002003 takes nothing returns boolean
return(IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(udg_DF_Caster[udg_DF_index[3]]))==true)
endfunction
function Trig_Death_Fall_loop_Func003Func001Func001Func002Func003Func007Func005C takes nothing returns boolean
if(not(udg_DF_FriendlyDamage[udg_DF_index[3]]==true))then
return false
endif
return true
endfunction
function Trig_Death_Fall_loop_Func003Func001Func001Func002Func003Func007Func006Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_FLYING)==false))then
return false
endif
return true
endfunction
function Trig_Death_Fall_loop_Func003Func001Func001Func002Func003Func007Func006A takes nothing returns nothing
if(Trig_Death_Fall_loop_Func003Func001Func001Func002Func003Func007Func006Func001C())then
call UnitDamageTargetBJ(udg_DF_Caster[udg_DF_index[3]],GetEnumUnit(),udg_DF_Damage2[udg_DF_index[3]],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEATH)
set udg_DF_point[2]=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(udg_DF_point[2],"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_DF_point[2])
else
endif
endfunction
function Trig_Death_Fall_loop_Func003Func001Func001Func002Func003C takes nothing returns boolean
if(not(udg_DF_Timer2[udg_DF_index[3]]!=0))then
return false
endif
return true
endfunction
function Trig_Death_Fall_loop_Func003Func001Func001Func002C takes nothing returns boolean
if(not(udg_DF_Timer[udg_DF_index[3]]==0))then
return false
endif
return true
endfunction
function Trig_Death_Fall_loop_Func003Func001Func001C takes nothing returns boolean
if(not(udg_DF_Boolean2[udg_DF_index[3]]==false))then
return false
endif
return true
endfunction
function Trig_Death_Fall_loop_Func003Func001Func003Func001Func008Func002002003 takes nothing returns boolean
return(IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(udg_DF_Caster[udg_DF_index[3]]))==true)
endfunction
function Trig_Death_Fall_loop_Func003Func001Func003Func001Func008C takes nothing returns boolean
if(not(udg_DF_FriendlyDamage[udg_DF_index[3]]==true))then
return false
endif
return true
endfunction
function Trig_Death_Fall_loop_Func003Func001Func003Func001Func009Func001C takes nothing returns boolean
if(not(IsUnitAliveBJ(GetEnumUnit())==true))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))then
return false
endif
if(not(IsUnitType(GetEnumUnit(),UNIT_TYPE_FLYING)==false))then
return false
endif
return true
endfunction
function Trig_Death_Fall_loop_Func003Func001Func003Func001Func009A takes nothing returns nothing
if(Trig_Death_Fall_loop_Func003Func001Func003Func001Func009Func001C())then
call UnitDamageTargetBJ(udg_DF_Caster[udg_DF_index[3]],GetEnumUnit(),udg_DF_Damage[udg_DF_index[3]],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEATH)
set udg_DF_point[1]=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(udg_DF_point[1],"Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_DF_point[1])
else
endif
endfunction
function Trig_Death_Fall_loop_Func003Func001Func003Func001C takes nothing returns boolean
if(not(GetUnitFlyHeight(udg_DF_Dummy[udg_DF_index[3]])<=1.00))then
return false
endif
return true
endfunction
function Trig_Death_Fall_loop_Func003Func001Func003C takes nothing returns boolean
if(not(udg_DF_Timer[udg_DF_index[3]]!=0))then
return false
endif
return true
endfunction
function Trig_Death_Fall_loop_Func003Func001C takes nothing returns boolean
if(not(udg_DF_Boolean[udg_DF_index[3]]==false))then
return false
endif
return true
endfunction
function Trig_Death_Fall_loop_Actions takes nothing returns nothing
set udg_DF_index[3]=1
loop
exitwhen udg_DF_index[3]>udg_DF_index[2]
if(Trig_Death_Fall_loop_Func003Func001C())then
set udg_DF_Timer[udg_DF_index[3]]=(udg_DF_Timer[udg_DF_index[3]]-1)
if(Trig_Death_Fall_loop_Func003Func001Func003C())then
set udg_DF_Fallspeed[udg_DF_index[3]]=(udg_DF_Fallspeed[udg_DF_index[3]]+10.00)
call SetUnitFlyHeightBJ(udg_DF_Dummy[udg_DF_index[3]],(GetUnitFlyHeight(udg_DF_Dummy[udg_DF_index[3]])-udg_DF_Fallspeed[udg_DF_index[3]]),600.00)
else
if(Trig_Death_Fall_loop_Func003Func001Func003Func001C())then
set udg_DF_Boolean[udg_DF_index[3]]=true
call AddSpecialEffectLocBJ(udg_DF_Target[udg_DF_index[3]],"Objects\\Spawnmodels\\Undead\\UCancelDeath\\UCancelDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(udg_DF_Target[udg_DF_index[3]],"Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(udg_DF_Target[udg_DF_index[3]],"Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
if(Trig_Death_Fall_loop_Func003Func001Func003Func001Func008C())then
set udg_DF_Group[1]=GetUnitsInRangeOfLocAll(udg_DF_Range[udg_DF_index[3]],udg_DF_Target[udg_DF_index[3]])
else
set udg_DF_Group[1]=GetUnitsInRangeOfLocMatching(udg_DF_Range[udg_DF_index[3]],udg_DF_Target[udg_DF_index[3]],Condition(function Trig_Death_Fall_loop_Func003Func001Func003Func001Func008Func002002003))
endif
call ForGroupBJ(udg_DF_Group[1],function Trig_Death_Fall_loop_Func003Func001Func003Func001Func009A)
call DestroyGroup(udg_DF_Group[1])
call KillUnit(udg_DF_Dummy[udg_DF_index[3]])
call DestroyEffectBJ(udg_DF_SEffect1[udg_DF_index[3]])
call CreateNUnitsAtLocBonuses(1,'h07C',Player(PLAYER_NEUTRAL_PASSIVE),udg_DF_Target[udg_DF_index[3]],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(5.00,'BTLF',GetLastCreatedUnit())
call SetUnitFlyHeightBJ(GetLastCreatedUnit(),0.00,0.00)
call SetUnitScalePercent(GetLastCreatedUnit(),400.00,400.00,400.00)
call AddSpecialEffectTargetUnitBJ("chest",GetLastCreatedUnit(),"Objects\\Spawnmodels\\Undead\\UCancelDeath\\UCancelDeath.mdl")
set udg_DF_SEffect1[udg_DF_index[3]]=GetLastCreatedEffectBJ()
set udg_DF_Timer[udg_DF_index[3]]=1
else
set udg_DF_Timer[udg_DF_index[3]]=(udg_DF_Timer[udg_DF_index[3]]+2)
endif
endif
else
if(Trig_Death_Fall_loop_Func003Func001Func001C())then
set udg_DF_Timer[udg_DF_index[3]]=(udg_DF_Timer[udg_DF_index[3]]-1)
if(Trig_Death_Fall_loop_Func003Func001Func001Func002C())then
set udg_DF_Timer[udg_DF_index[3]]=20
set udg_DF_Timer2[udg_DF_index[3]]=(udg_DF_Timer2[udg_DF_index[3]]-1)
if(Trig_Death_Fall_loop_Func003Func001Func001Func002Func003C())then
set udg_DF_Real2[udg_DF_index[3]]=(udg_DF_Real2[udg_DF_index[3]]+75.00)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_DF_Real[udg_DF_index[3]]=(udg_DF_Real[udg_DF_index[3]]+(360.00/ 10.00))
set udg_DF_point[1]=PolarProjectionBJ(udg_DF_Target[udg_DF_index[3]],udg_DF_Real2[udg_DF_index[3]],udg_DF_Real[udg_DF_index[3]])
call AddSpecialEffectLocBJ(udg_DF_point[1],"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
if(Trig_Death_Fall_loop_Func003Func001Func001Func002Func003Func007Func005C())then
set udg_DF_Group[1]=GetUnitsInRangeOfLocAll(100.00,udg_DF_point[1])
else
set udg_DF_Group[1]=GetUnitsInRangeOfLocMatching(100.00,udg_DF_point[1],Condition(function Trig_Death_Fall_loop_Func003Func001Func001Func002Func003Func007Func005Func002002003))
endif
call ForGroupBJ(udg_DF_Group[1],function Trig_Death_Fall_loop_Func003Func001Func001Func002Func003Func007Func006A)
call DestroyEffectBJ(udg_DF_SEffect1[udg_DF_index[3]])
call DestroyGroup(udg_DF_Group[1])
call RemoveLocation(udg_DF_point[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
call DestroyEffectBJ(udg_DF_SEffect2[udg_DF_index[3]])
set udg_DF_Boolean2[udg_DF_index[3]]=true
set udg_DF_index[1]=(udg_DF_index[1]-1)
call RemoveLocation(udg_DF_Target[udg_DF_index[3]])
if(Trig_Death_Fall_loop_Func003Func001Func001Func002Func003Func005C())then
set udg_DF_index[2]=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
endif
else
endif
else
endif
endif
set udg_DF_index[3]=udg_DF_index[3]+1
endloop
endfunction
function InitTrig_Death_Fall_loop takes nothing returns nothing
set udg_trg_Death_Fall_loop=CreateTrigger()
call DisableTrigger(udg_trg_Death_Fall_loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_Death_Fall_loop,0.03)
call TriggerAddAction(udg_trg_Death_Fall_loop,function Trig_Death_Fall_loop_Actions)
endfunction
function Trig_Thunderwrath_Hashtable_Actions takes nothing returns nothing
call InitHashtableBJ()
set udg_TW_Hashtable=GetLastCreatedHashtableBJ()
endfunction
function InitTrig_Thunderwrath_Hashtable takes nothing returns nothing
set udg_trg_Thunderwrath_Hashtable=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Thunderwrath_Hashtable,0.07)
call TriggerAddAction(udg_trg_Thunderwrath_Hashtable,function Trig_Thunderwrath_Hashtable_Actions)
endfunction
function Trig_Thunderwrath_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0CL'))then
return false
endif
return true
endfunction
function Trig_Thunderwrath_Func001001 takes nothing returns boolean
return(IsTriggerEnabled(udg_trg_Thunderwrath_Loop)==false)
endfunction
function Trig_Thunderwrath_Func021C takes nothing returns boolean
if(not(udg_ThunderWrath_Chance==2))then
return false
endif
return true
endfunction
function Trig_Thunderwrath_Actions takes nothing returns nothing
if((IsTriggerEnabled(udg_trg_Thunderwrath_Loop)==false))then
call EnableTrigger(udg_trg_Thunderwrath_Loop)
else
endif
set udg_TW_Int=(udg_TW_Int+1)
set udg_TW_Caster=GetTriggerUnit()
set udg_TW_Point[0]=GetUnitLoc(udg_TW_Caster)
set udg_TW_Point[1]=GetSpellTargetLoc()
set udg_TW_Angle=AngleBetweenPoints(udg_TW_Point[0],udg_TW_Point[1])
set udg_TW_Point[2]=PolarProjectionBJ(udg_TW_Point[0],100.00,udg_TW_Angle)
set udg_TW_Spell_Distance=1100.00
set udg_TW_Damage=(25.00+(25.00*I2R(GetUnitAbilityLevelSwapped('A0CL',udg_TW_Caster))))
set udg_TW_MissileSpeed=25.00
set udg_TW_Return=false
call CreateNUnitsAtLocBonuses(1,'h055',GetOwningPlayer(udg_TW_Caster),udg_TW_Point[0],udg_TW_Angle)
set udg_TW_Dummy=GetLastCreatedUnit()
set udg_TW_Handle=GetLastCreatedUnit()
call GroupAddUnitSimple(udg_TW_Dummy,udg_TW_Group)
call AddSpecialEffectLocBJ(udg_TW_Point[2],"Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",udg_TW_Dummy,"Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl")
set udg_TW_SFX=GetLastCreatedEffectBJ()
set udg_ThunderWrath_Chance=GetRandomInt(1,4)
if(Trig_Thunderwrath_Func021C())then
call CreateNUnitsAtLocBonuses(1,'h056',GetOwningPlayer(udg_TW_Caster),udg_TW_Point[0],udg_TW_Angle)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"bloodlust",GetTriggerUnit())
call RemoveUnit(GetLastCreatedUnit())
else
endif
call SaveRealBJ(udg_TW_Angle,StringHashBJ("angle"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)
call SaveRealBJ(udg_TW_Damage,StringHashBJ("damage"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)
call SaveRealBJ(udg_TW_Spell_Distance,StringHashBJ("distance"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)
call SaveRealBJ(udg_TW_MissileSpeed,StringHashBJ("speed"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)
call SaveIntegerBJ(udg_TW_Int,StringHashBJ("int"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)
call SaveBooleanBJ(udg_TW_Return,StringHashBJ("retornar"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)
call SaveUnitHandleBJ(udg_TW_Caster,StringHashBJ("caster"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)
call SaveEffectHandleBJ(udg_TW_SFX,StringHashBJ("sfx"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)
set udg_TW_DamagedUnits[LoadInteger(udg_TW_Hashtable,GetHandleId(udg_TW_Handle),StringHash("int"))]=CreateGroup()
call RemoveLocation(udg_TW_Point[0])
call RemoveLocation(udg_TW_Point[1])
call RemoveLocation(udg_TW_Point[2])
endfunction
function InitTrig_Thunderwrath takes nothing returns nothing
set udg_trg_Thunderwrath=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Thunderwrath,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Thunderwrath,Condition(function Trig_Thunderwrath_Conditions))
call TriggerAddAction(udg_trg_Thunderwrath,function Trig_Thunderwrath_Actions)
endfunction
function Trig_Thunderwrath_Loop_Func001Func003Func003Func005Func008C takes nothing returns boolean
if(not(IsUnitGroupEmptyBJ(udg_TW_Group)==true))then
return false
endif
return true
endfunction
function Trig_Thunderwrath_Loop_Func001Func003Func003Func005Func016001003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Thunderwrath_Loop_Func001Func003Func003Func005Func016001003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Thunderwrath_Loop_Func001Func003Func003Func005Func016001003002002001 takes nothing returns boolean
return(IsUnitDeadBJ(GetFilterUnit())==false)
endfunction
function Trig_Thunderwrath_Loop_Func001Func003Func003Func005Func016001003002002002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),udg_TW_DamagedUnits[LoadIntegerBJ(StringHashBJ("int"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)])==false)
endfunction
function Trig_Thunderwrath_Loop_Func001Func003Func003Func005Func016001003002002002002 takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_TW_Caster))==false)
endfunction
function Trig_Thunderwrath_Loop_Func001Func003Func003Func005Func016001003002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitInGroup(GetFilterUnit(),udg_TW_DamagedUnits[LoadIntegerBJ(StringHashBJ("int"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)])==false),(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_TW_Caster))==false))
endfunction
function Trig_Thunderwrath_Loop_Func001Func003Func003Func005Func016001003002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitDeadBJ(GetFilterUnit())==false),(GetBooleanAnd((IsUnitInGroup(GetFilterUnit(),udg_TW_DamagedUnits[LoadIntegerBJ(StringHashBJ("int"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)])==false),(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_TW_Caster))==false))))
endfunction
function Trig_Thunderwrath_Loop_Func001Func003Func003Func005Func016001003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitDeadBJ(GetFilterUnit())==false),(GetBooleanAnd((IsUnitInGroup(GetFilterUnit(),udg_TW_DamagedUnits[LoadIntegerBJ(StringHashBJ("int"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)])==false),(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_TW_Caster))==false))))))
endfunction
function Trig_Thunderwrath_Loop_Func001Func003Func003Func005Func016001003 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitDeadBJ(GetFilterUnit())==false),(GetBooleanAnd((IsUnitInGroup(GetFilterUnit(),udg_TW_DamagedUnits[LoadIntegerBJ(StringHashBJ("int"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)])==false),(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_TW_Caster))==false))))))))
endfunction
function Trig_Thunderwrath_Loop_Func001Func003Func003Func005Func016A takes nothing returns nothing
call GroupAddUnitSimple(GetEnumUnit(),udg_TW_DamagedUnits[LoadIntegerBJ(StringHashBJ("int"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)])
call UnitDamageTargetBJ(udg_TW_Caster,GetEnumUnit(),udg_TW_Damage,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function Trig_Thunderwrath_Loop_Func001Func003Func003Func005C takes nothing returns boolean
if(not(udg_TW_Spell_Distance>=72.00))then
return false
endif
return true
endfunction
function Trig_Thunderwrath_Loop_Func001Func003Func003Func011Func013001003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Thunderwrath_Loop_Func001Func003Func003Func011Func013001003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Thunderwrath_Loop_Func001Func003Func003Func011Func013001003002002001 takes nothing returns boolean
return(IsUnitDeadBJ(GetFilterUnit())==false)
endfunction
function Trig_Thunderwrath_Loop_Func001Func003Func003Func011Func013001003002002002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),udg_TW_DamagedUnits[LoadIntegerBJ(StringHashBJ("int"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)])==false)
endfunction
function Trig_Thunderwrath_Loop_Func001Func003Func003Func011Func013001003002002002002 takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_TW_Caster))==false)
endfunction
function Trig_Thunderwrath_Loop_Func001Func003Func003Func011Func013001003002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitInGroup(GetFilterUnit(),udg_TW_DamagedUnits[LoadIntegerBJ(StringHashBJ("int"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)])==false),(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_TW_Caster))==false))
endfunction
function Trig_Thunderwrath_Loop_Func001Func003Func003Func011Func013001003002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitDeadBJ(GetFilterUnit())==false),(GetBooleanAnd((IsUnitInGroup(GetFilterUnit(),udg_TW_DamagedUnits[LoadIntegerBJ(StringHashBJ("int"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)])==false),(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_TW_Caster))==false))))
endfunction
function Trig_Thunderwrath_Loop_Func001Func003Func003Func011Func013001003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitDeadBJ(GetFilterUnit())==false),(GetBooleanAnd((IsUnitInGroup(GetFilterUnit(),udg_TW_DamagedUnits[LoadIntegerBJ(StringHashBJ("int"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)])==false),(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_TW_Caster))==false))))))
endfunction
function Trig_Thunderwrath_Loop_Func001Func003Func003Func011Func013001003 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitDeadBJ(GetFilterUnit())==false),(GetBooleanAnd((IsUnitInGroup(GetFilterUnit(),udg_TW_DamagedUnits[LoadIntegerBJ(StringHashBJ("int"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)])==false),(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(udg_TW_Caster))==false))))))))
endfunction
function Trig_Thunderwrath_Loop_Func001Func003Func003Func011Func013A takes nothing returns nothing
call GroupAddUnitSimple(GetEnumUnit(),udg_TW_DamagedUnits[LoadIntegerBJ(StringHashBJ("int"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)])
call UnitDamageTargetBJ(udg_TW_Caster,GetEnumUnit(),udg_TW_Damage,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
endfunction
function Trig_Thunderwrath_Loop_Func001Func003Func003Func011C takes nothing returns boolean
if(not(udg_TW_Spell_Distance>=0.00))then
return false
endif
return true
endfunction
function Trig_Thunderwrath_Loop_Func001Func003Func003C takes nothing returns boolean
if(not(udg_TW_Return==false))then
return false
endif
return true
endfunction
function Trig_Thunderwrath_Loop_Func001Func003C takes nothing returns boolean
if(not(udg_TW_Dummy!=null))then
return false
endif
return true
endfunction
function Trig_Thunderwrath_Loop_Func001A takes nothing returns nothing
set udg_TW_Handle=GetEnumUnit()
set udg_TW_Dummy=GetEnumUnit()
if(Trig_Thunderwrath_Loop_Func001Func003C())then
set udg_TW_Return=LoadBooleanBJ(StringHashBJ("retornar"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)
set udg_TW_MissileSpeed=LoadRealBJ(StringHashBJ("speed"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)
if(Trig_Thunderwrath_Loop_Func001Func003Func003C())then
set udg_TW_Angle=LoadRealBJ(StringHashBJ("angle"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)
set udg_TW_Spell_Distance=LoadRealBJ(StringHashBJ("distance"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)
if(Trig_Thunderwrath_Loop_Func001Func003Func003Func011C())then
set udg_TW_Damage=LoadRealBJ(StringHashBJ("damage"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)
set udg_TW_Caster=LoadUnitHandleBJ(StringHashBJ("caster"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)
set udg_TW_Spell_Distance=(udg_TW_Spell_Distance-udg_TW_MissileSpeed)
set udg_TW_Point[0]=GetUnitLoc(udg_TW_Dummy)
set udg_TW_Point[1]=PolarProjectionBJ(udg_TW_Point[0],udg_TW_MissileSpeed,udg_TW_Angle)
call SetUnitPositionLoc(udg_TW_Dummy,udg_TW_Point[1])
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocMatching(200.00,udg_TW_Point[1],Condition(function Trig_Thunderwrath_Loop_Func001Func003Func003Func011Func013001003)),function Trig_Thunderwrath_Loop_Func001Func003Func003Func011Func013A)
call RemoveLocation(udg_TW_Point[0])
call RemoveLocation(udg_TW_Point[1])
else
set udg_TW_Return=true
set udg_TW_Angle=(udg_TW_Angle-180.00)
call SaveRealBJ(udg_TW_Angle,StringHashBJ("angle"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)
call SaveBooleanBJ(udg_TW_Return,StringHashBJ("retornar"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)
call GroupClear(udg_TW_DamagedUnits[LoadIntegerBJ(StringHashBJ("int"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)])
endif
call SaveRealBJ(udg_TW_Spell_Distance,StringHashBJ("distance"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)
else
set udg_TW_Point[2]=GetUnitLoc(udg_TW_Dummy)
set udg_TW_Point[3]=GetUnitLoc(udg_TW_Caster)
set udg_TW_Angle=AngleBetweenPoints(udg_TW_Point[2],udg_TW_Point[3])
set udg_TW_Spell_Distance=DistanceBetweenPoints(udg_TW_Point[2],udg_TW_Point[3])
if(Trig_Thunderwrath_Loop_Func001Func003Func003Func005C())then
set udg_TW_Damage=LoadRealBJ(StringHashBJ("damage"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)
set udg_TW_Caster=LoadUnitHandleBJ(StringHashBJ("caster"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)
set udg_TW_Spell_Distance=(udg_TW_Spell_Distance-udg_TW_MissileSpeed)
set udg_TW_Point[0]=GetUnitLoc(udg_TW_Dummy)
set udg_TW_Point[1]=PolarProjectionBJ(udg_TW_Point[0],udg_TW_MissileSpeed,udg_TW_Angle)
call SetUnitPositionLocFacingBJ(udg_TW_Dummy,udg_TW_Point[1],udg_TW_Angle)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocMatching(200.00,udg_TW_Point[1],Condition(function Trig_Thunderwrath_Loop_Func001Func003Func003Func005Func016001003)),function Trig_Thunderwrath_Loop_Func001Func003Func003Func005Func016A)
call RemoveLocation(udg_TW_Point[0])
call RemoveLocation(udg_TW_Point[1])
else
set udg_TW_SFX=LoadEffectHandleBJ(StringHashBJ("sfx"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)
call DestroyEffectBJ(udg_TW_SFX)
call GroupRemoveUnitSimple(udg_TW_Dummy,udg_TW_Group)
call RemoveUnit(udg_TW_Dummy)
set udg_TW_Dummy=null
call DestroyGroup(udg_TW_DamagedUnits[LoadInteger(udg_TW_Hashtable,GetHandleId(udg_TW_Handle),StringHash("int"))])
call FlushChildHashtableBJ(GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)
if(Trig_Thunderwrath_Loop_Func001Func003Func003Func005Func008C())then
call DisableTrigger(udg_trg_Thunderwrath_Loop)
set udg_TW_Int=0
else
endif
endif
call SaveRealBJ(udg_TW_Angle,StringHashBJ("angle"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)
call SaveRealBJ(udg_TW_Spell_Distance,StringHashBJ("distance"),GetHandleIdBJ(udg_TW_Handle),udg_TW_Hashtable)
endif
else
endif
endfunction
function Trig_Thunderwrath_Loop_Actions takes nothing returns nothing
call ForGroupBJ(udg_TW_Group,function Trig_Thunderwrath_Loop_Func001A)
endfunction
function InitTrig_Thunderwrath_Loop takes nothing returns nothing
set udg_trg_Thunderwrath_Loop=CreateTrigger()
call DisableTrigger(udg_trg_Thunderwrath_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_Thunderwrath_Loop,0.03)
call TriggerAddAction(udg_trg_Thunderwrath_Loop,function Trig_Thunderwrath_Loop_Actions)
endfunction
function Trig_Hash_Actions takes nothing returns nothing
call InitHashtableBJ()
set udg_ES_Hash=GetLastCreatedHashtableBJ()
endfunction
function InitTrig_Hash takes nothing returns nothing
set udg_trg_Hash=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Hash,0.00)
call TriggerAddAction(udg_trg_Hash,function Trig_Hash_Actions)
endfunction
function Trig_Sheep_Cast_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A04K'))then
return false
endif
return true
endfunction
function Trig_Sheep_Cast_Func031C takes nothing returns boolean
if(not(udg_ES_DetectInvis==true))then
return false
endif
return true
endfunction
function Trig_Sheep_Cast_Func056C takes nothing returns boolean
if(not(udg_ES_DetectInvis==true))then
return false
endif
return true
endfunction
function Trig_Sheep_Cast_Func066C takes nothing returns boolean
if(not(udg_ES_Counter<=1))then
return false
endif
return true
endfunction
function Trig_Sheep_Cast_Actions takes nothing returns nothing
set udg_ES_Counter=(udg_ES_Counter+1)
set udg_ES_Cast=GetTriggerUnit()
set udg_ES_Targ=GetSpellTargetUnit()
set udg_ES_Point[1]=GetUnitLoc(udg_ES_Cast)
set udg_ES_Point[2]=PolarProjectionBJ(udg_ES_Point[1],125.00,GetUnitFacing(udg_ES_Cast))
set udg_ES_Damage=(75.00+(25.00*I2R(GetUnitAbilityLevelSwapped('A04K',udg_ES_Cast))))
set udg_ES_AoE=(250.00+(50.00*I2R(GetUnitAbilityLevelSwapped('A04K',udg_ES_Cast))))
set udg_ES_MaxTimer=6
set udg_ES_KillDestructables=true
set udg_ES_CreateText=true
set udg_ES_0Text="BUM!"
set udg_ES_KillIfDead=true
set udg_ES_DetectInvis=true
if(Trig_Sheep_Cast_Func031C())then
set udg_ES_Point[4]=GetUnitLoc(udg_ES_Targ)
call CreateNUnitsAtLoc(1,'h01Z',GetOwningPlayer(udg_ES_Cast),udg_ES_Point[4],bj_UNIT_FACING)
call RemoveLocation(udg_ES_Point[4])
call UnitAddAbilityBJ('A04J',GetLastCreatedUnit())
call IssueTargetOrderBJ(GetLastCreatedUnit(),"attack",udg_ES_Targ)
set udg_ES_Sheep=GetLastCreatedUnit()
else
endif
call RemoveLocation(udg_ES_Point[1])
call CreateNUnitsAtLoc(1,'H0SD',GetOwningPlayer(udg_ES_Cast),udg_ES_Point[2],bj_UNIT_FACING)
if(GetUnitTypeId(udg_ES_Cast)!=0) then
    call SetHeroInt(GetLastCreatedUnit(),GetHeroInt(udg_ES_Cast,true),true)
endif
call RemoveLocation(udg_ES_Point[2])
call GroupAddUnitSimple(GetLastCreatedUnit(),udg_ES_Sheeps)
call SaveUnitHandleBJ(udg_ES_Targ,1,GetHandleIdBJ(GetLastCreatedUnit()),udg_ES_Hash)
call SaveIntegerBJ(udg_ES_MaxTimer,2,GetHandleIdBJ(GetLastCreatedUnit()),udg_ES_Hash)
call SaveIntegerBJ(0,3,GetHandleIdBJ(GetLastCreatedUnit()),udg_ES_Hash)
call SaveRealBJ(udg_ES_AoE,4,GetHandleIdBJ(GetLastCreatedUnit()),udg_ES_Hash)
call SaveRealBJ(udg_ES_Damage,5,GetHandleIdBJ(GetLastCreatedUnit()),udg_ES_Hash)
if(Trig_Sheep_Cast_Func056C())then
call SaveUnitHandleBJ(udg_ES_Sheep,6,GetHandleIdBJ(GetLastCreatedUnit()),udg_ES_Hash)
else
endif
call SaveUnitHandleBJ(udg_ES_Cast,7,GetHandleIdBJ(GetLastCreatedUnit()),udg_ES_Hash)
call SaveBooleanBJ(udg_ES_KillDestructables,8,GetHandleIdBJ(GetLastCreatedUnit()),udg_ES_Hash)
call SaveBooleanBJ(udg_ES_CreateText,9,GetHandleIdBJ(GetLastCreatedUnit()),udg_ES_Hash)
call SaveStringBJ(udg_ES_0Text,10,GetHandleIdBJ(GetLastCreatedUnit()),udg_ES_Hash)
call SaveBooleanBJ(udg_ES_KillIfDead,11,GetHandleIdBJ(GetLastCreatedUnit()),udg_ES_Hash)
call SaveBooleanBJ(udg_ES_DetectInvis,12,GetHandleIdBJ(GetLastCreatedUnit()),udg_ES_Hash)
if(Trig_Sheep_Cast_Func066C())then
call EnableTrigger(udg_trg_Sheep_Loop)
else
endif
endfunction
function InitTrig_Sheep_Cast takes nothing returns nothing
set udg_trg_Sheep_Cast=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Sheep_Cast,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Sheep_Cast,Condition(function Trig_Sheep_Cast_Conditions))
call TriggerAddAction(udg_trg_Sheep_Cast,function Trig_Sheep_Cast_Actions)
endfunction
function Trig_Sheep_Loop_Func004Func013Func001Func001002003 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_ES_Sheep))==true)
endfunction
function Trig_Sheep_Loop_Func004Func013Func001Func002C takes nothing returns boolean
if(not(CountUnitsInGroup(udg_ES_Units)>=1))then
return false
endif
return true
endfunction
function Trig_Sheep_Loop_Func004Func013Func001C takes nothing returns boolean
if(not(LoadBooleanBJ(11,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash)==false))then
return false
endif
if(not(IsUnitDeadBJ(udg_ES_Targ)==true))then
return false
endif
return true
endfunction
function Trig_Sheep_Loop_Func004Func013C takes nothing returns boolean
if(not(LoadBooleanBJ(11,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash)==true))then
return false
endif
if(not(IsUnitDeadBJ(udg_ES_Targ)==true))then
return false
endif
return true
endfunction
function Trig_Sheep_Loop_Func004Func021C takes nothing returns boolean
if(not(LoadBooleanBJ(12,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash)==true))then
return false
endif
return true
endfunction
function Trig_Sheep_Loop_Func004Func025Func003Func001C takes nothing returns boolean
if(not(LoadIntegerBJ(2,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash)!=0))then
return false
endif
return true
endfunction
function Trig_Sheep_Loop_Func004Func025Func003C takes nothing returns boolean
if(not(LoadBooleanBJ(9,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash)==true))then
return false
endif
return true
endfunction
function Trig_Sheep_Loop_Func004Func025C takes nothing returns boolean
if(not(LoadIntegerBJ(3,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash)==20))then
return false
endif
return true
endfunction
function Trig_Sheep_Loop_Func004Func029Func002002003 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_ES_Sheep))==true)
endfunction
function Trig_Sheep_Loop_Func004Func029Func003A takes nothing returns nothing
call UnitDamageTargetBJ(udg_ES_Cast,GetEnumUnit(),udg_ES_Damage,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
endfunction
function Trig_Sheep_Loop_Func004Func029Func006Func001A takes nothing returns nothing
    if(IsTree(GetEnumDestructable())) then
call KillDestructable(GetEnumDestructable())
    endif
endfunction
function Trig_Sheep_Loop_Func004Func029Func006C takes nothing returns boolean
if(not(LoadBooleanBJ(8,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash)==true))then
return false
endif
return true
endfunction
function Trig_Sheep_Loop_Func004Func029Func013C takes nothing returns boolean
if(not(LoadBooleanBJ(12,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash)==true))then
return false
endif
return true
endfunction
function Trig_Sheep_Loop_Func004Func029Func021001 takes nothing returns boolean
return(LoadIntegerBJ(2,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash)<0)
endfunction
function Trig_Sheep_Loop_Func004Func029Func021002 takes nothing returns boolean
return(DistanceBetweenPoints(udg_ES_Point[6],udg_ES_Point[3])<=100.00)
endfunction
function Trig_Sheep_Loop_Func004Func029C takes nothing returns boolean
if(not GetBooleanOr((LoadIntegerBJ(2,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash)<0),(DistanceBetweenPoints(udg_ES_Point[6],udg_ES_Point[3])<=100.00)))then
return false
endif
return true
endfunction
function SheepDamageArea takes nothing returns nothing
if(IsPlayerAlly(GetOwningPlayer(DamagingSheep),GetOwningPlayer(GetEnumUnit()))) then
return
endif
call UnitDamageTarget(GetLastCreatedUnit(),GetEnumUnit(),GetHeroInt(DamagingSheep,false),true,false,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_MAGIC, WEAPON_TYPE_WHOKNOWS )
endfunction
function Trig_Sheep_Loop_Func004A takes nothing returns nothing
local group g
set udg_ES_Targ=LoadUnitHandleBJ(1,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash)
set udg_ES_Cast=LoadUnitHandleBJ(7,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash)
set udg_ES_Sheep=GetEnumUnit()
set udg_ES_Point[3]=GetUnitLoc(udg_ES_Targ)
set udg_ES_Point[6]=GetUnitLoc(udg_ES_Sheep)
set udg_ES_Damage=LoadRealBJ(5,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash)
if(Trig_Sheep_Loop_Func004Func013C())then
call SaveIntegerBJ(-1,2,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash)
else
if(Trig_Sheep_Loop_Func004Func013Func001C())then
set udg_ES_Units=GetUnitsInRangeOfLocMatching(LoadRealBJ(4,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash),udg_ES_Point[6],Condition(function Trig_Sheep_Loop_Func004Func013Func001Func001002003))
if(Trig_Sheep_Loop_Func004Func013Func001Func002C())then
call SaveUnitHandleBJ(GroupPickRandomUnit(udg_ES_Units),1,GetHandleIdBJ(GetLastCreatedUnit()),udg_ES_Hash)
else
call SaveIntegerBJ(-1,2,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash)
endif
call DestroyGroup(udg_ES_Units)
else
endif
endif
call IssueTargetOrderBJ(udg_ES_Sheep,"attack",udg_ES_Targ)
if(Trig_Sheep_Loop_Func004Func021C())then
call SetUnitPositionLoc(LoadUnitHandleBJ(6,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash),udg_ES_Point[3])
else
endif
if(Trig_Sheep_Loop_Func004Func025C())then
if(Trig_Sheep_Loop_Func004Func025Func003C())then
if(Trig_Sheep_Loop_Func004Func025Func003Func001C())then
call CreateTextTagLocBJ(I2S(LoadIntegerBJ(2,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash)),udg_ES_Point[6],0,10,100,5.00,5.00,0)
else
call CreateTextTagLocBJ(LoadStringBJ(10,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash),udg_ES_Point[6],0,10,100,5.00,5.00,0)
endif
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagVelocityBJ(GetLastCreatedTextTag(),64,90)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),3.00)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.00)
else
endif
call SaveIntegerBJ((LoadIntegerBJ(2,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash)-1),2,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash)
call SaveIntegerBJ(0,3,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash)
else
call SaveIntegerBJ((LoadIntegerBJ(3,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash)+1),3,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash)
endif
if(Trig_Sheep_Loop_Func004Func029C())then
set udg_ES_Units=GetUnitsInRangeOfLocMatching(LoadRealBJ(4,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash),udg_ES_Point[6],Condition(function Trig_Sheep_Loop_Func004Func029Func002002003))
call ForGroupBJ(udg_ES_Units,function Trig_Sheep_Loop_Func004Func029Func003A)
call DestroyGroup(udg_ES_Units)
if(Trig_Sheep_Loop_Func004Func029Func006C())then
call EnumDestructablesInCircleBJ(LoadRealBJ(4,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash),udg_ES_Point[6],function Trig_Sheep_Loop_Func004Func029Func006Func001A)
else
endif
call AddSpecialEffectLocBJ(udg_ES_Point[6],"Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(udg_ES_Point[6],"Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
if(Trig_Sheep_Loop_Func004Func029Func013C())then
call RemoveUnit(LoadUnitHandleBJ(6,GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash))
else
endif
call CreateNUnitsAtLocBonuses(1,'h01Z',GetOwningPlayer(udg_ES_Sheep),udg_ES_Point[6],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.00,'BTLF',GetLastCreatedUnit())
call UnitAddAbilityBJ('A04I',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A04I',GetLastCreatedUnit(),GetUnitAbilityLevelSwapped('A04K',udg_ES_Cast))
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"flamestrike",udg_ES_Point[6])
set g = CreateGroup()
call GroupEnumUnitsInRangeOfLoc(g,udg_ES_Point[6],200,Filter(function GeneralTargetFilterEnum))
set DamagingSheep = udg_ES_Sheep
call ShowUnit(udg_ES_Sheep,false)
call ForGroup(g,function SheepDamageArea)
call ShowUnit(udg_ES_Sheep,true)
call DestroyGroup(g)
set g = null
call FlushChildHashtableBJ(GetHandleIdBJ(GetEnumUnit()),udg_ES_Hash)
call GroupRemoveUnitSimple(udg_ES_Sheep,udg_ES_Sheeps)
call KillUnit(udg_ES_Sheep)
call RemoveUnit(udg_ES_Sheep)
set udg_ES_Counter=(udg_ES_Counter-1)
else
endif
call RemoveLocation(udg_ES_Point[6])
call RemoveLocation(udg_ES_Point[3])
endfunction
function Trig_Sheep_Loop_Func008C takes nothing returns boolean
if(not(udg_ES_Counter<=0))then
return false
endif
return true
endfunction
function Trig_Sheep_Loop_Actions takes nothing returns nothing
call ForGroupBJ(udg_ES_Sheeps,function Trig_Sheep_Loop_Func004A)
if(Trig_Sheep_Loop_Func008C())then
call DisableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function InitTrig_Sheep_Loop takes nothing returns nothing
set udg_trg_Sheep_Loop=CreateTrigger()
call DisableTrigger(udg_trg_Sheep_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_Sheep_Loop,0.05)
call TriggerAddAction(udg_trg_Sheep_Loop,function Trig_Sheep_Loop_Actions)
endfunction
function Trig_Initial_Telekinesis_GUI_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0CN'))then
return false
endif
return true
endfunction
function Trig_Initial_Telekinesis_GUI_Func042002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Initial_Telekinesis_GUI_Func042002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Initial_Telekinesis_GUI_Func042002003002002001001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Initial_Telekinesis_GUI_Func042002003002002001002 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),udg_TK_FlyingUnits)==false)
endfunction
function Trig_Initial_Telekinesis_GUI_Func042002003002002001 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitInGroup(GetFilterUnit(),udg_TK_FlyingUnits)==false))
endfunction
function Trig_Initial_Telekinesis_GUI_Func042002003002002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true)
endfunction
function Trig_Initial_Telekinesis_GUI_Func042002003002002 takes nothing returns boolean
return GetBooleanAnd((GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitInGroup(GetFilterUnit(),udg_TK_FlyingUnits)==false))),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true))
endfunction
function Trig_Initial_Telekinesis_GUI_Func042002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitInGroup(GetFilterUnit(),udg_TK_FlyingUnits)==false))),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true))))
endfunction
function Trig_Initial_Telekinesis_GUI_Func042002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitInGroup(GetFilterUnit(),udg_TK_FlyingUnits)==false))),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true))))))
endfunction
function Trig_Initial_Telekinesis_GUI_Func043Func001C takes nothing returns boolean
if(not(udg_TK_Integers[1]==0))then
return false
endif
return true
endfunction
function Trig_Initial_Telekinesis_GUI_Func043Func014C takes nothing returns boolean
if(not(udg_TK_Pause==true))then
return false
endif
return true
endfunction
function Trig_Initial_Telekinesis_GUI_Func043A takes nothing returns nothing
if(Trig_Initial_Telekinesis_GUI_Func043Func001C())then
call EnableTrigger(udg_trg_Telekinesis_GUI)
else
endif
set udg_TK_Integers[1]=(udg_TK_Integers[1]+1)
set udg_TK_Integers[2]=(udg_TK_Integers[2]+1)
set udg_TK_Unit[udg_TK_Integers[2]]=GetEnumUnit()
set udg_TK_Hero[udg_TK_Integers[2]]=GetTriggerUnit()
set udg_TK_Level[udg_TK_Integers[2]]=GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())
set udg_TK_Interval[udg_TK_Integers[2]]=0.00
set udg_TK_LsfxT[udg_TK_Integers[2]]=0.00
set udg_TK_MaxHeight[udg_TK_Integers[2]]=GetRandomReal((udg_TK_MinHeightStart+(udg_TK_MinHeightIncreasement*(I2R(udg_TK_Level[udg_TK_Integers[2]])-1))),(udg_TK_MaxHeightStart+(udg_TK_MaxHeightIncreasement*(I2R(udg_TK_Level[udg_TK_Integers[2]])-1))))
set udg_TK_FSpeed[udg_TK_Integers[2]]=(1.80/ GetRandomReal((udg_TK_Speed*(1+udg_TK_SpeedVariationPerc)),(udg_TK_Speed*(1.00-udg_TK_SpeedVariationPerc))))
call GroupAddUnitSimple(udg_TK_Unit[udg_TK_Integers[2]],udg_TK_FlyingUnits)
call UnitAddAbilityBJ('Arav',udg_TK_Unit[udg_TK_Integers[2]])
call UnitRemoveAbilityBJ('Arav',udg_TK_Unit[udg_TK_Integers[2]])
if(Trig_Initial_Telekinesis_GUI_Func043Func014C())then
call PauseUnitBJ(true,udg_TK_Unit[udg_TK_Integers[2]])
else
endif
set udg_TK_TempPoint[2]=GetUnitLoc(udg_TK_Unit[udg_TK_Integers[2]])
call AddSpecialEffectLocBJ(udg_TK_TempPoint[2],udg_TK_StartSFX)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_TK_TempPoint[2])
endfunction
function Trig_Initial_Telekinesis_GUI_Actions takes nothing returns nothing
set udg_TK_SpellAoEStart=200.00
set udg_TK_SpellAoEIncreasement=50.00
set udg_TK_MinHeightStart=100.00
set udg_TK_MinHeightIncreasement=100.00
set udg_TK_MaxHeightStart=200.00
set udg_TK_MaxHeightIncreasement=200.00
set udg_TK_Speed=1.45
set udg_TK_SpeedVariationPerc=0.20
set udg_TK_LiftSFX="Abilities\\Spells\\Undead\\OrbOfDeath\\OrbOfDeathMissile.mdl"
set udg_TK_LiftSFXTimer=0.30
set udg_TK_StartSFX="Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl"
set udg_TK_ImpactSFX="Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl"
set udg_TK_HDmgInPercStart=0.08
set udg_TK_HDmgInPercIncreasement=0.02
set udg_TK_ImpactDmgStart=20.00
set udg_TK_ImpactDmgIncreasement=20.00
set udg_TK_AttackType=ATTACK_TYPE_MELEE
set udg_TK_DamageType=DAMAGE_TYPE_NORMAL
set udg_TK_Pause=true
set udg_TK_TempPoint[1]=GetSpellTargetLoc()
set udg_TK_UnitGroup=GetUnitsInRangeOfLocMatching((udg_TK_SpellAoEStart+(udg_TK_SpellAoEIncreasement*(I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))-1))),udg_TK_TempPoint[1],Condition(function Trig_Initial_Telekinesis_GUI_Func042002003))
call ForGroupBJ(udg_TK_UnitGroup,function Trig_Initial_Telekinesis_GUI_Func043A)
call RemoveLocation(udg_TK_TempPoint[1])
call DestroyGroup(udg_TK_UnitGroup)
endfunction
function InitTrig_Initial_Telekinesis_GUI takes nothing returns nothing
set udg_trg_Initial_Telekinesis_GUI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Initial_Telekinesis_GUI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Initial_Telekinesis_GUI,Condition(function Trig_Initial_Telekinesis_GUI_Conditions))
call TriggerAddAction(udg_trg_Initial_Telekinesis_GUI,function Trig_Initial_Telekinesis_GUI_Actions)
endfunction
function Trig_Telekinesis_GUI_Func001Func001Func001Func003C takes nothing returns boolean
if(not(udg_TK_Pause==true))then
return false
endif
return true
endfunction
function Trig_Telekinesis_GUI_Func001Func001Func001Func011C takes nothing returns boolean
if(not(udg_TK_Integers[1]==0))then
return false
endif
return true
endfunction
function Trig_Telekinesis_GUI_Func001Func001Func001Func015C takes nothing returns boolean
if(not(udg_TK_LsfxT[udg_TK_Integers[3]]>=udg_TK_LiftSFXTimer))then
return false
endif
return true
endfunction
function Trig_Telekinesis_GUI_Func001Func001Func001C takes nothing returns boolean
if(not(udg_TK_Interval[udg_TK_Integers[3]]<180.00))then
return false
endif
return true
endfunction
function Trig_Telekinesis_GUI_Func001Func001C takes nothing returns boolean
if(not(udg_TK_Unit[udg_TK_Integers[3]]!=null))then
return false
endif
return true
endfunction
function Trig_Telekinesis_GUI_Actions takes nothing returns nothing
set udg_TK_Integers[3]=1
loop
exitwhen udg_TK_Integers[3]>udg_TK_Integers[2]
if(Trig_Telekinesis_GUI_Func001Func001C())then
if(Trig_Telekinesis_GUI_Func001Func001Func001C())then
set udg_TK_Interval[udg_TK_Integers[3]]=(udg_TK_Interval[udg_TK_Integers[3]]+udg_TK_FSpeed[udg_TK_Integers[3]])
set udg_TK_LsfxT[udg_TK_Integers[3]]=(udg_TK_LsfxT[udg_TK_Integers[3]]+0.01)
call SetUnitFlyHeightBJ(udg_TK_Unit[udg_TK_Integers[3]],((SinBJ(udg_TK_Interval[udg_TK_Integers[3]])*udg_TK_MaxHeight[udg_TK_Integers[3]])+GetUnitDefaultFlyHeight(udg_TK_Unit[udg_TK_Integers[3]])),0.00)
if(Trig_Telekinesis_GUI_Func001Func001Func001Func015C())then
call AddSpecialEffectTargetUnitBJ("chest",udg_TK_Unit[udg_TK_Integers[3]],udg_TK_LiftSFX)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set udg_TK_LsfxT[udg_TK_Integers[3]]=0.00
else
endif
else
set udg_TK_TempPoint[1]=GetUnitLoc(udg_TK_Unit[udg_TK_Integers[3]])
call GroupRemoveUnitSimple(udg_TK_Unit[udg_TK_Integers[3]],udg_TK_FlyingUnits)
if(Trig_Telekinesis_GUI_Func001Func001Func001Func003C())then
call PauseUnitBJ(false,udg_TK_Unit[udg_TK_Integers[3]])
else
endif
call AddSpecialEffectLocBJ(udg_TK_TempPoint[1],udg_TK_ImpactSFX)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitFlyHeightBJ(udg_TK_Unit[udg_TK_Integers[3]],GetUnitDefaultFlyHeight(udg_TK_Unit[udg_TK_Integers[3]]),0.00)
call UnitDamageTargetBJ(udg_TK_Hero[udg_TK_Integers[3]],udg_TK_Unit[udg_TK_Integers[3]],((udg_TK_HDmgInPercStart+(udg_TK_HDmgInPercIncreasement*(I2R(udg_TK_Level[udg_TK_Integers[3]])-1)))+(udg_TK_ImpactDmgStart+(udg_TK_ImpactDmgIncreasement*(I2R(udg_TK_Level[udg_TK_Integers[3]])-1)))),udg_TK_AttackType,udg_TK_DamageType)
call RemoveLocation(udg_TK_TempPoint[1])
set udg_TK_Unit[udg_TK_Integers[3]]=null
set udg_TK_Integers[1]=(udg_TK_Integers[1]-1)
if(Trig_Telekinesis_GUI_Func001Func001Func001Func011C())then
set udg_TK_Integers[2]=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
endif
else
endif
set udg_TK_Integers[3]=udg_TK_Integers[3]+1
endloop
endfunction
function InitTrig_Telekinesis_GUI takes nothing returns nothing
set udg_trg_Telekinesis_GUI=CreateTrigger()
call DisableTrigger(udg_trg_Telekinesis_GUI)
call TriggerRegisterTimerEventPeriodic(udg_trg_Telekinesis_GUI,0.01)
call TriggerAddAction(udg_trg_Telekinesis_GUI,function Trig_Telekinesis_GUI_Actions)
endfunction
function Trig_Heroic_Leap_Cast_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0A3'))then
return false
endif
return true
endfunction
function Trig_Heroic_Leap_Cast_Func024001 takes nothing returns boolean
return(IsUnitGroupEmptyBJ(udg_Leapers)==true)
endfunction
function Trig_Heroic_Leap_Cast_Actions takes nothing returns nothing
set udg_Caster=GetTriggerUnit()
set udg_Target=GetSpellTargetUnit()
set udg_Points[1]=GetUnitLoc(udg_Caster)
set udg_Points[2]=GetUnitLoc(udg_Target)
set udg_Real[1]=DistanceBetweenPoints(udg_Points[1],udg_Points[2])
set udg_Real[2]=(udg_Real[1]/ 2.00)
call SetUnitPathing(udg_Caster,false)
call AddSpecialEffectTargetUnitBJ("chest",udg_Caster,"Abilities\\Spells\\Human\\Invisibility\\InvisibilityTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SaveUnitHandleBJ(udg_Target,0,GetHandleIdBJ(GetTriggerUnit()),udg_Hashtable)
call SaveRealBJ(udg_Real[1],1,GetHandleIdBJ(GetTriggerUnit()),udg_Hashtable)
call SaveRealBJ(udg_Real[2],2,GetHandleIdBJ(GetTriggerUnit()),udg_Hashtable)
if((IsUnitGroupEmptyBJ(udg_Leapers)==true))then
call EnableTrigger(udg_trg_Heroic_Leap_Loop)
else
call DoNothing()
endif
call GroupAddUnitSimple(udg_Caster,udg_Leapers)
call RemoveLocation(udg_Points[1])
call RemoveLocation(udg_Points[2])
endfunction
function InitTrig_Heroic_Leap_Cast takes nothing returns nothing
set udg_trg_Heroic_Leap_Cast=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Heroic_Leap_Cast,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Heroic_Leap_Cast,Condition(function Trig_Heroic_Leap_Cast_Conditions))
call TriggerAddAction(udg_trg_Heroic_Leap_Cast,function Trig_Heroic_Leap_Cast_Actions)
endfunction
function Trig_Heroic_Leap_Loop_Func001Func016Func013002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Heroic_Leap_Loop_Func001Func016Func013002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)
endfunction
function Trig_Heroic_Leap_Loop_Func001Func016Func013002003002002001 takes nothing returns boolean
return(IsPlayerEnemy(GetOwningPlayer(udg_Caster),GetOwningPlayer(GetFilterUnit()))==true)
endfunction
function Trig_Heroic_Leap_Loop_Func001Func016Func013002003002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)
endfunction
function Trig_Heroic_Leap_Loop_Func001Func016Func013002003002002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)
endfunction
function Trig_Heroic_Leap_Loop_Func001Func016Func013002003002002002002002 takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Heroic_Leap_Loop_Func001Func016Func013002003002002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))
endfunction
function Trig_Heroic_Leap_Loop_Func001Func016Func013002003002002002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))
endfunction
function Trig_Heroic_Leap_Loop_Func001Func016Func013002003002002 takes nothing returns boolean
return GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Caster),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))
endfunction
function Trig_Heroic_Leap_Loop_Func001Func016Func013002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Caster),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))))
endfunction
function Trig_Heroic_Leap_Loop_Func001Func016Func013002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(udg_Caster),GetOwningPlayer(GetFilterUnit()))==true),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false),(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false))))))))))
endfunction
function Trig_Heroic_Leap_Loop_Func001Func016Func025001 takes nothing returns boolean
return(udg_Real[2]>=udg_Real[1])
endfunction
function Trig_Heroic_Leap_Loop_Func001Func016C takes nothing returns boolean
if(not(udg_Real[2]>=120.00))then
return false
endif
return true
endfunction
function Trig_Heroic_Leap_Loop_Func001A takes nothing returns nothing
set udg_Target=LoadUnitHandleBJ(0,GetHandleIdBJ(GetEnumUnit()),udg_Hashtable)
set udg_Caster=GetEnumUnit()
set udg_Points[1]=GetUnitLoc(udg_Caster)
set udg_Points[2]=GetUnitLoc(udg_Target)
set udg_Points[3]=PolarProjectionBJ(udg_Points[1],40.00,AngleBetweenPoints(udg_Points[1],udg_Points[2]))
set udg_Real[1]=LoadRealBJ(2,GetHandleIdBJ(GetEnumUnit()),udg_Hashtable)
set udg_Real[2]=DistanceBetweenPoints(udg_Points[1],udg_Points[2])
if(Trig_Heroic_Leap_Loop_Func001Func016C())then
call SetUnitPositionLocFacingLocBJ(udg_Caster,udg_Points[3],udg_Points[2])
if((udg_Real[2]>=udg_Real[1]))then
set udg_Real[1]=8.00
else
set udg_Real[1]=-8.00
endif
call UnitAddAbilityBJ('Amrf',udg_Caster)
call UnitRemoveAbilityBJ('Amrf',udg_Caster)
call SetUnitFlyHeightBJ(udg_Caster,(GetUnitFlyHeight(udg_Caster)+udg_Real[1]),1000000000.00)
else
call SetUnitFlyHeightBJ(udg_Caster,0.00,100000000.00)
call SetUnitPathing(udg_Caster,true)
call IssueTargetOrderBJ(udg_Caster,"attack",udg_Target)
set udg_TempGroup=GetUnitsInRangeOfLocMatching(300.00,udg_Points[1],Condition(function Trig_Heroic_Leap_Loop_Func001Func016Func013002003))
call AddSpecialEffectTargetUnitBJ("origin",udg_Caster,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set udg_Antidesync_temp_unit=udg_Caster
call TriggerExecute(udg_trg_heroic_leap_stomp)
call FlushChildHashtableBJ(GetHandleIdBJ(GetEnumUnit()),udg_Hashtable)
call GroupRemoveUnitSimple(GetEnumUnit(),udg_Leapers)
endif
call DestroyGroup(udg_TempGroup)
call RemoveLocation(udg_Points[1])
call RemoveLocation(udg_Points[2])
call RemoveLocation(udg_Points[3])
endfunction
function Trig_Heroic_Leap_Loop_Func004001 takes nothing returns boolean
return(IsUnitGroupEmptyBJ(udg_Leapers)==true)
endfunction
function Trig_Heroic_Leap_Loop_Actions takes nothing returns nothing
call ForGroupBJ(udg_Leapers,function Trig_Heroic_Leap_Loop_Func001A)
if((IsUnitGroupEmptyBJ(udg_Leapers)==true))then
call DisableTrigger(GetTriggeringTrigger())
else
call DoNothing()
endif
endfunction
function InitTrig_Heroic_Leap_Loop takes nothing returns nothing
set udg_trg_Heroic_Leap_Loop=CreateTrigger()
call DisableTrigger(udg_trg_Heroic_Leap_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_Heroic_Leap_Loop,0.04)
call TriggerAddAction(udg_trg_Heroic_Leap_Loop,function Trig_Heroic_Leap_Loop_Actions)
endfunction
function Trig_heroic_leap_stomp_Func001A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Antidesync_temp_unit,GetEnumUnit(),(80.00*I2R(GetUnitAbilityLevelSwapped('A0A3',udg_Antidesync_temp_unit))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call CreateNUnitsAtLocBonuses(1,'h03E',GetOwningPlayer(udg_Caster),udg_Points[1],bj_UNIT_FACING)
call UnitAddAbilityBJ('A0JW',GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped('A0JW',GetLastCreatedUnit(),(3+GetUnitAbilityLevelSwapped('A0A3',udg_Antidesync_temp_unit)))
call IssueTargetOrderBJ(GetLastCreatedUnit(),"slow",GetEnumUnit())
call UnitApplyTimedLifeBJ(2.00,'BTLF',GetLastCreatedUnit())
endfunction
function Trig_heroic_leap_stomp_Actions takes nothing returns nothing
call ForGroupBJ(udg_TempGroup,function Trig_heroic_leap_stomp_Func001A)
endfunction
function InitTrig_heroic_leap_stomp takes nothing returns nothing
set udg_trg_heroic_leap_stomp=CreateTrigger()
call TriggerAddAction(udg_trg_heroic_leap_stomp,function Trig_heroic_leap_stomp_Actions)
endfunction
function Trig_TOT_Cast_Copy_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0BL'))then
return false
endif
if(not(UnitHasBuffBJ(GetTriggerUnit(),'B017')==false))then
return false
endif
return true
endfunction
function Trig_TOT_Cast_Copy_Actions takes nothing returns nothing
set udg_TOT2_Size=4
set udg_u=GetTriggerUnit()
set udg_TOT2_Max=(udg_TOT2_Max+1)
set udg_TOT2_Caster[udg_TOT2_Max]=udg_u
set udg_x=GetUnitX(udg_u)
set udg_y=GetUnitY(udg_u)
set udg_TOT2_Data[(udg_TOT2_Max*udg_TOT2_Size)]=128.00
set udg_TOT2_Data[((udg_TOT2_Max*udg_TOT2_Size)+1)]=udg_x
set udg_TOT2_Data[((udg_TOT2_Max*udg_TOT2_Size)+2)]=udg_y
set udg_TOT2_Data[((udg_TOT2_Max*udg_TOT2_Size)+3)]=10.00
set udg_TOT2_DestructibleType[udg_TOT2_Max]='B006'
set udg_TOT2_Sfx[udg_TOT2_Max]="Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl"
call EnableTrigger(udg_trg_TOT_Loop_Copy)
endfunction
function InitTrig_TOT_Cast_Copy takes nothing returns nothing
set udg_trg_TOT_Cast_Copy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_TOT_Cast_Copy,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_TOT_Cast_Copy,Condition(function Trig_TOT_Cast_Copy_Conditions))
call TriggerAddAction(udg_trg_TOT_Cast_Copy,function Trig_TOT_Cast_Copy_Actions)
endfunction
function Trig_TOT_Loop_Copy_Func001Func002Func007C takes nothing returns boolean
if(not(udg_TOT2_Max<1))then
return false
endif
return true
endfunction
function Trig_TOT_Loop_Copy_Func001Func002Func015C takes nothing returns boolean
if(not((udg_TOT2_Data[(udg_i*udg_TOT2_Size)]*udg_TOT2_Data[(udg_i*udg_TOT2_Size)])<(((udg_x-udg_x2)*(udg_x-udg_x2))+((udg_y-udg_y2)*(udg_y-udg_y2)))))then
return false
endif
return true
endfunction
function Trig_TOT_Loop_Copy_Func001Func002C takes nothing returns boolean
if(not(udg_u!=null))then
return false
endif
if(not(GetUnitStateSwap(UNIT_STATE_LIFE,udg_u)>0.00))then
return false
endif
if(not(UnitHasBuffBJ(udg_u,'B017')==true))then
return false
endif
return true
endfunction
function Trig_TOT_Loop_Copy_Actions takes nothing returns nothing
set udg_i=1
loop
exitwhen udg_i>udg_TOT2_Max
set udg_u=udg_TOT2_Caster[udg_i]
if(Trig_TOT_Loop_Copy_Func001Func002C())then
set udg_x=GetUnitX(udg_u)
set udg_y=GetUnitY(udg_u)
set udg_x2=udg_TOT2_Data[((udg_i*udg_TOT2_Size)+1)]
set udg_y2=udg_TOT2_Data[((udg_i*udg_TOT2_Size)+2)]
if(Trig_TOT_Loop_Copy_Func001Func002Func015C())then
set udg_d=CreateDestructable(udg_TOT2_DestructibleType[udg_i],udg_x2,udg_y2,0.00,1.00,0)
call DestroyEffect(AddSpecialEffect(udg_TOT2_Sfx[udg_i],udg_x2,udg_y2))
call PlanDestructableRemoval(udg_d,udg_TOT2_Data[( ( udg_i * udg_TOT2_Size ) + 3 )])
set udg_a=Atan2BJ((udg_y-udg_y2),(udg_x-udg_x2))
set udg_TOT2_Data[((udg_i*udg_TOT2_Size)+1)]=(udg_x2+(udg_TOT2_Data[(udg_i*udg_TOT2_Size)]*CosBJ(udg_a)))
set udg_TOT2_Data[((udg_i*udg_TOT2_Size)+2)]=(udg_y2+(udg_TOT2_Data[(udg_i*udg_TOT2_Size)]*SinBJ(udg_a)))
else
endif
else
set udg_TOT2_Caster[udg_i]=udg_TOT2_Caster[udg_TOT2_Max]
set udg_i2=0
loop
exitwhen udg_i2>(udg_TOT2_Size-1)
set udg_TOT2_Data[((udg_i*udg_TOT2_Size)+udg_i2)]=udg_TOT2_Data[((udg_TOT2_Max*udg_TOT2_Size)+udg_i2)]
set udg_i2=udg_i2+1
endloop
set udg_TOT2_DestructibleType[udg_i]=udg_TOT2_DestructibleType[udg_TOT2_Max]
set udg_TOT2_Sfx[udg_i]=udg_TOT2_Sfx[udg_TOT2_Max]
set udg_TOT2_Max=(udg_TOT2_Max-1)
set udg_i=(udg_i-1)
if(Trig_TOT_Loop_Copy_Func001Func002Func007C())then
call DisableTrigger(GetTriggeringTrigger())
else
endif
endif
set udg_i=udg_i+1
endloop
endfunction
function InitTrig_TOT_Loop_Copy takes nothing returns nothing
set udg_trg_TOT_Loop_Copy=CreateTrigger()
call DisableTrigger(udg_trg_TOT_Loop_Copy)
call TriggerRegisterTimerEventPeriodic(udg_trg_TOT_Loop_Copy,0.10)
call TriggerAddAction(udg_trg_TOT_Loop_Copy,function Trig_TOT_Loop_Copy_Actions)
endfunction
function Trig_TOS_Cast_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0C5'))then
return false
endif
if(not(UnitHasBuffBJ(GetTriggerUnit(),'B01A')==false))then
return false
endif
if(not(IsUnitInGroup(GetTriggerUnit(),udg_TOS_CastingGroup)==false))then
return false
endif
return true
endfunction
function Trig_TOS_Cast_Actions takes nothing returns nothing
call GroupAddUnitSimple(GetTriggerUnit(),udg_TOS_CastingGroup)
set udg_TOS_CasterNumber=(udg_TOS_CasterNumber+1)
set udg_TOS_CastNumber=(udg_TOS_CastNumber+1)
set udg_TOS_Speicaleffects="Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl"
set udg_TOS_Grave_Duration=5.00
set udg_TOS_Max_Skeletons=12
set udg_TOS_Caster[udg_TOS_CasterNumber]=GetTriggerUnit()
set udg_TOS_Boolean[udg_TOS_CasterNumber]=true
call EnableTrigger(udg_trg_TOS_Loop)
endfunction
function InitTrig_TOS_Cast takes nothing returns nothing
set udg_trg_TOS_Cast=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_TOS_Cast,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_TOS_Cast,Condition(function Trig_TOS_Cast_Conditions))
call TriggerAddAction(udg_trg_TOS_Cast,function Trig_TOS_Cast_Actions)
endfunction
function Trig_TOS_Loop_Func002Func001Func001Func001C takes nothing returns boolean
if(not(IsUnitInGroup(udg_TOS_Caster[udg_TOS_Integer],udg_TOS_CastingGroup)==true))then
return false
endif
return true
endfunction
function Trig_TOS_Loop_Func002Func001Func001Func002Func007Func001C takes nothing returns boolean
if(not(IsUnitInGroup(udg_TOS_Caster[udg_TOS_Integer],udg_TOS_CastingGroup)==true))then
return false
endif
return true
endfunction
function Trig_TOS_Loop_Func002Func001Func001Func002Func007C takes nothing returns boolean
if(not(udg_TOS_Grave_Count[udg_TOS_Integer]==udg_TOS_Max_Skeletons))then
return false
endif
return true
endfunction
function Trig_TOS_Loop_Func002Func001Func001Func002C takes nothing returns boolean
if(not(udg_TOS_Boolean[udg_TOS_Integer]==true))then
return false
endif
return true
endfunction
function Trig_TOS_Loop_Func002Func001Func001C takes nothing returns boolean
if(not(UnitHasBuffBJ(udg_TOS_Caster[udg_TOS_Integer],'B01A')==true))then
return false
endif
if(not(IsUnitAliveBJ(udg_TOS_Caster[udg_TOS_Integer])==true))then
return false
endif
return true
endfunction
function Trig_TOS_Loop_Func002Func001C takes nothing returns boolean
if(not(udg_TOS_CasterNumber>0))then
return false
endif
return true
endfunction
function Trig_TOS_Loop_Actions takes nothing returns nothing
set udg_TOS_Integer=1
loop
exitwhen udg_TOS_Integer>udg_TOS_CasterNumber
if(Trig_TOS_Loop_Func002Func001C())then
if(Trig_TOS_Loop_Func002Func001Func001C())then
if(Trig_TOS_Loop_Func002Func001Func001Func002C())then
set udg_TOS_Point[1]=GetUnitLoc(udg_TOS_Caster[udg_TOS_Integer])
call CreateNUnitsAtLocBonuses(1,'h052',GetOwningPlayer(udg_TOS_Caster[udg_TOS_Integer]),udg_TOS_Point[1],bj_UNIT_FACING)
call SetUnitAnimation(GetLastCreatedUnit(),"birth")
call UnitApplyTimedLifeBJ(udg_TOS_Grave_Duration,'BTLF',GetLastCreatedUnit())
call RemoveLocation(udg_TOS_Point[1])
set udg_TOS_Grave_Count[udg_TOS_Integer]=(udg_TOS_Grave_Count[udg_TOS_Integer]+1)
if(Trig_TOS_Loop_Func002Func001Func001Func002Func007C())then
if(Trig_TOS_Loop_Func002Func001Func001Func002Func007Func001C())then
set udg_TOS_Boolean[udg_TOS_Integer]=false
set udg_TOS_CastNumber=(udg_TOS_CastNumber-1)
call GroupRemoveUnitSimple(udg_TOS_Caster[udg_TOS_Integer],udg_TOS_CastingGroup)
else
endif
else
endif
else
endif
else
if(Trig_TOS_Loop_Func002Func001Func001Func001C())then
set udg_TOS_Boolean[udg_TOS_Integer]=false
set udg_TOS_CastNumber=(udg_TOS_CastNumber-1)
call GroupRemoveUnitSimple(udg_TOS_Caster[udg_TOS_Integer],udg_TOS_CastingGroup)
else
endif
endif
else
set udg_TOS_CasterNumber=0
call DisableTrigger(GetTriggeringTrigger())
endif
set udg_TOS_Integer=udg_TOS_Integer+1
endloop
endfunction
function InitTrig_TOS_Loop takes nothing returns nothing
set udg_trg_TOS_Loop=CreateTrigger()
call DisableTrigger(udg_trg_TOS_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_TOS_Loop,1.50)
call TriggerAddAction(udg_trg_TOS_Loop,function Trig_TOS_Loop_Actions)
endfunction
function Trig_TOS_Skeletons_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='h052'))then
return false
endif
return true
endfunction
function Trig_TOS_Skeletons_Actions takes nothing returns nothing
set udg_TOS_Point[2]=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(udg_TOS_Point[2],udg_TOS_Speicaleffects)
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateNUnitsAtLocBonuses(1,'u01N',GetOwningPlayer(GetTriggerUnit()),udg_TOS_Point[2],bj_UNIT_FACING)
call SetUnitAnimation(GetLastCreatedUnit(),"birth")
call RemoveLocation(udg_TOS_Point[2])
endfunction
function InitTrig_TOS_Skeletons takes nothing returns nothing
set udg_trg_TOS_Skeletons=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_TOS_Skeletons,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_TOS_Skeletons,Condition(function Trig_TOS_Skeletons_Conditions))
call TriggerAddAction(udg_trg_TOS_Skeletons,function Trig_TOS_Skeletons_Actions)
endfunction
function Trig_Pyro_Jump_On_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A04B'))then
return false
endif
return true
endfunction
function Trig_Pyro_Jump_On_Actions takes nothing returns nothing
if(IsUnitMovementDisabled(GetTriggerUnit())) then
return
endif
call JumpUnitDistance(GetTriggerUnit(),1000.0,500,0.3,false,"walk")
endfunction
function InitTrig_Pyro_Jump_On takes nothing returns nothing
set udg_trg_Pyro_Jump_On=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Pyro_Jump_On,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Pyro_Jump_On,Condition(function Trig_Pyro_Jump_On_Conditions))
call TriggerAddAction(udg_trg_Pyro_Jump_On,function Trig_Pyro_Jump_On_Actions)
endfunction
function Trig_Pyro_Jump_Loop_Func001Func001Func001Func035C takes nothing returns boolean
if(not(udg_JP_Spam==0))then
return false
endif
return true
endfunction
function Trig_Pyro_Jump_Loop_Func001Func001Func001C takes nothing returns boolean
if(not(udg_JP_Distance[udg_JP]<=0.00))then
return false
endif
return true
endfunction
function Trig_Pyro_Jump_Loop_Func001Func001C takes nothing returns boolean
if(not(udg_JP_Off[udg_JP]==true))then
return false
endif
return true
endfunction
function Trig_Pyro_Jump_Loop_Actions takes nothing returns nothing
set udg_JP=1
loop
exitwhen udg_JP>udg_JP_Times
if(Trig_Pyro_Jump_Loop_Func001Func001C())then
if(Trig_Pyro_Jump_Loop_Func001Func001Func001C())then
set udg_JP_Off[udg_JP]=false
call ResetUnitAnimation(udg_JP_Hero[udg_JP])
call AddSpecialEffectTargetUnitBJ("origin",udg_JP_Hero[udg_JP],"Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call SetUnitTimeScalePercent(udg_JP_Hero[udg_JP_Times],100.00)
call DestroyEffectBJ(udg_JP_Special[udg_JP])
call SetUnitPathing(udg_JP_Hero[udg_JP],true)
set udg_JP_Hero[udg_JP]=null
set udg_JP_Angel[udg_JP]=0.00
set udg_JP_Distance[udg_JP]=0.00
set udg_JP_Speed[udg_JP]=0.00
set udg_JP_Fly_Distance[udg_JP]=0.00
set udg_JP_Max_Height[udg_JP]=0.00
set udg_JP_Formula[udg_JP]=0.00
set udg_JP_Fly[udg_JP]=0.00
set udg_JP_Parabole[udg_JP]=0.00
set udg_JP_Spam=(udg_JP_Spam-1)
if(Trig_Pyro_Jump_Loop_Func001Func001Func001Func035C())then
set udg_JP_Times=0
call DisableTrigger(udg_trg_Pyro_Jump_Loop)
else
endif
else
call QueueUnitAnimationBJ(udg_JP_Hero[udg_JP],"Dissipate")
set udg_JP_Distance[udg_JP]=(udg_JP_Distance[udg_JP]-udg_JP_Speed[udg_JP])
set udg_JP_Point[1]=GetUnitLoc(udg_JP_Hero[udg_JP])
set udg_JP_Point[2]=PolarProjectionBJ(udg_JP_Point[1],udg_JP_Speed[udg_JP],udg_JP_Angel[udg_JP])
call SetUnitX(udg_JP_Hero[udg_JP],GetLocationX(udg_JP_Point[2]))
call SetUnitY(udg_JP_Hero[udg_JP],GetLocationY(udg_JP_Point[2]))
call RemoveLocation(udg_JP_Point[1])
call RemoveLocation(udg_JP_Point[2])
set udg_JP_Fly[udg_JP]=(udg_JP_Fly[udg_JP]+(180.00/(udg_JP_Fly_Distance[udg_JP]/ udg_JP_Speed[udg_JP])))
set udg_JP_Parabole[udg_JP]=(SinBJ(udg_JP_Fly[udg_JP])*udg_JP_Formula[udg_JP])
call SetUnitFlyHeightBJ(udg_JP_Hero[udg_JP],udg_JP_Parabole[udg_JP],1000000000.00)
endif
else
endif
set udg_JP=udg_JP+1
endloop
endfunction
function InitTrig_Pyro_Jump_Loop takes nothing returns nothing
set udg_trg_Pyro_Jump_Loop=CreateTrigger()
call DisableTrigger(udg_trg_Pyro_Jump_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_Pyro_Jump_Loop,0.02)
call TriggerAddAction(udg_trg_Pyro_Jump_Loop,function Trig_Pyro_Jump_Loop_Actions)
endfunction
function Trig_Insanity_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A08R'))then
return false
endif
if(not(CountLivingPlayerUnitsOfTypeId('h02Z',GetOwningPlayer(GetSpellTargetUnit()))==0))then
return false
endif
return true
endfunction
function Trig_Insanity_Func003Func001A takes nothing returns nothing
call SetPlayerAllianceStateBJ(GetEnumPlayer(),GetOwningPlayer(GetSpellTargetUnit()),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(GetOwningPlayer(GetSpellTargetUnit()),GetEnumPlayer(),bj_ALLIANCE_ALLIED)
endfunction
function Trig_Insanity_Func003C takes nothing returns boolean
if(not(IsPlayerInForce(GetOwningPlayer(GetSpellTargetUnit()),udg_Humans)==true))then
return false
endif
return true
endfunction
function Trig_Insanity_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'h02Z',GetOwningPlayer(GetSpellTargetUnit()),GetUnitLoc(GetSpellTargetUnit()),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(8.00,'BTLF',GetLastCreatedUnit())
if(Trig_Insanity_Func003C())then
call ForForce(udg_Humans,function Trig_Insanity_Func003Func001A)
else
endif
set udg_Insane_Unit=GetSpellAbilityUnit()
set udg_loc_Unit=GetUnitLoc(udg_Insane_Unit)
set udg_Insane_Unit_Copy=GetSpellTargetUnit()
set udg_loc_UnitEnemy=GetUnitLoc(udg_Insane_Unit_Copy)
call PlaySoundOnUnitBJ(udg_snd_SoulPreservation,100,GetSpellTargetUnit())
call StopSoundBJ(GetLastPlayedSound(),true)
call AddSpecialEffectLocBJ(udg_loc_Unit,"Abilities\\Spells\\Human\\Invisibility\\InvisibilityTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=50
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_Insanity_Point=OffsetLocation(udg_loc_UnitEnemy,GetRandomReal(-1000.00,1000.00),GetRandomReal(-1000.00,1000.00))
call CreateNUnitsAtLocFacingLocBJ(1,'h02Y',GetOwningPlayer(GetSpellTargetUnit()),udg_Insanity_Point,udg_Insanity_Point)
call RemoveLocation(udg_Insanity_Point)
call SetUnitPathing(GetLastCreatedUnit(),false)
set udg_Insanity_Point=OffsetLocation(udg_loc_UnitEnemy,GetRandomReal(-2000.00,2000.00),GetRandomReal(-2000.00,2000.00))
call IssuePointOrderLocBJ(GetLastCreatedUnit(),"move",udg_Insanity_Point)
call RemoveLocation(udg_Insanity_Point)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=30
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
set udg_Insanity_Point=OffsetLocation(udg_loc_UnitEnemy,GetRandomReal(-1000.00,1000.00),GetRandomReal(-1000.00,1000.00))
call CreateNUnitsAtLocFacingLocBJ(1,'h02Y',GetOwningPlayer(GetSpellAbilityUnit()),udg_Insanity_Point,udg_Insanity_Point)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"attack",GetSpellTargetUnit())
call RemoveLocation(udg_Insanity_Point)
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
set udg_loc_Unit=GetUnitLoc(GetSpellAbilityUnit())
call CreateNUnitsAtLocBonuses(1,'h02X',GetOwningPlayer(GetSpellAbilityUnit()),udg_loc_Unit,bj_UNIT_FACING)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"invisibility",GetSpellAbilityUnit())
call RemoveLocation(udg_loc_Unit)
set udg_loc_UnitEnemy=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLocBonuses(1,'h02X',GetOwningPlayer(GetSpellAbilityUnit()),udg_loc_UnitEnemy,bj_UNIT_FACING)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"slow",GetSpellTargetUnit())
call RemoveLocation(udg_loc_UnitEnemy)
endfunction
function InitTrig_Insanity takes nothing returns nothing
set udg_trg_Insanity=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Insanity,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Insanity,Condition(function Trig_Insanity_Conditions))
call TriggerAddAction(udg_trg_Insanity,function Trig_Insanity_Actions)
endfunction
function Trig_Dies_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='h02Y'))then
return false
endif
return true
endfunction
function Trig_Dies_Actions takes nothing returns nothing
call RemoveUnit(GetDyingUnit())
endfunction
function InitTrig_Dies takes nothing returns nothing
set udg_trg_Dies=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Dies,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Dies,Condition(function Trig_Dies_Conditions))
call TriggerAddAction(udg_trg_Dies,function Trig_Dies_Actions)
endfunction
function Trig_Dies_Copy_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetDyingUnit())=='h02Z'))then
return false
endif
return true
endfunction
function Trig_Dies_Copy_Func001Func001A takes nothing returns nothing
call SetPlayerAllianceStateBJ(GetEnumPlayer(),GetOwningPlayer(GetDyingUnit()),bj_ALLIANCE_ALLIED_VISION)
call SetPlayerAllianceStateBJ(GetOwningPlayer(GetDyingUnit()),GetEnumPlayer(),bj_ALLIANCE_ALLIED_VISION)
endfunction
function Trig_Dies_Copy_Func001C takes nothing returns boolean
if(not(IsPlayerInForce(GetOwningPlayer(GetDyingUnit()),udg_Humans)==true))then
return false
endif
return true
endfunction
function Trig_Dies_Copy_Actions takes nothing returns nothing
if(Trig_Dies_Copy_Func001C())then
call ForForce(udg_Humans,function Trig_Dies_Copy_Func001Func001A)
else
endif
endfunction
function InitTrig_Dies_Copy takes nothing returns nothing
set udg_trg_Dies_Copy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Dies_Copy,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(udg_trg_Dies_Copy,Condition(function Trig_Dies_Copy_Conditions))
call TriggerAddAction(udg_trg_Dies_Copy,function Trig_Dies_Copy_Actions)
endfunction
function Trig_Secret_Hero_4_disable_timed takes nothing returns nothing
    local timer t = GetExpiredTimer()
    local trigger t1 = LoadTriggerHandle(timerdata,GetHandleId(t),0)
    local trigger t2 = LoadTriggerHandle(timerdata,GetHandleId(t),2)
    call DisableTrigger(t1)
    call DisableTrigger(t2)
    call FlushChildHashtable(timerdata,GetHandleId(t))
    call DestroyTimer(t)
    set t = null
    set t1 = null
    set t2 = null
endfunction

function Trig_Secret_Hero_4_Actions takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local timer tt = CreateTimer()
call SaveTriggerHandle(timerdata,GetHandleId(tt),0,t) 
call SaveTriggerHandle(timerdata,GetHandleId(tt),1,udg_trg_Secret_Hero_5) 
call TimerStart(tt,2.,false,function Trig_Secret_Hero_4_disable_timed)
set t = null
set tt = null
endfunction
function InitTrig_Secret_Hero_4 takes nothing returns nothing
set udg_trg_Secret_Hero_4=CreateTrigger()
call DisableTrigger(udg_trg_Secret_Hero_4)
call TriggerRegisterPlayerKeyEventBJ(udg_trg_Secret_Hero_4,Player(6),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_DOWN)
call TriggerRegisterPlayerKeyEventBJ(udg_trg_Secret_Hero_4,Player(6),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(udg_trg_Secret_Hero_4,Player(6),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_RIGHT)
call TriggerRegisterPlayerKeyEventBJ(udg_trg_Secret_Hero_4,Player(6),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_LEFT)
call TriggerAddAction(udg_trg_Secret_Hero_4,function Trig_Secret_Hero_4_Actions)
endfunction
function Trig_Rockfall_INI_Conditions takes nothing returns boolean
if((GetSpellAbilityId()=='A0L7'))then
return true
endif
if((GetSpellAbilityId()=='A03T'))then
return true
endif
return false
endfunction
function Trig_Rockfall_INI_Func022C takes nothing returns boolean
if(not(udg_RFS_DummyIntegers[1]==1))then
return false
endif
return true
endfunction
function Trig_Rockfall_INI_Actions takes nothing returns nothing
set udg_RF_RocksPerLevel=4
set udg_RF_AoE=250.00
set udg_RF_RockfallSequenceTimer=0.15
set udg_RF_FallingTime=0.80
set udg_RF_MinDamagePerRock=40.00
set udg_RF_MaxDamagePerRock=(60.00*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())))
set udg_RF_DamageTrees=true
set udg_RFS_DummyIntegers[1]=(udg_RFS_DummyIntegers[1]+1)
set udg_RFS_DummyIntegers[2]=(udg_RFS_DummyIntegers[2]+1)
if(Trig_Rockfall_INI_Func022C())then
call EnableTrigger(udg_trg_Rock_Creation)
else
endif
set udg_RFS_TempPoint[udg_RFS_DummyIntegers[1]]=GetSpellTargetLoc()
set udg_RFS_NumberOfRocks[udg_RFS_DummyIntegers[1]]=(udg_RF_RocksPerLevel*GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
set udg_RFS_Conjuring[udg_RFS_DummyIntegers[1]]=true
set udg_RFS_Reals[udg_RFS_DummyIntegers[1]]=udg_RF_RockfallSequenceTimer
set udg_RFS_Timer[udg_RFS_DummyIntegers[1]]=0.00
set udg_RFS_Caster[udg_RFS_DummyIntegers[1]]=GetTriggerUnit()
set udg_RFS_NumberConjured[udg_RFS_DummyIntegers[1]]=0
set udg_RFS_MaxDamage[udg_RFS_DummyIntegers[1]]=udg_RF_MaxDamagePerRock
endfunction
function InitTrig_Rockfall_INI takes nothing returns nothing
set udg_trg_Rockfall_INI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Rockfall_INI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Rockfall_INI,Condition(function Trig_Rockfall_INI_Conditions))
call TriggerAddAction(udg_trg_Rockfall_INI,function Trig_Rockfall_INI_Actions)
endfunction
function Trig_Rock_Creation_Func003Func001Func002Func009C takes nothing returns boolean
if(not(udg_F_Integers[1]==0))then
return false
endif
return true
endfunction
function Trig_Rock_Creation_Func003Func001Func002Func020Func004C takes nothing returns boolean
if(not(udg_RFS_DummyIntegers[2]==0))then
return false
endif
return true
endfunction
function Trig_Rock_Creation_Func003Func001Func002Func020C takes nothing returns boolean
if(not(udg_RFS_NumberConjured[udg_RFS_DummyIntegers[3]]>=udg_RFS_NumberOfRocks[udg_RFS_DummyIntegers[3]]))then
return false
endif
return true
endfunction
function Trig_Rock_Creation_Func003Func001Func002C takes nothing returns boolean
if(not(udg_RFS_Timer[udg_RFS_DummyIntegers[3]]>=udg_RFS_Reals[udg_RFS_DummyIntegers[3]]))then
return false
endif
return true
endfunction
function Trig_Rock_Creation_Func003Func001C takes nothing returns boolean
if(not(udg_RFS_Conjuring[udg_RFS_DummyIntegers[3]]==true))then
return false
endif
return true
endfunction
function Trig_Rock_Creation_Actions takes nothing returns nothing
set udg_RFS_DummyIntegers[3]=1
loop
exitwhen udg_RFS_DummyIntegers[3]>udg_RFS_DummyIntegers[1]
if(Trig_Rock_Creation_Func003Func001C())then
set udg_RFS_Timer[udg_RFS_DummyIntegers[3]]=(udg_RFS_Timer[udg_RFS_DummyIntegers[3]]+0.01)
if(Trig_Rock_Creation_Func003Func001Func002C())then
set udg_RFS_Timer[udg_RFS_DummyIntegers[3]]=0.00
set udg_RFS_ConjurPoint=PolarProjectionBJ(udg_RFS_TempPoint[udg_RFS_DummyIntegers[3]],GetRandomReal(0,udg_RF_AoE),GetRandomDirectionDeg())
call CreateNUnitsAtLocBonuses(1,'n01C',GetOwningPlayer(udg_RFS_Caster[udg_RFS_DummyIntegers[3]]),udg_RFS_ConjurPoint,GetRandomDirectionDeg())
call SetUnitFlyHeightBJ(GetLastCreatedUnit(),450.00,0.00)
call SetUnitTimeScalePercent(GetLastCreatedUnit(),0.00)
call RemoveLocation(udg_RFS_ConjurPoint)
if(Trig_Rock_Creation_Func003Func001Func002Func009C())then
call EnableTrigger(udg_trg_callFadeEffect)
else
endif
set udg_F_Integers[1]=(udg_F_Integers[1]+1)
set udg_F_Integers[2]=(udg_F_Integers[2]+1)
set udg_F_Unit[udg_F_Integers[2]]=GetLastCreatedUnit()
set udg_F_Time[udg_F_Integers[2]]=1.00
set udg_F_SetFadeValue[udg_F_Integers[2]]=true
call SetUnitVertexColorBJ(udg_F_Unit[udg_F_Integers[2]],100,100,100,100.00)
set udg_F_RFS_Caster[udg_F_Integers[2]]=udg_RFS_Caster[udg_RFS_DummyIntegers[3]]
set udg_F_RFS_MaxDamage[udg_F_Integers[2]]=udg_RFS_MaxDamage[udg_RFS_DummyIntegers[3]]
set udg_RFS_NumberConjured[udg_RFS_DummyIntegers[3]]=(udg_RFS_NumberConjured[udg_RFS_DummyIntegers[3]]+1)
if(Trig_Rock_Creation_Func003Func001Func002Func020C())then
call RemoveLocation(udg_RFS_TempPoint[udg_RFS_DummyIntegers[3]])
set udg_RFS_Conjuring[udg_RFS_DummyIntegers[3]]=false
set udg_RFS_DummyIntegers[2]=(udg_RFS_DummyIntegers[2]-1)
if(Trig_Rock_Creation_Func003Func001Func002Func020Func004C())then
set udg_RFS_DummyIntegers[1]=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
else
endif
else
endif
else
endif
set udg_RFS_DummyIntegers[3]=udg_RFS_DummyIntegers[3]+1
endloop
endfunction
function InitTrig_Rock_Creation takes nothing returns nothing
set udg_trg_Rock_Creation=CreateTrigger()
call DisableTrigger(udg_trg_Rock_Creation)
call TriggerRegisterTimerEventPeriodic(udg_trg_Rock_Creation,0.05)
call TriggerAddAction(udg_trg_Rock_Creation,function Trig_Rock_Creation_Actions)
endfunction
function Trig_callFadeEffect_Func002Func001Func001Func001Func002C takes nothing returns boolean
if(not(udg_RFSine_Integers[1]==0))then
return false
endif
return true
endfunction
function Trig_callFadeEffect_Func002Func001Func001Func001C takes nothing returns boolean
if(not(udg_F_SetFadeValue[udg_F_Integers[3]]==true))then
return false
endif
return true
endfunction
function Trig_callFadeEffect_Func002Func001Func001Func004C takes nothing returns boolean
if(not(udg_F_SetFadeValue[udg_F_Integers[3]]==true))then
return false
endif
return true
endfunction
function Trig_callFadeEffect_Func002Func001Func001Func007C takes nothing returns boolean
if(not(udg_F_Integers[1]==0))then
return false
endif
return true
endfunction
function Trig_callFadeEffect_Func002Func001Func001C takes nothing returns boolean
if(not(udg_F_ReachedFading[udg_F_Integers[3]]<100.00))then
return false
endif
return true
endfunction
function Trig_callFadeEffect_Func002Func001C takes nothing returns boolean
if(not(udg_F_Unit[udg_F_Integers[3]]!=null))then
return false
endif
return true
endfunction
function Trig_callFadeEffect_Actions takes nothing returns nothing
set udg_F_Integers[3]=1
loop
exitwhen udg_F_Integers[3]>udg_F_Integers[2]
if(Trig_callFadeEffect_Func002Func001C())then
if(Trig_callFadeEffect_Func002Func001Func001C())then
set udg_F_ReachedFading[udg_F_Integers[3]]=(udg_F_ReachedFading[udg_F_Integers[3]]+(100.00/(udg_F_Time[udg_F_Integers[3]]/ 0.05)))
if(Trig_callFadeEffect_Func002Func001Func001Func004C())then
call SetUnitVertexColorBJ(udg_F_Unit[udg_F_Integers[3]],100,100,100,(100.00-udg_F_ReachedFading[udg_F_Integers[3]]))
else
call SetUnitVertexColorBJ(udg_F_Unit[udg_F_Integers[3]],100,100,100,udg_F_ReachedFading[udg_F_Integers[3]])
endif
else
if(Trig_callFadeEffect_Func002Func001Func001Func001C())then
if(Trig_callFadeEffect_Func002Func001Func001Func001Func002C())then
call EnableTrigger(udg_trg_Sine_Fall_and_Damage)
else
endif
set udg_RFSine_Integers[1]=(udg_RFSine_Integers[1]+1)
set udg_RFSine_Integers[2]=(udg_RFSine_Integers[2]+1)
set udg_RF_SineReals[udg_RFSine_Integers[1]]=0.00
set udg_RFSine_Unit[udg_RFSine_Integers[1]]=udg_F_Unit[udg_F_Integers[3]]
call SetUnitTimeScalePercent(udg_F_Unit[udg_F_Integers[3]],50.00)
set udg_RFSine_Caster[udg_RFSine_Integers[1]]=udg_F_RFS_Caster[udg_F_Integers[3]]
set udg_RFSine_MaxDamage[udg_RFSine_Integers[1]]=udg_F_RFS_MaxDamage[udg_F_Integers[3]]
else
call RemoveUnit(udg_F_Unit[udg_F_Integers[3]])
endif
set udg_F_Unit[udg_F_Integers[3]]=null
set udg_F_ReachedFading[udg_F_Integers[3]]=0.00
set udg_F_Integers[1]=(udg_F_Integers[1]-1)
if(Trig_callFadeEffect_Func002Func001Func001Func007C())then
set udg_F_Integers[2]=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
endif
else
endif
set udg_F_Integers[3]=udg_F_Integers[3]+1
endloop
endfunction
function InitTrig_callFadeEffect takes nothing returns nothing
set udg_trg_callFadeEffect=CreateTrigger()
call DisableTrigger(udg_trg_callFadeEffect)
call TriggerRegisterTimerEventPeriodic(udg_trg_callFadeEffect,0.05)
call TriggerAddAction(udg_trg_callFadeEffect,function Trig_callFadeEffect_Actions)
endfunction
function Trig_Sine_Fall_and_Damage_Func002Func001Func004Func004002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Sine_Fall_and_Damage_Func002Func001Func004Func004002003002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Sine_Fall_and_Damage_Func002Func001Func004Func004002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_RFSine_Caster[udg_RFSine_Integers[3]]))==true)
endfunction
function Trig_Sine_Fall_and_Damage_Func002Func001Func004Func004002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_RFSine_Caster[udg_RFSine_Integers[3]]))==true))
endfunction
function Trig_Sine_Fall_and_Damage_Func002Func001Func004Func004002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_RFSine_Caster[udg_RFSine_Integers[3]]))==true))))
endfunction
function Trig_Sine_Fall_and_Damage_Func002Func001Func004Func005A takes nothing returns nothing
call UnitDamageTargetBJ(udg_RFSine_Caster[udg_RFSine_Integers[3]],GetEnumUnit(),GetRandomReal(udg_RF_MinDamagePerRock,udg_RFSine_MaxDamage[udg_RFSine_Integers[3]]),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_Sine_Fall_and_Damage_Func002Func001Func004Func006Func001003 takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Sine_Fall_and_Damage_Func002Func001Func004Func006C takes nothing returns boolean
if(not(udg_RF_DamageTrees==true))then
return false
endif
return true
endfunction
function Trig_Sine_Fall_and_Damage_Func002Func001Func004Func011C takes nothing returns boolean
if(not(udg_F_Integers[1]==0))then
return false
endif
return true
endfunction
function Trig_Sine_Fall_and_Damage_Func002Func001Func004Func019C takes nothing returns boolean
if(not(udg_RFSine_Integers[2]==0))then
return false
endif
return true
endfunction
function Trig_Sine_Fall_and_Damage_Func002Func001Func004C takes nothing returns boolean
if(not(udg_RF_SineReals[udg_RFSine_Integers[3]]>=90.00))then
return false
endif
return true
endfunction
function Trig_Sine_Fall_and_Damage_Func002Func001C takes nothing returns boolean
if(not(udg_RFSine_Unit[udg_RFSine_Integers[3]]!=null))then
return false
endif
return true
endfunction
function Trig_Sine_Fall_and_Damage_Actions takes nothing returns nothing
set udg_RFSine_Integers[3]=1
loop
exitwhen udg_RFSine_Integers[3]>udg_RFSine_Integers[1]
if(Trig_Sine_Fall_and_Damage_Func002Func001C())then
set udg_RF_SineReals[udg_RFSine_Integers[3]]=(udg_RF_SineReals[udg_RFSine_Integers[3]]+((90.00/ udg_RF_FallingTime)*0.01))
call SetUnitFlyHeightBJ(udg_RFSine_Unit[udg_RFSine_Integers[3]],(SinBJ((90.00+udg_RF_SineReals[udg_RFSine_Integers[3]]))*450.00),0.00)
if(Trig_Sine_Fall_and_Damage_Func002Func001Func004C())then
set udg_RF_DamagePoint=GetUnitLoc(udg_RFSine_Unit[udg_RFSine_Integers[3]])
call AddSpecialEffectLocBJ(udg_RF_DamagePoint,"Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
set udg_RF_UnitGroup=GetUnitsInRangeOfLocMatching(150.00,udg_RF_DamagePoint,Condition(function Trig_Sine_Fall_and_Damage_Func002Func001Func004Func004002003))
call ForGroupBJ(udg_RF_UnitGroup,function Trig_Sine_Fall_and_Damage_Func002Func001Func004Func005A)
if(Trig_Sine_Fall_and_Damage_Func002Func001Func004Func006C())then
call EnumDestructablesInCircleBJ(150.00,udg_RF_DamagePoint,function Trig_Sine_Fall_and_Damage_Func002Func001Func004Func006Func001003)
else
endif
set udg_RFSine_Integers[4]=1
loop
exitwhen udg_RFSine_Integers[4]>GetRandomInt(2,3)
call CreateNUnitsAtLocBonuses(1,'n01C',GetOwningPlayer(udg_RFSine_Caster[udg_RFSine_Integers[3]]),udg_RF_DamagePoint,GetRandomDirectionDeg())
call SetUnitScalePercent(GetLastCreatedUnit(),30.00,30.00,30.00)
set udg_RFAA_JumpHigh_Distance=GetRandomReal(0.30,0.70)
set udg_RFAA_TargetPoint=PolarProjectionBJ(udg_RF_DamagePoint,GetRandomReal(150.00,250.00),GetRandomDirectionDeg())
set udg_RFAA_Unit=GetLastCreatedUnit()
set udg_RFAA_Speed=GetRandomReal(7.00,10.00)
set udg_RFA_Caster[(udg_RFA_Integers[2]+1)]=udg_RFSine_Caster[udg_RFSine_Integers[3]]
set udg_RFA_MaxDmg[(udg_RFA_Integers[2]+1)]=udg_RFSine_MaxDamage[udg_RFSine_Integers[3]]
call ConditionalTriggerExecute(udg_trg_Apply_Splitts)
set udg_RFSine_Integers[4]=udg_RFSine_Integers[4]+1
endloop
call DestroyGroup(udg_RF_UnitGroup)
call RemoveLocation(udg_RF_DamagePoint)
call SetUnitTimeScalePercent(udg_RFSine_Unit[udg_RFSine_Integers[3]],0.00)
if(Trig_Sine_Fall_and_Damage_Func002Func001Func004Func011C())then
call EnableTrigger(udg_trg_callFadeEffect)
else
endif
set udg_F_Integers[1]=(udg_F_Integers[1]+1)
set udg_F_Integers[2]=(udg_F_Integers[2]+1)
set udg_F_Unit[udg_F_Integers[2]]=udg_RFSine_Unit[udg_RFSine_Integers[3]]
set udg_F_Time[udg_F_Integers[2]]=0.50
set udg_F_SetFadeValue[udg_F_Integers[2]]=false
set udg_RFSine_Unit[udg_RFSine_Integers[3]]=null
set udg_RFSine_Integers[2]=(udg_RFSine_Integers[2]-1)
if(Trig_Sine_Fall_and_Damage_Func002Func001Func004Func019C())then
set udg_RFSine_Integers[1]=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
else
endif
else
endif
set udg_RFSine_Integers[3]=udg_RFSine_Integers[3]+1
endloop
endfunction
function InitTrig_Sine_Fall_and_Damage takes nothing returns nothing
set udg_trg_Sine_Fall_and_Damage=CreateTrigger()
call DisableTrigger(udg_trg_Sine_Fall_and_Damage)
call TriggerRegisterTimerEventPeriodic(udg_trg_Sine_Fall_and_Damage,0.1)
call TriggerAddAction(udg_trg_Sine_Fall_and_Damage,function Trig_Sine_Fall_and_Damage_Actions)
endfunction
function Trig_Apply_Splitts_Func002C takes nothing returns boolean
if(not(udg_RFA_Integers[1]==0))then
return false
endif
return true
endfunction
function Trig_Apply_Splitts_Actions takes nothing returns nothing
if(Trig_Apply_Splitts_Func002C())then
call EnableTrigger(udg_trg_Move_Splitts)
else
endif
set udg_RFA_Integers[1]=(udg_RFA_Integers[1]+1)
set udg_RFA_Integers[2]=(udg_RFA_Integers[2]+1)
set udg_RFA_TempPoint[1]=GetUnitLoc(udg_RFAA_Unit)
set udg_RFA_Distances[udg_RFA_Integers[2]]=DistanceBetweenPoints(udg_RFA_TempPoint[1],udg_RFAA_TargetPoint)
set udg_RFA_ReachedDistance[udg_RFA_Integers[2]]=0.00
set udg_RFA_SpeedUnits[udg_RFA_Integers[2]]=udg_RFAA_Speed
set udg_RFA_Unit[udg_RFA_Integers[2]]=udg_RFAA_Unit
set udg_RFA_Angle[udg_RFA_Integers[2]]=AngleBetweenPoints(udg_RFA_TempPoint[1],udg_RFAA_TargetPoint)
set udg_RFA_HighSettings[udg_RFA_Integers[2]]=(udg_RFAA_JumpHigh_Distance*udg_RFA_Distances[udg_RFA_Integers[2]])
call GroupAddUnitSimple(udg_RFAA_Unit,udg_RFA_Group)
call RemoveLocation(udg_RFA_TempPoint[1])
call RemoveLocation(udg_RFAA_TargetPoint)
endfunction
function InitTrig_Apply_Splitts takes nothing returns nothing
set udg_trg_Apply_Splitts=CreateTrigger()
call TriggerAddAction(udg_trg_Apply_Splitts,function Trig_Apply_Splitts_Actions)
endfunction
function Trig_Move_Splitts_Func002Func001Func001Func002002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)
endfunction
function Trig_Move_Splitts_Func002Func001Func001Func002002003002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_Move_Splitts_Func002Func001Func001Func002002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_RFA_Unit[udg_RFA_Integers[3]]))==true)
endfunction
function Trig_Move_Splitts_Func002Func001Func001Func002002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_RFA_Unit[udg_RFA_Integers[3]]))==true))
endfunction
function Trig_Move_Splitts_Func002Func001Func001Func002002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_RFA_Unit[udg_RFA_Integers[3]]))==true))))
endfunction
function Trig_Move_Splitts_Func002Func001Func001Func003A takes nothing returns nothing
call UnitDamageTargetBJ(udg_RFA_Caster[udg_RFA_Integers[3]],GetEnumUnit(),(GetRandomReal(udg_RF_MinDamagePerRock,udg_RFA_MaxDmg[udg_RFA_Integers[3]])/ 3.00),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_Move_Splitts_Func002Func001Func001Func012C takes nothing returns boolean
if(not(udg_RFA_Integers[1]==0))then
return false
endif
return true
endfunction
function Trig_Move_Splitts_Func002Func001Func001Func015Func001003 takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Move_Splitts_Func002Func001Func001Func015C takes nothing returns boolean
if(not(udg_RF_DamageTrees==true))then
return false
endif
return true
endfunction
function Trig_Move_Splitts_Func002Func001Func001C takes nothing returns boolean
if(not(udg_RFA_ReachedDistance[udg_RFA_Integers[3]]<udg_RFA_Distances[udg_RFA_Integers[3]]))then
return false
endif
return true
endfunction
function Trig_Move_Splitts_Func002Func001C takes nothing returns boolean
if(not(IsUnitInGroup(udg_RFA_Unit[udg_RFA_Integers[3]],udg_RFA_Group)==true))then
return false
endif
return true
endfunction
function Trig_Move_Splitts_Actions takes nothing returns nothing
set udg_RFA_Integers[3]=1
loop
exitwhen udg_RFA_Integers[3]>udg_RFA_Integers[2]
if(Trig_Move_Splitts_Func002Func001C())then
if(Trig_Move_Splitts_Func002Func001Func001C())then
set udg_RFA_TempPoint[1]=GetUnitLoc(udg_RFA_Unit[udg_RFA_Integers[3]])
set udg_RFA_TempPoint[2]=PolarProjectionBJ(udg_RFA_TempPoint[1],udg_RFA_SpeedUnits[udg_RFA_Integers[3]],udg_RFA_Angle[udg_RFA_Integers[3]])
if(Trig_Move_Splitts_Func002Func001Func001Func015C())then
call EnumDestructablesInCircleBJ(150.00,udg_RFA_TempPoint[2],function Trig_Move_Splitts_Func002Func001Func001Func015Func001003)
else
endif
call SetUnitPositionLoc(udg_RFA_Unit[udg_RFA_Integers[3]],udg_RFA_TempPoint[2])
set udg_RFA_ReachedDistance[udg_RFA_Integers[3]]=(udg_RFA_ReachedDistance[udg_RFA_Integers[3]]+udg_RFA_SpeedUnits[udg_RFA_Integers[3]])
set udg_RFA_RealTimer[udg_RFA_Integers[3]]=(udg_RFA_RealTimer[udg_RFA_Integers[3]]+(180.00/(udg_RFA_Distances[udg_RFA_Integers[3]]/ udg_RFA_SpeedUnits[udg_RFA_Integers[3]])))
set udg_RFA_JumpHigh[udg_RFA_Integers[3]]=(SinBJ(udg_RFA_RealTimer[udg_RFA_Integers[3]])*udg_RFA_HighSettings[udg_RFA_Integers[3]])
call SetUnitFlyHeightBJ(udg_RFA_Unit[udg_RFA_Integers[3]],udg_RFA_JumpHigh[udg_RFA_Integers[3]],0.00)
call RemoveLocation(udg_RFA_TempPoint[1])
call RemoveLocation(udg_RFA_TempPoint[2])
else
set udg_RFA_TempPoint[1]=GetUnitLoc(udg_RFA_Unit[udg_RFA_Integers[3]])
set udg_RF_UnitGroup=GetUnitsInRangeOfLocMatching(150.00,udg_RFA_TempPoint[1],Condition(function Trig_Move_Splitts_Func002Func001Func001Func002002003))
call ForGroupBJ(udg_RF_UnitGroup,function Trig_Move_Splitts_Func002Func001Func001Func003A)
call AddSpecialEffectLocBJ(udg_RFA_TempPoint[1],"Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_RFA_TempPoint[1])
call DestroyGroup(udg_RF_UnitGroup)
call RemoveUnit(udg_RFA_Unit[udg_RFA_Integers[3]])
call GroupRemoveUnitSimple(udg_RFA_Unit[udg_RFA_Integers[3]],udg_RFA_Group)
set udg_RFA_RealTimer[udg_RFA_Integers[3]]=0.00
set udg_RFA_Integers[1]=(udg_RFA_Integers[1]-1)
if(Trig_Move_Splitts_Func002Func001Func001Func012C())then
set udg_RFA_Integers[2]=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
endif
else
endif
set udg_RFA_Integers[3]=udg_RFA_Integers[3]+1
endloop
endfunction
function InitTrig_Move_Splitts takes nothing returns nothing
set udg_trg_Move_Splitts=CreateTrigger()
call DisableTrigger(udg_trg_Move_Splitts)
call TriggerRegisterTimerEventPeriodic(udg_trg_Move_Splitts,0.05)
call TriggerAddAction(udg_trg_Move_Splitts,function Trig_Move_Splitts_Actions)
endfunction
function Trig_VO_Start_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0CR'))then
return false
endif
return true
endfunction
function Trig_VO_Start_Func004C takes nothing returns boolean
if(not(udg_VO_index[1]==0))then
return false
endif
return true
endfunction
function Trig_VO_Start_Func026C takes nothing returns boolean
if(not(UnitHasBuffBJ(udg_VO_Victom[udg_VO_index[2]],'B000')==true))then
return false
endif
return true
endfunction
function Trig_VO_Start_Actions takes nothing returns nothing
if(Trig_VO_Start_Func004C())then
call EnableTrigger(udg_trg_VO_Loop)
else
endif
set udg_VO_index[1]=(udg_VO_index[1]+1)
set udg_VO_index[2]=(udg_VO_index[2]+1)
set udg_VO_Victom[udg_VO_index[2]]=GetSpellTargetUnit()
set udg_VO_Caster[udg_VO_index[2]]=GetTriggerUnit()
set udg_VO_Damage[udg_VO_index[2]]=150.00
set udg_VO_Duration[udg_VO_index[2]]=2.20
set udg_VO_Boolean[udg_VO_index[2]]=true
set udg_VO_Speed[udg_VO_index[2]]=10.00
set udg_VO_Point[1]=GetUnitLoc(GetTriggerUnit())
set udg_VO_Point[2]=GetUnitLoc(GetSpellTargetUnit())
set udg_VO_Angle[udg_VO_index[2]]=AngleBetweenPoints(udg_VO_Point[1],udg_VO_Point[2])
call RemoveLocation(udg_VO_Point[1])
call RemoveLocation(udg_VO_Point[2])
if(Trig_VO_Start_Func026C())then
set udg_VO_Point[3]=GetUnitLoc(udg_VO_Victom[udg_VO_index[2]])
call UnitDamageTargetBJ(udg_VO_Caster[udg_VO_index[2]],udg_VO_Victom[udg_VO_index[2]],udg_VO_Damage[udg_VO_index[2]],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_LIGHTNING)
call CreateNUnitsAtLocBonuses(1,'e00X',GetOwningPlayer(udg_VO_Caster[udg_VO_index[2]]),udg_VO_Point[udg_VO_index[2]],bj_UNIT_FACING)
call KillUnit(GetLastCreatedUnit())
call RemoveLocation(udg_VO_Point[3])
else
endif
endfunction
function InitTrig_VO_Start takes nothing returns nothing
set udg_trg_VO_Start=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_VO_Start,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_VO_Start,Condition(function Trig_VO_Start_Conditions))
call TriggerAddAction(udg_trg_VO_Start,function Trig_VO_Start_Actions)
endfunction
function Trig_VO_Loop_Func001Func002Func002Func016C takes nothing returns boolean
if(not(udg_VO_index[1]==0))then
return false
endif
return true
endfunction
function Trig_VO_Loop_Func001Func002Func002Func022C takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_VO_Victom[udg_VO_index[3]])==true))then
return false
endif
return true
endfunction
function Trig_VO_Loop_Func001Func002Func002C takes nothing returns boolean
if(not(udg_VO_Duration[udg_VO_index[3]]>=0.00))then
return false
endif
return true
endfunction
function Trig_VO_Loop_Func001Func002C takes nothing returns boolean
if(not(udg_VO_Boolean[udg_VO_index[3]]==true))then
return false
endif
return true
endfunction
function Trig_VO_Loop_Actions takes nothing returns nothing
set udg_VO_index[3]=1
loop
exitwhen udg_VO_index[3]>udg_VO_index[2]
if(Trig_VO_Loop_Func001Func002C())then
if(Trig_VO_Loop_Func001Func002Func002C())then
set udg_VO_Duration[udg_VO_index[3]]=(udg_VO_Duration[udg_VO_index[3]]-0.03)
if(Trig_VO_Loop_Func001Func002Func002Func022C())then
set udg_VO_Point[4]=GetUnitLoc(udg_VO_Victom[udg_VO_index[3]])
set udg_VO_Point[5]=PolarProjectionBJ(udg_VO_Point[4],udg_VO_Speed[udg_VO_index[3]],udg_VO_Angle[udg_VO_index[3]])
call SetUnitPositionLoc(udg_VO_Victom[udg_VO_index[3]],udg_VO_Point[5])
call AddSpecialEffectLocBJ(udg_VO_Point[5],"Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(udg_VO_Point[5],"Abilities\\Spells\\Orc\\Purge\\PurgeBuffTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",udg_VO_Victom[udg_VO_index[3]],"Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_VO_Point[4])
call RemoveLocation(udg_VO_Point[5])
else
endif
else
set udg_VO_index[1]=(udg_VO_index[1]-1)
set udg_VO_Boolean[udg_VO_index[3]]=false
call AddSpecialEffectTargetUnitBJ("origin",udg_VO_Victom[udg_VO_index[3]],"Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
if(Trig_VO_Loop_Func001Func002Func002Func016C())then
set udg_VO_index[2]=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
endif
else
endif
set udg_VO_index[3]=udg_VO_index[3]+1
endloop
endfunction
function InitTrig_VO_Loop takes nothing returns nothing
set udg_trg_VO_Loop=CreateTrigger()
call DisableTrigger(udg_trg_VO_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_VO_Loop,0.05)
call TriggerAddAction(udg_trg_VO_Loop,function Trig_VO_Loop_Actions)
endfunction
function Trig_TS_Start_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0CP'))then
return false
endif
return true
endfunction
function Trig_TS_Start_Func004C takes nothing returns boolean
if(not(udg_TS_Index[1]==0))then
return false
endif
return true
endfunction
function Trig_TS_Start_Actions takes nothing returns nothing
if(Trig_TS_Start_Func004C())then
call EnableTrigger(udg_trg_TS_Loop)
else
endif
set udg_TS_Index[1]=(udg_TS_Index[1]+1)
set udg_TS_Index[2]=(udg_TS_Index[2]+1)
set udg_TS_Duration[udg_TS_Index[2]]=(6.00+(2.00*I2R(GetUnitAbilityLevelSwapped('A0CP',GetTriggerUnit()))))
set udg_TS_Damage[udg_TS_Index[2]]=(50.00+(25.00*I2R(GetUnitAbilityLevelSwapped('A0CP',GetTriggerUnit()))))
set udg_TS_Range[udg_TS_Index[2]]=1000.00
set udg_TS_NumE[udg_TS_Index[2]]=6
set udg_TS_Caster[udg_TS_Index[2]]=GetTriggerUnit()
set udg_TS_Boolean[udg_TS_Index[2]]=true
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl")
set udg_TS_Special1[udg_TS_Index[2]]=GetLastCreatedEffectBJ()
call AddSpecialEffectTargetUnitBJ("chest",GetTriggerUnit(),"Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl")
set udg_TS_Special2[udg_TS_Index[2]]=GetLastCreatedEffectBJ()
call AddSpecialEffectTargetUnitBJ("head",GetTriggerUnit(),"Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl")
set udg_TS_Special3[udg_TS_Index[2]]=GetLastCreatedEffectBJ()
endfunction
function InitTrig_TS_Start takes nothing returns nothing
set udg_trg_TS_Start=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_TS_Start,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_TS_Start,Condition(function Trig_TS_Start_Conditions))
call TriggerAddAction(udg_trg_TS_Start,function Trig_TS_Start_Actions)
endfunction
function Trig_TS_Loop_Func001Func001Func006002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)
endfunction
function Trig_TS_Loop_Func001Func001Func006002003002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit())==true)
endfunction
function Trig_TS_Loop_Func001Func001Func006002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_TS_Caster[udg_TS_Index[3]]))==true)
endfunction
function Trig_TS_Loop_Func001Func001Func006002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_TS_Caster[udg_TS_Index[3]]))==true))
endfunction
function Trig_TS_Loop_Func001Func001Func006002003 takes nothing returns boolean
return GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())==true),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_TS_Caster[udg_TS_Index[3]]))==true))))
endfunction
function Trig_TS_Loop_Func001Func001Func027C takes nothing returns boolean
if(not(udg_TS_Duration[udg_TS_Index[3]]<=0.00))then
return false
endif
return true
endfunction
function Trig_TS_Loop_Func001Func001Func028C takes nothing returns boolean
if(not(udg_TS_Index[1]==0))then
return false
endif
return true
endfunction
function Trig_TS_Loop_Func001Func001C takes nothing returns boolean
if(not(udg_TS_Boolean[udg_TS_Index[3]]==true))then
return false
endif
return true
endfunction
function Trig_TS_Loop_Actions takes nothing returns nothing
set udg_TS_Index[3]=1
loop
exitwhen udg_TS_Index[3]>udg_TS_Index[2]
if(Trig_TS_Loop_Func001Func001C())then
set udg_TS_Duration[udg_TS_Index[3]]=(udg_TS_Duration[udg_TS_Index[3]]-0.50)
set udg_TS_Point[1]=GetUnitLoc(udg_TS_Caster[udg_TS_Index[3]])
set udg_TS_Group=GetUnitsInRangeOfLocMatching(udg_TS_Range[udg_TS_Index[3]],udg_TS_Point[1],Condition(function Trig_TS_Loop_Func001Func001Func006002003))
set udg_TS_Victom[udg_TS_Index[3]]=GroupPickRandomUnit(udg_TS_Group)
call AddSpecialEffectTargetUnitBJ("origin",udg_TS_Caster[udg_TS_Index[3]],"Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",udg_TS_Caster[udg_TS_Index[3]],"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call CreateNUnitsAtLocBonuses(1,'e00W',GetOwningPlayer(udg_TS_Caster[udg_TS_Index[3]]),udg_TS_Point[1],bj_UNIT_FACING)
call UnitDamageTargetBJ(udg_TS_Caster[udg_TS_Index[3]],udg_TS_Victom[udg_TS_Index[3]],udg_TS_Damage[udg_TS_Index[3]],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_LIGHTNING)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"purge",udg_TS_Victom[udg_TS_Index[3]])
call UnitApplyTimedLifeBJ(0.75,'BTLF',GetLastCreatedUnit())
set udg_TS=1
loop
exitwhen udg_TS>udg_TS_NumE[udg_TS_Index[3]]
set udg_TS_Angle[udg_TS_Index[3]]=GetRandomDirectionDeg()
set udg_TS_Degrees[udg_TS_Index[3]]=GetRandomReal(1.00,udg_TS_Range[udg_TS_Index[3]])
set udg_TS_Point[2]=PolarProjectionBJ(udg_TS_Point[1],udg_TS_Degrees[udg_TS_Index[3]],udg_TS_Angle[udg_TS_Index[3]])
call AddSpecialEffectLocBJ(udg_TS_Point[2],"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(udg_TS_Point[2],"Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl")
call DestroyEffectBJ(GetLastCreatedEffectBJ())
call RemoveLocation(udg_TS_Point[2])
set udg_TS=udg_TS+1
endloop
call DestroyGroup(udg_TS_Group)
call RemoveLocation(udg_TS_Point[1])
if(Trig_TS_Loop_Func001Func001Func027C())then
set udg_TS_Index[1]=(udg_TS_Index[1]-1)
set udg_TS_Boolean[udg_TS_Index[3]]=false
call DestroyEffectBJ(udg_TS_Special1[udg_TS_Index[3]])
call DestroyEffectBJ(udg_TS_Special2[udg_TS_Index[3]])
call DestroyEffectBJ(udg_TS_Special3[udg_TS_Index[3]])
else
endif
if(Trig_TS_Loop_Func001Func001Func028C())then
set udg_TS_Index[2]=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
else
endif
set udg_TS_Index[3]=udg_TS_Index[3]+1
endloop
endfunction
function InitTrig_TS_Loop takes nothing returns nothing
set udg_trg_TS_Loop=CreateTrigger()
call DisableTrigger(udg_trg_TS_Loop)
call TriggerRegisterTimerEventPeriodic(udg_trg_TS_Loop,0.50)
call TriggerAddAction(udg_trg_TS_Loop,function Trig_TS_Loop_Actions)
endfunction
function Trig_Jump_System_1_Func001C takes nothing returns boolean
if(not(udg_JD_Integers[1]==0))then
return false
endif
return true
endfunction
function Trig_Jump_System_1_Actions takes nothing returns nothing
if(IsUnitMovementDisabled(udg_JDA_Unit) or IsUnitInGroup(udg_JDA_Unit,udg_JD_Group)) then
return
endif
if(Trig_Jump_System_1_Func001C())then
call EnableTrigger(udg_trg_Jump_System_2)
else
endif
call PlanUnitImmediateOrder(udg_JDA_Unit,OrderId("holdposition"),0.1)
set udg_JD_Integers[1]=(udg_JD_Integers[1]+1)
set udg_JD_Integers[2]=(udg_JD_Integers[2]+1)
set udg_JD_TempPoint[1]=GetUnitLoc(udg_JDA_Unit)
set udg_JD_Distances[udg_JD_Integers[2]]=DistanceBetweenPoints(udg_JD_TempPoint[1],udg_JDA_TargetPoint)
set udg_JD_ReachedDistance[udg_JD_Integers[2]]=0.00
set udg_JD_SpeedUnits[udg_JD_Integers[2]]=udg_JDA_Speed
set udg_JD_Unit[udg_JD_Integers[2]]=udg_JDA_Unit
set udg_JD_Angle[udg_JD_Integers[2]]=AngleBetweenPoints(udg_JD_TempPoint[1],udg_JDA_TargetPoint)
set udg_JD_Effect[udg_JD_Integers[2]]=udg_JDA_SpecialEffect
set udg_JD_Animations[udg_JD_Integers[2]]=udg_JDA_Animation
set udg_JD_TreesDestroy[udg_JD_Integers[2]]=udg_JDA_DestroyTrees_Dash
set udg_JD_HighSettings[udg_JD_Integers[2]]=(udg_JDA_JumpHigh_Distance*udg_JD_Distances[udg_JD_Integers[2]])
call SetUnitPathing(udg_JDA_Unit,false)
call SetUnitTimeScalePercent(udg_JDA_Unit,(udg_JDA_AnimationSpeed*100.00))
call SetUnitAnimation(udg_JDA_Unit,udg_JDA_Animation)
call GroupAddUnitSimple(udg_JDA_Unit,udg_JD_Group)
call UnitAddAbilityBJ('Arav',udg_JDA_Unit)
call UnitRemoveAbilityBJ('Arav',udg_JDA_Unit)
call RemoveLocation(udg_JD_TempPoint[1])
call RemoveLocation(udg_JDA_TargetPoint)
endfunction
function InitTrig_Jump_System_1 takes nothing returns nothing
set udg_trg_Jump_System_1=CreateTrigger()
call TriggerAddAction(udg_trg_Jump_System_1,function Trig_Jump_System_1_Actions)
endfunction
function Trig_Jump_System_2_Func001Func001Func001Func008C takes nothing returns boolean
if(not(udg_JD_Integers[1]==0))then
return false
endif
return true
endfunction
function Trig_Jump_System_2_Func001Func001Func001Func011Func001003 takes nothing returns nothing
    if(IsTree(GetEnumDestructable())) then
call KillDestructable(GetEnumDestructable())
    endif
endfunction
function Trig_Jump_System_2_Func001Func001Func001Func011C takes nothing returns boolean
if(not(udg_JD_TreesDestroy[udg_JD_Integers[3]]==true))then
return false
endif
return true
endfunction
function Trig_Jump_System_2_Func001Func001Func001Func014C takes nothing returns boolean
if(not(GetRandomInt(1,5)==1))then
return false
endif
return true
endfunction
function Trig_Jump_System_2_Func001Func001Func001C takes nothing returns boolean
if(not(udg_JD_ReachedDistance[udg_JD_Integers[3]]<udg_JD_Distances[udg_JD_Integers[3]]))then
return false
endif
return true
endfunction
function Trig_Jump_System_2_Func001Func001C takes nothing returns boolean
if(not(IsUnitInGroup(udg_JD_Unit[udg_JD_Integers[3]],udg_JD_Group)==true))then
return false
endif
return true
endfunction
function Trig_Jump_System_2_Actions takes nothing returns nothing
set udg_JD_Integers[3]=1
loop
exitwhen udg_JD_Integers[3]>udg_JD_Integers[2]
if(Trig_Jump_System_2_Func001Func001C())then
if(Trig_Jump_System_2_Func001Func001Func001C())then
call QueueUnitAnimationBJ(udg_JD_Unit[udg_JD_Integers[3]],udg_JD_Animations[udg_JD_Integers[3]])
set udg_JD_TempPoint[1]=GetUnitLoc(udg_JD_Unit[udg_JD_Integers[3]])
set udg_JD_TempPoint[2]=PolarProjectionBJ(udg_JD_TempPoint[1],udg_JD_SpeedUnits[udg_JD_Integers[3]],udg_JD_Angle[udg_JD_Integers[3]])
if(Trig_Jump_System_2_Func001Func001Func001Func011C())then
call EnumDestructablesInCircleBJ(150.00,udg_JD_TempPoint[2],function Trig_Jump_System_2_Func001Func001Func001Func011Func001003)
else
endif
call SetUnitX(udg_JD_Unit[udg_JD_Integers[3]],GetLocationX(udg_JD_TempPoint[2]))
call SetUnitY(udg_JD_Unit[udg_JD_Integers[3]],GetLocationY(udg_JD_TempPoint[2]))
set udg_JD_ReachedDistance[udg_JD_Integers[3]]=(udg_JD_ReachedDistance[udg_JD_Integers[3]]+udg_JD_SpeedUnits[udg_JD_Integers[3]])
if(Trig_Jump_System_2_Func001Func001Func001Func014C())then
call AddSpecialEffectTargetUnitBJ("chest",udg_JD_Unit[udg_JD_Integers[3]],udg_JD_Effect[udg_JD_Integers[3]])
call DestroyEffectBJ(GetLastCreatedEffectBJ())
else
endif
set udg_JD_RealTimer[udg_JD_Integers[3]]=(udg_JD_RealTimer[udg_JD_Integers[3]]+(180.00/(udg_JD_Distances[udg_JD_Integers[3]]/ udg_JD_SpeedUnits[udg_JD_Integers[3]])))
set udg_JD_JumpHigh[udg_JD_Integers[3]]=(SinBJ(udg_JD_RealTimer[udg_JD_Integers[3]])*udg_JD_HighSettings[udg_JD_Integers[3]])
call SetUnitFlyHeightBJ(udg_JD_Unit[udg_JD_Integers[3]],udg_JD_JumpHigh[udg_JD_Integers[3]],1000000000.00)
call RemoveLocation(udg_JD_TempPoint[1])
call RemoveLocation(udg_JD_TempPoint[2])
else
call SetUnitPathing(udg_JD_Unit[udg_JD_Integers[3]],true)
call GroupRemoveUnitSimple(udg_JD_Unit[udg_JD_Integers[3]],udg_JD_Group)
call SetUnitTimeScalePercent(udg_JD_Unit[udg_JD_Integers[3]],100.00)
if(GetUnitCurrentOrder(udg_JD_Unit[udg_JD_Integers[3]])==0) then
    call IssueImmediateOrder(udg_JD_Unit[udg_JD_Integers[3]],"stop")
endif
call ResetUnitAnimation(udg_JD_Unit[udg_JD_Integers[3]])
set udg_JD_RealTimer[udg_JD_Integers[3]]=0.00
set udg_JD_Integers[1]=(udg_JD_Integers[1]-1)
if(Trig_Jump_System_2_Func001Func001Func001Func008C())then
set udg_JD_Integers[2]=0
call DisableTrigger(GetTriggeringTrigger())
else
endif
endif
else
endif
set udg_JD_Integers[3]=udg_JD_Integers[3]+1
endloop
endfunction
function InitTrig_Jump_System_2 takes nothing returns nothing
set udg_trg_Jump_System_2=CreateTrigger()
call DisableTrigger(udg_trg_Jump_System_2)
call TriggerRegisterTimerEventPeriodic(udg_trg_Jump_System_2,0.05)
call TriggerAddAction(udg_trg_Jump_System_2,function Trig_Jump_System_2_Actions)
endfunction
function Trig_Sample_Spell_Jump_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A00D'))then
return false
endif
return true
endfunction
function Trig_Sample_Spell_Jump_Actions takes nothing returns nothing
local location target = GetSpellTargetLoc()
if(not IsUnitMovementDisabled(GetTriggerUnit())) then
    call JumpUnitPoint(GetTriggerUnit(),GetLocationX(target),GetLocationY(target),500,1,false,"walk")
endif
call RemoveLocation(target)
set target = null
endfunction
function InitTrig_Sample_Spell_Jump takes nothing returns nothing
set udg_trg_Sample_Spell_Jump=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Sample_Spell_Jump,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Sample_Spell_Jump,Condition(function Trig_Sample_Spell_Jump_Conditions))
call TriggerAddAction(udg_trg_Sample_Spell_Jump,function Trig_Sample_Spell_Jump_Actions)
endfunction
function Trig_Sample_Spell_Jump_JASS_REDO_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A0H9'))then
return false
endif
return true
endfunction
function Trig_Sample_Spell_Jump_JASS_REDO_Actions takes nothing returns nothing
local location target = GetSpellTargetLoc()
if(not IsUnitMovementDisabled(GetTriggerUnit())) then
    call JumpUnitPoint(GetTriggerUnit(),GetLocationX(target),GetLocationY(target),600,0.4,false,"walk")
endif
call RemoveLocation(target)
set target = null
endfunction
function InitTrig_Sample_Spell_Jump_JASS_REDO takes nothing returns nothing
set udg_trg_Sample_Spell_Jump_JASS_REDO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Sample_Spell_Jump_JASS_REDO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Sample_Spell_Jump_JASS_REDO,Condition(function Trig_Sample_Spell_Jump_JASS_REDO_Conditions))
call TriggerAddAction(udg_trg_Sample_Spell_Jump_JASS_REDO,function Trig_Sample_Spell_Jump_JASS_REDO_Actions)
endfunction
function Trig_Sample_Spell_Jump_2_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A00I'))then
return false
endif
return true
endfunction
function Trig_Sample_Spell_Jump_2_Actions takes nothing returns nothing
    local location target = GetSpellTargetLoc()
    if(not IsUnitMovementDisabled(GetTriggerUnit())) then
        call JumpUnitPoint(GetTriggerUnit(),GetLocationX(target),GetLocationY(target),600,1,false,"walk")
    endif
    call RemoveLocation(target)
    set target = null
endfunction
function InitTrig_Sample_Spell_Jump_2 takes nothing returns nothing
set udg_trg_Sample_Spell_Jump_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Sample_Spell_Jump_2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Sample_Spell_Jump_2,Condition(function Trig_Sample_Spell_Jump_2_Conditions))
call TriggerAddAction(udg_trg_Sample_Spell_Jump_2,function Trig_Sample_Spell_Jump_2_Actions)
endfunction
function Trig_Sample_Spell_Super_Jump_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A00E'))then
return false
endif
return true
endfunction
function Trig_Sample_Spell_Super_Jump_Actions takes nothing returns nothing
    local location target = GetSpellTargetLoc()
    if(not IsUnitMovementDisabled(GetTriggerUnit())) then
        call JumpUnitPoint(GetTriggerUnit(),GetLocationX(target),GetLocationY(target),600,1,false,"walk")
    endif
    call RemoveLocation(target)
    set target = null
endfunction
function InitTrig_Sample_Spell_Super_Jump takes nothing returns nothing
set udg_trg_Sample_Spell_Super_Jump=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Sample_Spell_Super_Jump,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Sample_Spell_Super_Jump,Condition(function Trig_Sample_Spell_Super_Jump_Conditions))
call TriggerAddAction(udg_trg_Sample_Spell_Super_Jump,function Trig_Sample_Spell_Super_Jump_Actions)
endfunction
function Trig_Sample_Spell_Shockwave_Jump_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A00H'))then
return false
endif
return true
endfunction
function Trig_Sample_Spell_Shockwave_Jump_Actions takes nothing returns nothing
local location target = GetSpellTargetLoc()
if(not IsUnitMovementDisabled(GetTriggerUnit())) then
    call JumpUnitPoint(GetTriggerUnit(),GetLocationX(target),GetLocationY(target),600,1,true,"walk")
endif
call RemoveLocation(target)
set target = null
endfunction
function InitTrig_Sample_Spell_Shockwave_Jump takes nothing returns nothing
set udg_trg_Sample_Spell_Shockwave_Jump=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Sample_Spell_Shockwave_Jump,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(udg_trg_Sample_Spell_Shockwave_Jump,Condition(function Trig_Sample_Spell_Shockwave_Jump_Conditions))
call TriggerAddAction(udg_trg_Sample_Spell_Shockwave_Jump,function Trig_Sample_Spell_Shockwave_Jump_Actions)
endfunction
function Trig_Add_On_To_Above_Ability_Conditions takes nothing returns boolean
if(not(GetSpellAbilityId()=='A00H'))then
return false
endif
return true
endfunction
function Trig_Add_On_To_Above_Ability_Actions takes nothing returns nothing
call CreateNUnitsAtLocBonuses(1,'h00C',GetOwningPlayer(GetSpellAbilityUnit()),GetUnitLoc(GetSpellAbilityUnit()),bj_UNIT_FACING)
call IssueImmediateOrderBJ(GetLastCreatedUnit(),"thunderclap")
call RemoveUnit(GetLastCreatedUnit())
endfunction
function InitTrig_Add_On_To_Above_Ability takes nothing returns nothing
set udg_trg_Add_On_To_Above_Ability=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(udg_trg_Add_On_To_Above_Ability,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(udg_trg_Add_On_To_Above_Ability,Condition(function Trig_Add_On_To_Above_Ability_Conditions))
call TriggerAddAction(udg_trg_Add_On_To_Above_Ability,function Trig_Add_On_To_Above_Ability_Actions)
endfunction
function Trig_Dark_Ranger_Enters_Conditions takes nothing returns boolean
if(not(GetUnitTypeId(GetTriggerUnit())=='U024'))then
return false
endif
return true
endfunction
function Trig_Dark_Ranger_Enters_Actions takes nothing returns nothing
call EnableTrigger(udg_trg_Passive_Death_Coil)
endfunction
function InitTrig_Dark_Ranger_Enters takes nothing returns nothing
set udg_trg_Dark_Ranger_Enters=CreateTrigger()
call TriggerRegisterEnterRectSimple(udg_trg_Dark_Ranger_Enters,GetEntireMapRect())
call TriggerAddCondition(udg_trg_Dark_Ranger_Enters,Condition(function Trig_Dark_Ranger_Enters_Conditions))
call TriggerAddAction(udg_trg_Dark_Ranger_Enters,function Trig_Dark_Ranger_Enters_Actions)
endfunction
function Trig_Passive_Death_Coil_Func001Func001Func002Func002002001003 takes nothing returns boolean
return(IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(udg_DarkSylv))==true)
endfunction
function Trig_Passive_Death_Coil_Func001Func001Func002C takes nothing returns boolean
if(not(IsUnitAliveBJ(udg_DarkSylv)==true))then
return false
endif
return true
endfunction
function Trig_Passive_Death_Coil_Func001Func001C takes nothing returns boolean
if(not(GetUnitTypeId(GetEnumUnit())=='U024'))then
return false
endif
return true
endfunction
function Trig_Passive_Death_Coil_Func001A takes nothing returns nothing
if(Trig_Passive_Death_Coil_Func001Func001C())then
set udg_DarkSylv=GetEnumUnit()
if(Trig_Passive_Death_Coil_Func001Func001Func002C())then
set udg_AAAA_GP=GetUnitLoc(udg_DarkSylv)
set udg_AAAA_Random_Enemy=GroupPickRandomUnit(GetUnitsInRangeOfLocMatching(800.00,udg_AAAA_GP,Condition(function Trig_Passive_Death_Coil_Func001Func001Func002Func002002001003)))
call CreateNUnitsAtLocBonuses(1,'h06I',GetOwningPlayer(udg_DarkSylv),udg_AAAA_GP,bj_UNIT_FACING)
call IssueTargetOrderBJ(GetLastCreatedUnit(),"deathcoil",udg_AAAA_Random_Enemy)
call RemoveUnit(GetLastCreatedUnit())
call RemoveLocation(udg_AAAA_GP)
else
endif
else
endif
endfunction
function Trig_Passive_Death_Coil_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRectAll(GetEntireMapRect()),function Trig_Passive_Death_Coil_Func001A)
endfunction
function InitTrig_Passive_Death_Coil takes nothing returns nothing
set udg_trg_Passive_Death_Coil=CreateTrigger()
call DisableTrigger(udg_trg_Passive_Death_Coil)
call TriggerRegisterTimerEventPeriodic(udg_trg_Passive_Death_Coil,10.00)
call TriggerAddAction(udg_trg_Passive_Death_Coil,function Trig_Passive_Death_Coil_Actions)
endfunction
function InitCustomTriggers2 takes nothing returns nothing
call TimerStart(CreateTimer(),6,false,function InitStunDispatchers)
call LuaCall_Init()
call NeutralAI___Init()
call init_rect_control()
call InitTrig_Dead_area_top_left()
call InitTrig_Dead_area_bot_left()
call InitTrig_Dead_area_bot_right()
call InitTrig_Dead_area_top_right_Copy()
call InitTrig_Entangling_roots()
call InitTrig_AdvControl()
call TimerStart(CreateTimer(),1,false,function InitTrig_DestDropBonus)
call InitTrig_ForceFieldTLF()
call InitTrig_Adv_Mechanical_Armor()
call InitTrig_Adv_Mechanical_Weapon()
call InitTrig_humansundead_player_check()
call InitTrig_Final_Mechanical_Weapon()
call InitTrig_Final_Mechanical_Armor()
call InitTrig_SaveMorphBonuses()
call InitTrig_EnableTrade()
call InitTrig_SyncLeaderboard()
call Event_RemoveDuyingHeroes_init()
call warpantibug_init()
call InitTrig_Flame_Breath()
call InitTrig_Flame_Breath_Loop()
call InitTrig_Flame_Breath_Stop()

call InitTrig_Generic_Slam()
call InitTrig_Generic_Slam_Copy()
//call InitTrig_Plated_Footman_Warstomp()
//call InitTrig_Paladin_uu_warstomp()
call InitTrig_Icey_Explosion()
call InitTrig_Generic_War_Stomp()
call InitTrig_Display_stats()
call InitTrig_Trained_units_setup()
call InitTrig_Player_Points()
call InitTrig_Militia_Summoner()
call InitTrig_Ghoul_Summoner()
call InitTrig_Giant_Garg_Spell()
call InitTrig_Zombie_spawn_from_grave()
call InitTrig_Spider()
call InitTrig_Spider_evolve_1()
call InitTrig_Spider_evolve_2()
call InitTrig_Test_enable()
call InitTrig_Test_command()
call InitTrig_Test_command_Copy()
call InitTrig_goblin_sapper_auto_attack()
call InitTrig_Skip_to_Final_Battle()
call InitTrig_lumber_spawn_in_top_left_tree_area()
call InitTrig_MAP_INIT_and_QUESTS()
call InitTrig_uu_merchants()
call InitTrig_Check_Leavers()
call InitTrig_Spawn_Tree()
call InitTrig_Tree_dies()
call InitTrig_Tree_dies_a()
call InitTrig_Bridge_Dies()
call InitTrig_Infernal_Partner()
call InitTrig_Infernal_Partner_Copy()
call InitTrig_Infernal_Partner_Copy_Copy()
call InitTrig_Naga_partner()
call InitTrig_Naga_partner_Copy()
call InitTrig_Remove_Selling_Unit()
call InitTrig_Remove_Selling_Unit_HERO_SHOP()
call InitTrig_Remove_Selling_Unit_HERO_SHOP_HUMAN()
call InitTrig_Neutral_alliance()
call InitTrig_Neutral_hostile_team_setting()
call InitTrig_MS()
call InitTrig_Worker_Bounty()
call InitTrig_Missle_death()
call InitTrig_Kitapsycho()
call InitTrig_prevent_double_uu()
call InitTrig_bridge_teleports()
call InitTrig_Bridge_Timer_1()
call InitTrig_bridge_teleports_Copy()
call InitTrig_bridge_teleports_Copy_Copy()
call InitTrig_Bridge_Timer_2()
call InitTrig_bridge_teleports_Copy_Copy_Copy()
call InitTrig_simple_bounds_system()
call InitTrig_snowman_dies()
call InitTrig_portal_dies()
call InitTrig_portal_dies_Copy()
call InitTrig_portal_dies_Copy_Copy()
call InitTrig_Fountain_Dies()
call InitTrig_Fountain_Dies_Copy()
call InitTrig_Fountain_Dies_Copy_Copy()
call InitTrig_Pirate_Stash_Dies()
call InitTrig_Naga_Spawns()
call InitTrig_Gnoll_Spawn()
call InitTrig_Ice_Spawn()
call InitTrig_Pirate_Spawn()
call InitTrig_Research_upgrades()
call InitTrig_Pirate_Autoshoot()
call InitTrig_Pirate_Ship_Boundry()
call InitTrig_Ship_Tele_Item()
call InitTrig_Pirate_Tele_pt1()
call InitTrig_Pirate_Tele_Timer()
call InitTrig_Pirate_Tele_pt2()
call InitTrig_Pirate_Coin_Spell()
call InitTrig_Create3rdTeam()
call InitTrig_Satyr_Research_upgrades()
call InitTrig_Display_mode()
call InitTrig_Satyr_Spawn()
call InitTrig_Level_1()
call InitTrig_Pigs_lvl_1_spawn()
call InitTrig_Level_2()
call InitTrig_Pigs_lvl_2_spawn()
call InitTrig_Level_3()
call InitTrig_Level_3_Part_2()
call InitTrig_Pigs_lvl_3_spawn()
call InitTrig_Set_chances()
call InitTrig_Chaos_Event()
call InitTrig_Raining_Pigs()
call InitTrig_Rain_of_Fire_Event()
call InitTrig_Creature_Event()
call InitTrig_GandalfTeleport_Effect()
call InitTrig_reset_trees()
call InitTrig_reset_trees_Copy()
call InitTrig_reset_trees_Copy_Copy()
call InitTrig_reset_trees_Copy_Copy_Copy()
call InitTrig_kiljaeden_event()
call InitTrig_kiljaeden_event_ends()
call InitTrig_AAA_Timer_FireGuy_Dies_Copy()
call InitTrig_AAA_Fire_Guy_Teleport_Copy()
call InitTrig_AAA_Fire_Guy_Bloodlust_Copy()
call InitTrig_AAA_Fire_Guy_FireBolt_Copy()
call InitTrig_Give_upgrade_to_player()
call InitTrig_seaweed_upgrade()
call InitTrig_iceclaw_upgrade()
call InitTrig_Evil_Spawn_Timer()
call InitTrig_Removing_Evil_Spawn_Timer()
call InitTrig_Spawn_Zombies_Gray()
call InitTrig_Spawn_Zombies_Light_Blue()
call InitTrig_Spawn_Zombies_Dark_Green()
call InitTrig_Spawn_Zombies_Brown()
call InitTrig_unbug()
call InitTrig_players_5_gold()
call InitTrig_Rocks_Remove_Timer()
call InitTrig_Removing_Rocks_and_timer()
call InitTrig_Tree_Remove_Timer()
call InitTrig_Removing_Trees_and_timer()
call InitTrig_Crates_Timer()
call InitTrig_Multiboard()
call InitTrig_Removing_Outer_Rocks()
call InitTrig_Removing_Crates()
call InitTrig_Duel_Timer()
call InitTrig_Duel_Timer_Copy()
call InitTrig_Duel_Timer_Copy_Copy()
call InitTrig_Set_which_duel()
call InitTrig_Event_area_out_of_bounds()
call InitTrig_Duel_Warning()
call InitTrig_Duel()
call InitTrig_Duel_Copy_2()
call InitTrig_Duel_Copy_3()
call InitTrig_Duel_Copy()
call InitTrig_Send_in_the_neutrals()
call InitTrig_LIGHT_TEAM()
call InitTrig_DARK_TEAM()
call InitTrig_Duel_condition_v2()
call InitTrig_Run_Game_resume()
call InitTrig_Game_resume()
call InitTrig_Duel_in_forest_area()
call InitTrig_BOSSes_AI()
call InitTrig_Duel_in_forest_area_Copy()
call InitTrig_Duel_in_forest_area_Copy_Copy()
call InitTrig_LIGHT_TEAM_Copy()
call InitTrig_DARK_TEAM_Copy()
call InitTrig_Duel_condition_v2_Copy()
call InitTrig_Lives()
call InitTrig_FinalBattle_Run()
call InitTrig_FinalBattle_Run_neut_alliance_1a()
call InitTrig_initiate_send_in_neuts()
call InitTrig_FinalBattle_Runy_Copy()
call InitTrig_FinalBattle_Runy_Copy_neut_alliance_1a()
call InitTrig_initiate_send_in_neutrals()
call InitTrig_Gate_destroyed()
call InitTrig_Send_in_the_neutrals_2()
call InitTrig_Final_Battle_Timer()
call InitTrig_Final_Battle_Timer_Copy()
//call InitTrig_stop_tele_FB()
call InitTrig_coins()
call InitTrig_Spawn_Golden_Chickens()
call InitTrig_Golden_Chicken()
call InitTrig_Enable_Bunny_Spawn()
call InitTrig_Spawn_Bunnies()
call InitTrig_Spawn_furbolgs_p()
call InitTrig_Spawn_Special_Bunny()
call InitTrig_Bunnies_stop_and_exp_on()
call InitTrig_auto_exp()
call InitTrig_Spawn_Giant_Rabbit()
call InitTrig_Giant_Bunny_Exp()
call InitTrig_Giant_Bunny_Tome_Drop()
call InitTrig_raccoon_smoner()
call InitTrig_pig_smoner()
call InitTrig_boots_tele()
call InitTrig_Venom_Orb()
call InitTrig_venom_orb_3()
call InitTrig_venom_orb_4()
call InitTrig_venom_orb_5()
call InitTrig_venom_orb_6()
call InitTrig_Refreshing_rune()
call InitTrig_Spawnpoint_Rune()
call InitTrig_Spawnpoint_Rune_reset()
call InitTrig_venom_orb_7()
call InitTrig_Steel_Sword()
call InitTrig_Mith_Sword()
call InitTrig_Moon_Spear()
call InitTrig_Advanced_Moon_armor()
call InitTrig_Crown_Of_Kings()
call InitTrig_Treads()
call InitTrig_Reinforced_Leather_armor()
call InitTrig_Dragonhide_armor()
call InitTrig_Moon_Armor()
call InitTrig_Boots_of_Super_Speed()
call InitTrig_Boots_of_Ultra_Speed()
call InitTrig_Chitinous_Blade()
call InitTrig_Razor_Blade()
call InitTrig_Chitinous_Scales()
call InitTrig_Razor_Scales()
call InitTrig_Ring_of_Health()
call InitTrig_Ring_of_int()
call InitTrig_Webs()
call InitTrig_baneful_force()
call InitTrig_Cloack_of_Flames_2()
call InitTrig_Cloack_of_Flames_3()
call InitTrig_ult_robe_magi()
call InitTrig_Moon_Claws()
call InitTrig_Totem_of_Speed()
call InitTrig_Builder_Lumber_Income_Every_Seccond()
call InitTrig_Builder_Lumber_Income_Every_Five_Secconds()
call InitTrig_Undead_Gold_Income()
call InitTrig_Movement()
call InitTrig_Drop_Dust()
call InitTrig_Spawn_Mana_Pool_Or_Middel_Shop()
call InitTrig_Activate_A_Random_Event()
call InitTrig_Dangerous_Water_Event()
call InitTrig_Dangerous_Water_Event_2()
call InitTrig_Creeps_invade_1()
call InitTrig_Massive_Rabbit_Event()
call InitTrig_Massive_Rabbit_Event_Copy()
call InitTrig_Massive_Rabbit_Event_Copy_Copy()
call InitTrig_Boot_Drop_Event()
call InitTrig_New_random_events()
call InitTrig_Penguin_Movement()
call InitTrig_Tortle_Spawn()
call InitTrig_reef_ele_Spawn()
call InitTrig_Reach_rest_point()
call InitTrig_Turn_on_events_2()
call InitTrig_Activate_A_Random_Event_Copy()
call InitTrig_Mutate_critter()
call InitTrig_Creep_attack_event()
call InitTrig_Boot_drop_event_2()
call TimerStart(CreateTimer(),40,false,function Activate_Team_Wins)
call InitTrig_gnoll_creep_camp()
call InitTrig_gnoll_houses()
call InitTrig_Ice_creep_camp()
call InitTrig_drop_ultimate_upgrade_item()
call InitTrig_UltimateUpgrade_item()
call InitTrig_UltimateUpgrade_unit()
//call InitTrig_the_ultimate_upgrade_2()
//call InitTrig_the_ultimate_upgrade_flying_units()
call InitTrig_Disable_undead_flying()
call InitTrig_remove_ultimate_upgrade_item()
call InitTrig_settings()
call InitTrig_settings_remove()
call InitTrig_Blight_Walk()
call InitTrig_Blight_skeletons()
call InitTrig_turn_on()
call InitTrig_building_summons()
call InitTrig_Attack_Order_Spell()
call InitTrig_Upgrade_Mercenary_Creeps()
call InitTrig_Murgul_Slave_Partner()
call InitTrig_Upgrade_Undead_Builder()
call InitTrig_Upgrade_Naga_with_items()
call InitTrig_Upgrade_Naga_without_items()
call InitTrig_Upgrade_Undead_Builder_T()
call InitTrig_Tuskarr_Commander()
call InitTrig_Spawn_Boss_and_set_variable()
call InitTrig_Boss_Drop()
call InitTrig_Sand_Slam()
call InitTrig_Desert_Ant_Cast()
call InitTrig_Desert_Ant_Core()
call InitTrig_DOT_Apply()
call InitTrig_GUI_DOT_System()
call InitTrig_Sand_Stomp()
call InitTrig_SyncCheatPeriodic()
call InitTrig_Sand_Quaker()
call InitTrig_Hyper_Knock()
call InitTrig_Knockback_Loop()
call InitTrig_Owner_pick_up_shield_only()
call InitTrig_Throw_Shield()
call InitTrig_Shield_Loop()
call InitTrig_Firebolt()
call InitTrig_Loop_Copy()
call InitTrig_Firebolt_death()
call InitTrig_snowball_Init()
call InitTrig_snowball_Loop()
call InitTrig_Protector_turn_on()
call InitTrig_Guardian_aura()
call InitTrig_Set_creep_rein_levels()
call InitTrig_Purchase_Creep()
call InitTrig_Creep_Reinforcements_Lvl1()
call InitTrig_Creep_Reinforcements_lvl2()
call InitTrig_Creep_Reinforcements_lvl3()
call InitTrig_Creep_Reinforcements_lvl4()
call InitTrig_Spawn_spell_shop_2()
call InitTrig_level_up_FE_Plant()
call InitTrig_level_up_Rockfall()
call InitTrig_level_up_FE_Plant_Copy()
call InitTrig_Volcano_spell()
call InitTrig_Banish()
call InitTrig_Walk_of_Shadows_Cast()
call InitTrig_Walk_of_Shadows_Loop()
call InitTrig_Shadow_Drain_Cast()
call InitTrig_Shadow_Drain_Loop()
call InitTrig_Knowledge_of_Shadows()
call InitTrig_Add_Special_Effect_to_System()
call InitTrig_SpecialEffectSystemLoop()
//call InitTrig_BS_Setings()
call InitTrig_BS_Loop()
call InitTrig_Night()
call InitTrig_Day()
call InitTrig_Add_Vampire()
call InitTrig_Blacksmith_upgrade()
call InitTrig_Blacksmith_upgrade_Copy()
call InitTrig_Healing_Salve()
call InitTrig_Healing_Potion()
call InitTrig_Healing_Potion_Copy()
call InitTrig_Healing_Potion_Copy_Copy()
call InitTrig_Mana_Potion()
call InitTrig_Mana_Potion_Copy()
call InitTrig_Dust()
call InitTrig_Invis()
call InitTrig_Invuln()
call InitTrig_Beetle()
call InitTrig_Beetle_unselectable()
call InitTrig_turn_on_grave_tele()
call InitTrig_Grave_teleport()
call InitTrig_turn_off_grave_tlee()
//call InitTrig_Finger_of_Death()
call InitTrig_Finger_of_Death_2()
call InitTrig_Thunder_Pika()
call InitTrig_Settings()
call InitTrig_Shadow_Burst_Cast()
call InitTrig_Shadow_Burst_Loop()
call InitTrig_DK_TAUNT()
call InitTrig_Sfx()
call InitTrig_Shattered_universe_init()
call InitTrig_Shattered_universe_loop()
call InitTrig_BlackHoleCast()
call InitTrig_BlackHoleMoveTarget()
call InitTrig_BlackHoleStop()
call InitTrig_FL_init()
call InitTrig_FL_loop()
call InitTrig_Cast_Charge()
call InitTrig_Projectile_Dash_by_Paladon()
call InitTrig_getFaded()
call InitTrig_callFading()
call InitTrig_QJS_Hash_Table()
call InitTrig_QJS_AttackDamageType()
call InitTrig_Arrow_Create()
call InitTrig_Arrow_Move()
call InitTrig_Example_4()
call InitTrig_Shadow_Side()
call InitTrig_PH_cast()
call InitTrig_PH_Loop()
call InitTrig_Priest_Heal()
call InitTrig_Paladin_Heal_Copy()
call InitTrig_Fury_Peak()
call InitTrig_Meat_Grinder_A()
call InitTrig_Meat_Grinder_B()
call InitTrig_Wind_Storm_A()
call InitTrig_Wind_Storm_B()
call InitTrig_Omnislash()
call InitTrig_Omnislash_Loop()
call InitTrig_Cast()
call InitTrig_Loop_v101()
call InitTrig_Throw_Bomb()
call InitTrig_Bomb_Jump()
call InitTrig_TOT_Cast()
call InitTrig_TOT_Loop()
call InitTrig_TOT_Tree()
call InitTrig_Spell()
call InitTrig_Spell_Loop()
call InitTrig_Unit_Leak()
call InitTrig_Cutting_Edge()
call InitTrig_Cutting_Edge_Knock()
call InitTrig_Remove_Dummies()
call InitTrig_Telekinetic_Seizure_Setings()
call InitTrig_Telekinetic_Seizure_Loop()
call InitTrig_Ball_Lighting_Setings()
call InitTrig_Ball_Llighting_Loop()
call InitTrig_Fire_Ball_Setings()
call InitTrig_Fire_Ball_Loop()
call InitTrig_Shield_Bash_Setings()
call InitTrig_Shield_bash_Loop()
call InitTrig_Knockback_System()
call InitTrig_deceiver_slam()
call InitTrig_Zombie_summon()
call InitTrig_Zombie_Bloodlust()
call InitTrig_Zombie_Bloodlust_Copy()
call InitTrig_Zombie_apocalypse()
call InitTrig_Zombie_apocalypse_Copy()
call InitTrig_nuke()
call InitTrig_nuke_pt_2()
call InitTrig_summon_tree()
call InitTrig_summon_tree_Copy()
call InitTrig_Holy_Wrath()
call InitTrig_Smokescreen()
call InitTrig_Teleport()
call InitTrig_Rock_Fountain()
call InitTrig_Living_Rocks()
call InitTrig_Living_Rocks_pt2()
call InitTrig_Summon_Rocks()
call InitTrig_Summon_Rocks_Copy()
call InitTrig_Summon_Rocks_Copy_Copy()
call InitTrig_Summon_Rocks_Copy_Copy_Copy()
call InitTrig_Golem_Frenzy()
call InitTrig_Golem_Frenzy_Greater()
call InitTrig_Golem_Frenzy_Greater_Greater()
call InitTrig_Volcano()
call InitTrig_Volcano_pt2()
call InitTrig_hidden_heroes()
call InitTrig_Kaboom()
call InitTrig_Rocket_Seal()
call InitTrig_Rocket_Seal_Copy()
call InitTrig_Zombie_Sleep_Effect()
call InitTrig_Firelord_Attacks()
call InitTrig_Fire_minion()
call InitTrig_Mount_Horse()
call InitTrig_Mount_Horse_Copy()
call InitTrig_Warrior_Evolve()
call InitTrig_Horse_movement()
call InitTrig_Mount_hippogryph()
call InitTrig_Random_hippo_move()
call InitTrig_Flame_Sniper_2()
call InitTrig_Skele_Spell_Wraith()
call InitTrig_Skeleton_spell_wraith_pt2()
call InitTrig_Skeleton_spell_pt_2()
call InitTrig_Skele_Spell()
call InitTrig_Cast_A_Knockback()
call InitTrig_Get_Knockback()
call InitTrig_Tauren_Stomp()
call InitTrig_Tauren_Taunt()
call InitTrig_Tauren_Earthquake()
call InitTrig_Sample_Explosion_Spell()
call InitTrig_Sample_Meele_Knockback_Spell()
call InitTrig_GSkeleWarriorMETA()
call InitTrig_HydroJetCast()
call InitTrig_HydroJetWater()
call InitTrig_SandStormCast()
call InitTrig_SandStormMovement()
call InitTrig_blizzard()
call InitTrig_blizzard_Copy()
call InitTrig_blizzard_Copy_Copy()
call InitTrig_Poison_Nova()
call InitTrig_Eggs()
call InitTrig_Eggs_Copy()
call InitTrig_Eggs_2()
call InitTrig_Eggs_Hatch_2()
call InitTrig_Greater_Eggs()
call InitTrig_Greater_Eggs_hatch()
call InitTrig_Taste_of_Death()
call InitTrig_Lightning_Strike()
call InitTrig_Lightning_Strike_Loop()
call InitTrig_Freezing_Spiral()
call InitTrig_Freezing_Spiral_Loop()
call InitTrig_Shadow_Walk()
call InitTrig_init2()
call InitTrig_loop()
call InitTrig_OOW_Main()
call InitTrig_OOW_Dummies()
call InitTrig_OOW_Units()
call InitTrig_Elune_Arrow()
call InitTrig_Elune_Arrow_Move()
call InitTrig_Agility()
call InitTrig_Agility_Loop()
call InitTrig_Dark_Plasma()
call InitTrig_DPloop()
call InitTrig_Death_Fall()
call InitTrig_Death_Fall_loop()
call InitTrig_Thunderwrath_Hashtable()
call InitTrig_Thunderwrath()
call InitTrig_Thunderwrath_Loop()
call InitTrig_Hash()
call InitTrig_Sheep_Cast()
call InitTrig_Sheep_Loop()
call InitTrig_Initial_Telekinesis_GUI()
call InitTrig_Telekinesis_GUI()
call InitTrig_Heroic_Leap_Cast()
call InitTrig_Heroic_Leap_Loop()
call InitTrig_heroic_leap_stomp()
call InitTrig_TOT_Cast_Copy()
call InitTrig_TOT_Loop_Copy()
call InitTrig_SyncPeriodic()
call InitTrig_PlayerLeaveHack()
call InitTrig_TOS_Cast()
call InitTrig_TOS_Loop()
call InitTrig_TOS_Skeletons()
call InitTrig_Pyro_Jump_On()
call InitTrig_Pyro_Jump_Loop()
call InitTrig_Insanity()
call InitTrig_Dies()
call InitTrig_Dies_Copy()
call InitTrig_Rockfall_INI()
call InitTrig_Rock_Creation()
call InitTrig_callFadeEffect()
call InitTrig_Sine_Fall_and_Damage()
call InitTrig_Apply_Splitts()
call InitTrig_Move_Splitts()
call InitTrig_VO_Start()
call InitTrig_VO_Loop()
call InitTrig_TS_Start()
call InitTrig_TS_Loop()
call InitTrig_Jump_System_1()
call InitTrig_Jump_System_2()
call InitTrig_Sample_Spell_Jump()
call InitTrig_Sample_Spell_Jump_JASS_REDO()
call InitTrig_Sample_Spell_Jump_2()
call InitTrig_Sample_Spell_Super_Jump()
call InitTrig_Sample_Spell_Shockwave_Jump()
call InitTrig_Add_On_To_Above_Ability()
call InitTrig_Dark_Ranger_Enters()
call InitTrig_Passive_Death_Coil()
endfunction
function RunInitializationTriggers2 takes nothing returns nothing
call ConditionalTriggerExecute(udg_trg_CS_Setup)
call ConditionalTriggerExecute(udg_trg_QJS_Hash_Table)
endfunction
function UpdateNeutrals takes nothing returns nothing
call SetPlayerName(Neutral_Nagas,"Naga Team")
call SetPlayerName(Neutral_Satyrs,"Pirates")
call SetPlayerName(Neutral_Bottom,"Bottom Team")
call RemoveAllGuardPositions(Neutral_Nagas)
call RemoveAllGuardPositions(Neutral_Satyrs)
call RemoveAllGuardPositions(Neutral_Bottom)
call SetPlayerState(Neutral_Nagas,PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(Neutral_Satyrs,PLAYER_STATE_GIVES_BOUNTY,1)
call SetPlayerState(Neutral_Bottom,PLAYER_STATE_GIVES_BOUNTY,1)

endfunction
function main2 takes nothing returns nothing
call InitHCL()
call InitSounds2()
call CreateRegions2()
call CreateCameras2()
call CreateAllItems2()
call CreateAllUnits2()
call ExecuteFunc("jasshelper__initstructs300963337")
call ExecuteFunc("DestructableLib___Initialization")
call ExecuteFunc("KBS__Init")
call ExecuteFunc("PauseUtils__Init")
call ExecuteFunc("T32__OnInit")
call ExecuteFunc("TimerUtils__init")
call ExecuteFunc("AIDS__InitAIDS")
call ExecuteFunc("GroupUtils__Init")
call ExecuteFunc("xedamage___init")
call ExecuteFunc("xefx___init")
call ExecuteFunc("xepreload___init")
call SurfS__OnInit()
call Plant_Init()
call FireRun__Init()
call TimeStop__Initialize()
call Haunt__Init()
call InitGlobals2()
call InitCustomTriggers2()
call RunInitializationTriggers2()
call UpdateNeutrals()
call SetMapFlag(MAP_LOCK_RESOURCE_TRADING,true)
call SetMapFlag(MAP_FOG_MAP_EXPLORED,true)
endfunction
function sa__KBS__Data_onDestroy takes nothing returns boolean
local integer this=udg_f__arg_this
set udg_s__KBS__Data_targ[this]=null
if udg_s__KBS__Data_sfx[this]!=null then
call DestroyEffect(udg_s__KBS__Data_sfx[this])
set udg_s__KBS__Data_sfx[this]=null
endif
set udg_KBS__BA[0]=false
set udg_KBS__BA[1]=false
return true
endfunction
function sa__Haunt__HauntS_onDestroy takes nothing returns boolean
local integer this=udg_f__arg_this
local integer i=0
loop
exitwhen i==(Haunt__DSPAWNS)
if(not IsUnitHidden(udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i]))then
call DestroyEffect(AddSpecialEffect(Haunt__DUMMYSFX,GetUnitX(udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i]),GetUnitY(udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i])))
endif
call DestroyEffect(udg_s___Haunt__HauntS_sfx[udg_s__Haunt__HauntS_sfx[this]+i])
call UnitRemoveAbility(udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i],'Aloc')
call ShowUnit(udg_s___Haunt__HauntS_dum[udg_s__Haunt__HauntS_dum[this]+i],false)
set udg_s___Haunt__HauntS_sfx[udg_s__Haunt__HauntS_sfx[this]+i]=null
set i=i+1
endloop
set udg_s__Haunt__HauntS_x[this]=0
set udg_s__Haunt__HauntS_y[this]=0
set udg_s__Haunt__HauntS_DURATIONx[this]=0
set udg_s__Haunt__HauntS_ENUMERATE[this]=0
return true
endfunction
function sa__Haunt__HauntS_stopPeriodic takes nothing returns boolean
local integer this=udg_f__arg_this
set udg_s__Haunt__HauntS_T32x__next[udg_s__Haunt__HauntS_T32x__prev[this]]=udg_s__Haunt__HauntS_T32x__next[this]
set udg_s__Haunt__HauntS_T32x__prev[udg_s__Haunt__HauntS_T32x__next[this]]=udg_s__Haunt__HauntS_T32x__prev[this]
return true
endfunction
function sa__Haunt__HauntSGmove_onDestroy takes nothing returns boolean
local integer this=udg_f__arg_this
set udg_s__Haunt__HauntSGmove_a[this]=null
set udg_s__Haunt__HauntSGmove_b[this]=null
set udg_s__Haunt__HauntSGmove_c[this]=null
set udg_s__Haunt__HauntSGmove_d[this]=null
set udg_s__Haunt__HauntSGmove_mD[this]=0
return true
endfunction
function sa__Haunt__HauntSGmove_stopPeriodic takes nothing returns boolean
local integer this=udg_f__arg_this
set udg_s__Haunt__HauntSGmove_T32x__next[udg_s__Haunt__HauntSGmove_T32x__prev[this]]=udg_s__Haunt__HauntSGmove_T32x__next[this]
set udg_s__Haunt__HauntSGmove_T32x__prev[udg_s__Haunt__HauntSGmove_T32x__next[this]]=udg_s__Haunt__HauntSGmove_T32x__prev[this]
return true
endfunction
function sa__Haunt__HauntSReturn_onDestroy takes nothing returns boolean
local integer this=udg_f__arg_this
set udg_s__Haunt__HauntSReturn_a[this]=null
set udg_s__Haunt__HauntSReturn_b[this]=null
set udg_s__Haunt__HauntSReturn_c[this]=null
set udg_s__Haunt__HauntSReturn_damage[this]=0
set udg_s__Haunt__HauntSReturn_mD[this]=0
set udg_s__Haunt__HauntSReturn_speedMultiplier[this]=0
return true
endfunction
function sa__Haunt__HauntSReturn_stopPeriodic takes nothing returns boolean
local integer this=udg_f__arg_this
set udg_s__Haunt__HauntSReturn_T32x__next[udg_s__Haunt__HauntSReturn_T32x__prev[this]]=udg_s__Haunt__HauntSReturn_T32x__next[this]
set udg_s__Haunt__HauntSReturn_T32x__prev[udg_s__Haunt__HauntSReturn_T32x__next[this]]=udg_s__Haunt__HauntSReturn_T32x__prev[this]
return true
endfunction
function sa__F_move takes nothing returns boolean
local integer this=udg_f__arg_this
local integer ii=0
local real x=GetUnitX(udg_s__F_u[this])
local real y=GetUnitY(udg_s__F_u[this])
local real d
local real a
set udg_s__F_dur[this]=udg_s__F_dur[this]-1
if udg_s__F_dur[this]<=0 or GetWidgetLife(udg_s__F_u[this])<=0.405 or GetUnitAbilityLevel(udg_s__F_u[this],FireRun__Buff)==0 then
set udg_s__F_u[this]=null
set ii=udg_s__F_in[this]
call s__F_deallocate(this)
set udg_s__F_Index=udg_s__F_Index-1
set udg_s__F_Data[ii]=udg_s__F_Data[udg_s__F_Index]
set udg_s__F_in[udg_s__F_Data[ii]]=ii
return true
endif
set a=Atan2(y-udg_s__F_ly[this],x-udg_s__F_lx[this])
set d=SquareRoot((x-udg_s__F_lx[this])*(x-udg_s__F_lx[this])+(y-udg_s__F_ly[this])*(y-udg_s__F_ly[this]))
if d>FireRun__CreationRange then
if d<FireRun__MaxDistance then
set ii=0
loop
exitwhen ii==1
set udg_s__F_lx[this]=udg_s__F_lx[this]+FireRun__CreationRange*Cos(a)
set udg_s__F_ly[this]=udg_s__F_ly[this]+FireRun__CreationRange*Sin(a)
call sc___prototype41_execute(1,udg_s__F_level[this],udg_s__F_u[this],udg_s__F_lx[this],udg_s__F_ly[this],a)
set d=d-FireRun__CreationRange
if d<FireRun__CreationRange then
set ii=1
endif
endloop
else
set udg_s__F_lx[this]=x
set udg_s__F_ly[this]=y
endif
endif
return true
endfunction
function sa__HolyBirds___spelldata_onDestroy takes nothing returns boolean
local integer this=udg_f__arg_this
local integer i=0
call UnitRemoveAbility(udg_s__HolyBirds___spelldata_caster[this],HolyBirds___BUFF_ID)
loop
call s__xefx_deallocate(udg_s___HolyBirds___spelldata_missile[udg_s__HolyBirds___spelldata_missile[this]+i])
call ReleaseGroup(udg_s___HolyBirds___spelldata_targets[udg_s__HolyBirds___spelldata_targets[this]+i])
set i=i+1
exitwhen i>=HolyBirds___MISSILES
endloop
return true
endfunction
function sa__HolyBirds___spelldata_periodic takes nothing returns boolean
local integer this=((LoadInteger(udg_TimerUtils__ht,0,GetHandleId((GetExpiredTimer())))))
local integer i=0
local unit u=null
set udg_s__HolyBirds___spelldata_duration[this]=udg_s__HolyBirds___spelldata_duration[this]+XE_ANIMATION_PERIOD
loop
exitwhen i>=HolyBirds___MISSILES
call SetUnitFacing(udg_s__xefx_dummy[(udg_s___HolyBirds___spelldata_missile[udg_s__HolyBirds___spelldata_missile[this]+i])],(((GetUnitFacing(udg_s__xefx_dummy[(udg_s___HolyBirds___spelldata_missile[udg_s__HolyBirds___spelldata_missile[this]+i])])*bj_DEGTORAD)+(HolyBirds___MISSILE_SPEED*XE_ANIMATION_PERIOD*XE_ANIMATION_PERIOD))*1.0)*bj_RADTODEG)
call SetUnitX(udg_s__xefx_dummy[(udg_s___HolyBirds___spelldata_missile[udg_s__HolyBirds___spelldata_missile[this]+i])],((GetUnitX(udg_s__HolyBirds___spelldata_caster[this])+HolyBirds___MISSILE_DISTANCE*Cos((GetUnitFacing(udg_s__xefx_dummy[(udg_s___HolyBirds___spelldata_missile[udg_s__HolyBirds___spelldata_missile[this]+i])])*bj_DEGTORAD)-bj_PI/ 2))*1.0))
call SetUnitY(udg_s__xefx_dummy[(udg_s___HolyBirds___spelldata_missile[udg_s__HolyBirds___spelldata_missile[this]+i])],((GetUnitY(udg_s__HolyBirds___spelldata_caster[this])+HolyBirds___MISSILE_DISTANCE*Sin((GetUnitFacing(udg_s__xefx_dummy[(udg_s___HolyBirds___spelldata_missile[udg_s__HolyBirds___spelldata_missile[this]+i])])*bj_DEGTORAD)-bj_PI/ 2))*1.0))
call GroupEnumUnitsInRange(udg_s__HolyBirds___spelldata_group,(GetUnitX(udg_s__xefx_dummy[(udg_s___HolyBirds___spelldata_missile[udg_s__HolyBirds___spelldata_missile[this]+i])])),(GetUnitY(udg_s__xefx_dummy[(udg_s___HolyBirds___spelldata_missile[udg_s__HolyBirds___spelldata_missile[this]+i])])),HolyBirds___AOE,udg_s__HolyBirds___spelldata_filter)
loop
set u=FirstOfGroup(udg_s__HolyBirds___spelldata_group)
exitwhen u==null
if not IsUnitInGroup(u,udg_s___HolyBirds___spelldata_targets[udg_s__HolyBirds___spelldata_targets[this]+i])then
call GroupAddUnit(udg_s___HolyBirds___spelldata_targets[udg_s__HolyBirds___spelldata_targets[this]+i],u)
call s__HolyBirds___spelldata_DamageHeal(this,u)
endif
call GroupRemoveUnit(udg_s__HolyBirds___spelldata_group,u)
endloop
set i=i+1
endloop
if udg_s__HolyBirds___spelldata_duration[this]>=udg_HolyBirds___DURATION[udg_s__HolyBirds___spelldata_lvl[this]]or GetUnitAbilityLevel(udg_s__HolyBirds___spelldata_caster[this],HolyBirds___BUFF_ID)<=0 or GetWidgetLife(udg_s__HolyBirds___spelldata_caster[this])<=0.405 then
call s__HolyBirds___spelldata_deallocate(this)
call ReleaseTimer(GetExpiredTimer())
endif
return true
endfunction
function sa__xefx_onDestroy takes nothing returns boolean
local integer this=udg_f__arg_this
if(udg_s__xefx_abil[this]!=0)then
call UnitRemoveAbility(udg_s__xefx_dummy[this],udg_s__xefx_abil[this])
endif
if(udg_s__xefx_fx[this]!=null)then
call DestroyEffect(udg_s__xefx_fx[this])
set udg_s__xefx_fx[this]=null
endif
if(udg_s__xefx___recyclebin_end==xefx___MAX_INSTANCES)then
call TimerStart(udg_xefx___recycler,0,false,function s__xefx___recyclebin_Recycle)
call ExplodeUnitBJ(udg_s__xefx_dummy[this])
else
set udg_s__xefx___recyclebin_u[udg_s__xefx___recyclebin_end]=udg_s__xefx_dummy[this]
set udg_s__xefx___recyclebin_schedule[udg_s__xefx___recyclebin_end]=TimerGetElapsed(udg_xefx___NOW)+xefx___RECYCLE_DELAY
set udg_s__xefx___recyclebin_end=((udg_s__xefx___recyclebin_end)+1)
if(udg_s__xefx___recyclebin_end==1)then
call TimerStart(udg_xefx___recycler,xefx___RECYCLE_DELAY,false,function s__xefx___recyclebin_Recycle)
endif
call SetUnitOwner(udg_s__xefx_dummy[this],Player(15),false)
endif
set udg_s__xefx_dummy[this]=null
return true
endfunction
function sa___prototype13_SetUnitMoveSpeedX takes nothing returns boolean
call s__MoveSpeedXGUI__MoveSpeedStruct_update((udg_f__arg_unit1),((udg_f__arg_real1)*1.0))
return true
endfunction
function sa___prototype2_TimerUtils__init takes nothing returns boolean
local integer i=0
local integer o=-1
local boolean oops=false
if(udg_TimerUtils__didinit)then
return true
else
set udg_TimerUtils__didinit=true
endif
set udg_TimerUtils__ht=InitHashtable()
loop
exitwhen(i==TimerUtils__QUANTITY)
set udg_s__TimerUtils__tT[i]=CreateTimer()
call SaveInteger(udg_TimerUtils__ht,0,GetHandleId((udg_s__TimerUtils__tT[i])),(TimerUtils__HELD))
set i=i+1
endloop
set udg_TimerUtils__tN=TimerUtils__QUANTITY
return true
endfunction
function sa___prototype28_GroupUtils__HookDestroyBoolExpr takes nothing returns boolean
call GroupUtils__HookDestroyBoolExpr(udg_f__arg_boolexpr1)
return true
endfunction
function sa___prototype41_FireRun__CreateFlame takes nothing returns boolean
call FireRun__CreateFlame(udg_f__arg_integer1,udg_f__arg_unit1,udg_f__arg_real1,udg_f__arg_real2,udg_f__arg_real3)
return true
endfunction
function jasshelper__initstructs300963337 takes nothing returns nothing
set udg_st__KBS__Data_onDestroy=CreateTrigger()
call TriggerAddCondition(udg_st__KBS__Data_onDestroy,Condition(function sa__KBS__Data_onDestroy))
set udg_st__Haunt__HauntS_onDestroy=CreateTrigger()
call TriggerAddCondition(udg_st__Haunt__HauntS_onDestroy,Condition(function sa__Haunt__HauntS_onDestroy))
set udg_st__Haunt__HauntS_stopPeriodic=CreateTrigger()
call TriggerAddCondition(udg_st__Haunt__HauntS_stopPeriodic,Condition(function sa__Haunt__HauntS_stopPeriodic))
set udg_st__Haunt__HauntSGmove_onDestroy=CreateTrigger()
call TriggerAddCondition(udg_st__Haunt__HauntSGmove_onDestroy,Condition(function sa__Haunt__HauntSGmove_onDestroy))
set udg_st__Haunt__HauntSGmove_stopPeriodic=CreateTrigger()
call TriggerAddCondition(udg_st__Haunt__HauntSGmove_stopPeriodic,Condition(function sa__Haunt__HauntSGmove_stopPeriodic))
set udg_st__Haunt__HauntSReturn_onDestroy=CreateTrigger()
call TriggerAddCondition(udg_st__Haunt__HauntSReturn_onDestroy,Condition(function sa__Haunt__HauntSReturn_onDestroy))
set udg_st__Haunt__HauntSReturn_stopPeriodic=CreateTrigger()
call TriggerAddCondition(udg_st__Haunt__HauntSReturn_stopPeriodic,Condition(function sa__Haunt__HauntSReturn_stopPeriodic))
set udg_st__F_move=CreateTrigger()
call TriggerAddCondition(udg_st__F_move,Condition(function sa__F_move))
set udg_st__HolyBirds___spelldata_onDestroy=CreateTrigger()
call TriggerAddCondition(udg_st__HolyBirds___spelldata_onDestroy,Condition(function sa__HolyBirds___spelldata_onDestroy))
set udg_st__HolyBirds___spelldata_periodic=CreateTrigger()
call TriggerAddCondition(udg_st__HolyBirds___spelldata_periodic,Condition(function sa__HolyBirds___spelldata_periodic))
set udg_st__xefx_onDestroy=CreateTrigger()
call TriggerAddCondition(udg_st__xefx_onDestroy,Condition(function sa__xefx_onDestroy))
set udg_st___prototype13[1]=CreateTrigger()
call TriggerAddAction(udg_st___prototype13[1],function sa___prototype13_SetUnitMoveSpeedX)
call TriggerAddCondition(udg_st___prototype13[1],Condition(function sa___prototype13_SetUnitMoveSpeedX))
set udg_st___prototype1000[1]=CreateTrigger()
call TriggerAddAction(udg_st___prototype1000[1],function sa___prototype2_TimerUtils__init)
call TriggerAddCondition(udg_st___prototype1000[1],Condition(function sa___prototype2_TimerUtils__init))
set udg_st___prototype10008[1]=CreateTrigger()
call TriggerAddAction(udg_st___prototype10008[1],function sa___prototype28_GroupUtils__HookDestroyBoolExpr)
call TriggerAddCondition(udg_st___prototype10008[1],Condition(function sa___prototype28_GroupUtils__HookDestroyBoolExpr))
set udg_st___prototype41[1]=CreateTrigger()
call TriggerAddAction(udg_st___prototype41[1],function sa___prototype41_FireRun__CreateFlame)
call TriggerAddCondition(udg_st___prototype41[1],Condition(function sa___prototype41_FireRun__CreateFlame))
call ExecuteFunc("s__MoveSpeedXGUI__MoveSpeedStruct_MoveSpeedXGUI__M__onInit")
call ExecuteFunc("s__Haunt__HauntSReturn_T32x__onInit")
call ExecuteFunc("s__Haunt__HauntSGmove_T32x__onInit")
call ExecuteFunc("s__Haunt__HauntS_T32x__onInit")
call ExecuteFunc("s__HolyBirds___spelldata_onInit")
endfunction
function InitTrig_init takes nothing returns nothing
set udg_T32__Trig=CreateTrigger()
set udg_AIDS__OnEnter=CreateTrigger()
set udg_AIDS__OnEnterAllocated=CreateTrigger()
set udg_AIDS__OnDeallocate=CreateTrigger()
set udg_GroupUtils__ht=InitHashtable()
set udg_GroupUtils__H=InitHashtable()
set udg_s__MoveSpeedXGUI__MoveSpeedStruct_hash=InitHashtable()
call ExecuteFunc("main2")
endfunction
function Trig_Horn_Actions takes nothing returns nothing
call StartSound(Horn)
endfunction
function InitTrig_Horn takes nothing returns nothing
set gg_trg_Horn=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg_Horn,0)
call TriggerAddAction(gg_trg_Horn,function Trig_Horn_Actions)
endfunction
function InitTrig_fmode takes nothing returns nothing
set fmode[0]="nlan"
set fmode[1]="nlah"
set fmode[2]="alan"
set fmode[3]="nlah"
set fmode[4]="nlaf"
set fmode[5]="nlnn"
set fmode[6]="nlnhojk"
endfunction
function Trig_AAA_Dialogue_Part_0_Func001Func001Func001C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_SETTINGS0_CHOICE1))then
return false
endif
return true
endfunction
function Trig_AAA_Dialogue_Part_0_Func001Func001Func002C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_SETTINGS0_CHOICE2))then
return false
endif
return true
endfunction
function Trig_AAA_Dialogue_Part_0_Func001Func001C takes nothing returns boolean
if(not(GetPlayerColor(GetEnumPlayer())==PLAYER_COLOR_RED))then
return false
endif
return true
endfunction
function FlyEnable takes nothing returns nothing
local integer i=0
loop
call SetPlayerTechResearchedSwap('UFLY',1,Player(i))
set i=i+1
exitwhen i>14
endloop
endfunction
function DisableFly takes nothing returns nothing
    local integer i=0
    loop
    call SetPlayerAbilityAvailable(Player(i),'A00K',false)
    call SetPlayerAbilityAvailable(Player(i),'dI08',false)
    set i=i+1
    exitwhen i>14
    endloop
call RemoveUnitFromAllStock('ugar')
endfunction
function Trig_AAA_Dialogue_Part_0_Func001A takes nothing returns nothing
if(Trig_AAA_Dialogue_Part_0_Func001Func001C())then
if(Trig_AAA_Dialogue_Part_0_Func001Func001Func001C())then
call DialogDisplayBJ(false,udg_CHOOSE_SETTINGS0,GetEnumPlayer())
call DisplayTimedTextToForce(GetPlayersAll(),30,"|cff32cd32All units selected|r")
call FlyEnable()
call DialogSetMessageBJ(udg_CHOOSE_SETTINGS,"|cff32cd32Game Length and # of Lives|r")
call DialogAddButtonBJ(udg_CHOOSE_SETTINGS,"5/3 Lives and Final Battle-42min (LONG)")
set udg_SETTINGS_CHOICE1=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_CHOOSE_SETTINGS,"3/2 Lives and Final Battle-30min (NORMAL)")
set udg_SETTINGS_CHOICE2=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_CHOOSE_SETTINGS,"5/3 Lives and Final Battle-30min (NORMAL + lives)")
set udg_SETTINGS_CHOICE3=GetLastCreatedButtonBJ()
call DialogDisplayBJ(true,udg_CHOOSE_SETTINGS,GetEnumPlayer())
else
endif
if(Trig_AAA_Dialogue_Part_0_Func001Func001Func002C())then
call DialogDisplayBJ(false,udg_CHOOSE_SETTINGS0,GetEnumPlayer())
call DisableFly()
call DisplayTimedTextToForce(GetPlayersAll(),30,"|cff32cd32NO FLYING UNITS has been selected|r")
call EnableTrigger(udg_trg_Disable_Marine_Flying)
call EnableTrigger(udg_trg_Disable_undead_flying)
set udg_NO_FLYING_UNITS=true
call DialogSetMessageBJ(udg_CHOOSE_SETTINGS,"|cff32cd32Game Length and # of Lives|r")
call DialogAddButtonBJ(udg_CHOOSE_SETTINGS,"5/3 Lives and Final Battle-42min (LONG)")
set udg_SETTINGS_CHOICE1=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_CHOOSE_SETTINGS,"3/2 Lives and Final Battle-30min (NORMAL)")
set udg_SETTINGS_CHOICE2=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_CHOOSE_SETTINGS,"5/3 Lives and Final Battle-30min (NORMAL + lives)")
set udg_SETTINGS_CHOICE3=GetLastCreatedButtonBJ()
call DialogDisplayBJ(true,udg_CHOOSE_SETTINGS,GetEnumPlayer())
else
endif
else
endif
endfunction
function Trig_AAA_Dialogue_Part_0_Actions takes nothing returns nothing
call ForForce(GetPlayersAll(),function Trig_AAA_Dialogue_Part_0_Func001A)
call DisableTrigger(gg_trg_First_Dialogue_Out_of_Time)
endfunction
function InitTrig_AAA_Dialogue_Part_0 takes nothing returns nothing
set udg_trg_AAA_Dialogue_Part_0=CreateTrigger()
call TriggerRegisterDialogEventBJ(udg_trg_AAA_Dialogue_Part_0,udg_CHOOSE_SETTINGS0)
call TriggerAddAction(udg_trg_AAA_Dialogue_Part_0,function Trig_AAA_Dialogue_Part_0_Actions)
endfunction
function Trig_MAP_INIT_2_Func014001 takes nothing returns boolean
return(GetPlayerSlotState(Player(0))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_MAP_INIT_2_Func015001 takes nothing returns boolean
return(GetPlayerSlotState(Player(1))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_MAP_INIT_2_Func016001 takes nothing returns boolean
return(GetPlayerSlotState(Player(2))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_MAP_INIT_2_Func017001 takes nothing returns boolean
return(GetPlayerSlotState(Player(3))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_MAP_INIT_2_Func018001 takes nothing returns boolean
return(GetPlayerSlotState(Player(4))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_MAP_INIT_2_Func019001 takes nothing returns boolean
return(GetPlayerSlotState(Player(5))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_MAP_INIT_2_Func020001 takes nothing returns boolean
return(GetPlayerSlotState(Player(6))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_MAP_INIT_2_Func021001 takes nothing returns boolean
return(GetPlayerSlotState(Player(7))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_MAP_INIT_2_Func022001 takes nothing returns boolean
return(GetPlayerSlotState(Player(8))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_MAP_INIT_2_Func023001 takes nothing returns boolean
return(GetPlayerSlotState(Player(9))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_MAP_INIT_2_Func024001 takes nothing returns boolean
return(GetPlayerSlotState(Player(10))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_MAP_INIT_2_Func025001 takes nothing returns boolean
return(GetPlayerSlotState(Player(11))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_MAP_INIT_2_Func026001 takes nothing returns boolean
return(GetPlayerSlotState(Player(0))==PLAYER_SLOT_STATE_EMPTY)
endfunction
function Trig_MAP_INIT_2_Func027001 takes nothing returns boolean
return(GetPlayerSlotState(Player(1))==PLAYER_SLOT_STATE_EMPTY)
endfunction
function Trig_MAP_INIT_2_Func028001 takes nothing returns boolean
return(GetPlayerSlotState(Player(2))==PLAYER_SLOT_STATE_EMPTY)
endfunction
function Trig_MAP_INIT_2_Func029001 takes nothing returns boolean
return(GetPlayerSlotState(Player(3))==PLAYER_SLOT_STATE_EMPTY)
endfunction
function Trig_MAP_INIT_2_Func030001 takes nothing returns boolean
return(GetPlayerSlotState(Player(4))==PLAYER_SLOT_STATE_EMPTY)
endfunction
function Trig_MAP_INIT_2_Func031001 takes nothing returns boolean
return(GetPlayerSlotState(Player(5))==PLAYER_SLOT_STATE_EMPTY)
endfunction
function Trig_MAP_INIT_2_Func032001 takes nothing returns boolean
return(GetPlayerSlotState(Player(6))==PLAYER_SLOT_STATE_EMPTY)
endfunction
function Trig_MAP_INIT_2_Func033001 takes nothing returns boolean
return(GetPlayerSlotState(Player(7))==PLAYER_SLOT_STATE_EMPTY)
endfunction
function Trig_MAP_INIT_2_Func073Func001C takes nothing returns boolean
if(not(GetPlayerColor(GetEnumPlayer())==PLAYER_COLOR_RED))then
return false
endif
return true
endfunction
function Trig_MAP_INIT_2_Func073A takes nothing returns nothing
if(((SubString(HCLcommand,0,1)=="m")and(S2I(SubString(HCLcommand,1,12))>0))or((SubString(HCLcommand,0,1)=="n")or(SubString(HCLcommand,0,1)=="a"))and((SubString(HCLcommand,1,2)=="n")or(SubString(HCLcommand,1,2)=="l")or(SubString(HCLcommand,1,2)=="p"))and((SubString(HCLcommand,2,3)=="n")or(SubString(HCLcommand,2,3)=="a"))and((SubString(HCLcommand,3,4)=="n")or(SubString(HCLcommand,3,4)=="h")or(SubString(HCLcommand,3,4)=="e")or(SubString(HCLcommand,3,4)=="f")))then
call DisableTrigger(GetTriggeringTrigger())
call ExecuteFunc("ApplyHCLSettings")
set HCLCompleted=true
elseif(Trig_MAP_INIT_2_Func073Func001C())then
call DisplayTimedTextToForce(GetPlayersAll(),5.00,"|cffff0000Player Red|r is choosing game settings")
call DialogSetMessageBJ(udg_CHOOSE_SETTINGS0,"|cff32cd32Type of units allowed:|r")
call DialogAddButtonBJ(udg_CHOOSE_SETTINGS0,"No Flying Units")
set udg_SETTINGS0_CHOICE2=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_CHOOSE_SETTINGS0,"All units")
set udg_SETTINGS0_CHOICE1=GetLastCreatedButtonBJ()
call DialogDisplayBJ(true,udg_CHOOSE_SETTINGS0,GetEnumPlayer())
endif
endfunction
function Trig_MAP_INIT_2_Func074Func001C takes nothing returns boolean
if(not(GetEnumPlayer()!=Neutral_Satyrs))then
return false
endif
return true
endfunction
function Trig_MAP_INIT_2_Func074A takes nothing returns nothing
if(Trig_MAP_INIT_2_Func074Func001C())then
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Neutral_Satyrs,bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Neutral_Satyrs,GetEnumPlayer(),bj_ALLIANCE_UNALLIED)
else
endif
endfunction
function Trig_MAP_INIT_2_Actions takes nothing returns nothing
set udg_AAA_Player_Colors[1]=("|cffFF0000"+(GetPlayerName(Player(0))+"|r"))
set udg_AAA_Player_Colors[2]=("|cff0000FF"+(GetPlayerName(Player(1))+"|r"))
set udg_AAA_Player_Colors[3]=("|cff00ffff"+(GetPlayerName(Player(2))+"|r"))
set udg_AAA_Player_Colors[4]=("|cff8000FF"+(GetPlayerName(Player(3))+"|r"))
set udg_AAA_Player_Colors[5]=("|cffFFFF00"+(GetPlayerName(Player(4))+"|r"))
set udg_AAA_Player_Colors[6]=("|cffFF8000"+(GetPlayerName(Player(5))+"|r"))
set udg_AAA_Player_Colors[7]=("|cff00FF00"+(GetPlayerName(Player(6))+"|r"))
set udg_AAA_Player_Colors[8]=("|cffFF80FF"+(GetPlayerName(Player(7))+"|r"))
set udg_AAA_Player_Colors[9]=("|cff808080"+(GetPlayerName(Player(8))+"|r"))
set udg_AAA_Player_Colors[10]=("|cffadd8e6"+(GetPlayerName(Player(9))+"|r"))
set udg_AAA_Player_Colors[11]=("|cff006400"+(GetPlayerName(Player(10))+"|r"))
set udg_AAA_Player_Colors[12]=("|cffa52a2a"+(GetPlayerName(Player(11))+"|r"))
if((GetPlayerSlotState(Player(0))==PLAYER_SLOT_STATE_PLAYING))then
call ForceAddPlayerSimple(Player(0),udg_Humans)
else
call DoNothing()
endif
if((GetPlayerSlotState(Player(1))==PLAYER_SLOT_STATE_PLAYING))then
call ForceAddPlayerSimple(Player(1),udg_Humans)
else
call DoNothing()
endif
if((GetPlayerSlotState(Player(2))==PLAYER_SLOT_STATE_PLAYING))then
call ForceAddPlayerSimple(Player(2),udg_Humans)
else
call DoNothing()
endif
if((GetPlayerSlotState(Player(3))==PLAYER_SLOT_STATE_PLAYING))then
call ForceAddPlayerSimple(Player(3),udg_Humans)
else
call DoNothing()
endif
if((GetPlayerSlotState(Player(4))==PLAYER_SLOT_STATE_PLAYING))then
call ForceAddPlayerSimple(Player(4),udg_Humans)
else
call DoNothing()
endif
if((GetPlayerSlotState(Player(5))==PLAYER_SLOT_STATE_PLAYING))then
call ForceAddPlayerSimple(Player(5),udg_Humans)
else
call DoNothing()
endif
if((GetPlayerSlotState(Player(6))==PLAYER_SLOT_STATE_PLAYING))then
call ForceAddPlayerSimple(Player(6),udg_Humans)
else
call DoNothing()
endif
if((GetPlayerSlotState(Player(7))==PLAYER_SLOT_STATE_PLAYING))then
call ForceAddPlayerSimple(Player(7),udg_Humans)
else
call DoNothing()
endif
if((GetPlayerSlotState(Player(8))==PLAYER_SLOT_STATE_PLAYING))then
call ForceAddPlayerSimple(Player(8),udg_Evil)
else
call DoNothing()
endif
if((GetPlayerSlotState(Player(9))==PLAYER_SLOT_STATE_PLAYING))then
call ForceAddPlayerSimple(Player(9),udg_Evil)
else
call DoNothing()
endif
if((GetPlayerSlotState(Player(10))==PLAYER_SLOT_STATE_PLAYING))then
call ForceAddPlayerSimple(Player(10),udg_Evil)
else
call DoNothing()
endif
if((GetPlayerSlotState(Player(11))==PLAYER_SLOT_STATE_PLAYING))then
call ForceAddPlayerSimple(Player(11),udg_Evil)
else
call DoNothing()
endif
if((GetPlayerSlotState(Player(0))==PLAYER_SLOT_STATE_EMPTY))then
call RemoveUnit(udg_unit_nvlk_0021)
else
call DoNothing()
endif
if((GetPlayerSlotState(Player(1))==PLAYER_SLOT_STATE_EMPTY))then
call RemoveUnit(udg_unit_nvlk_0022)
else
call DoNothing()
endif
if((GetPlayerSlotState(Player(2))==PLAYER_SLOT_STATE_EMPTY))then
call RemoveUnit(udg_unit_nvlk_0023)
else
call DoNothing()
endif
if((GetPlayerSlotState(Player(3))==PLAYER_SLOT_STATE_EMPTY))then
call RemoveUnit(udg_unit_nvlk_0024)
else
call DoNothing()
endif
if((GetPlayerSlotState(Player(4))==PLAYER_SLOT_STATE_EMPTY))then
call RemoveUnit(udg_unit_nvlk_0025)
else
call DoNothing()
endif
if((GetPlayerSlotState(Player(5))==PLAYER_SLOT_STATE_EMPTY))then
call RemoveUnit(udg_unit_nvlk_0026)
else
call DoNothing()
endif
if((GetPlayerSlotState(Player(6))==PLAYER_SLOT_STATE_EMPTY))then
call RemoveUnit(udg_unit_nvlk_0027)
else
call DoNothing()
endif
if((GetPlayerSlotState(Player(7))==PLAYER_SLOT_STATE_EMPTY))then
call RemoveUnit(udg_unit_nvlk_0028)
else
call DoNothing()
endif
call SetPlayerFlagBJ(PLAYER_STATE_GIVES_BOUNTY,true,Neutral_Satyrs)
call SetPlayerAllianceStateBJ(Neutral_Satyrs,Neutral_Satyrs,bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(Neutral_Satyrs,Neutral_Satyrs,bj_ALLIANCE_UNALLIED)
set udg_Neutral_Alliance_Chance=GetRandomInt(1,6)
set udg_Random_Ability[1]='A06D'
set udg_Random_Ability[2]='A06E'
set udg_Random_Ability[3]='A06E'
set udg_Random_Ability[4]='SCae'
set udg_Random_Ability[5]='A020'
set udg_Random_Ability[6]='ACct'
set udg_Random_Ability[7]='Absk'
set udg_Random_Ability[8]='A002'
set udg_Random_Ability[9]='A06E'
set udg_Random_Ability[10]='A06E'
set udg_Random_Ability[11]='A06E'
set udg_Random_Ability[12]='A06E'
set udg_Random_Zerg[1]='z007'
set udg_Random_Zerg[2]='z007'
set udg_Random_Zerg[3]='z007'
set udg_Random_Zerg[4]='z007'
set udg_Random_Zerg[5]='z007'
set udg_Random_Zerg[6]='z007'
set udg_Random_Zerg[7]='z007'
set udg_Random_Zerg[8]='z007'
set udg_Random_Zerg[9]='z007'
set udg_Random_Zerg[10]='z008'
set udg_Boss_Drops[1]='I021'
set udg_Boss_Drops[2]='I010'
set udg_Boss_Drops[3]='I022'
set udg_Boss_Drops[4]='ssil'
set udg_Boss_Drops[5]='ratf'
set udg_Boss_Drops[6]='ratf'
set udg_Boss_Drops[7]='rde4'
set udg_Boss_Drops[8]='I015'
set udg_BossType[1]='n02L'
set udg_BossType[2]='n02M'
call TriggerExecute(udg_trg_Game_settings)
call ForForce(GetPlayersAll(),function Trig_MAP_INIT_2_Func073A)
call ForForce(GetPlayersAll(),function Trig_MAP_INIT_2_Func074A)
endfunction
function InitTrig_MAP_INIT_2 takes nothing returns nothing
set udg_trg_MAP_INIT_2=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_MAP_INIT_2,0.02)
call TriggerAddAction(udg_trg_MAP_INIT_2,function Trig_MAP_INIT_2_Actions)
endfunction
function Trig_Dialogue_pt2_Func001Func001Func001C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_SETTINGS_CHOICE1))then
return false
endif
return true
endfunction
function Trig_Dialogue_pt2_Func001Func001Func002C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_SETTINGS_CHOICE2))then
return false
endif
return true
endfunction
function Trig_Dialogue_pt2_Func001Func001Func003C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_SETTINGS_CHOICE3))then
return false
endif
return true
endfunction
function Trig_Dialogue_pt2_Func001Func001C takes nothing returns boolean
if(not(GetPlayerColor(GetEnumPlayer())==PLAYER_COLOR_RED))then
return false
endif
return true
endfunction
function Trig_Dialogue_pt2_Func001A takes nothing returns nothing
if(Trig_Dialogue_pt2_Func001Func001C())then
if(Trig_Dialogue_pt2_Func001Func001Func001C())then
set udg_SETTINGS_CHOICE1_YES=true
call TriggerExecute(udg_trg_Lives)
call DialogDisplayBJ(false,udg_CHOOSE_SETTINGS,GetEnumPlayer())
call DisplayTimedTextToForce(GetPlayersAll(),30,"|cff32cd32Long Game: 5/3 Lives and Final Battle in 42 minutes!|r")
call DialogSetMessageBJ(udg_CHOOSE_SETTINGS_2,"|cff32cd32Neutrals:|r")
call DialogAddButtonBJ(udg_CHOOSE_SETTINGS_2,"Are allies")
set udg_SETTINGS2_CHOICE2_Copy=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_CHOOSE_SETTINGS_2,"Are enemies (Normal)")
set udg_SETTINGS2_CHOICE1_Copy=GetLastCreatedButtonBJ()
call DialogDisplayBJ(true,udg_CHOOSE_SETTINGS_2,GetEnumPlayer())
else
endif
if(Trig_Dialogue_pt2_Func001Func001Func002C())then
set udg_SETTINGS_CHOICE2_YES=true
call TriggerExecute(udg_trg_Lives)
call DialogDisplayBJ(false,udg_CHOOSE_SETTINGS,GetEnumPlayer())
call DisplayTimedTextToForce(GetPlayersAll(),30,"|cff32cd32Normal Game: 3/2 Lives and Final Battle in 30 minutes!|r")
call DialogSetMessageBJ(udg_CHOOSE_SETTINGS_2,"|cff32cd32Neutrals:|r")
call DialogAddButtonBJ(udg_CHOOSE_SETTINGS_2,"Are allies")
set udg_SETTINGS2_CHOICE2_Copy=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_CHOOSE_SETTINGS_2,"Are enemies (Normal)")
set udg_SETTINGS2_CHOICE1_Copy=GetLastCreatedButtonBJ()
call DialogDisplayBJ(true,udg_CHOOSE_SETTINGS_2,GetEnumPlayer())
else
endif
if(Trig_Dialogue_pt2_Func001Func001Func003C())then
set udg_SETTINGS_CHOICE3_YES=true
call TriggerExecute(udg_trg_Lives)
call DialogDisplayBJ(false,udg_CHOOSE_SETTINGS,GetEnumPlayer())
call DisplayTimedTextToForce(GetPlayersAll(),30,"|cff32cd32Normal Game: 5/3 Lives and Final Battle in 30 minutes!|r")
call DialogSetMessageBJ(udg_CHOOSE_SETTINGS_2,"|cff32cd32Neutrals:|r")
call DialogAddButtonBJ(udg_CHOOSE_SETTINGS_2,"Are allies")
set udg_SETTINGS2_CHOICE2_Copy=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_CHOOSE_SETTINGS_2,"Are enemies (Normal)")
set udg_SETTINGS2_CHOICE1_Copy=GetLastCreatedButtonBJ()
call DialogDisplayBJ(true,udg_CHOOSE_SETTINGS_2,GetEnumPlayer())
else
endif
else
endif
endfunction
function Trig_Dialogue_pt2_Actions takes nothing returns nothing
call ForForce(GetPlayersAll(),function Trig_Dialogue_pt2_Func001A)
endfunction
function InitTrig_Dialogue_pt2 takes nothing returns nothing
set udg_trg_Dialogue_pt2=CreateTrigger()
call TriggerRegisterDialogEventBJ(udg_trg_Dialogue_pt2,udg_CHOOSE_SETTINGS)
call TriggerAddAction(udg_trg_Dialogue_pt2,function Trig_Dialogue_pt2_Actions)
endfunction
function Trig_Dialogue_pt3_Func001Func001Func001C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_SETTINGS2_CHOICE1_Copy))then
return false
endif
return true
endfunction
function Trig_Dialogue_pt3_Func001Func001Func002C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_SETTINGS2_CHOICE2_Copy))then
return false
endif
return true
endfunction
function Trig_Dialogue_pt3_Func001Func001C takes nothing returns boolean
if(not(GetPlayerColor(GetEnumPlayer())==PLAYER_COLOR_RED))then
return false
endif
return true
endfunction
function Trig_Dialogue_pt3_Func001A takes nothing returns nothing
if(Trig_Dialogue_pt3_Func001Func001C())then
if(Trig_Dialogue_pt3_Func001Func001Func001C())then
set udg_Neutral_Alliance_Chance=0
call DialogDisplayBJ(false,udg_CHOOSE_SETTINGS_2,GetEnumPlayer())
call DisplayTimedTextToForce(GetPlayersAll(),30,"|cff32cd32Neutral allies disabled|r")
call DialogSetMessageBJ(udg_CHOOSE_SETTINGS_3,"|cff32cd32Game Mode:|r")
call DialogAddButtonBJ(udg_CHOOSE_SETTINGS_3,"Hard")
set udg_SETTINGS3_CHOICE2=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_CHOOSE_SETTINGS_3,"Normal")
set udg_SETTINGS3_CHOICE1=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_CHOOSE_SETTINGS_3,"EXTREME (+1 lives)")
set udg_SETTINGS3_CHOICE3=GetLastCreatedButtonBJ()
call DialogDisplayBJ(true,udg_CHOOSE_SETTINGS_3,GetEnumPlayer())
else
endif
if(Trig_Dialogue_pt3_Func001Func001Func002C())then
set udg_Neutral_Alliance_Chance=GetRandomInt(1,2)
call DialogDisplayBJ(false,udg_CHOOSE_SETTINGS_2,GetEnumPlayer())
call DisplayTimedTextToForce(GetPlayersAll(),30,"|cff32cd32Neutral Allies enabled|r")
call SetUnitOwner(udg_unit_ngno_0004,Neutral_Bottom,true)
call SetUnitOwner(udg_unit_ngno_0062,Neutral_Bottom,true)
call ReplaceUnitBJ(udg_unit_ngno_0003,'nmcf',bj_UNIT_STATE_METHOD_RELATIVE)
call ReplaceUnitBJ(udg_unit_ngno_0005,'nmcf',bj_UNIT_STATE_METHOD_RELATIVE)
call DialogSetMessageBJ(udg_CHOOSE_SETTINGS_3,"|cff32cd32Game Mode:|r")
call DialogAddButtonBJ(udg_CHOOSE_SETTINGS_3,"Hard")
set udg_SETTINGS3_CHOICE2=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_CHOOSE_SETTINGS_3,"Normal")
set udg_SETTINGS3_CHOICE1=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(udg_CHOOSE_SETTINGS_3,"EXTREME (+1 lives)")
set udg_SETTINGS3_CHOICE3=GetLastCreatedButtonBJ()
call DialogDisplayBJ(true,udg_CHOOSE_SETTINGS_3,GetEnumPlayer())
else
endif
else
endif
endfunction
function Trig_Dialogue_pt3_Actions takes nothing returns nothing
call ForForce(GetPlayersAll(),function Trig_Dialogue_pt3_Func001A)
endfunction
function InitTrig_Dialogue_pt3 takes nothing returns nothing
set udg_trg_Dialogue_pt3=CreateTrigger()
call TriggerRegisterDialogEventBJ(udg_trg_Dialogue_pt3,udg_CHOOSE_SETTINGS_2)
call TriggerAddAction(udg_trg_Dialogue_pt3,function Trig_Dialogue_pt3_Actions)
endfunction
function Trig_Dialogue_pt4_Func001Func001Func001C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_SETTINGS3_CHOICE1))then
return false
endif
return true
endfunction
function Trig_Dialogue_pt4_Func001Func001Func002Func001Func005Func002C takes nothing returns boolean
if((udg_Neutral_Alliance_Chance==1))then
return true
endif
if((udg_Neutral_Alliance_Chance==2))then
return true
endif
return false
endfunction
function Trig_Dialogue_pt4_Func001Func001Func002Func001C takes nothing returns boolean
if(not(udg_NO_FLYING_UNITS==true))then
return false
endif
return true
endfunction
function Trig_Dialogue_pt4_Func001Func001Func002C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_SETTINGS3_CHOICE2))then
return false
endif
return true
endfunction
function Trig_Dialogue_pt4_Func001Func001Func003Func001Func009Func002C takes nothing returns boolean
if((udg_Neutral_Alliance_Chance==1))then
return true
endif
if((udg_Neutral_Alliance_Chance==2))then
return true
endif
return false
endfunction
function Trig_Dialogue_pt4_Func001Func001Func003Func001Func009C takes nothing returns boolean
if(not Trig_Dialogue_pt4_Func001Func001Func003Func001Func009Func002C())then
return false
endif
return true
endfunction
function Trig_Dialogue_pt4_Func001Func001Func003Func001Func010Func002C takes nothing returns boolean
if((udg_Neutral_Alliance_Chance==1))then
return true
endif
if((udg_Neutral_Alliance_Chance==2))then
return true
endif
return false
endfunction
function Trig_Dialogue_pt4_Func001Func001Func003Func001C takes nothing returns boolean
if(not(udg_NO_FLYING_UNITS==true))then
return false
endif
return true
endfunction
function Trig_Dialogue_pt4_Func001Func001Func003C takes nothing returns boolean
if(not(GetClickedButtonBJ()==udg_SETTINGS3_CHOICE3))then
return false
endif
return true
endfunction
function Trig_Dialogue_pt4_Func001Func001C takes nothing returns boolean
if(not(GetPlayerColor(GetEnumPlayer())==PLAYER_COLOR_RED))then
return false
endif
return true
endfunction
function Trig_Dialogue_pt4_Func001A takes nothing returns nothing
if(Trig_Dialogue_pt4_Func001Func001C())then
if(Trig_Dialogue_pt4_Func001Func001Func001C())then
call DisplayTimedTextToForce(GetPlayersAll(),30,"|cff32cd32Normal Mode|r")
call DialogDisplayBJ(false,udg_CHOOSE_SETTINGS_3,GetEnumPlayer())
else
endif
if(Trig_Dialogue_pt4_Func001Func001Func002C())then
if(Trig_Dialogue_pt4_Func001Func001Func002Func001C())then
set udg_SatyrBarracks_Point=GetRectCenter(udg_rct_Satyr_Barracks)
set udg_Hard_Mode=true
call CreateUnitBonuses(Neutral_Satyrs,'h01G',-6628,3892,270.000)
call CreateNUnitsAtLoc(1,'o00M',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)

set udg_Satyr_Barracks=GetLastCreatedUnit()
call EnableTrigger(udg_trg_Satyr_Research_upgrades)
call EnableTrigger(udg_trg_Satyr_Spawn)
call DisplayTimedTextToForce(GetPlayersAll(),30,"|cff32cd32Hard Mode|r")
call DialogDisplayBJ(false,udg_CHOOSE_SETTINGS_3,GetEnumPlayer())
else
call DialogDisplayBJ(false,udg_CHOOSE_SETTINGS_3,GetEnumPlayer())
call DisplayTimedTextToForce(GetPlayersAll(),30,"|cff32cd32Normal Mode|r")
endif
else
endif
if(Trig_Dialogue_pt4_Func001Func001Func003C())then
set udg_SatyrBarracks_Point=GetRectCenter(udg_rct_Satyr_Barracks)
call CreateNUnitsAtLoc(1,'o00M',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
set udg_Satyr_Barracks=GetLastCreatedUnit()
call EnableTrigger(udg_trg_Satyr_Research_upgrades)
call EnableTrigger(udg_trg_Satyr_Spawn)
set udg_Extreme_Mode=true
call DisplayTimedTextToForce(GetPlayersAll(),30,"|cff32cd32Extreme Mode: +1 lives!|r")
call DialogDisplayBJ(false,udg_CHOOSE_SETTINGS_3,GetEnumPlayer())
else
endif
else
endif
call Trig_Create3rdTeam_Actions()
endfunction
function Trig_Dialogue_pt4_Func002Func001A takes nothing returns nothing
call AddLivesP(GetEnumPlayer(),1)
endfunction
function Trig_Dialogue_pt4_Func002Func002A takes nothing returns nothing
call AddLivesP(GetEnumPlayer(),1)
endfunction
function Trig_Dialogue_pt4_Func002C takes nothing returns boolean
if(not(udg_Extreme_Mode==true))then
return false
endif
return true
endfunction
function Trig_Dialogue_pt4_Actions takes nothing returns nothing
call Trig_Dialogue_pt4_Func001A()
if(Trig_Dialogue_pt4_Func002C())then
call ForForce(udg_Humans,function Trig_Dialogue_pt4_Func002Func001A)
call ForForce(udg_Evil,function Trig_Dialogue_pt4_Func002Func002A)
else
endif
endfunction
function InitTrig_Dialogue_pt4 takes nothing returns nothing
set udg_trg_Dialogue_pt4=CreateTrigger()
call TriggerRegisterDialogEventBJ(udg_trg_Dialogue_pt4,udg_CHOOSE_SETTINGS_3)
call TriggerAddAction(udg_trg_Dialogue_pt4,function Trig_Dialogue_pt4_Actions)
endfunction
function Trig_Time_up_for_setting_settings_Actions takes nothing returns nothing
call DisableTrigger(udg_trg_Game_settings)
call DisableTrigger(udg_trg_Game_settings_2)
call DisableTrigger(udg_trg_Game_settings_3)
call DisableTrigger(udg_trg_Game_settings_3_pt_2)
call DisableTrigger(udg_trg_Game_settings_5_NEW)
call DisableTrigger(udg_trg_Game_settings_6_NEW)
endfunction
function InitTrig_Time_up_for_setting_settings takes nothing returns nothing
set udg_trg_Time_up_for_setting_settings=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Time_up_for_setting_settings,25.00)
call TriggerAddAction(udg_trg_Time_up_for_setting_settings,function Trig_Time_up_for_setting_settings_Actions)
endfunction
function Trig_Game_settings_5_NEW_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(GetPlayerColor(GetTriggerPlayer())==PLAYER_COLOR_RED))then
return false
endif
return true
endfunction
function Trig_Game_settings_5_NEW_Func005A takes nothing returns nothing
call AdjustPlayerStateBJ(15,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endfunction
function Trig_Game_settings_5_NEW_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTextToForce(GetPlayersAll(),"|cff32cd32Obstructions disabled! All undead players gain 15 gold.|r")
call ForForce(udg_Evil,function Trig_Game_settings_5_NEW_Func005A)
call EnableTrigger(udg_trg_Naga_Spawns)
call EnableTrigger(udg_trg_Gnoll_Spawn)
call EnableTrigger(udg_trg_Ice_Spawn)
call EnableTrigger(udg_trg_Pirate_Spawn)
call EnableTrigger(udg_trg_Research_upgrades)
call TriggerExecute(udg_trg_Removing_Outer_Rocks)
call TriggerExecute(udg_trg_Removing_Crates)
endfunction
function InitTrig_Game_settings_5_NEW takes nothing returns nothing
set udg_trg_Game_settings_5_NEW=CreateTrigger()
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_5_NEW,Player(0),"-nn",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_5_NEW,Player(1),"-nn",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_5_NEW,Player(2),"-nn",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_5_NEW,Player(3),"-nn",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_5_NEW,Player(4),"-nn",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_5_NEW,Player(5),"-nn",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_5_NEW,Player(6),"-nn",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_5_NEW,Player(7),"-nn",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_5_NEW,Player(8),"-nn",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_5_NEW,Player(9),"-nn",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_5_NEW,Player(10),"-nn",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_5_NEW,Player(11),"-nn",true)
call TriggerAddCondition(udg_trg_Game_settings_5_NEW,Condition(function Trig_Game_settings_5_NEW_Conditions))
call TriggerAddAction(udg_trg_Game_settings_5_NEW,function Trig_Game_settings_5_NEW_Actions)
endfunction
function ApplyHCLSettings takes nothing returns nothing
local integer i=0
local integer nfmode
if(HCLCompleted)then
return
endif
if((SubString(HCLcommand,0,1)=="m"))then
set nfmode=S2I(SubString(HCLcommand,2,12))
if(fmode[nfmode]!="")then
set HCLcommand=fmode[nfmode]
else
set HCLcommand="nlan"
endif
call ApplyHCLSettings()
return
endif
set HCLCompleted=true
call DisableTrigger(gg_trg_First_Dialogue_Out_of_Time)
call TriggerSleepAction(2.)
if(SubString(HCLcommand,0,1)=="n")then
call DisableFly()
call DisplayTimedTextToForce(GetPlayersAll(),30,"|cff32cd32NO FLYING UNITS has been selected|r")
call EnableTrigger(udg_trg_Disable_Marine_Flying)
call EnableTrigger(udg_trg_Disable_undead_flying)
set udg_NO_FLYING_UNITS=true
else
call FlyEnable()
call DisplayTimedTextToForce(GetPlayersAll(),30,"|cff32cd32All units selected|r")
endif
if(SubString(HCLcommand,1,2)=="n")then
set udg_SETTINGS_CHOICE2_YES=true
call TriggerExecute(udg_trg_Lives)
call DisplayTimedTextToForce(GetPlayersAll(),30,"|cff32cd32Normal Game: 3/2 Lives and Final Battle in 30 minutes!|r")
elseif(SubString(HCLcommand,1,2)=="l")then
set udg_SETTINGS_CHOICE1_YES=true
call TriggerExecute(udg_trg_Lives)
call DisplayTimedTextToForce(GetPlayersAll(),30,"|cff32cd32Long Game: 5/3 Lives and Final Battle in 42 minutes!|r")
else
set udg_SETTINGS_CHOICE3_YES=true
call TriggerExecute(udg_trg_Lives)
call DisplayTimedTextToForce(GetPlayersAll(),30,"|cff32cd32Normal Game: 5/3 Lives and Final Battle in 30 minutes!|r")
endif
if(SubString(HCLcommand,2,3)=="n")then
set udg_Neutral_Alliance_Chance=0
call DisplayTimedTextToForce(GetPlayersAll(),30,"|cff32cd32Neutral allies disabled|r")
else
set udg_Neutral_Alliance_Chance=GetRandomInt(1,2)
call DisplayTimedTextToForce(GetPlayersAll(),30,"|cff32cd32Neutral Allies enabled|r")
call SetUnitOwner(udg_unit_ngno_0004,Neutral_Bottom,true)
call SetUnitOwner(udg_unit_ngno_0062,Neutral_Bottom,true)
call ReplaceUnitBJ(udg_unit_ngno_0003,'nmcf',bj_UNIT_STATE_METHOD_RELATIVE)
call ReplaceUnitBJ(udg_unit_ngno_0005,'nmcf',bj_UNIT_STATE_METHOD_RELATIVE)
endif
if(SubString(HCLcommand,3,4)=="n")then
call DisplayTimedTextToForce(GetPlayersAll(),30,"|cff32cd32Normal Mode|r")
elseif(SubString(HCLcommand,3,4)=="h")then
set udg_SatyrBarracks_Point=GetRectCenter(udg_rct_Satyr_Barracks)
set udg_Hard_Mode=true
set udg_PirateChance = 6
call CreateUnitBonuses(Neutral_Satyrs,'h01G',-6628,3892,270.000)
call CreateNUnitsAtLoc(1,'o00M',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)

set udg_Satyr_Barracks=GetLastCreatedUnit()
call EnableTrigger(udg_trg_Satyr_Research_upgrades)
call EnableTrigger(udg_trg_Satyr_Spawn)
set udg_PirateChance = 6
call DisplayTimedTextToForce(GetPlayersAll(),30,"|cff32cd32Hard Mode|r")
set udg_SatyrBarracks_Point=GetRectCenter(udg_rct_Satyr_Barracks)
elseif(SubString(HCLcommand,3,4)=="e")then
set udg_PirateChance = 6
set udg_SatyrBarracks_Point=GetRectCenter(udg_rct_Satyr_Barracks)
call CreateNUnitsAtLoc(1,'o00M',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
set udg_Satyr_Barracks=GetLastCreatedUnit()
call EnableTrigger(udg_trg_Satyr_Research_upgrades)
call EnableTrigger(udg_trg_Satyr_Spawn)
set udg_Extreme_Mode=true
set udg_PirateChance = 6
call DisplayTimedTextToForce(GetPlayersAll(),30,"|cff32cd32Extreme Mode: +1 lives!|r")
call ForForce(udg_Humans,function Trig_Dialogue_pt4_Func002Func001A)
call ForForce(udg_Evil,function Trig_Dialogue_pt4_Func002Func002A)
else
set udg_PirateChance = 6
set udg_SatyrBarracks_Point=GetRectCenter(udg_rct_Satyr_Barracks)
call CreateNUnitsAtLoc(1,'o00M',Neutral_Satyrs,udg_SatyrBarracks_Point,bj_UNIT_FACING)
set udg_Satyr_Barracks=GetLastCreatedUnit()
call EnableTrigger(udg_trg_Satyr_Research_upgrades)
call EnableTrigger(udg_trg_Satyr_Spawn)
set udg_Extreme_Mode=true
call DisplayTimedTextToForce(GetPlayersAll(),30,"|cff32cd32Extreme Mode+: +1 lives!|r")
set udg_PirateChance = 6
call ForForce(udg_Humans,function Trig_Dialogue_pt4_Func002Func001A)
call ForForce(udg_Evil,function Trig_Dialogue_pt4_Func002Func002A)
endif
if(SubString(HCLcommand,4,5)=="o")then
call DisableTrigger(udg_trg_Game_settings_5_NEW)
call DisplayTextToForce(GetPlayersAll(),"|cff32cd32Obstructions disabled! All undead players gain 15 gold.|r")
call ForForce(udg_Evil,function Trig_Game_settings_5_NEW_Func005A)
call EnableTrigger(udg_trg_Naga_Spawns)
call EnableTrigger(udg_trg_Gnoll_Spawn)
call EnableTrigger(udg_trg_Ice_Spawn)
call EnableTrigger(udg_trg_Pirate_Spawn)
call EnableTrigger(udg_trg_Research_upgrades)
call TriggerExecute(udg_trg_Removing_Outer_Rocks)
call TriggerExecute(udg_trg_Removing_Crates)
endif
if(SubString(HCLcommand,5,6)=="n")then
call DisplayTextToForce(GetPlayersAll(),"|cff32cd32Random Events disabled|r")
call DisableTrigger(udg_trg_Activate_A_Random_Event)
call DisableTrigger(udg_trg_Turn_on_events_2)
call DisableTrigger(udg_trg_Game_settings_2)
endif
if(SubString(HCLcommand,6,7)=="p")then
if(udg_Neutral_Alliance_Chance==0)then
call UnallyAll()
else
call UnallyAllPlayers()
endif
call DisplayTextToForce(GetPlayersAll(),"|cff32cd32Alliances Disabled|r")
call ForForce(udg_Evil,function Trig_Game_settings_5_NEW_Func005A)
call EnableTrigger(udg_trg_Naga_Spawns)
call EnableTrigger(udg_trg_Gnoll_Spawn)
call EnableTrigger(udg_trg_Ice_Spawn)
call EnableTrigger(udg_trg_Pirate_Spawn)
call EnableTrigger(udg_trg_Research_upgrades)
call TriggerExecute(udg_trg_Removing_Outer_Rocks)
call TriggerExecute(udg_trg_Removing_Crates)
call DisableTrigger(udg_trg_Team_1_Win)
call DisableTrigger(udg_trg_Team_2_Win)
elseif(SubString(HCLcommand,6,7)=="k")then
if(udg_Neutral_Alliance_Chance==0)then
call UnallyAll()
else
call UnallyAllPlayers()
endif
call DisplayTextToForce(GetPlayersAll(),"|cff32cd32Alliances Disabled, zombies will be humans|r")
call ForForce(udg_Evil,function Trig_Game_settings_5_NEW_Func005A)
call EnableTrigger(udg_trg_Naga_Spawns)
call EnableTrigger(udg_trg_Gnoll_Spawn)
call EnableTrigger(udg_trg_Ice_Spawn)
call EnableTrigger(udg_trg_Pirate_Spawn)
call EnableTrigger(udg_trg_Research_upgrades)
call TriggerExecute(udg_trg_Removing_Outer_Rocks)
call TriggerExecute(udg_trg_Removing_Crates)
call DisableTrigger(udg_trg_Spawn_Zombies_Light_Blue)
call DisableTrigger(udg_trg_Spawn_Zombies_Gray)
call DisableTrigger(udg_trg_Spawn_Zombies_Dark_Green)
call DisableTrigger(udg_trg_Spawn_Zombies_Brown)
set i=8
loop
if((GetPlayerSlotState(Player(i))==PLAYER_SLOT_STATE_PLAYING))then
call CreateUnitAtLoc(Player(i),'nvlk',GetRectCenter(udg_rct_Zombie_Spawn),bj_UNIT_FACING)
call SetPlayerState(Player(i),PLAYER_STATE_RESOURCE_GOLD,0)
if(udg_SETTINGS_CHOICE2_YES)then
call AddLivesP(Player(i),1)
else
call AddLivesP(Player(i),2)
endif
call ForceAddPlayer(udg_Humans,Player(i))
call ForceRemovePlayer(udg_Evil,Player(i))
endif
set i=i+1
exitwhen i>11
endloop
call DisableTrigger(udg_trg_Team_1_Win)
call DisableTrigger(udg_trg_Team_2_Win)
call DisableTrigger(udg_trg_Builder_Lumber_Income_Every_Seccond)
call DisableTrigger(udg_trg_Builder_Lumber_Income_Every_Five_Secconds)
endif
call Trig_Create3rdTeam_Actions()
set HCLcommand="Hcl successfully worked"
endfunction
function Trig_Game_settings_Conditions takes nothing returns boolean
if(not(GetPlayerColor(GetTriggerPlayer())==PLAYER_COLOR_RED))then
return false
endif
return true
endfunction
function Trig_Game_settings_Actions takes nothing returns nothing
call EnableTrigger(udg_trg_Neutral_hostile_team_setting)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Game_settings takes nothing returns nothing
set udg_trg_Game_settings=CreateTrigger()
call DisableTrigger(udg_trg_Game_settings)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings,Player(0),"-nh",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings,Player(1),"-nh",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings,Player(2),"-nh",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings,Player(3),"-nh",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings,Player(4),"-nh",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings,Player(5),"-nh",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings,Player(6),"-nh",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings,Player(7),"-nh",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings,Player(8),"-nh",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings,Player(9),"-nh",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings,Player(10),"-nh",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings,Player(11),"-nh",true)
call TriggerAddCondition(udg_trg_Game_settings,Condition(function Trig_Game_settings_Conditions))
call TriggerAddAction(udg_trg_Game_settings,function Trig_Game_settings_Actions)
endfunction
function Trig_Game_settings_2_Conditions takes nothing returns boolean
if(not(GetPlayerColor(GetTriggerPlayer())==PLAYER_COLOR_RED))then
return false
endif
return true
endfunction
function Trig_Game_settings_2_Actions takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),"|cff32cd32Random Events disabled|r")
call DisableTrigger(udg_trg_Activate_A_Random_Event)
call DisableTrigger(udg_trg_Turn_on_events_2)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Game_settings_2 takes nothing returns nothing
set udg_trg_Game_settings_2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_2,Player(0),"-nre",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_2,Player(1),"-nre",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_2,Player(2),"-nre",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_2,Player(3),"-nre",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_2,Player(4),"-nre",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_2,Player(5),"-nre",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_2,Player(6),"-nre",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_2,Player(7),"-nre",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_2,Player(8),"-nre",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_2,Player(9),"-nre",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_2,Player(10),"-nre",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_2,Player(11),"-nre",true)
call TriggerAddCondition(udg_trg_Game_settings_2,Condition(function Trig_Game_settings_2_Conditions))
call TriggerAddAction(udg_trg_Game_settings_2,function Trig_Game_settings_2_Actions)
endfunction
function Trig_Game_settings_3_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(GetPlayerColor(GetTriggerPlayer())==PLAYER_COLOR_RED))then
return false
endif
return true
endfunction
function Trig_Game_settings_3_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTextToForce(GetPlayersAll(),"|cff32cd32Human players will receive 100 gold + Undead will reveive 150 gold in 10 minutes!|r")
set udg_ASET_GiveGold=1
endfunction
function InitTrig_Game_settings_3 takes nothing returns nothing
set udg_trg_Game_settings_3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_3,Player(0),"-gold 100",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_3,Player(1),"-gold 100",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_3,Player(2),"-gold 100",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_3,Player(3),"-gold 100",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_3,Player(4),"-gold 100",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_3,Player(5),"-gold 100",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_3,Player(6),"-gold 100",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_3,Player(7),"-gold 100",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_3,Player(8),"-gold 100",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_3,Player(9),"-gold 100",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_3,Player(10),"-gold 100",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_3,Player(11),"-gold 100",true)
call TriggerAddCondition(udg_trg_Game_settings_3,Condition(function Trig_Game_settings_3_Conditions))
call TriggerAddAction(udg_trg_Game_settings_3,function Trig_Game_settings_3_Actions)
endfunction
function Trig_Game_settings_3_pt_2_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(GetPlayerColor(GetTriggerPlayer())==PLAYER_COLOR_RED))then
return false
endif
return true
endfunction
function Trig_Game_settings_3_pt_2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTextToForce(GetPlayersAll(),"|cff32cd32Human players will receive 175 gold + Undead will reveive 250 gold in 10 minutes!|r")
set udg_ASET_GiveGold=2
endfunction
function InitTrig_Game_settings_3_pt_2 takes nothing returns nothing
set udg_trg_Game_settings_3_pt_2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_3_pt_2,Player(0),"-gold 175",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_3_pt_2,Player(1),"-gold 175",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_3_pt_2,Player(2),"-gold 175",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_3_pt_2,Player(3),"-gold 175",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_3_pt_2,Player(4),"-gold 175",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_3_pt_2,Player(5),"-gold 175",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_3_pt_2,Player(6),"-gold 175",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_3_pt_2,Player(7),"-gold 175",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_3_pt_2,Player(8),"-gold 175",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_3_pt_2,Player(9),"-gold 175",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_3_pt_2,Player(10),"-gold 175",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_3_pt_2,Player(11),"-gold 175",true)
call TriggerAddCondition(udg_trg_Game_settings_3_pt_2,Condition(function Trig_Game_settings_3_pt_2_Conditions))
call TriggerAddAction(udg_trg_Game_settings_3_pt_2,function Trig_Game_settings_3_pt_2_Actions)
endfunction
function Trig_Game_settings_3_give_gold_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
return true
endfunction
function Trig_Game_settings_3_give_gold_Func002Func002A takes nothing returns nothing
call AdjustPlayerStateBJ(100,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endfunction
function Trig_Game_settings_3_give_gold_Func002Func003A takes nothing returns nothing
call AdjustPlayerStateBJ(150,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endfunction
function Trig_Game_settings_3_give_gold_Func002C takes nothing returns boolean
if(not(udg_ASET_GiveGold==1))then
return false
endif
return true
endfunction
function Trig_Game_settings_3_give_gold_Func003Func002A takes nothing returns nothing
call AdjustPlayerStateBJ(175,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endfunction
function Trig_Game_settings_3_give_gold_Func003Func003A takes nothing returns nothing
call AdjustPlayerStateBJ(250,GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD)
endfunction
function Trig_Game_settings_3_give_gold_Func003C takes nothing returns boolean
if(not(udg_ASET_GiveGold==2))then
return false
endif
return true
endfunction
function Trig_Game_settings_3_give_gold_Actions takes nothing returns nothing
if(Trig_Game_settings_3_give_gold_Func002C())then
call DisplayTextToForce(GetPlayersAll(),"|cff32cd32All players have just received gold!|r")
call ForForce(udg_Humans,function Trig_Game_settings_3_give_gold_Func002Func002A)
call ForForce(udg_Evil,function Trig_Game_settings_3_give_gold_Func002Func003A)
else
endif
if(Trig_Game_settings_3_give_gold_Func003C())then
call DisplayTextToForce(GetPlayersAll(),"|cff32cd32All players have just received gold!|r")
call ForForce(udg_Humans,function Trig_Game_settings_3_give_gold_Func003Func002A)
call ForForce(udg_Evil,function Trig_Game_settings_3_give_gold_Func003Func003A)
else
endif
endfunction
function InitTrig_Game_settings_3_give_gold takes nothing returns nothing
set udg_trg_Game_settings_3_give_gold=CreateTrigger()
call TriggerRegisterTimerEventSingle(udg_trg_Game_settings_3_give_gold,600.00)
call TriggerAddCondition(udg_trg_Game_settings_3_give_gold,Condition(function Trig_Game_settings_3_give_gold_Conditions))
call TriggerAddAction(udg_trg_Game_settings_3_give_gold,function Trig_Game_settings_3_give_gold_Actions)
endfunction
function Trig_Game_settings_6_NEW_Conditions takes nothing returns boolean
if(not(udg_AAA_TurnOffTrigger==false))then
return false
endif
if(not(GetPlayerColor(GetTriggerPlayer())==PLAYER_COLOR_RED))then
return false
endif
return true
endfunction
function DoNotRemovePlayerAfterLeaveEnable takes nothing returns nothing
    set DoNotRemovePlayerAfterLeave = true
endfunction
function DoNotRemovePlayerAfterLeaveDisable takes nothing returns nothing
    set DoNotRemovePlayerAfterLeave = false
endfunction
function Trig_Game_settings_6_NEW_Func006A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_Game_settings_6_NEW_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTextToForce(GetPlayersAll(),"|cff32cd32Pirates Disabled.|r")
set udg_PirateChance = 6
call ForGroupBJ(udg_PirateGroup,function Trig_Game_settings_6_NEW_Func006A)
endfunction
function InitTrig_Game_settings_6_NEW takes nothing returns nothing
set udg_trg_Game_settings_6_NEW=CreateTrigger()
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_6_NEW,Player(0),"-np",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_6_NEW,Player(1),"-np",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_6_NEW,Player(2),"-np",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_6_NEW,Player(3),"-np",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_6_NEW,Player(4),"-np",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_6_NEW,Player(5),"-np",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_6_NEW,Player(6),"-np",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_6_NEW,Player(7),"-np",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_6_NEW,Player(8),"-np",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_6_NEW,Player(9),"-np",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_6_NEW,Player(10),"-np",true)
call TriggerRegisterPlayerChatEvent(udg_trg_Game_settings_6_NEW,Player(11),"-np",true)
call TriggerAddCondition(udg_trg_Game_settings_6_NEW,Condition(function Trig_Game_settings_6_NEW_Conditions))
call TriggerAddAction(udg_trg_Game_settings_6_NEW,function Trig_Game_settings_6_NEW_Actions)
endfunction
function Trig_First_Dialogue_Out_of_Time_Actions takes nothing returns nothing
call DialogDisplayBJ(false,udg_CHOOSE_SETTINGS0,Player(0))
set HCLcommand="nlah"
call ApplyHCLSettings()
endfunction
function InitTrig_First_Dialogue_Out_of_Time takes nothing returns nothing
set gg_trg_First_Dialogue_Out_of_Time=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg_First_Dialogue_Out_of_Time,10.00)
call TriggerAddAction(gg_trg_First_Dialogue_Out_of_Time,function Trig_First_Dialogue_Out_of_Time_Actions)
endfunction
function InitCustomTriggers takes nothing returns nothing
call InitTrig_InitMemoryHack()
call InitTrig_____________________________________002()
call InitTrig_Rune_Remover()
call InitTrig_BookBonusRegister()
call InitTrig_Cam()
call InitTrig_revenge()
call InitTrig_rune()
call InitTrig_CS_Setup()
call InitTrig_Smelter()
call InitTrig_event_unit_removed_smelter()
call InitTrig_Bonuses()
call InitTrig_Unlock_tree_inv()
call InitTrig_NoGroundAttackWithTrident()
call InitTrig_lives()
call InitTrig_PlayerDies()
call InitTrig_Give_observer()
call InitTrig_Bunny_Loot()
call InitTrig_Morphing()
call InitTrig_Zoom()
call InitTrig_Horn()
call InitTrig_init()
call InitTrig_fmode()
call InitTrig_AAA_Dialogue_Part_0()
call InitTrig_MAP_INIT_2()
call InitTrig_Dialogue_pt2()
call InitTrig_Dialogue_pt3()
call InitTrig_Dialogue_pt4()
call InitTrig_Time_up_for_setting_settings()
call InitTrig_Game_settings_5_NEW()
call InitTrig_Game_settings()
call InitTrig_Game_settings_2()
call InitTrig_Game_settings_3_give_gold()
call InitTrig_First_Dialogue_Out_of_Time()
endfunction
function InitCustomPlayerSlots takes nothing returns nothing
call SetPlayerStartLocation(Player(0),0)
call ForcePlayerStartLocation(Player(0),0)
call SetPlayerColor(Player(0),ConvertPlayerColor(0))
call SetPlayerRacePreference(Player(0),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(0),false)
call SetPlayerController(Player(0),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(1),1)
call ForcePlayerStartLocation(Player(1),1)
call SetPlayerColor(Player(1),ConvertPlayerColor(1))
call SetPlayerRacePreference(Player(1),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(1),false)
call SetPlayerController(Player(1),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(2),2)
call ForcePlayerStartLocation(Player(2),2)
call SetPlayerColor(Player(2),ConvertPlayerColor(2))
call SetPlayerRacePreference(Player(2),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(2),false)
call SetPlayerController(Player(2),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(3),3)
call ForcePlayerStartLocation(Player(3),3)
call SetPlayerColor(Player(3),ConvertPlayerColor(3))
call SetPlayerRacePreference(Player(3),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(3),false)
call SetPlayerController(Player(3),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(4),4)
call ForcePlayerStartLocation(Player(4),4)
call SetPlayerColor(Player(4),ConvertPlayerColor(4))
call SetPlayerRacePreference(Player(4),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(4),false)
call SetPlayerController(Player(4),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(5),5)
call ForcePlayerStartLocation(Player(5),5)
call SetPlayerColor(Player(5),ConvertPlayerColor(5))
call SetPlayerRacePreference(Player(5),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(5),false)
call SetPlayerController(Player(5),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(6),6)
call ForcePlayerStartLocation(Player(6),6)
call SetPlayerColor(Player(6),ConvertPlayerColor(6))
call SetPlayerRacePreference(Player(6),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(6),false)
call SetPlayerController(Player(6),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(7),7)
call ForcePlayerStartLocation(Player(7),7)
call SetPlayerColor(Player(7),ConvertPlayerColor(7))
call SetPlayerRacePreference(Player(7),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(7),false)
call SetPlayerController(Player(7),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(8),8)
call ForcePlayerStartLocation(Player(8),8)
call SetPlayerColor(Player(8),ConvertPlayerColor(8))
call SetPlayerRacePreference(Player(8),RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(8),false)
call SetPlayerController(Player(8),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(9),9)
call ForcePlayerStartLocation(Player(9),9)
call SetPlayerColor(Player(9),ConvertPlayerColor(9))
call SetPlayerRacePreference(Player(9),RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(9),false)
call SetPlayerController(Player(9),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(10),10)
call ForcePlayerStartLocation(Player(10),10)
call SetPlayerColor(Player(10),ConvertPlayerColor(10))
call SetPlayerRacePreference(Player(10),RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(10),false)
call SetPlayerController(Player(10),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(11),11)
call ForcePlayerStartLocation(Player(11),11)
call SetPlayerColor(Player(11),ConvertPlayerColor(11))
call SetPlayerRacePreference(Player(11),RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(11),false)
call SetPlayerController(Player(11),MAP_CONTROL_USER)
call SetPlayerRacePreference(Neutral_Nagas,RACE_PREF_ORC)
call SetPlayerRaceSelectable(Neutral_Nagas,false)
call SetPlayerController(Neutral_Nagas,MAP_CONTROL_USER)
call SetPlayerRacePreference(Neutral_Satyrs,RACE_PREF_ORC)
call SetPlayerRaceSelectable(Neutral_Satyrs,false)
call SetPlayerController(Neutral_Satyrs,MAP_CONTROL_NONE)
call SetPlayerRacePreference(Neutral_Satyrs,RACE_PREF_ORC)
call SetPlayerRaceSelectable(Neutral_Satyrs,false)
call SetPlayerController(Neutral_Satyrs,MAP_CONTROL_NONE)
endfunction
function InitCustomTeams takes nothing returns nothing
call SetPlayerTeam(Player(0),0)
call SetPlayerState(Player(0),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(1),0)
call SetPlayerState(Player(1),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(2),0)
call SetPlayerState(Player(2),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(3),0)
call SetPlayerState(Player(3),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(4),0)
call SetPlayerState(Player(4),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(5),0)
call SetPlayerState(Player(5),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(6),0)
call SetPlayerState(Player(6),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(7),0)
call SetPlayerState(Player(7),PLAYER_STATE_ALLIED_VICTORY,1)
// call SetPlayerAllianceStateAllyBJ(Player(0),Player(1),true)
// call SetPlayerAllianceStateAllyBJ(Player(0),Player(2),true)
// call SetPlayerAllianceStateAllyBJ(Player(0),Player(3),true)
// call SetPlayerAllianceStateAllyBJ(Player(0),Player(4),true)
// call SetPlayerAllianceStateAllyBJ(Player(0),Player(5),true)
// call SetPlayerAllianceStateAllyBJ(Player(0),Player(6),true)
// call SetPlayerAllianceStateAllyBJ(Player(0),Player(7),true)
// call SetPlayerAllianceStateAllyBJ(Player(1),Player(0),true)
// call SetPlayerAllianceStateAllyBJ(Player(1),Player(2),true)
// call SetPlayerAllianceStateAllyBJ(Player(1),Player(3),true)
// call SetPlayerAllianceStateAllyBJ(Player(1),Player(4),true)
// call SetPlayerAllianceStateAllyBJ(Player(1),Player(5),true)
// call SetPlayerAllianceStateAllyBJ(Player(1),Player(6),true)
// call SetPlayerAllianceStateAllyBJ(Player(1),Player(7),true)
// call SetPlayerAllianceStateAllyBJ(Player(2),Player(0),true)
// call SetPlayerAllianceStateAllyBJ(Player(2),Player(1),true)
// call SetPlayerAllianceStateAllyBJ(Player(2),Player(3),true)
// call SetPlayerAllianceStateAllyBJ(Player(2),Player(4),true)
// call SetPlayerAllianceStateAllyBJ(Player(2),Player(5),true)
// call SetPlayerAllianceStateAllyBJ(Player(2),Player(6),true)
// call SetPlayerAllianceStateAllyBJ(Player(2),Player(7),true)
// call SetPlayerAllianceStateAllyBJ(Player(3),Player(0),true)
// call SetPlayerAllianceStateAllyBJ(Player(3),Player(1),true)
// call SetPlayerAllianceStateAllyBJ(Player(3),Player(2),true)
// call SetPlayerAllianceStateAllyBJ(Player(3),Player(4),true)
// call SetPlayerAllianceStateAllyBJ(Player(3),Player(5),true)
// call SetPlayerAllianceStateAllyBJ(Player(3),Player(6),true)
// call SetPlayerAllianceStateAllyBJ(Player(3),Player(7),true)
// call SetPlayerAllianceStateAllyBJ(Player(4),Player(0),true)
// call SetPlayerAllianceStateAllyBJ(Player(4),Player(1),true)
// call SetPlayerAllianceStateAllyBJ(Player(4),Player(2),true)
// call SetPlayerAllianceStateAllyBJ(Player(4),Player(3),true)
// call SetPlayerAllianceStateAllyBJ(Player(4),Player(5),true)
// call SetPlayerAllianceStateAllyBJ(Player(4),Player(6),true)
// call SetPlayerAllianceStateAllyBJ(Player(4),Player(7),true)
// call SetPlayerAllianceStateAllyBJ(Player(5),Player(0),true)
// call SetPlayerAllianceStateAllyBJ(Player(5),Player(1),true)
// call SetPlayerAllianceStateAllyBJ(Player(5),Player(2),true)
// call SetPlayerAllianceStateAllyBJ(Player(5),Player(3),true)
// call SetPlayerAllianceStateAllyBJ(Player(5),Player(4),true)
// call SetPlayerAllianceStateAllyBJ(Player(5),Player(6),true)
// call SetPlayerAllianceStateAllyBJ(Player(5),Player(7),true)
// call SetPlayerAllianceStateAllyBJ(Player(6),Player(0),true)
// call SetPlayerAllianceStateAllyBJ(Player(6),Player(1),true)
// call SetPlayerAllianceStateAllyBJ(Player(6),Player(2),true)
// call SetPlayerAllianceStateAllyBJ(Player(6),Player(3),true)
// call SetPlayerAllianceStateAllyBJ(Player(6),Player(4),true)
// call SetPlayerAllianceStateAllyBJ(Player(6),Player(5),true)
// call SetPlayerAllianceStateAllyBJ(Player(6),Player(7),true)
// call SetPlayerAllianceStateAllyBJ(Player(7),Player(0),true)
// call SetPlayerAllianceStateAllyBJ(Player(7),Player(1),true)
// call SetPlayerAllianceStateAllyBJ(Player(7),Player(2),true)
// call SetPlayerAllianceStateAllyBJ(Player(7),Player(3),true)
// call SetPlayerAllianceStateAllyBJ(Player(7),Player(4),true)
// call SetPlayerAllianceStateAllyBJ(Player(7),Player(5),true)
// call SetPlayerAllianceStateAllyBJ(Player(7),Player(6),true)
// call SetPlayerAllianceStateVisionBJ(Player(0),Player(1),true)
// call SetPlayerAllianceStateVisionBJ(Player(0),Player(2),true)
// call SetPlayerAllianceStateVisionBJ(Player(0),Player(3),true)
// call SetPlayerAllianceStateVisionBJ(Player(0),Player(4),true)
// call SetPlayerAllianceStateVisionBJ(Player(0),Player(5),true)
// call SetPlayerAllianceStateVisionBJ(Player(0),Player(6),true)
// call SetPlayerAllianceStateVisionBJ(Player(0),Player(7),true)
// call SetPlayerAllianceStateVisionBJ(Player(1),Player(0),true)
// call SetPlayerAllianceStateVisionBJ(Player(1),Player(2),true)
// call SetPlayerAllianceStateVisionBJ(Player(1),Player(3),true)
// call SetPlayerAllianceStateVisionBJ(Player(1),Player(4),true)
// call SetPlayerAllianceStateVisionBJ(Player(1),Player(5),true)
// call SetPlayerAllianceStateVisionBJ(Player(1),Player(6),true)
// call SetPlayerAllianceStateVisionBJ(Player(1),Player(7),true)
// call SetPlayerAllianceStateVisionBJ(Player(2),Player(0),true)
// call SetPlayerAllianceStateVisionBJ(Player(2),Player(1),true)
// call SetPlayerAllianceStateVisionBJ(Player(2),Player(3),true)
// call SetPlayerAllianceStateVisionBJ(Player(2),Player(4),true)
// call SetPlayerAllianceStateVisionBJ(Player(2),Player(5),true)
// call SetPlayerAllianceStateVisionBJ(Player(2),Player(6),true)
// call SetPlayerAllianceStateVisionBJ(Player(2),Player(7),true)
// call SetPlayerAllianceStateVisionBJ(Player(3),Player(0),true)
// call SetPlayerAllianceStateVisionBJ(Player(3),Player(1),true)
// call SetPlayerAllianceStateVisionBJ(Player(3),Player(2),true)
// call SetPlayerAllianceStateVisionBJ(Player(3),Player(4),true)
// call SetPlayerAllianceStateVisionBJ(Player(3),Player(5),true)
// call SetPlayerAllianceStateVisionBJ(Player(3),Player(6),true)
// call SetPlayerAllianceStateVisionBJ(Player(3),Player(7),true)
// call SetPlayerAllianceStateVisionBJ(Player(4),Player(0),true)
// call SetPlayerAllianceStateVisionBJ(Player(4),Player(1),true)
// call SetPlayerAllianceStateVisionBJ(Player(4),Player(2),true)
// call SetPlayerAllianceStateVisionBJ(Player(4),Player(3),true)
// call SetPlayerAllianceStateVisionBJ(Player(4),Player(5),true)
// call SetPlayerAllianceStateVisionBJ(Player(4),Player(6),true)
// call SetPlayerAllianceStateVisionBJ(Player(4),Player(7),true)
// call SetPlayerAllianceStateVisionBJ(Player(5),Player(0),true)
// call SetPlayerAllianceStateVisionBJ(Player(5),Player(1),true)
// call SetPlayerAllianceStateVisionBJ(Player(5),Player(2),true)
// call SetPlayerAllianceStateVisionBJ(Player(5),Player(3),true)
// call SetPlayerAllianceStateVisionBJ(Player(5),Player(4),true)
// call SetPlayerAllianceStateVisionBJ(Player(5),Player(6),true)
// call SetPlayerAllianceStateVisionBJ(Player(5),Player(7),true)
// call SetPlayerAllianceStateVisionBJ(Player(6),Player(0),true)
// call SetPlayerAllianceStateVisionBJ(Player(6),Player(1),true)
// call SetPlayerAllianceStateVisionBJ(Player(6),Player(2),true)
// call SetPlayerAllianceStateVisionBJ(Player(6),Player(3),true)
// call SetPlayerAllianceStateVisionBJ(Player(6),Player(4),true)
// call SetPlayerAllianceStateVisionBJ(Player(6),Player(5),true)
// call SetPlayerAllianceStateVisionBJ(Player(6),Player(7),true)
// call SetPlayerAllianceStateVisionBJ(Player(7),Player(0),true)
// call SetPlayerAllianceStateVisionBJ(Player(7),Player(1),true)
// call SetPlayerAllianceStateVisionBJ(Player(7),Player(2),true)
// call SetPlayerAllianceStateVisionBJ(Player(7),Player(3),true)
// call SetPlayerAllianceStateVisionBJ(Player(7),Player(4),true)
// call SetPlayerAllianceStateVisionBJ(Player(7),Player(5),true)
// call SetPlayerAllianceStateVisionBJ(Player(7),Player(6),true)
call SetPlayerTeam(Player(8),1)
call SetPlayerState(Player(8),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(9),1)
call SetPlayerState(Player(9),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(10),1)
call SetPlayerState(Player(10),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(11),1)
call SetPlayerState(Player(11),PLAYER_STATE_ALLIED_VICTORY,1)
// call SetPlayerAllianceStateAllyBJ(Player(8),Player(9),true)
// call SetPlayerAllianceStateAllyBJ(Player(8),Player(10),true)
// call SetPlayerAllianceStateAllyBJ(Player(8),Player(11),true)
// call SetPlayerAllianceStateAllyBJ(Player(9),Player(8),true)
// call SetPlayerAllianceStateAllyBJ(Player(9),Player(10),true)
// call SetPlayerAllianceStateAllyBJ(Player(9),Player(11),true)
// call SetPlayerAllianceStateAllyBJ(Player(10),Player(8),true)
// call SetPlayerAllianceStateAllyBJ(Player(10),Player(9),true)
// call SetPlayerAllianceStateAllyBJ(Player(10),Player(11),true)
// call SetPlayerAllianceStateAllyBJ(Player(11),Player(8),true)
// call SetPlayerAllianceStateAllyBJ(Player(11),Player(9),true)
// call SetPlayerAllianceStateAllyBJ(Player(11),Player(10),true)
// call SetPlayerAllianceStateVisionBJ(Player(8),Player(9),true)
// call SetPlayerAllianceStateVisionBJ(Player(8),Player(10),true)
// call SetPlayerAllianceStateVisionBJ(Player(8),Player(11),true)
// call SetPlayerAllianceStateVisionBJ(Player(9),Player(8),true)
// call SetPlayerAllianceStateVisionBJ(Player(9),Player(10),true)
// call SetPlayerAllianceStateVisionBJ(Player(9),Player(11),true)
// call SetPlayerAllianceStateVisionBJ(Player(10),Player(8),true)
// call SetPlayerAllianceStateVisionBJ(Player(10),Player(9),true)
// call SetPlayerAllianceStateVisionBJ(Player(10),Player(11),true)
// call SetPlayerAllianceStateVisionBJ(Player(11),Player(8),true)
// call SetPlayerAllianceStateVisionBJ(Player(11),Player(9),true)
// call SetPlayerAllianceStateVisionBJ(Player(11),Player(10),true)
endfunction
function InitAllyPriorities takes nothing returns nothing
call SetStartLocPrioCount(1,6)
call SetStartLocPrio(1,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,1,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,2,8,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(1,3,9,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(1,4,10,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(1,5,11,MAP_LOC_PRIO_LOW)
call SetStartLocPrioCount(2,6)
call SetStartLocPrio(2,0,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,1,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,2,8,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(2,3,9,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(2,4,10,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(2,5,11,MAP_LOC_PRIO_LOW)
call SetStartLocPrioCount(3,6)
call SetStartLocPrio(3,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,1,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,2,8,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(3,3,9,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(3,4,10,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(3,5,11,MAP_LOC_PRIO_LOW)
call SetStartLocPrioCount(4,2)
call SetStartLocPrio(4,0,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,1,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(5,6)
call SetStartLocPrio(5,0,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,1,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,2,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,3,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,4,10,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,5,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(6,2)
call SetStartLocPrio(6,0,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,1,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(7,6)
call SetStartLocPrio(7,0,5,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(7,1,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,2,8,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(7,3,9,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(7,4,10,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(7,5,11,MAP_LOC_PRIO_LOW)
call SetStartLocPrioCount(8,3)
call SetStartLocPrio(8,0,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,1,10,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,2,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(9,3)
call SetStartLocPrio(9,0,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,1,10,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,2,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(10,3)
call SetStartLocPrio(10,0,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(10,1,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(10,2,11,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(11,3)
call SetStartLocPrio(11,0,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(11,1,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(11,2,10,MAP_LOC_PRIO_HIGH)
endfunction
function main takes nothing returns nothing
call SetCameraBounds(-8192.0+GetCameraMargin(CAMERA_MARGIN_LEFT),-6400.0+GetCameraMargin(CAMERA_MARGIN_BOTTOM),8192.0-GetCameraMargin(CAMERA_MARGIN_RIGHT),9728.0-GetCameraMargin(CAMERA_MARGIN_TOP),-8769.0+GetCameraMargin(CAMERA_MARGIN_LEFT),9728.0-GetCameraMargin(CAMERA_MARGIN_TOP),8769.0-GetCameraMargin(CAMERA_MARGIN_RIGHT),-6400.0+GetCameraMargin(CAMERA_MARGIN_BOTTOM))
call SetDayNightModels("Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl","Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl")
call NewSoundEnvironment("Default")
call SetAmbientDaySound("LordaeronSummerDay")
call SetAmbientNightSound("LordaeronSummerNight")
call SetMapMusic("Music",true,0)
call CreateRegions()
call CreateAllDestructables()
call InitBlizzard()
call InitGlobals()
call InitCustomTriggers()
endfunction
function config takes nothing returns nothing
call Preloader("Scripts\\Evotag3104.pld")
call PreloadGenClear()
call PreloadGenStart()
call SetMapName("TRIGSTR_042")
call SetMapDescription("TRIGSTR_6074")
call SetPlayers(15)
call SetTeams(15)
call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)
call DefineStartLocation(0,-128.0,-64.0)
call DefineStartLocation(1,256.0,-64.0)
call DefineStartLocation(2,512.0,-320.0)
call DefineStartLocation(3,-384.0,-320.0)
call DefineStartLocation(4,-448.0,-704.0)
call DefineStartLocation(5,448.0,-704.0)
call DefineStartLocation(6,-192.0,-960.0)
call DefineStartLocation(7,128.0,-960.0)
call DefineStartLocation(8,64.0,-512.0)
call DefineStartLocation(9,64.0,-512.0)
call DefineStartLocation(10,64.0,-512.0)
call DefineStartLocation(11,64.0,-512.0)
call InitCustomPlayerSlots()
call InitCustomTeams()
call InitAllyPriorities()
endfunction